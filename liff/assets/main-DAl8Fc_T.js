const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/secp256k1-CzdoiOKL.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/preload-helper-Ct5FWWRu.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/add-B1QKvwZo.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/all-wallets-DLRmS_CS.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/arrow-bottom-circle-BTQDYGEU.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/app-store-w1xvZxWQ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/apple-C6D06fkV.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/arrow-bottom-C-0qsjkR.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/arrow-left-43X4JjZb.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/arrow-right-B6WY9BW1.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/arrow-top-Bw2fm5yg.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/bank-BGwBZs9V.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/browser-BNqalaXt.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/card-CG9sin3B.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/checkmark-DYw5z9Pi.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/checkmark-bold-CKRPRym8.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/chevron-bottom-D0oNfeQi.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/chevron-left-HX2ZQ30B.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/chevron-right-Cqm02SCD.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/chevron-top-CVFML-TN.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/chrome-store-Drn3cx6h.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/clock-CsOyRiJW.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/close-BEmnb_ZK.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/compass-E6PhJvpV.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/coinPlaceholder-_3N2_YpX.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/copy-Bhd6cf6D.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/cursor-jcxFjlfJ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/cursor-transparent-BUiuOqqn.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/desktop-D83y9SRr.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/disconnect-CNjMMF8d.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/discord-B1SuPbwm.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/etherscan-BgG0l-AD.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/extension-DV3IT3by.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/external-link-Ba_GZVVg.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/facebook-CHwwczd-.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/farcaster-BVVf1A-k.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/filters-iXHkuIcg.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/github-CJTEHfO9.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/google-CEj5Ylaf.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/help-circle-DQO9kTiM.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/image-bLuPzgqo.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/id-bjodzfkZ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/info-circle-VAqdzxdO.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/lightbulb-DHFRJB8V.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/mail-CSpsSYmN.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/mobile-DBvap7-e.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/more-CEBrsVg2.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/network-placeholder-CO8JkJam.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/nftPlaceholder-atQ50ZR_.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/off-DK4r9O3h.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/play-store-WL-KLiN-.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/plus-CIaoqEAJ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/qr-code-DCZziLeO.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/recycle-horizontal-DLMM39Tb.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/refresh-CFzSWjU0.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/search-Ck8cZWV0.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/send-DhDk2oHu.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/swapHorizontal-B28o7GWI.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/swapHorizontalMedium-DiDQZXrd.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/swapHorizontalBold-B__Yv9t7.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/swapHorizontalRoundedBold-3pWQmlEd.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/swapVertical-C1zuScI2.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/telegram-Oo5lKGYm.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/three-dots-DMvPMi8g.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/twitch-BynaHXV2.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/x-C3LLlMYn.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/twitterIcon-DQDdGZpv.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/verify-D-sBHjvr.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/verify-filled-eSAIFmkQ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/wallet-BrtuHJMH.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/walletconnect-B6ujvUVf.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/wallet-placeholder-Br8aomdQ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/warning-circle-CbO_TnfK.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/info-BIwijAQr.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/exclamation-triangle-BKqY0k12.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/reown-logo-CaqSPo7Y.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/embedded-wallet-Bdph9SDb.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-CVI2LeLF.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-BvfOaZpB.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/ref-Cef3Gtsl.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-DyWFDADB.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-CtBUDfpu.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-CsoK9Itk.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-CNbX6kNH.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-zlsIu_mr.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/email-CiFVfn4R.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-BkZXaQ0z.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/socials-KtP2XVkm.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-1XwbJTI7.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/ConstantsUtil-Dmg8YACJ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-BxI7ekQL.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-BfWqFeOt.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-DtcV5k7f.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-BPDy5bCg.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/swaps-BMXxHbKr.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-CutIkea5.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-Cru1ESct.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-DZ6ATGxZ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/send-dZK-YvTd.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-DlfF2Qzh.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-C66rtsVq.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/receive-C699ZmdL.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-Ckdu-bmg.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/onramp-2IpOs6Be.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-CAQ0cGBK.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-BlhfS4e9.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-Bo8oz1at.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/transactions-4qELsxdU.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-XZoHhoL1.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-DQmykJjC.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-B0TrUoOF.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-DQ7OelFZ.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/index-CY2oYU2d.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/w3m-modal-DnUyoHX_.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/HomePage-C6C2otfl.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/HomePage-546vL2fa.css","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/MethodPage-C8abdl2i.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/MethodPage.module-DxAklF9Y.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/MethodPage-T6yiYJ4i.css","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/MethodPage-V6eMa0dy.css","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/MarketPage-6lX8d5LW.js","https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/MarketPage-lVq7uUq1.css"])))=>i.map(i=>d[i]);
import{_ as it}from"./preload-helper-Ct5FWWRu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LC(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var FS={exports:{}},Im={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP;function bZ(){if(QP)return Im;QP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Im.Fragment=t,Im.jsx=n,Im.jsxs=n,Im}var eI;function EZ(){return eI||(eI=1,FS.exports=bZ()),FS.exports}var Le=EZ(),Es=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},io={searchParams:"URLSearchParams"in Es,iterable:"Symbol"in Es&&"iterator"in Symbol,blob:"FileReader"in Es&&"Blob"in Es&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Es,arrayBuffer:"ArrayBuffer"in Es};function _Z(e){return e&&DataView.prototype.isPrototypeOf(e)}if(io.arrayBuffer)var CZ=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],xZ=ArrayBuffer.isView||function(e){return e&&CZ.indexOf(Object.prototype.toString.call(e))>-1};function hg(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function qT(e){return typeof e!="string"&&(e=String(e)),e}function VT(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return io.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Vi(e){this.map={},e instanceof Vi?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Vi.prototype.append=function(e,t){e=hg(e),t=qT(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};Vi.prototype.delete=function(e){delete this.map[hg(e)]};Vi.prototype.get=function(e){return e=hg(e),this.has(e)?this.map[e]:null};Vi.prototype.has=function(e){return this.map.hasOwnProperty(hg(e))};Vi.prototype.set=function(e,t){this.map[hg(e)]=qT(t)};Vi.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};Vi.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),VT(e)};Vi.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),VT(e)};Vi.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),VT(e)};io.iterable&&(Vi.prototype[Symbol.iterator]=Vi.prototype.entries);function KS(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function Gj(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function SZ(e){var t=new FileReader,n=Gj(t);return t.readAsArrayBuffer(e),n}function OZ(e){var t=new FileReader,n=Gj(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}function AZ(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function tI(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Jj(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:io.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:io.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:io.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():io.arrayBuffer&&io.blob&&_Z(e)?(this._bodyArrayBuffer=tI(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):io.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||xZ(e))?this._bodyArrayBuffer=tI(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):io.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},io.blob&&(this.blob=function(){var e=KS(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=KS(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(io.blob)return this.blob().then(SZ);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=KS(this);if(e)return e;if(this._bodyBlob)return OZ(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(AZ(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},io.formData&&(this.formData=function(){return this.text().then(NZ)}),this.json=function(){return this.text().then(JSON.parse)},this}var TZ=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function RZ(e){var t=e.toUpperCase();return TZ.indexOf(t)>-1?t:e}function Eh(e,t){if(!(this instanceof Eh))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof Eh){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Vi(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Vi(t.headers)),this.method=RZ(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in Es){var s=new AbortController;return s.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Eh.prototype.clone=function(){return new Eh(this,{body:this._bodyInit})};function NZ(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(s))}}),t}function PZ(e){var t=new Vi,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{t.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),t}Jj.call(Eh.prototype);function Qc(e,t){if(!(this instanceof Qc))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Vi(t.headers),this.url=t.url||"",this._initBody(e)}Jj.call(Qc.prototype);Qc.prototype.clone=function(){return new Qc(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Vi(this.headers),url:this.url})};Qc.error=function(){var e=new Qc(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var IZ=[301,302,303,307,308];Qc.redirect=function(e,t){if(IZ.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Qc(null,{status:t,headers:{location:e}})};var Hf=Es.DOMException;try{new Hf}catch{Hf=function(t,n){this.message=t,this.name=n;var r=Error(t);this.stack=r.stack},Hf.prototype=Object.create(Error.prototype),Hf.prototype.constructor=Hf}function Yj(e,t){return new Promise(function(n,r){var i=new Eh(e,t);if(i.signal&&i.signal.aborted)return r(new Hf("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var u={statusText:s.statusText,headers:PZ(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?u.status=200:u.status=s.status,u.url="responseURL"in s?s.responseURL:u.headers.get("X-Request-URL");var d="response"in s?s.response:s.responseText;setTimeout(function(){n(new Qc(d,u))},0)},s.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){r(new Hf("Aborted","AbortError"))},0)};function a(u){try{return u===""&&Es.location.href?Es.location.href:u}catch{return u}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(io.blob?s.responseType="blob":io.arrayBuffer&&(s.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof Vi||Es.Headers&&t.headers instanceof Es.Headers)){var c=[];Object.getOwnPropertyNames(t.headers).forEach(function(u){c.push(hg(u)),s.setRequestHeader(u,qT(t.headers[u]))}),i.headers.forEach(function(u,d){c.indexOf(d)===-1&&s.setRequestHeader(d,u)})}else i.headers.forEach(function(u,d){s.setRequestHeader(d,u)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Yj.polyfill=!0;Es.fetch||(Es.fetch=Yj,Es.Headers=Vi,Es.Request=Eh,Es.Response=Qc);var O4=function(e,t){return O4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},O4(e,t)};function Hn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O4(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Gr=function(){return Gr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Gr.apply(this,arguments)};function pt(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function gt(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function A1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function sa(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function DZ(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var zf;(function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"})(zf||(zf={}));var kZ=function(){function e(t){t===void 0&&(t=zf.INFO),this.logLevel=t,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=zf.DEBUG&&(t.unshift("[DEBUG]"),this._debug.apply(this,sa([],$r(t),!1)))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=zf.INFO&&(t.unshift("[INFO]"),this._info.apply(this,sa([],$r(t),!1)))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=zf.WARN&&(t.unshift("[WARN]"),this._warn.apply(this,sa([],$r(t),!1)))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=zf.ERROR&&(t.unshift("[ERROR]"),this._error.apply(this,sa([],$r(t),!1)))},e}(),Er=new kZ(3),MZ=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},LZ=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks},UZ=function(){function e(t,n){this.pluginCtx=new LZ(t,n),this.moduleCtx=new MZ(t,n)}return Object.defineProperty(e.prototype,"pluginContext",{get:function(){return this.pluginCtx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moduleContext",{get:function(){return this.moduleCtx},enumerable:!1,configurable:!0}),e}(),BZ=function(){function e(){this.modules=new Map,this.hooks={},this.internalHooks={}}return e.prototype.addModule=function(t,n){this.modules.set(t,n),n.hooks&&(this.hooks[t]=Object.entries(n.hooks).reduce(function(r,i){var s,o=$r(i,2),a=o[0],c=o[1];return Gr(Gr({},r),((s={})[a]=c.on.bind(c),s))},{})),"internalHooks"in n&&n.internalHooks&&(this.internalHooks[t]=Object.entries(n.internalHooks).reduce(function(r,i){var s,o=$r(i,2),a=o[0],c=o[1];return Gr(Gr({},r),((s={})[a]=c.on.bind(c),s))},{}))},e.prototype.hasModule=function(t){return this.modules.has(t)},e}(),Kn=function(){},nI=function(e){return e instanceof Kn},Zj=function(e){function t(n,r,i){var s=e.call(this)||this;return s.driver=n,s.contextHolder=r,s.option=i,s}return Hn(t,e),t.prototype.install=function(){return this.factory(this.driver,this.contextHolder)},Object.defineProperty(t.prototype,"name",{get:function(){return"use"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!1,configurable:!0}),t.prototype.factory=function(n,r){var i=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(s,o){if(!s||typeof s.install!="function"||typeof s.name!="string")return Er.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var a=nI(s)?s.name:"".concat(i).concat(s.name);if(n.hasModule(a))return this;var c=nI(s)?s.install.call(s,r.moduleContext,o):s.install.call(s,r.pluginContext,o);return this["".concat(a)]?(Er.warn("There is a duplicate plugin name. `".concat(a,"` plugin namespace will be override.")),this["".concat(a)]=c):c!==void 0&&(this["".concat(a)]=c),n.addModule(a,s),this}},t}(Kn),Qj,$Z=new Promise(function(e){Qj=e}),Cs="UNKNOWN",ss="UNAUTHORIZED",Zr="INVALID_ARGUMENT",Ai="INIT_FAILED",br="FORBIDDEN",il="INVALID_CONFIG",zd="INVALID_ID_TOKEN",A4="CREATE_SUBWINDOW_FAILED",T4="EXCEPTION_IN_SUBWINDOW",eF="liffEvent",gc="LIFF_STORE",O_="https://liff.".concat("line.me","/"),R4="https://miniapp.".concat("line.me","/"),nr={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData"},rI="isInClient",XT=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],jZ=5,FZ=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"],KZ="liff://subwindow",Dr={INIT:"init",SUBMIT:"submit",CANCEL:"cancel",CLOSE:"close",ERROR:"error"},WZ=100,tF=100,nF="liff.subwindow",A_="healthCheck",HZ=["profile","chat_message.write","openid","email"];function iI(e){return window.atob(e.replace(/-/g,"+").replace(/_/g,"/"))}var WS={decode:iI,encode:function(e){return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decodeUnicode:function(e){var t=iI(e).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join("");return decodeURIComponent(t)}};function $a(e,t){if(e===t)return 0;for(var n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length),s=0;s<i;s++){n[s]||(n[s]="0"),r[s]||(r[s]="0");var o=parseInt(n[s])-parseInt(r[s]);if(o!==0)return o>0?1:-1}return 0}function sI(e){var t=e.replace("#","").match(/.{2}/g)||[];if(t.length!==4)return Er.warn("convertArgbToRgba: Received invalid ARGB color"),"";var n=function(o){var a=Qf(o);return Math.round(a/255*100)/100}(t[0]),r=Qf(t[1]),i=Qf(t[2]),s=Qf(t[3]);return"rgba(".concat(r,", ").concat(i,", ").concat(s,", ").concat(n,")")}function Qf(e){return parseInt(e,16)}function oI(e){var t=e.replace("#","").match(/.{2}/g)||[];if(t.length!==3)return Er.warn("convertArgbToRgba: Received invalid hex color"),"";var n=Qf(t[0]),r=Qf(t[1]),i=Qf(t[2]);return"".concat(n,", ").concat(r,", ").concat(i)}function aI(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}var GT={get:function(e){var t=new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return document.cookie.replace(t,"$1")},set:function(e,t,n){var r=e+"="+t;if(n)for(var i in n){var s=n[i]?"=".concat(n[i]):"";r+="; ".concat(i).concat(s)}Er.debug("set cookie",r),document.cookie=r},remove:function(e,t){var n="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 GMT");if(t)for(var r in t)n+="; ".concat(r,"=").concat(t[r]);document.cookie=n}},zZ=new Set(["400","401","403","404","429","500"]),rF=function(e){function t(n,r,i){var s=e.call(this,r,i)||this;return s.code=n,s}return Hn(t,e),t}(Error);function Xe(e,t,n){return n?.cause&&console.error("This is the cause of LiffError described below.",n.cause),new rF(e,t||"",n||{})}function JT(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function qZ(e){var t="";return e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach(function(n){t+=String.fromCharCode(parseInt(n))}),window.btoa(t)}var iF=function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(t){var n=this.map[t];return n===void 0?null:n},e.prototype.setItem=function(t,n){this.map[t]=n},e.prototype.removeItem=function(t){delete this.map[t]},e.prototype.key=function(t){var n=Object.keys(this.map)[t];return n===void 0?null:n},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),e}(),HS,zs={parse:function(e){return e.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter(function(t){return t.length>0}).reduce(function(t,n){var r=$r(n.split("=").map(decodeURIComponent),2),i=r[0],s=r[1],o=t[i];return Array.isArray(o)?o.push(s):Object.prototype.hasOwnProperty.call(t,i)?t[i]=[o,s]:t[i]=s,t},{})},stringify:function(e){return Object.keys(e).map(function(t){var n=e[t],r=function(i){return i!==void 0?"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(i)):encodeURIComponent(t)};return Array.isArray(n)?n.map(function(i){return r(i)}).join("&"):r(n)}).join("&")}},cI="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function VZ(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function K0(e){for(var t="",n=0;n<e;n++)t+=cI[Math.floor(VZ()*cI.length)];return t}function sF(e){var t=new URL(e),n=t.hash.slice(1).split("&").filter(function(r){return!XT.some(function(i){return r.startsWith("".concat(i,"="))})}).join("&");return t.hash=n,t.toString()}function XZ(e){var t=new URL(e);return t.toString().replace(new RegExp(String.raw(lI||(lI=DZ(["^",""],["^",""])),t.origin)),"")}var GZ=function(e){var t=XZ(sF(e));window.history.replaceState(history.state,"",t)};function pv(e,t){if(!e)throw new Error("addParamsToUrl: invalid URL");var n=new URL(e);return Object.entries(t).forEach(function(r){var i=$r(r,2),s=i[0],o=i[1];n.searchParams.set(s,o)}),n.toString()}var lI,uI=((HS={})[O_]=function(){var e=dI(O_);return new RegExp("^".concat(e,"(\\d+-\\w+)"))},HS[R4]=function(){var e=dI(R4);return new RegExp("^".concat(e,"((\\d+-\\w+)|(\\w+$))"))},HS);function YT(e){for(var t in uI){var n=e.match(uI[t]());if(n)return n[1]}return null}function dI(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function JZ(e){var t=e.match(/^(https?:\/\/.*?)\//);return t&&t[1]||""}function N4(e){return e.startsWith("line:")}function ZT(e){return e===void 0&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}function oF(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(e)}function aF(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(e)}function YZ(e){return e===void 0&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e)}var cF=function(){return typeof window>"u"},vb=null;function yr(){return vb===null&&(vb=aF()||oF()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem("".concat(gc,":").concat(rI))==="1",sessionStorage.setItem("".concat(gc,":").concat(rI),vb?"1":"0")),!!vb}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isInClient"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return yr()}},t})(Kn);function yi(){var e;return(e=window.__liffConfig)!==null&&e!==void 0?e:{}}function ZZ(e){window.__liffConfig=e}function QZ(e,t){if(!t)throw Xe(il,"liffId is necessary for liff.init()");var n=(yr()?sessionStorage:localStorage).getItem("".concat(gc,":").concat(t,":").concat(e));try{return n===null?null:JSON.parse(n)}catch{return null}}function Po(e){return QZ(e,yi().liffId)}function la(e,t){var n=yi().liffId;if(!n)throw Xe(il,"liffId is necessary for liff.init()");(yr()?sessionStorage:localStorage).setItem("".concat(gc,":").concat(n,":").concat(e),JSON.stringify(t))}function Os(){return Po(nr.CONTEXT)}function QT(e){la(nr.CONTEXT,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getContext"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Os()}},t})(Kn);function lF(){return((Os()||{}).d||{}).aId}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getAId"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return lF()}},t})(Kn);function uF(){return((Os()||{}).d||{}).autoplay||!1}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getIsVideoAutoPlay"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return uF()}},t})(Kn);function dF(){return(Os()||{}).profilePlus}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getProfilePlus"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return dF()}},t})(Kn);function eQ(){return!!Po(nr.IS_SUBSEQUENT_LIFF_APP)}function tQ(e){la(nr.IS_SUBSEQUENT_LIFF_APP,e)}function nQ(){return Po(nr.APP_DATA)}function P4(e){la(nr.APP_DATA,e)}function rQ(){return Po(nr.MST_VERIFIER)}function iQ(e){la(nr.MST_VERIFIER,e)}function sQ(){return Po(nr.MSIT)}function oQ(e){la(nr.MSIT,e)}function UC(){return Po(nr.MST)}function aQ(e){la(nr.MST,e)}function fF(){return Po(nr.MST_CHALLENGE)}function cQ(e){la(nr.MST_CHALLENGE,e)}function lQ(){return Po(nr.CLIENT_ID)}function hF(e){la(nr.CLIENT_ID,e)}function uQ(){return Po(nr.RAW_CONTEXT)}function T1(){return Po(nr.FEATURE_TOKEN)}function fI(e){la(nr.FEATURE_TOKEN,e)}function BC(){return Po(nr.ID_TOKEN)}function pF(e){la(nr.ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getIDToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return BC()}},t})(Kn);function ou(){return Po(nr.ACCESS_TOKEN)}function eR(e){la(nr.ACCESS_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getAccessToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ou()}},t})(Kn);function gF(e){var t=yi().liffId;if(!t)throw Xe(il,"liffId is necessary for liff.init()");(yr()?sessionStorage:localStorage).removeItem("".concat(gc,":").concat(t,":").concat(e))}function mF(){return Po(nr.LOGIN_TMP)}function dQ(e){la(nr.LOGIN_TMP,e)}function hI(){gF(nr.LOGIN_TMP)}function yF(e){var t=yi();GT.set("".concat(gc,":").concat(nr.EXPIRES,":").concat(t.liffId),e.getTime(),{expires:e.toUTCString(),path:"/",secure:null})}function fQ(){var e=yi();return GT.get("".concat(gc,":").concat(nr.EXPIRES,":").concat(e.liffId))}function hQ(){var e=yi();GT.remove("".concat(gc,":").concat(nr.EXPIRES,":").concat(e.liffId),{path:"/"})}function $C(){return Po(nr.DECODED_ID_TOKEN)}function vF(e){la(nr.DECODED_ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getDecodedIDToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return $C()}},t})(Kn);function pQ(){Object.keys(nr).forEach(function(e){gF(nr[e])}),hQ()}function xs(){return!!ou()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isLoggedIn"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return xs()}},t})(Kn);function jC(){return"2.26.0"}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getVersion"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return"2.26.0"}},t})(Kn);var gQ=function(){function e(){}return e.prototype.invoke=function(){return YZ()},e}(),mQ=function(){function e(t){this.storage=t}return Object.defineProperty(e,"IN_SUB_WINDOW_KEY",{get:function(){return"inSubWindow"},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){return new URLSearchParams(window.location.search).has(nF)&&this.setInSubWindow(!0),!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())},e.prototype.getInSubWindow=function(){var t=this.storage.getItem("".concat(gc,":").concat(this.getLiffId(),":").concat(e.IN_SUB_WINDOW_KEY));return t!==null&&JSON.parse(t)},e.prototype.getSubWindowIdentifier=function(){var t,n,r="liff.subwindow.identifier",i=new URLSearchParams(window.location.search);return i.get(r)||(t=r,(n=i.get("liff.state"))?new URLSearchParams(n).get(t):null)||null},e.prototype.setInSubWindow=function(t){this.storage.setItem("".concat(gc,":").concat(this.getLiffId(),":").concat(e.IN_SUB_WINDOW_KEY),String(t))},e.prototype.getLiffId=function(){var t=yi().liffId;if(!t)throw Xe(il,"liffId is necessary for liff.init()");return t},e}(),yQ=function(e){function t(){var n=e.call(this)||this;return cF()?n.impl={invoke:function(){return!1}}:yr()?n.impl=new gQ:n.impl=new mQ(window.sessionStorage),n}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.impl.invoke.bind(this.impl)},t}(Kn),wF=new yQ,Wc=wF.install();function sl(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getLineVersion"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return sl()}},t})(Kn);var zS;function Vs(){if(!zS){var e=window.navigator.userAgent.toLowerCase();zS=/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":"web"}return zS}(function(e){function t(){return e.call(this)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getOS"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Vs()}},t})(Kn);function bF(e){var t,n=Os();return(t=n?.availability)===null||t===void 0?void 0:t[e]}function Na(e,t,n){var r=bF(e),i=n||e;if(!r)return{available:!1,error:{code:br,message:"".concat(i," is not allowed in this LIFF app")}};var s=r.minVer,o=r.unsupportedFromVer,a=!s||function(u,d){var h=sl();return!!h&&!(d&&$a(h,d)>0)&&$a(h,u)>=0}(s,o),c=yr();return c&&!a?{available:!1,error:{code:br,message:"".concat(i," is unavailable in this client version.")}}:r.permission?c&&a||t?{available:!0}:{available:!1,error:{code:br,message:"".concat(i," is not allowed in external browser")}}:{available:!1,error:{code:br,message:"".concat(i," is not allowed in this LIFF app")}}}var pI=function(){return xs()?!aF()&&oF()?{available:!1,error:{code:br,message:"Subwindow is not supported in this browser"}}:Wc()?{available:!1,error:{code:br,message:"this api can be only called in parent window"}}:Na("subwindowOpen",!0):{available:!1,error:{code:ss,message:"Need access_token for api call, Please login first"}}},vQ=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen","createShortcutOnHomeScreen","internalCreateShortcutOnHomeScreen","iap"],Go={scanCode:function(){return Na("scanCode")},getAdvertisingId:function(){return Na("getAdvertisingId")},bluetoothLeFunction:function(){return Na("bluetoothLeFunction")},shareTargetPicker:function(){return Wc()?{available:!1,error:{code:br,message:"this api can be only called in parent window"}}:xs()?Na("shareTargetPicker",!0):{available:!1,error:{code:ss,message:"Need access_token for api call, Please login first"}}},multipleLiffTransition:function(){var e=bF("multipleLiffTransition");return e&&e.permission?yr()?{available:!0}:{available:!1,error:{code:br,message:"multipleLiffTransition is available only in the LINE App browser"}}:{available:!1,error:{code:br,message:"multipleLiffTransition is not allowed in this LIFF app"}}},subwindowOpen:pI,scanCodeV2:function(){if(!xs())return{available:!1,error:{code:ss,message:"Need access_token for api call, Please login first"}};var e=pI();return e.available?Na("scanCodeV2",!0):e},addToHomeScreen:function(){return Wc()?{available:!1,error:{code:br,message:"this api can be only called in parent window"}}:Na("addToHomeScreen")},skipChannelVerificationScreen:function(){var e=Os();return e?e.type==="square_chat"?{available:!1,error:{code:br,message:"skipChannelVerificationScreen is not allowed in OpenChat"}}:Na("skipChannelVerificationScreen"):{available:!1,error:{code:br,message:"Context is not found"}}},createShortcutOnHomeScreen:function(){if(Wc())return{available:!1,error:{code:br,message:"this api can be only called in parent window"}};if(!xs())return{available:!1,error:{code:ss,message:"Need access_token for api call, Please login first"}};var e=Vs();return e!=="android"&&e!=="ios"?{available:!1,error:{code:br,message:"this api can be only called in mobile device"}}:Na("addToHomeV2",!0,"createShortcutOnHomeScreen")},internalCreateShortcutOnHomeScreen:function(){if(Wc())return{available:!1,error:{code:br,message:"this api can be only called in parent window"}};if(!xs())return{available:!1,error:{code:ss,message:"Need access_token for api call, Please login first"}};var e=Vs();if(e!=="android"&&e!=="ios")return{available:!1,error:{code:br,message:"this api can be only called in mobile device"}};var t=Na("addToHomeV2",!0,"internalCreateShortcutOnHomeScreen");return t.available?Na("addToHomeLineScheme",!0,"internalCreateShortcutOnHomeScreen"):t},iap:function(){return yr()?xs()?Wc()?{available:!1,error:{code:br,message:"this api can be only called in parent window"}}:Na("iap",!1,"In-App Purchase"):{available:!1,error:{code:ss,message:"Need access_token for api call, Please login first"}}:{available:!1,error:{code:br,message:"In-App Purchase is not allowed in external browser"}}}},Ca=function(e){return function(){var t=e();if(!t.available)throw Xe(t.error.code,t.error.message)}},zl={scanCode:Ca(Go.scanCode),getAdvertisingId:Ca(Go.getAdvertisingId),bluetoothLeFunction:Ca(Go.bluetoothLeFunction),shareTargetPicker:Ca(Go.shareTargetPicker),multipleLiffTransition:Ca(Go.multipleLiffTransition),subwindowOpen:Ca(Go.subwindowOpen),scanCodeV2:Ca(Go.scanCodeV2),addToHomeScreen:Ca(Go.addToHomeScreen),skipChannelVerificationScreen:Ca(Go.skipChannelVerificationScreen),createShortcutOnHomeScreen:Ca(Go.createShortcutOnHomeScreen),internalCreateShortcutOnHomeScreen:Ca(Go.internalCreateShortcutOnHomeScreen),iap:Ca(Go.iap)};function R1(e){if(!function(n){return vQ.some(function(r){return r===n})}(e))throw Xe(Zr,"Unexpected API name.");var t=Go[e];return!t||t().available}(function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hooks={},n}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isApiAvailable"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return R1(n)}},t})(Kn);var wQ=function(){function e(){}return e.prototype.invoke=function(t){var n=zl[t];return!!n&&(n(),!0)},e}(),bQ=function(){function e(t){this.liff=t}return e.prototype.invoke=function(t){return this.liff.checkFeature(t)},e}(),qS=function(){function e(t){$a(jC(),e.SDK_VERSION_SUPPORTING_NEW)>=0?this.impl=new wQ:this.impl=new bQ(t)}return Object.defineProperty(e,"SDK_VERSION_SUPPORTING_NEW",{get:function(){return"2.11.0"},enumerable:!1,configurable:!0}),e.prototype.invoke=function(t){return this.impl.invoke(t)},e}(),I4=function(e,t){return I4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},I4(e,t)};function EQ(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function a(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){var d;u.done?i(u.value):(d=u.value,d instanceof n?d:new n(function(h){h(d)})).then(o,a)}c((r=r.apply(e,[])).next())})}function _Q(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&d[0]?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[2&d[0],i.value]),d[0]){case 0:case 1:i=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,r=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||d[0]!==6&&d[0]!==2)){o=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){o.label=d[1];break}if(d[0]===6&&o.label<i[1]){o.label=i[1],i=d;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(d);break}i[2]&&o.ops.pop(),o.trys.pop();continue}d=t.call(e,o)}catch(h){d=[6,h],r=0}finally{n=i=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([c,u])}}}var EF=!1,CQ=function(){return EF},xQ=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=n}I4(n,r),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"_legacyExtensionsEnabled"},enumerable:!1,configurable:!0}),t.prototype.install=function(){EF=!0},t}(Kn);function SQ(){var e;return Vs()==="ios"?(e=sl())&&$a(e,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js"}function OQ(){return CQ()?function(){return EQ(this,void 0,void 0,function(){return _Q(this,function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise(function(t,n){var r=document.createElement("script"),i=SQ();r.onload=function(){var s=window.liffClientExtension;s?t(s):n(Xe(Ai,"Unable to load client features. (Extension is empty)"))},r.onerror=function(s){n(Xe(Ai,"Unable to load client features.",{cause:s}))},r.src=i,r.type="text/javascript",document.body.appendChild(r)})]}})})}():Promise.resolve(void 0)}function tR(){pQ()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"logout"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return tR()}},t})(Kn);function AQ(e){return pt(this,void 0,void 0,function(){var t,n,r;return gt(this,function(i){switch(i.label){case 0:if(!e.ok)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,i.sent()];case 3:return i.sent(),[2,e];case 4:return t=String(e.status),n=zZ.has(t)?t:Cs,[4,e.json().catch(function(){throw Xe(n,e.statusText)})];case 5:throw r=i.sent(),Xe(r.error||n,r.error_description||r.message)}})})}function _F(e){var t=function(n){if(n)return n;var r=ou();if(!r)throw Xe(ss,"Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}}(e&&e.headers);return Gr(Gr({},e),{headers:t})}function Ui(e,t){var n;try{n=_F(t)}catch(r){return Promise.reject(r)}return fetch(e,n).then(AQ)}function TQ(e,t){var n;try{n=_F(t)}catch(r){return Promise.reject(r)}return fetch(e,n)}function Ei(e){var t=e.subdomain,n=t===void 0?"api":t,r=e.pathname;return"https://".concat(n,".").concat("line.me","/").concat(r)}var RQ={token:Ei({pathname:"oauth2/v2.1/token"}),certs:Ei({pathname:"oauth2/v2.1/certs"}),"openid-configuration":Ei({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:Ei({subdomain:"access",pathname:"liff/v1/authorize"}),profile:Ei({pathname:"v2/profile"}),message:Ei({pathname:"message/v3/share"}),friendship:Ei({pathname:"friendship/v1/status"}),shareTargetPicker:Ei({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:Ei({pathname:"liff/v2/apps"}),shareTargetPickerResult:Ei({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:Ei({pathname:"liff/v2/apps"}),subWindowGetMSIT:Ei({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:Ei({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:Ei({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:Ei({pathname:"liff/v2/sub/result"}),subWindowGetAppData:Ei({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(e){return Ei({pathname:"liff/v2/sub/".concat(e,"/origin")})},accessTokenVerify:Ei({pathname:"oauth2/v2.1/verify"}),unauthorizedPermissions:Ei({subdomain:"liff",pathname:"liff/v2/incrementalAgreement/unauthorizedPermissions"}),permanentLink:Ei({subdomain:"liff",pathname:"liff/v2/permanentLink"}),createShortcutOnHomeScreen:Ei({subdomain:"liff-shortcut",pathname:"api/shortcut"})};function mi(e){return RQ[e]}function CF(e){return Ui("".concat(mi("accessTokenVerify"),"?access_token=").concat(encodeURIComponent(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}var xF="liff.subwindow.identifier",D4="liff.subwindow.cryptokey",fE=Gr(Gr({},Dr),{GET_DATA:"getData",SET_DATA:"setData",NOT_FOUND:"notFound",TEARDOWN:"teardown"}),T_={BROADCAST:"broadcast",COMMAND:"command"},$y={MAIN:"main",SUB:"sub"},SF=function(e){return pt(void 0,void 0,void 0,function(){var t;return gt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey("jwk",{kty:"oct",k:e,alg:"A128GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"])];case 1:return[2,n.sent()];case 2:throw t=n.sent(),Xe(Cs,t);case 3:return[2]}})})},NQ=function(e,t,n){return pt(void 0,void 0,void 0,function(){var r,i,s,o;return gt(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,SF(t)];case 1:return i=a.sent(),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,new TextEncoder().encode(n))];case 2:return s=a.sent(),[2,btoa(new Uint8Array(s).reduce(function(c,u){return c+String.fromCharCode(u)},""))];case 3:throw o=a.sent(),Xe(Cs,o);case 4:return[2]}})})},PQ=function(e,t,n){return pt(void 0,void 0,void 0,function(){var r,i,s,o,a,c,u;return gt(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,SF(t)];case 1:for(i=d.sent(),s=atob(n),o=new Uint8Array(s.length),a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},i,o.buffer)];case 2:return c=d.sent(),[2,new TextDecoder().decode(new Uint8Array(c))];case 3:throw u=d.sent(),Xe(Cs,u);case 4:return[2]}})})},IQ=function(e,t){return jy(e)===jy(t)},jy=function(e){return"".concat(e.identifier,"-").concat(e.action,"-").concat(e.timestamp)},DQ=function(e){return Object.keys(Dr).map(function(t){return Dr[t]}).includes(e)?T_.BROADCAST:T_.COMMAND};function kQ(){var e=document.createElement("form");e.method="POST",e.action="$MESSAGE_HANDLER_URL";var t=document.createElement("input");t.type="hidden",t.name="identifier",t.value="$IDENTIFIER",e.appendChild(t),document.body.appendChild(e),e.submit()}var MQ=function(e){e===void 0&&(e=$y.MAIN);var t=this;this.identification={identifier:"",cryptoKey:""},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return pt(t,void 0,void 0,function(){var n,r,i,s,o;return gt(this,function(a){switch(a.label){case 0:return n=new URLSearchParams(window.location.search),r=function(c){var u=n.get("liff.state");return u?new URLSearchParams(u).get(c):null},i=this,o={identifier:this.windowType===$y.MAIN?K0(12):n.get("liff.subwindow.identifier")||r("liff.subwindow.identifier")||""},this.windowType!==$y.MAIN?[3,2]:[4,pt(void 0,void 0,void 0,function(){var c,u,d;return gt(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return c=h.sent(),[4,window.crypto.subtle.exportKey("jwk",c)];case 2:if(!(u=h.sent())||!u.k)throw Xe(Cs,"failed to generate key");return[2,u.k];case 3:throw d=h.sent(),Xe(Cs,d);case 4:return[2]}})})];case 1:return s=a.sent(),[3,3];case 2:s=n.get(D4)||r(D4)||"",a.label=3;case 3:return i.identification=(o.cryptoKey=s,o),[2]}})})},this.hasIdentification=function(){var n=t.identification,r=n.identifier,i=n.cryptoKey;return typeof r=="string"&&typeof i=="string"&&r.length>0&&i.length>0},this.isReady=function(){return t.hasIdentification()&&!!t.messageHandlerInstance},this.setup=function(){return pt(t,void 0,void 0,function(){var n,r,i,s,o,a=this;return gt(this,function(c){switch(c.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(c.sent(),!(n=this.identification.identifier))return[2];if(r=/^[a-zA-Z0-9]+$/gm,!n.match(r))throw Xe(Cs,"Invalid identifier");return(i=document.createElement("iframe")).style.display="none",i.src="about:blank",document.body.appendChild(i),(o=i?.contentWindow)===null||o===void 0||o.window.eval("(".concat(kQ.toString().replace("$MESSAGE_HANDLER_URL","".concat("https://liff-subwindow.line.me/liff/v2/sub/messageHandler")).replace("$IDENTIFIER",n.split("'")[0]),")()")),s="iframe-".concat(n,"-ready"),[4,new Promise(function(u){var d=function(h){h.data[s]&&(a.messageHandlerInstance=i,window.addEventListener("message",a.proxyToListeners),u(),document.removeEventListener("message",d))};window.addEventListener("message",d)})];case 2:return[2,c.sent()]}})})},this.teardown=function(){return pt(t,void 0,void 0,function(){var n,r;return gt(this,function(i){switch(i.label){case 0:return this.isReady()?[4,this.send({eventName:fE.TEARDOWN})]:[3,2];case 1:i.sent(),window.removeEventListener("message",this.proxyToListeners),this.listeners.clear(),(r=(n=this.messageHandlerInstance)===null||n===void 0?void 0:n.parentNode)===null||r===void 0||r.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,i.label=2;case 2:return[2]}})})},this.listen=function(n){t.listeners.set(n,n)},this.listenRepliedEvent=function(n,r){var i=function(s){s.replyTarget&&IQ(s.replyTarget,n)&&(r(s),t.listeners.delete(i))};t.listeners.set(i,i)},this.send=function(n){return pt(t,void 0,void 0,function(){var r,i,s,o,a=this;return gt(this,function(c){switch(c.label){case 0:if(!this.isReady())throw Xe("message bus is not ready to send message");return i={action:DQ(n.eventName),identifier:this.identification.identifier||"",timestamp:new Date().getTime()},[4,this.getEncryptedContext(n)];case 1:return i.context=c.sent(),r=i,(o=(s=this.messageHandlerInstance)===null||s===void 0?void 0:s.contentWindow)===null||o===void 0||o.postMessage({messageBusEvent:r},"*"),this.sentMessages.push(jy(r)),[4,new Promise(function(u){a.listenRepliedEvent(r,function(d){u(d.context)})})];case 2:return[2,c.sent()]}})})},this.reply=function(n,r){return pt(t,void 0,void 0,function(){var i,s,o,a;return gt(this,function(c){switch(c.label){case 0:if(!this.isReady())throw Xe("message bus is not ready to send message");if(!n.identifier||!n.timestamp)throw Xe(Cs,"target message is not valid");return s={action:T_.BROADCAST},[4,this.getEncryptedContext(r)];case 1:return s.context=c.sent(),s.identifier=this.identification.identifier||"",s.timestamp=new Date().getTime(),s.replyTarget={action:n.action,identifier:n.identifier,timestamp:n.timestamp},i=s,(a=(o=this.messageHandlerInstance)===null||o===void 0?void 0:o.contentWindow)===null||a===void 0||a.postMessage({messageBusEvent:i},"*"),this.sentMessages.push(jy(i)),[2]}})})},this.setData=function(n,r){n===void 0&&(n="appData"),t.send({eventName:fE.SET_DATA,key:n,data:r})},this.getData=function(n){return n===void 0&&(n="appData"),pt(t,void 0,void 0,function(){return gt(this,function(r){switch(r.label){case 0:return[4,this.send({eventName:fE.GET_DATA,key:n})];case 1:return[2,r.sent()]}})})},this.proxyToListeners=function(n){return pt(t,void 0,void 0,function(){var r,i=this;return gt(this,function(s){return r=n.data.messageBusEvent,n.origin!=="https://liff-subwindow.line.me"?[2]:r?(this.sentMessages.includes(jy(r))||r.identifier!==this.identification.identifier||r.action!==T_.BROADCAST&&!r.replyTarget||this.listeners.forEach(function(o){return pt(i,void 0,void 0,function(){var a,c,u;return gt(this,function(d){switch(d.label){case 0:return a=o,c=[Gr({},r)],u={},[4,this.getDecryptedContext(r.context)];case 1:return a.apply(void 0,[Gr.apply(void 0,c.concat([(u.context=d.sent(),u)]))]),[2]}})})}),[2]):[2]})})},this.getEncryptedContext=function(n){return pt(t,void 0,void 0,function(){var r,i,s,o,a,c,u;return gt(this,function(d){switch(d.label){case 0:return r=this.identification,i=r.identifier,s=r.cryptoKey,a=(o=JSON).stringify,u={eventName:n.eventName,key:n.key?n.key:void 0},n.data?[4,NQ(i,s,JSON.stringify(n.data))]:[3,2];case 1:return c=d.sent(),[3,3];case 2:c=void 0,d.label=3;case 3:return[2,a.apply(o,[(u.data=c,u)])]}})})},this.getDecryptedContext=function(n){return pt(t,void 0,void 0,function(){var r,i,s,o,a,c,u,d;return gt(this,function(h){switch(h.label){case 0:return r=this.identification,i=r.identifier,s=r.cryptoKey,(o=JSON.parse(n)).data&&typeof o.data=="string"?(d=(u=JSON).parse,[4,PQ(i,s,o.data)]):[3,2];case 1:return c=d.apply(u,[h.sent()]),[3,3];case 2:c=void 0,h.label=3;case 3:return a=c,[2,Gr(Gr({},o),{data:a})]}})})},this.windowType=e};function LQ(e){return new CustomEvent(eF,{detail:e})}(function(){if(typeof window<"u"&&typeof window.CustomEvent!="function"){let e=function(t,n){var r=n||{},i=r.bubbles,s=i!==void 0&&i,o=r.cancelable,a=o!==void 0&&o,c=r.detail,u=c===void 0?void 0:c,d=document.createEvent("CustomEvent");return d.initCustomEvent(t,s,a,u),d};e.prototype=Event.prototype,window.CustomEvent=e}})();var u0={},gI=!1;function nR(e,t){gI||(gI=!0,window.addEventListener(eF,function(n){n&&n.detail&&n.detail.type&&u0[n.detail.type]&&u0[n.detail.type].forEach(function(r){return r(n)})})),u0[e]?u0[e].push(t):u0[e]=[t]}function rR(e,t){var n=u0[e];if(n&&Array.isArray(n)){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function UQ(e){var t={};try{t=JSON.parse(e)}catch(r){throw Xe(Zr,r.message)}var n=LQ(t);Er.debug("[client dispatchEvent to js]",{type:n.type,detail:n.detail}),window.dispatchEvent(n)}function OF(e,t,n){t===void 0&&(t={}),n===void 0&&(n="");var r=T1();if(!r)throw Xe(br,"Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw Xe(Zr,"postMessage is not available from client");Er.debug("[js postMessage to client]",e,n,t),window._liff.postMessage(e,r,n,JSON.stringify(t))}function pg(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={once:!0}),T1()?(n=Gr({callbackId:K0(12),once:!0},n),new Promise(function(r,i){var s=function(o){if(o&&o.detail){var a=o.detail.callbackId===n.callbackId,c=typeof o.detail.callbackId!="string";(a||c)&&(n.once&&rR(e,s),Er.debug("[callback detail]",o.detail),o.detail.error?i(o.detail.error):o.detail.data?r(o.detail.data):i(o.detail))}i()};nR(e,s),OF(e,t,n.callbackId)})):Promise.reject(Xe(br,"Invalid featureToken for client features"))}function N0(){var e=sl();e!==null&&(Vs()==="ios"&&$a(e,"9.19")>=0||Vs()==="android"&&$a(e,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?e!==null&&$a(e,"10.15.0")>=0?Vs()==="ios"?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):pg("closeWindow"):window.close()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"closeWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return N0()}},t})(Kn);function AF(e){var t=mi("subWindowGetOrigin");return Ui(t(e))}var od={};function W0(e,t){e&&od[e]&&od[e].forEach(function(n){n(t)})}function TF(e,t){od[e]||(od[e]=[]),od[e].push(t)}function RF(e,t){if(od[e]){var n=od[e].indexOf(t);n>=0&&od[e].splice(n,1)}}var NF,PF,IF,DF,k4,kF=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem("".concat(this.getKeyPrefix(),":").concat(t))},e.prototype.setItem=function(t,n){this.storage.setItem("".concat(this.getKeyPrefix(),":").concat(t),n)},e.prototype.removeItem=function(t){this.storage.removeItem("".concat(this.getKeyPrefix(),":").concat(t))},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return"".concat(gc,":").concat(this.getLiffId())},e.prototype.getLiffId=function(){var t=yi().liffId;if(!t)throw Xe(il,"liffId is necessary for liff.init()");return t},e}(),MF=new kF(new iF);function R_(){var e=MF.getItem("subWindowStatusUpdated");return e!==null&&JSON.parse(e)}function _h(e){MF.setItem("subWindowStatusUpdated",String(e))}function M4(e){NF=e}function Fy(){return NF}function L4(){return IF}function mI(){return DF}function LF(e){return e===void 0&&(e=$y.MAIN),pt(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return[4,(k4=new MQ(e)).setup()];case 1:return t.sent(),[2,k4]}})})}function gg(){return k4}var BQ=new iF,UF=new kF(cF()?BQ:window.sessionStorage);function $Q(e){UF.setItem("mainWindowOrigin",e)}function BF(){return UF.getItem("mainWindowOrigin")}function $F(e,t){return t===void 0&&(t={}),pt(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return gt(this,function(d){switch(d.label){case 0:if((n=gg())!=null&&n.isReady())return[3,5];if(r=JSON.stringify(t),i=yi().liffId,s=BF(),!window.opener||!s||!i)throw Xe(T4);o=!1,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,AF(i)];case 2:return a=d.sent(),o=a.subwindowCommonModule,[3,4];case 3:throw c=d.sent(),Er.debug(c),Xe(T4);case 4:return u=o?s:location.origin,[2,new Promise(function(h){window.addEventListener("message",function p(m){(function(y){return!!(y.data&&typeof y.data.type=="string"&&[Dr.SUBMIT,Dr.CANCEL].includes(y.data.type))})(m)&&(window.removeEventListener("message",p),h({status:e,result:r}))}),window.opener.postMessage({status:e,result:r},u)})];case 5:return n.send({eventName:e,data:t}),[4,new Promise(function(h){setTimeout(h,500)})];case 6:return d.sent(),[2,{status:e,result:JSON.stringify(t)}]}})})}function iR(e){var t,n=mI();if(e.origin===n){var r=e.data;if(r){var i,s=r.status,o=r.result;try{i=JSON.parse(o||"{}")}catch{i={}}switch(s){case A_:window.clearInterval(L4()),sR();break;case Dr.CANCEL:case Dr.SUBMIT:_h(!0),window.clearInterval(L4()),window.removeEventListener("message",iR),W0(s,i),(t=Fy())===null||t===void 0||t.postMessage({type:s},mI());break;default:Er.debug("unexpected message")}}}}var jQ=function(e){return pt(void 0,void 0,void 0,function(){var t,n,r,i;return gt(this,function(s){if(R_())return[2];switch(t=e.context,n=t.eventName,r=t.data,i=gg(),n){case Dr.INIT:FF(!r.hasOpener);break;case Dr.CANCEL:case Dr.SUBMIT:_h(!0),W0(n,r),i?.reply(e,{eventName:n});break;case Dr.CLOSE:R_()===!1&&(_h(!0),W0(Dr.CLOSE,{})),sR()}return[2]})})};function jF(){window.clearInterval(PF),window.clearInterval(L4()),window.removeEventListener("message",iR)}function FF(e){if(e===void 0&&(e=!1),jF(),_h(!1),e){var t=Fy();t&&(t.close(),M4(null))}}function sR(){return pt(this,void 0,void 0,function(){var e;return gt(this,function(t){switch(t.label){case 0:return(e=gg())?[4,e.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}function FQ(e){var t;return pt(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,d,h,p;return gt(this,function(m){switch(m.label){case 0:return(n=YT(e.url))?(FF(!0),[4,sR()]):[2,Promise.reject(Xe(Zr,"params.url must be liff url or mini url"))];case 1:return m.sent(),M4(Vs()!=="ios"||ZT()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),r=e.url,i=e.appData,(s=new URL(r)).searchParams.append(nF,"true"),[4,LF()];case 2:return o=m.sent(),s.searchParams.append(xF,o.identification.identifier),s.searchParams.append(D4,o.identification.cryptoKey),s.hostname=function(v){var w=$r(v.split(".")),C=w[0],_=w.slice(1);return sa(["".concat(C,"-ext")],$r(_),!1).join(".")}(s.hostname),a=s.toString(),[4,AF(n)];case 3:if(c=m.sent(),u=c.origin,d=c.subwindowCommonModule,!(h=Fy()))throw Xe(A4);if(!d)return h.close(),[2];(function(v){DF=v})(u),o.listen(jQ),o.setData("appData",i),window.addEventListener("message",iR),m.label=4;case 4:return m.trys.push([4,6,,7]),[4,(t=e.onBeforeTransition)===null||t===void 0?void 0:t.call(e)];case 5:return m.sent(),[3,7];case 6:throw p=m.sent(),h.close(),p;case 7:return h.location.href=a,y=function(v,w){var C=Fy(),_={type:A_};return w&&(_.message=JSON.stringify(w)),window.setInterval(function(){C?.postMessage(_,v)},tF)}(u,i),IF=y,function(v){PF=v}(window.setInterval(function(){var v=Fy();v&&v.closed&&(jF(),M4(null),R_()===!1&&(_h(!0),W0(Dr.CLOSE,{})))},WZ)),[2]}var y})})}var Dm=null;function KF(e){return pt(this,void 0,void 0,function(){var t,n,r,i,s,o,a,c,u,d,h,p,m,y,v=this;return gt(this,function(w){switch(w.label){case 0:if(t=e.msit,n=e.mstChallenge,r=e.reconnectCount,i=r===void 0?0:r,s=function(){return pt(v,void 0,void 0,function(){return gt(this,function(C){switch(C.label){case 0:return[4,(_=1e3,new Promise(function(O){return setTimeout(O,_)}))];case 1:return C.sent(),[4,KF({msit:t,mstChallenge:n,onSuccess:e.onSuccess,onError:e.onError,reconnectCount:i+1})];case 2:return C.sent(),[2]}var _})})},o=function(){for(var C=[],_=0;_<arguments.length;_++)C[_]=arguments[_];Dm=null,e.onSuccess.apply(e,sa([],$r(C),!1))},a=function(){for(var C=[],_=0;_<arguments.length;_++)C[_]=arguments[_];Dm=null,e.onError.apply(e,sa([],$r(C),!1))},c=Date.now(),Dm===null&&(Dm=c),u=c-Dm,i>=10||u>6e5)return a(Xe(Cs,"Failed to connect")),[2];w.label=1;case 1:return w.trys.push([1,3,,5]),[4,TQ(mi("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return d=w.sent(),[3,5];case 3:return w.sent(),[4,s()];case 4:return w.sent(),[2];case 5:return d.status>=500?[4,s()]:[3,7];case 6:return w.sent(),[3,17];case 7:return d.status>=400&&500>d.status?[4,yI(d)]:[3,9];case 8:return p=w.sent(),h=p?Xe(Zr,p.errorDetail):Xe(Cs,"Some error happened in the server"),a(h),[3,17];case 9:return d.status!==200?[3,16]:[4,yI(d)];case 10:if(!(p=w.sent()))return a(Xe(Cs,"Some error happened in the server")),[2];switch(m=p.status,y=p.result,m){case Dr.ERROR:return[3,11];case Dr.CLOSE:case Dr.CANCEL:case Dr.SUBMIT:return[3,13]}return[3,14];case 11:return[4,s()];case 12:return w.sent(),[3,15];case 13:return o(m,y),[3,15];case 14:a(Xe(Cs,"Some error happened in the server")),w.label=15;case 15:return[3,17];case 16:a(Xe(Cs,"Some error happened in the server")),w.label=17;case 17:return[2]}})})}function yI(e){return pt(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}})})}function KQ(e){var t={};return Object.keys(e).forEach(function(n){n==="closeButtonColor"?e[n]==="white"?t[n]="#ffffff":t[n]="#000000":t[n]=e[n]}),t}var WQ={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function HQ(e){var t=e.appData,n=e.native,r=yi().liffId,i=fF(),s=YT(e.url);if(!r)return Promise.reject(Xe(ss,"liffId is invalid"));if(!i)return Promise.reject(Xe(ss,"mst_challenge is invalid"));if(!s)return Promise.reject(Xe(Zr,"params.url must be liff url or mini url"));var o=Object.assign({},WQ,n);return function(a){var c=a.mainLiffId,u=a.subLiffId,d=a.mstChallenge,h=a.appData,p=a.view;return c&&d?Ui(mi("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:c,subLiffId:u,mstChallenge:d,appData:h,view:p})}):Promise.reject(Xe(Zr,"no proper argument"))}({mainLiffId:r,subLiffId:s,mstChallenge:i,appData:t,view:KQ(o)}).then(function(a){var c=a.msit;return KF({msit:c,mstChallenge:i,onSuccess:function(u,d){W0(u,d)},onError:function(u){W0(Dr.ERROR,u)}}),c}).then(function(a){return function(c,u){var d;return pt(this,void 0,void 0,function(){var h,p;return gt(this,function(m){switch(m.label){case 0:return h=c.url,(p=new URLSearchParams).set("msit",u),[4,(d=c.onBeforeTransition)===null||d===void 0?void 0:d.call(c)];case 1:return m.sent(),location.href="".concat(KZ,"?url=").concat(encodeURIComponent(h),"&").concat(p.toString()),[2]}})})}(e,a)})}function WF(e){return zl.subwindowOpen(),yr()?HQ(e):FQ(e)}function oR(e){if(!e.mst||!e.status)return Promise.reject(Xe(Zr,"no proper argument"));var t=JSON.stringify(e);return Ui(mi("subWindowPost"),{method:"POST",body:t})}function FC(){if(!Wc())throw Xe(ss,"this api can be only called in child window")}function HF(e){return e===void 0&&(e={}),FC(),yr()?function(t){return t===void 0&&(t={}),pt(this,void 0,void 0,function(){var n,r;return gt(this,function(i){switch(i.label){case 0:return(n=UC())?[4,oR({mst:n,status:Dr.CANCEL,result:t})]:[2,Promise.reject(Xe(ss,"mst is invalid"))];case 1:return r=i.sent(),_h(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),$F(Dr.CANCEL,t)}(e)}function zF(e){return e===void 0&&(e={}),FC(),yr()?function(t){return t===void 0&&(t={}),pt(this,void 0,void 0,function(){var n,r;return gt(this,function(i){switch(i.label){case 0:return(n=UC())?[4,oR({mst:n,status:Dr.SUBMIT,result:t})]:[2,Promise.reject(Xe(ss,"mst is invalid"))];case 1:return r=i.sent(),_h(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),$F(Dr.SUBMIT,t)}(e)}function qF(){return FC(),yr()?function(){return pt(this,void 0,void 0,function(){var e;return gt(this,function(t){switch(t.label){case 0:return R_()!==!1?[3,2]:(e=UC())?[4,oR({mst:e,status:Dr.CLOSE,result:{}})]:[2,Promise.reject(Xe(ss,"mst is invalid"))];case 1:t.sent(),t.label=2;case 2:return N0(),[2]}})})}():function(){return pt(this,void 0,void 0,function(){var e;return gt(this,function(t){return(e=gg())!=null&&e.isReady()?(e.send({eventName:Dr.CLOSE}),[2,new Promise(function(n){setTimeout(function(){N0(),n()},tF)})]):(N0(),[2,Promise.resolve()])})})}()}function VF(){return FC(),function(){var e,t=nQ();try{e=t?JSON.parse(t):{}}catch{e={}}return Promise.resolve(e)}()}function zQ(e){var t=e.msit,n=e.mstVerifier;return t&&n?Ui(mi("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject(Xe(Zr,"no proper argument"))}function qQ(e){var t=e.mst;return t?Ui(mi("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:t})}):Promise.reject(Xe(Zr,"no proper argument"))}var Yo={on:TF,off:RF,open:WF,cancel:HF,submit:zF,close:qF,getAppData:VF};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"subWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){var n=this;return{on:TF.bind(this),off:RF.bind(this),open:function(r){return WF.call(n,Gr(Gr({},r),{onBeforeTransition:void 0}))},cancel:HF.bind(this),submit:zF.bind(this),close:qF.bind(this),getAppData:VF.bind(this)}},t})(Kn);var hE={exports:{}},VQ=hE.exports,vI;function XQ(){return vI||(vI=1,function(e){(function(t,n){e.exports?e.exports=n():t.sha256=n()})(VQ,function(){var t=function n(r){function i(k,U){return k>>>U|k<<32-U}for(var s=Math.pow,o=s(2,32),a="length",c,u,d="",h=[],p=r[a]*8,m=n.h=n.h||[],y=n.k=n.k||[],v=y[a],w={},C=2;v<64;C++)if(!w[C]){for(c=0;c<313;c+=C)w[c]=C;m[v]=s(C,.5)*o|0,y[v++]=s(C,.3333333333333333)*o|0}for(r+="";r[a]%64-56;)r+="\0";for(c=0;c<r[a];c++){if(u=r.charCodeAt(c),u>>8)return;h[c>>2]|=u<<(3-c)%4*8}for(h[h[a]]=p/o|0,h[h[a]]=p,u=0;u<h[a];){var _=h.slice(u,u+=16),O=m;for(m=m.slice(0,8),c=0;c<64;c++){var R=_[c-15],S=_[c-2],E=m[0],x=m[4],N=m[7]+(i(x,6)^i(x,11)^i(x,25))+(x&m[5]^~x&m[6])+y[c]+(_[c]=c<16?_[c]:_[c-16]+(i(R,7)^i(R,18)^R>>>3)+_[c-7]+(i(S,17)^i(S,19)^S>>>10)|0),A=(i(E,2)^i(E,13)^i(E,22))+(E&m[1]^E&m[2]^m[1]&m[2]);m=[N+A|0].concat(m),m[4]=m[4]+N|0}for(c=0;c<8;c++)m[c]=m[c]+O[c]|0}for(c=0;c<8;c++)for(u=3;u+1;u--){var D=m[c]>>u*8&255;d+=(D<16?0:"")+D.toString(16)}return d};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})}(hE)),hE.exports}var GQ=XQ();const JQ=rl(GQ);var YQ=function(){var e=this;this.type="sync",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var s=A1(e.fns),o=s.next();!o.done;o=s.next()){var a=o.value;a.apply(void 0,sa([],$r(r),!1))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},km=function(){var e=this;this.type="async",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return pt(e,void 0,void 0,function(){var r,i,s,o,a,c;return gt(this,function(u){switch(u.label){case 0:r=[];try{for(i=A1(this.fns),s=i.next();!s.done;s=i.next())o=s.value,r.push(o.apply(void 0,sa([],$r(t),!1)))}catch(d){a={error:d}}finally{try{s&&!s.done&&(c=i.return)&&c.call(i)}finally{if(a)throw a.error}}return[4,Promise.all(r)];case 1:return u.sent(),[2]}})})}},Ky=function(e){var t,n=K0(43),r=qZ(JQ(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),i=yi();if(!i||!i.liffId)throw Xe(il,"You need to define `liffId` for liff.login()");var s={app_id:i.liffId,state:K0(12),response_type:"code",code_challenge_method:"S256",code_challenge:r,liff_sdk_version:jC()};e&&e.redirectUri&&(s.redirect_uri=e.redirectUri),Wc()&&!yr()&&(!((t=gg())===null||t===void 0)&&t.isReady()?s.redirect_uri=window.location.href:s.disable_auto_login="true"),dQ({codeVerifier:n});var o=mi("authorize")+"?"+zs.stringify(s);Er.debug("[Redirect] ".concat(o)),window.location.href=o},ZQ=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hooks={before:new YQ},n}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"login"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this._login.bind(this)},t.prototype._login=function(n){this.hooks.before.call(n),Ky(n)},t}(Kn),VS,pE=typeof navigator>"u"?"en":(VS=navigator.language)!==null&&VS!==void 0?VS:"en",U4=null;function QQ(e){return pt(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return pE=e,[4,XF()];case 1:return t.sent(),[2]}})})}function XF(){return pt(this,void 0,void 0,function(){var e,t;return gt(this,function(n){switch(n.label){case 0:return[4,Ui("".concat("https://liffsdk.line-scdn.net/xlt/manifest.json"),{method:"GET",headers:{Accept:"application/json"}})];case 1:return e=n.sent(),t="".concat(pE),!e.languages[t]&&pE.includes("-")&&(t=pE.split("-")[0]),e.languages[t]||(t="en"),[4,Ui("".concat("https://liffsdk.line-scdn.net/xlt","/").concat(e.languages[t]),{method:"GET",headers:{Accept:"application/json"}})];case 2:return U4=n.sent(),[2]}})})}function XS(e){if(U4===null)throw Xe(Ai,"please call xlt after liff.init");return U4[e]}var eee=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"i18n"},enumerable:!1,configurable:!0}),t.prototype.install=function(n){return n.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)),{setLang:QQ}},t.prototype.beforeInitFinished=function(){return pt(this,void 0,void 0,function(){return gt(this,function(n){switch(n.label){case 0:return[4,XF()];case 1:return n.sent(),[2]}})})},t}(Kn),tee=new eee,wI={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},bI={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function nee(){var e;$s("color-scheme",(((e=Os())==null?void 0:e.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var t=window.matchMedia("(prefers-color-scheme: dark)");GS({matches:t?.matches,media:t?.media}),t.addEventListener?t.addEventListener("change",GS):t.addListener&&t.addListener(GS)}function GS(e){var t=Os(),n=t?.menuColorSetting||{adaptableColorSchemes:["light"],lightModeColor:wI,darkModeColor:bI},r=n.adaptableColorSchemes,i=n.lightModeColor,s=n.darkModeColor,o=r.includes("dark");e.matches&&o?EI(Gr(Gr({},bI),s)):EI(Gr(Gr({},wI),i))}function EI(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,i=e.titleSubtextColor,s=e.titleButtonColor,o=e.titleBackgroundColor,a=e.progressBarColor,c=e.progressBackgroundColor,u=e.titleButtonAreaBackgroundColor,d=e.titleButtonAreaBorderColor,h=e.baseBackgroundColor,p=e.baseTextColor,m=e.lightButtonBorderColor;$s("--liff-base-background-color",h),$s("--liff-base-text-color",p),$s("--liff-base-background-rgb-color",oI(h)),$s("--liff-base-text-rgb-color",oI(p)),$s("--liff-light-button-border-color",m),$s("--liff-title-text-color",r),$s("--liff-title-background-color",o),$s("--liff-title-button-color",s),$s("--liff-icon-color",t),$s("--liff-status-bar-color",n),$s("--liff-title-subtext-color",i),$s("--liff-progress-bar-color",a),$s("--liff-progress-background-color",c),$s("--liff-title-button-area-background-color",sI(u)),$s("--liff-title-button-area-border-color",sI(d))}function $s(e,t){document.documentElement.style.setProperty(e,t)}var ree={addToHomeScreen:function(e){if(!new qS(e).invoke("addToHomeScreen"))throw Xe(br,"No permission for liff.addToHomeScreen()")},scanCode:function(e){if(!new qS(e).invoke("scanCode"))return Promise.reject(Xe(br,"No permission for liff.scanCode()"))},getAdvertisingId:function(e){if(!new qS(e).invoke("getAdvertisingId"))return Promise.reject(Xe(br,"No permission for liff.getAdvertisingId()"))},initPlugins:function(){}};function iee(e){return pt(this,void 0,void 0,function(){var t;return gt(this,function(n){switch(n.label){case 0:return[4,OQ()];case 1:return(t=n.sent())?(t.install(e,ree),[2]):[2]}})})}function see(){return pt(this,void 0,void 0,function(){return gt(this,function(e){switch(e.label){case 0:return[4,Ui(mi("certs"))];case 1:return[2,e.sent()]}})})}function oee(e,t,n){return pt(this,void 0,void 0,function(){var r;return gt(this,function(i){switch(i.label){case 0:return[4,crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 1:return r=i.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},r,n,t)];case 2:return[2,i.sent()]}})})}function GF(e,t){return pt(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,d,h,p,m,y,v,w,C;return gt(this,function(_){switch(_.label){case 0:return n=e.split("."),r=$r(n,3),i=r[0],s=r[1],o=r[2],a=JSON.parse(WS.decode(i)),c=JSON.parse(WS.decodeUnicode(s)),u=aI(WS.decode(o)),d=aI("".concat(i,".").concat(s)),[4,see()];case 1:if(h=_.sent(),!(p=h.keys.find(function(O){return O.kid===a.kid})))return[3,6];if(delete p.alg,a.alg!=="ES256")throw Xe(zd,'Invalid "alg" value in ID_TOKEN');m=void 0,_.label=2;case 2:return _.trys.push([2,4,,5]),[4,oee(p,d,u)];case 3:return m=_.sent(),[3,5];case 4:throw y=_.sent(),Xe(zd,"".concat("Failed to use Crypto API to verify ID_TOKEN",": ").concat(y));case 5:if(m){if(v=c.iss!=="https://access.".concat("line.me"),w=c.aud!==t,C=1e3*c.exp<Date.now(),v)throw Xe(zd,'Invalid "iss" value in ID_TOKEN');if(w)throw Xe(zd,'Invalid "aud" value in ID_TOKEN');if(C)throw Xe(zd,'Invalid "exp" value in ID_TOKEN');return[2,c]}throw Xe(zd,"Invalid signature in ID_TOKEN");case 6:throw Xe(zd,'Invalid "kid" value in ID_TOKEN');case 7:return[2]}})})}function aR(e){var t=e.split(".");if(t[1])try{var n=t[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}catch{return null}return null}function JF(e){var t=e.pathname,n=e.query,r=n?"?".concat(zs.stringify(n)):"",i="".concat("liff://").concat(t).concat(r);location.href=i}var B4=null;function aee(){typeof B4=="boolean"&&Er.warn("liff.init is not expected to be called more than once"),B4=!!eQ()||!(!yr()||zs.parse(window.location.hash).feature_token||T1())&&(tQ(!0),!0)}function $4(){return!!B4}function cee(e,t){return pt(this,void 0,void 0,function(){var n;return gt(this,function(r){switch(r.label){case 0:return(n=UC())?[2,n]:e&&t?[4,zQ({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}})})}function lee(e){return Ui("".concat(mi("apps"),"/").concat(e,"/featureToken"))}function uee(e){return pt(this,void 0,void 0,function(){var t,n,r,i;return gt(this,function(s){switch(s.label){case 0:return t=zs.parse(window.location.hash),n=function(o){for(var a,c,u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];var h=function(y){Object.keys(y).filter(function(v){return y[v]!==null&&y[v]!==void 0}).forEach(function(v){o[v]=y[v]})};try{for(var p=A1(u),m=p.next();!m.done;m=p.next())h(m.value)}catch(y){a={error:y}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}return o}({access_token:ou(),context_token:uQ(),feature_token:T1(),id_token:BC(),client_id:lQ(),mst_challenge:fF(),mst_verifier:rQ(),msit:sQ()},t),$4()?xs()?[4,lee(e)]:[3,2]:[3,3];case 1:r=s.sent().featureToken,n.feature_token||(n.feature_token=r),s.label=2;case 2:(i=JT(e))&&(n.client_id=i),s.label=3;case 3:return[2,n]}})})}function dee(e){if(e.persisted&&R1("multipleLiffTransition"))if(Vs()==="ios")window.location.reload();else{var t=yi().liffId,n=T1();if(!t)throw Xe(Ai,"Invalid LIFF ID.");if(!n)throw Xe(br,"Invalid featureToken for client features");JF({pathname:"app/".concat(t),query:{feature_token:n}})}}function fee(e){var t,n;return pt(this,void 0,void 0,function(){var r,i,s,o,a,c,u,d,h,p,m,y,v,w,C,_,O;return gt(this,function(R){switch(R.label){case 0:return[4,new Promise(function(S){var E=sl();if(!E||$a(E,"9.5.0")<0)S();else if(window._liff&&window._liff.features)S();else{Er.debug("cannot find window._liff.features, listen to ready event");var x=function(){Er.debug("ready event is fired"),rR("ready",x),S()};nR("ready",x)}})];case 1:return R.sent(),aee(),[4,uee(e.liffId)];case 2:if(r=R.sent(),i=r.access_token,s=r.context_token,o=r.feature_token,a=r.id_token,c=r.client_id,u=r.mst_verifier,d=r.mst_challenge,h=r.msit,s){if(typeof s!="string")throw Xe(Ai,"Cannot get context token, perhaps there is an incorrect parameter in permanent link");QT(aR(s))}if(((t=Os())===null||t===void 0?void 0:t.liffId)!==void 0&&((n=Os())===null||n===void 0?void 0:n.liffId)!==e.liffId)throw Xe(Ai,"Invalid LIFF ID");return!Wc()&&o&&(function(S,E){R1("multipleLiffTransition")&&JF({pathname:"app/".concat(S),query:{feature_token:E}})}(e.liffId,o),$4()&&fI(o)),d&&cQ(d),u&&iQ(u),c&&hF(c),h&&oQ(h),window.addEventListener("pageshow",dee),xs()?[3,5]:o&&i?[3,5]:$4()?(p=pv(location.href,{"liff.hback":"2"}),Ky({redirectUri:p}),[4,new Promise(function(){})]):[3,4];case 3:R.sent(),R.label=4;case 4:throw Ky(),Xe(Ai,"Failed to parse feature_token or access_token");case 5:return i&&o?[4,CF(i)]:[3,7];case 6:if(m=R.sent(),y=m.client_id,v=m.expires_in,w=JT(e.liffId),y!==w)throw Ky(),Xe(Ai,"Failed to verify access_token");fI(o),yF(new Date(Date.now()+1e3*v)),eR(i),R.label=7;case 7:return[4,cee(h,u)];case 8:return(C=R.sent())?(aQ(C),[4,qQ({mst:C})]):[3,10];case 9:(_=R.sent().data)&&P4(JSON.stringify(_)),R.label=10;case 10:return a&&!BC()&&pF(a),a&&c&&!$C()?[4,GF(a,c)]:[3,12];case 11:(O=R.sent())&&vF(O),R.label=12;case 12:return[2]}})})}function hee(e){return pt(this,void 0,void 0,function(){var t,n,r,i,s,o,a;return gt(this,function(c){switch(c.label){case 0:return t=mi("apps"),n="".concat(t,"/").concat(e,"/contextToken"),r=ou(),i={"Content-Type":"application/json",Accept:"application/json"},r&&(i.Authorization="Bearer ".concat(r)),[4,Ui(n,{headers:i})];case 1:if(s=c.sent(),!(o=s.contextToken))throw Xe(Ai,"Can not get context from server.");if(!(a=aR(o)))throw Xe(Ai,"Invalid context token.");return[2,a]}})})}function YF(){return pt(this,void 0,void 0,function(){var e,t;return gt(this,function(n){switch(n.label){case 0:if(!(e=yi().liffId))throw Xe(Ai,"Invalid LIFF ID.");return[4,hee(e)];case 1:return t=n.sent(),QT(t),[2]}})})}function pee(e){return pt(this,void 0,void 0,function(){var t,n,r,i=this;return gt(this,function(s){switch(s.label){case 0:t=function(){return pt(i,void 0,void 0,function(){var o,a,c,u,d,h;return gt(this,function(p){switch(p.label){case 0:return[4,(m=yi(),y=zs.parse(window.location.search),v=mF(),w={grant_type:"authorization_code",client_id:y.liffClientId,appId:m.liffId,code:y.code,code_verifier:v.codeVerifier,redirect_uri:m.redirectUri||y.liffRedirectUri,id_token_key_type:"JWK"},C=zs.stringify(w),Ui(mi("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:C}))];case 1:return o=p.sent(),a=o.access_token,c=o.id_token,u=o.expires_in,hF(e),eR(a),yF(new Date(Date.now()+1e3*u)),hI(),c?(pF(c),[4,GF(c,e)]):[3,3];case 2:(d=p.sent())&&vF(d),p.label=3;case 3:return(h=zs.parse(location.hash).context_token)?(QT(aR(h)),[3,6]):[3,4];case 4:return[4,YF()];case 5:p.sent(),p.label=6;case 6:return[2]}var m,y,v,w,C})})},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t()];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),r=n,hI(),r;case 4:return[2]}})})}function ZF(){return pt(this,void 0,void 0,function(){var e,t,n,r,i,s,o=this;return gt(this,function(a){switch(a.label){case 0:return(t=gg())?[3,2]:[4,LF($y.SUB)];case 1:t=a.sent(),a.label=2;case 2:return(e=t).isReady()?(n=K0(8),[4,e.getData("appData")]):[3,8];case 3:return r=a.sent(),i=r.eventName,s=r.data,i!==fE.NOT_FOUND?[3,6]:[4,e.teardown()];case 4:return a.sent(),[4,ZF()];case 5:return[2,a.sent()];case 6:s&&P4(JSON.stringify(s)),a.label=7;case 7:return e.listen(function(c){return pt(o,void 0,void 0,function(){var u,d;return gt(this,function(h){return u=c.context,d=u.data,u.eventName===Dr.INIT&&d?.subWindowId!==n&&N0(),u.eventName!==Dr.CANCEL&&u.eventName!==Dr.SUBMIT||e.teardown(),[2]})})}),xs()&&e.send({eventName:Dr.INIT,data:{subWindowId:n,hasOpener:!!window.opener}}),[3,10];case 8:return BF()?[3,10]:[4,new Promise(function(c){window.addEventListener("message",function(u){return function d(h){var p=h.data,m=h.source,y=h.origin;if(p){var v=p.type,w=p.message;v===A_&&(window.removeEventListener("message",d),w&&P4(w),$Q(y),m&&m.postMessage&&m.postMessage({status:A_},y),u())}}}(c))})];case 9:return[2,a.sent()];case 10:return[2]}})})}var gee=new(function(){function e(){var t=this;this.getAndValidateContext=function(){var n=Os();if(!n)throw Xe(Ai,"Could not get Context from server.");if(!n.endpointUrl)throw Xe(Ai,"Could not get endpointUrl from server.");if(!n.permanentLinkPattern)throw Xe(Ai,"Could not get permanentLinkPattern from server.");return n},this.decodeState=function(n){var r=t.getAndValidateContext();n=n.replace(/\n/g,"%0D%0A");var i=!r.endpointUrl.startsWith("/?")&&r.endpointUrl.includes("/?")||!r.endpointUrl.startsWith("/#")&&r.endpointUrl.includes("/#")||r.endpointUrl.endsWith("/")||!n.startsWith("/?")&&n.includes("/?")||!n.startsWith("/#")&&n.includes("/#")||n.endsWith("/"),s=new URL(r.endpointUrl),o=s.origin,a=s.pathname,c=s.search,u=new URL("".concat(o).concat(t.attachSlashAtStart(n))),d=u.pathname,h=u.search,p=u.hash,m="".concat(c).concat(c?h.replace(/\?/g,"&"):h),y="".concat(a).concat(t.attachSlashAtStart(d)).replace("//","/");return(y=t.attachSlashAtStart("".concat(y))).endsWith("/")&&!i&&(y=y.substring(0,y.length-1)),"".concat(o).concat(y).concat(m).concat(p).replace(/%0D%0A/g,`
`)}}return e.prototype.attachSlashAtStart=function(t){return"".concat(t&&t.length>0&&!t.startsWith("/")?"/":"").concat(t)},e.prototype.invoke=function(){return pt(this,void 0,void 0,function(){var t,n,r,i,s;return gt(this,function(o){switch(o.label){case 0:if(t=zs.parse(window.location.search),typeof(n=t["liff.state"])!="string")return[2];o.label=1;case 1:return o.trys.push([1,4,,5]),r=location.href,(i=this.decodeState(n))===r?[3,3]:(t["liff.hback"]?location.replace(pv(i,{"liff.hback":t["liff.hback"]})):location.replace(i),[4,new Promise(function(){})]);case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:if((s=o.sent()).code===Ai)throw s;return Er.debug(s),[3,5];case 5:return[2]}})})},e}());function mee(e,t){return pt(this,void 0,void 0,function(){var n;return gt(this,function(r){switch(r.label){case 0:if(!e.liffId)throw Xe(il,"liffId is necessary for liff.init()");return ZZ(e),!yr()&&xs()&&(fQ()||tR()),n=zs.parse(window.location.search),!Wc()||yr()?[3,2]:[4,ZF()];case 1:r.sent(),r.label=2;case 2:if(n.error&&n.liffOAuth2Error)throw o=n.error,a=n.error_description,c=a.replace(/\+/g," "),u="".concat(o,": ").concat(c),Xe(Ai,u);return i=n.code,s=mF(),i&&!xs()&&s&&s.codeVerifier?[4,pee(n.liffClientId)]:[3,4];case 3:r.sent(),r.label=4;case 4:return yr()?[4,fee(e)]:[3,6];case 5:return r.sent(),[3,8];case 6:return xs()?[3,8]:[4,YF()];case 7:r.sent(),r.label=8;case 8:return[4,gee.invoke()];case 9:return r.sent(),[4,t()];case 10:return r.sent(),GZ(window.location.href),[2]}var i,s,o,a,c,u})})}var QF=function(e,t){return new Promise(function(n,r){if(e){var i=document.createElement("script");i.type="module",i.onload=function(){n()},i.src=e,document.head.appendChild(i)}else r(Xe(il,t))})},yee=function(e){var t="https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js";return t&&e&&(t=t.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/,e)),QF(t,"LUI_ALERT_URL is not defined")},JS=function(){return pt(void 0,void 0,void 0,function(){var e;return gt(this,function(t){switch(t.label){case 0:return e=function(){var r,i=document.querySelector('script[src*="luivendor.js"]');if(i&&(!((r=i.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g))===null||r===void 0)&&r.length))return i.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0]}(),e?[3,2]:[4,QF("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js","LUI_VENDOR_URL is not defined")];case 1:t.sent(),t.label=2;case 2:return[4,yee(e)];case 3:return t.sent(),[4,(n=K0(6),new Promise(function(){var r=document.createElement("div");r.innerHTML='<lui-alert id="'.concat("liffAlert","-").concat(n,'" shown title="').concat(XS("alert.android.extBrowser.autoLoginWorkaround.title"),'" message="').concat(XS("alert.android.extBrowser.autoLoginWorkaround.desc"),'" button="').concat(XS("alert.android.extBrowser.autoLoginWorkaround.button.text"),'"></lui-alert>'),document.body.appendChild(r);var i=document.getElementById("".concat("liffAlert","-").concat(n));i&&i.addEventListener("lui-button-click",function(){var s=window.open(pv(window.location.href,{liffIsEscapedFromApp:"true"}),"_blank");s&&(s.location.href=pv(window.location.href,{liffIsEscapedFromApp:"true"}),window.close())})}))];case 4:return t.sent(),[2]}var n})})},_I=function(e){try{return new URL(e).searchParams.get("lineAppVersion")}catch{return null}};function vee(){var e;return pt(this,void 0,void 0,function(){var t,n;return gt(this,function(r){switch(r.label){case 0:return t=(e=_I(window.location.href))!==null&&e!==void 0?e:_I(window.document.referrer),t&&$a(t,"13.10.0")>=0?[2]:yr()||Vs()!=="android"||(n=zs.parse(window.location.search))[xF]||n.liffIsEscapedFromApp?[2]:n.liffClientId&&document.referrer.includes("access.".concat("line.me"))?(window.location.href=pv(window.location.href,{liffIsEscapedFromApp:"true"}),[2]):n.liffClientId&&document.referrer.includes("android-app://")?[4,JS()]:[3,2];case 1:r.sent(),r.label=2;case 2:return n.liffClientId&&document.referrer===""&&window.history.length===1?[4,JS()]:[3,4];case 3:r.sent(),r.label=4;case 4:return!document.referrer.includes("liffClientId")||document.referrer.includes("liffIsEscapedFromApp")?[3,6]:[4,JS()];case 5:r.sent(),r.label=6;case 6:return[2]}})})}var wee=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hooks={before:new km,after:new km},n.internalHooks={beforeFinished:new km,beforeSuccess:new km,error:new km},n}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"init"},enumerable:!1,configurable:!0}),t.prototype.install=function(n){var r=n.liff;return this.liffForWindow=r,this.init.bind(this)},t.prototype.init=function(n,r,i){return pt(this,void 0,void 0,function(){var s;return gt(this,function(o){switch(o.label){case 0:return[4,this.hooks.before.call()];case 1:o.sent(),a=this.liffForWindow,window&&!window.liff&&(window.liff=a),o.label=2;case 2:return o.trys.push([2,9,,11]),[4,Promise.all([iee(this.liffForWindow),mee(n,this.internalHooks.beforeFinished.call)])];case 3:return o.sent(),nee(),[4,this.internalHooks.beforeSuccess.call()];case 4:return o.sent(),!n.withLoginOnExternalBrowser||xs()?[3,6]:(Ky(),[4,new Promise(function(){})]);case 5:o.sent(),o.label=6;case 6:return[4,vee()];case 7:return o.sent(),[4,this.hooks.after.call()];case 8:return o.sent(),typeof r=="function"&&r(),Qj(),[3,11];case 9:return s=o.sent(),[4,this.internalHooks.error.call(s)];case 10:throw o.sent(),typeof i=="function"&&i(s),s;case 11:return[2]}var a})})},t}(Kn);function eK(){return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getLanguage"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return eK()}},t})(Kn);function tK(){var e=sl();if(!e||!yr()||Vs()!=="ios")return navigator.language;if($a(e,"14.11.0")>=0){var t=window.prompt("LIFF:GET_APP_LANGUAGE");if(t)return t}return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getAppLanguage"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return tK()}},t})(Kn);function nK(e){return pt(this,void 0,void 0,function(){var t,n,r,i,s,o,a;return gt(this,function(c){switch(c.label){case 0:return function(u){if(!HZ.includes(u))throw Xe(Zr,"Unexpected permission name.");var d=Os();return!!d?.scope.includes(u)}(e)?(t=ou())?[4,CF(t)]:[3,2]:[2,{state:"unavailable"}];case 1:n=c.sent(),r=unescape(n.scope).split(" ");try{for(i=A1(r),s=i.next();!s.done;s=i.next())if(s.value.includes(e))return[2,{state:"granted"}]}catch(u){o={error:u}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}return[2,{state:"prompt"}];case 2:throw Xe(ss,"Need access_token for api call, Please login first")}})})}function rK(){var e,t,n=Os();return!!n&&n.type!=="square_chat"&&(R1("skipChannelVerificationScreen")||!yr()&&((t=(e=n.availability)===null||e===void 0?void 0:e.skipChannelVerificationScreen)===null||t===void 0?void 0:t.permission))}function bee(){var e=yi().liffId;if(e)return Ui("".concat(mi("unauthorizedPermissions"),"?liffId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(ou())}});throw Xe(ss,"liffId is required")}var gE,wb=Yo.on,bb=Yo.off,Eee=Yo.open,_ee=function(){function e(t,n){var r=this;this.onSubmit=function(i){var s=i.newAccessToken,o=i.ICA_ERROR;return pt(r,void 0,void 0,function(){return gt(this,function(a){return s?this.resolve({newAccessToken:s}):o&&this.reject(Xe(Cs,o)),this.teardown(),[2]})})},this.onClose=function(){return pt(r,void 0,void 0,function(){return gt(this,function(i){return this.reject(Xe(ss,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onCancel=function(){return pt(r,void 0,void 0,function(){return gt(this,function(i){return this.reject(Xe(ss,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onError=function(i){return pt(r,void 0,void 0,function(){return gt(this,function(s){return this.reject(i),this.teardown(),[2]})})},this.resolve=t,this.reject=n,this.setup()}return e.prototype.setup=function(){wb("submit",this.onSubmit),wb("close",this.onClose),wb("cancel",this.onCancel),wb("error",this.onError)},e.prototype.teardown=function(){bb("submit",this.onSubmit),bb("close",this.onClose),bb("cancel",this.onCancel),bb("error",this.onError),gE=void 0},e.prototype.open=function(t){var n=yi().liffId;n?Eee({url:"".concat("https://liff.line.me/1656032314-Xgrw5Pmk"),appData:{liffId:n,channelId:JT(n),accessToken:ou()},onBeforeTransition:t}).catch(this.reject):this.reject(Xe(ss,"liffId is required"))},e}();function iK(){return pt(this,void 0,void 0,function(){var e,t,n=this;return gt(this,function(r){switch(r.label){case 0:if(!rK())throw Xe(br,"SkipChannelVerificationScreen is unavailable.");return gE&&gE.teardown(),e=function(){return pt(n,void 0,void 0,function(){var i;return gt(this,function(s){switch(s.label){case 0:return[4,bee()];case 1:if(i=s.sent(),(yr()?i:i.filter(function(o){return o!=="chat_message.write"})).length<=0)throw Xe(br,"All permissions have already been approved.");return[2]}})})},[4,new Promise(function(i,s){(gE=new _ee(i,s)).open(e)})];case 1:return t=r.sent().newAccessToken,eR(t),[2]}})})}function P0(e,t){var n=this;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return pt(n,void 0,void 0,function(){var s,o,a;return gt(this,function(c){switch(c.label){case 0:return s=(r.length>0?r[r.length-1]:{}).ignorePermissionCheck,o=s!==void 0&&s,[4,nK(t)];case 1:if((a=c.sent().state)!=="unavailable")return[3,2];throw Xe(br,"The permission is not in LIFF app scope.");case 2:return a!=="prompt"||!rK()||o||!yr()&&t==="chat_message.write"?[3,4]:[4,iK()];case 3:return c.sent(),[3,5];case 4:o&&r.pop(),c.label=5;case 5:return[4,e.apply(void 0,sa([],$r(r),!1))];case 6:return[2,c.sent()]}})})}}var Cee=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"permission"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return{query:nK,requestAll:iK}},t}(Kn),xee=new Cee;function cR(){return Ui(mi("profile"))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getProfile"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return P0(cR,"profile")},t})(Kn);var See=function(e,t){return e?"&".concat(e.split("&").filter(function(n){return n.indexOf("is_liff_external_open_window")===-1}).join("&").concat("".concat(t?"#".concat(t):""))):"".concat(t?"#".concat(t):"")};function KC(e){if(!function(s){if(!s||typeof s!="object")return!1;var o=s,a=o.url,c=o.external,u=$r([typeof a,typeof c],2),d=u[0],h=u[1];return d==="string"&&a!==""&&(h==="undefined"||h==="boolean")}(e))throw Xe(Zr,"Invalid parameters for liff.openWindow()");var t=sl();if(yr())if(t!==null&&Vs()==="ios"&&$a(t,"9.19")>=0||!window._liff.postMessage){var n=e.url,r=e.external,i=r!==void 0&&r;window.open(function(s,o){var a,c,u,d,h,p,m,y,v;(function(C){return C.indexOf("#")!==-1&&C.indexOf("?")!==-1&&C.indexOf("#")<C.indexOf("?")})(s)||function(C){return C.indexOf("?")===-1&&C.indexOf("#")!==-1}(s)?(m=(a=$r(s.split("#"),2))[0],c=a[1],y=(u=$r((c===void 0?"":c).split("?"),2))[0],v=u[1]):(m=(d=$r(s.split("?"),2))[0],h=d[1],v=(p=$r((h===void 0?"":h).split("#"),2))[0],y=p[1]);var w=See(v,y);return"".concat(m,"?").concat("is_liff_external_open_window","=").concat(!!o).concat(w)}(n,i))}else pg("openWindow",e);else window.open(e.url,"_blank")}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"openWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return KC(n)}},t})(Kn);var Oee=function(e){return typeof e=="object"&&e!==null&&function(t){return typeof t=="string"||t instanceof String}(e.type)};function CI(e){return Promise.reject(Xe(Zr,e))}function sK(e){if(!function(n){return Array.isArray(n)&&n.every(Oee)}(e))return CI("Parameter 'messages' must be an array of { type, ... }");var t=e.length;return t<1||t>5?CI("Number of messages should be in range 1 to ".concat(5,".")):Ui(mi("message"),{method:"POST",body:JSON.stringify({messages:e})}).catch(Aee)}var Aee=function(e){if(e.code==="403"){var t=sl()==="12.0.0",n=Vs()==="ios",r=ZT();t&&(n||r)&&window.alert(`LINELINE 12.0.1
Please update your LINE app to LINE 12.0.1 or later.`)}throw e};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"sendMessages"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return P0(sK,"chat_message.write")},t})(Kn);function oK(){return Ui(mi("friendship"))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getFriendship"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return P0(oK,"profile")},t})(Kn);function Tee(){return pt(this,void 0,void 0,function(){var e,t;return gt(this,function(n){switch(n.label){case 0:if(!xs())return[3,6];n.label=1;case 1:return n.trys.push([1,5,,6]),(e=$C())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,cR()];case 3:if((t=n.sent())&&t.userId)return[2,t.userId];n.label=4;case 4:return[3,6];case 5:return n.sent(),Er.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}})})}function Ree(){return pt(this,void 0,void 0,function(){var e;return gt(this,function(t){switch(t.label){case 0:return[4,Tee()];case 1:return(e=t.sent())&&e.substring(0,1)==="u"?[2,e]:[2]}})})}var Nee=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},n.injected=!1,n}return Hn(t,e),Object.defineProperty(t,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"analytics"},enumerable:!1,configurable:!0}),t.prototype.install=function(n){var r=n.liff,i=n.internalHooks;this.liffCore=r,i.init.beforeFinished(this.beforeInitFinished.bind(this)),i.init.beforeSuccess(this.beforeInitSuccess.bind(this)),i.init.error(this.initError.bind(this))},t.prototype.changeRatioToUTSFormat=function(n){if(n&&Number.isFinite(n))return Math.round(100*n)},t.prototype.setExtra=function(){var n,r=this.utsExtra,i=r.isLiffSuccessful,s=r.isLoggedIn,o=r.id,a=r.version,c=(s?t.LiffUtsLoginStatus.isLoggedIn:0)|(i?t.LiffUtsLoginStatus.isLiffSuccessful:0);(n=this.uts)===null||n===void 0||n.setExtra("liff",{id:o,loginStatus:c,version:a})},t.prototype.assignUtsExtra=function(n){Object.assign(this.utsExtra,n)},t.prototype.setVersion=function(n){this.assignUtsExtra({version:n}),Er.debug("[LIFFUTS][SDK version] ".concat(n)),this.setExtra()},t.prototype.setLiffId=function(n){this.assignUtsExtra({id:n}),Er.debug("[LIFFUTS][LIFFID] ".concat(n)),this.setExtra()},t.prototype.setIsLoggedIn=function(n){this.assignUtsExtra({isLoggedIn:n}),Er.debug("[LIFFUTS][isLoggedIn] ".concat(n)),this.setExtra()},t.prototype.sendLiffInit=function(){var n;Er.debug("[LIFFUTS][sendCustom] liff.init"),(n=this.uts)===null||n===void 0||n.sendCustom({type:t.CUSTOMTYPE,params:{placeId:t.CUSTOMPLACEID_INIT}})},t.prototype.setIsLiffSuccessful=function(n){this.assignUtsExtra({isLiffSuccessful:n}),Er.debug("[LIFFUTS][isLiffInitSuccessful] ".concat(n)),this.setExtra()},t.prototype.prepareReferrer=function(n){var r={};Object.keys(n).forEach(function(i){if(FZ.includes(i)){var s=n[i];typeof s=="string"&&s&&(r[i.replace(/^liff\.ref\./,"")]=s)}}),Object.keys(r).length>0&&(this.referrer=r)},t.prototype.beforeInitFinished=function(){return pt(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,d,h,p,m;return gt(this,function(y){switch(y.label){case 0:if(n=zs.parse(window.location.search),this.prepareReferrer(n),r=Os(),!(i=r?.utsTracking))return[2];if(s=yi(),o=s.liffId,a=s.analytics,i.mode!=="auto"||!a)return[3,6];Er.debug("[LIFFUTS] ".concat(new Date().toUTCString())),y.label=1;case 1:return y.trys.push([1,3,,4]),c=this,[4,new Promise(function(v,w){var C=window.uts,_=document.createElement("script");_.type="text/javascript",_.src="https://static.line-scdn.net/uts/edge/4.1.0/uts.js",_.onload=function(){var O=window.uts;v(O),window.uts=C},_.onerror=function(O){w(O)},document.getElementsByTagName("head")[0].appendChild(_)})];case 2:return c.uts=y.sent(),[3,4];case 3:return u=y.sent(),Er.debug("[LIFFUTS] cannot load UTS, reason: ".concat(u)),[2];case 4:return d=Gr(Gr({},a.context),{utsId:a.context.utsId,appName:a.context.appName,appEnv:a.context.appEnv||"release"}),h=Gr(Gr({endpoint:"https://uts-front.line-apps.com"},a.options),{sampleRate:this.changeRatioToUTSFormat(i.sendRatio),version:"current"}),this.uts.init(d,h),[4,Ree()];case 5:(p=y.sent())&&(Er.debug("[LIFFUTS][mid] ".concat(p)),this.uts.setMid(p)),r?.tid&&(Er.debug("[LIFFUTS][tid] ".concat(r.tid)),this.uts.setTid(r.tid)),this.referrer&&(Er.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),o&&this.setLiffId(o),this.setIsLoggedIn(xs()),this.setVersion(jC()),m=sF(location.href),Er.debug("[LIFFUTS][url] ".concat(m)),this.uts.setUrl(m),this.liffCore.analytics=this.uts,this.injected=!0,y.label=6;case 6:return[2]}})})},t.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},t.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},t}(Kn),Pee=function(e){Er.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),e.sendCustom({type:"liffSdk",params:{placeId:"liff.shareTargetPicker"}})},Iee=/([\x90\x9D\x81\x8D\x8F<"{|}>\\^`]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/,aK=function(e){if(Iee.test(e))throw Xe(Zr,"invalid URL.");var t=new URL(e),n=t.username,r=t.password,i=t.hash,s=t.search;return{username:n,password:r,pathname:t.pathname,hash:i,origin:t.origin,search:s}},xI=function(e){return e.substring(1).split("&").filter(function(t){return!/^liff\./.test(t)&&!!t})},Dee=function(e,t){var n=e.substring(t.length);return n==="/"?"":(n.length>0&&n[0]!=="/"&&(n="/"+n),n)},SI=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},kee=function(e,t){var n=function(r,i){for(var s=sa([],$r(r),!1),o=0;o<i.length;o++){var a=i[o],c=s.indexOf(a);c>-1&&s.splice(c,1)}return s}(function(r){var i,s,o=r.replace(/\+/g,"%2B"),a=new URLSearchParams(o),c=[];try{for(var u=A1(a.entries()),d=u.next();!d.done;d=u.next()){var h=$r(d.value,2),p=h[0],m=h[1];c.push("".concat(SI(p),"=").concat(SI(m)))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}if(c.length===0)return[""];var y=r.split("&");return c.map(function(v,w){return v.endsWith("=")&&!y[w].endsWith("=")?v.slice(0,-1):v})}(xI(e).join("&")),xI(t)).join("&");return n!==""?"?".concat(n):""},Mee=function(e){var t=new RegExp("^".concat(XT.join("|"))),n=e.substring(1).split("&").filter(function(r){return!t.test(r)&&!!r}).join("&");return n?"#".concat(n):""},cK=function(e,t){return t.indexOf(e)===0&&(e.endsWith("/")&&(e=e.substring(0,e.length-1)),t[e.length]===void 0||t[e.length]==="/")},lK=function(e,t){var n=aK(e),r=new URL(t);if(n.username!==r.username||n.password!==r.password||r.origin!==n.origin||!cK(r.pathname,n.pathname))throw Xe(Zr,"invalid URL.")},Lee=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.extraParams="",n.getAndValidateContext=function(){var r=Os();if(!r)throw Xe(Ai,"Could not get Context from server.");if(!r.endpointUrl)throw Xe(Ai,"Could not get endpointUrl from server.");if(!r.permanentLinkPattern)throw Xe(Ai,"Could not get permanentLinkPattern from server.");return r},n.createUrl=function(){var r=n.getAndValidateContext(),i=window.location,s=i.pathname,o=i.search,a=i.hash,c=i.origin,u=new URL(r.endpointUrl);if(u.origin!==c||!cK(u.pathname,s))throw Xe(il,"Current page is not under entrypoint.");var d=s.substring(u.pathname.length);d.length>0&&d[0]!=="/"&&(d="/"+d);var h=new RegExp("^".concat(XT.join("|"))),p=a.substring(1).split("&").filter(function(E){return!h.test(E)&&!!E}).join("&"),m=p===u.hash.substring(1)?"":p,y=function(E){return E.substring(1).split("&").filter(function(x){return!/liff\.state/.test(x)&&!!x})},v=y(o),w=y(u.search);n.extraParams&&v.push(n.extraParams);for(var C=0;C<w.length;C++){var _=w[C],O=v.indexOf(_);O>-1&&v.splice(O,1)}var R=v.join("&"),S="".concat(d).concat(R!==""?"?".concat(R):"").concat(m?"#".concat(m):"");return"".concat(O_).concat(yi().liffId).concat(S)},n.createUrlBy=function(r){return pt(n,void 0,void 0,function(){var i,s,o,a,c,u;return gt(this,function(d){if(!(i=yi().liffId))throw Xe(Ai,"Should run after liff init.");return s=this.getAndValidateContext(),lK(r,s.endpointUrl),o=aK(r),a=new URL(s.endpointUrl),c=s.miniDomainAllowed?R4:O_,u=s.miniDomainAllowed&&s.miniAppId?s.miniAppId:i,[2,c.concat(u,Dee(o.pathname,a.pathname),kee(o.search,a.search),Mee(o.hash))]})})},n.setExtraQueryParam=function(r){n.extraParams=r},n.install=function(){return{createUrl:n.createUrl,createUrlBy:n.createUrlBy,setExtraQueryParam:n.setExtraQueryParam}},n}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"permanentLink"},enumerable:!1,configurable:!0}),t}(Kn),Uee=new Lee,d0,Bee=function(){function e(t,n){var r=this;this.resolve=t,this.reject=n,this.onSubmit=function(i){var s=i.message;r.resolve({value:s}),r.destroy()},this.onClose=function(){r.resolve({value:null}),r.destroy()},this.onCancel=function(){r.resolve({value:null}),r.destroy()},this.onError=function(i){r.reject(i),r.destroy()},this.start()}return e.prototype.start=function(){Yo.on("submit",this.onSubmit),Yo.on("close",this.onClose),Yo.on("cancel",this.onCancel),Yo.on("error",this.onError)},e.prototype.destroy=function(){Yo.off("submit",this.onSubmit),Yo.off("close",this.onClose),Yo.off("cancel",this.onCancel),Yo.off("error",this.onError),d0=void 0},e}();function $ee(){return pt(this,void 0,void 0,function(){return gt(this,function(e){return zl.scanCodeV2(),d0&&d0.destroy(),[2,new Promise(function(t,n){d0=new Bee(t,n),Yo.open({url:"https://liff.line.me/1656359117-jxmx5e11"}).catch(function(r){d0?.destroy(),n(r)})})]})})}var jee=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return $ee},t}(Kn),Fee=new jee,uK={};function Kee(){return uK}function Wee(e,t){var n=Kee(),r=$r(t.split("."),1)[0],i=n[t];i&&e.removeEventListener(r,i),n[t]=null}var OI=!1,AI=!1;function Hee(e,t,n,r){OI||(AI=function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return s=!0,!1}});window.addEventListener("test",o,o),window.removeEventListener("test",o,o)}catch{s=!1}return s}(),OI=!0);var i=$r(t.split("."),1)[0];return new Promise(function(s){var o=function(a){s(a),n&&n(a)};(function(a,c){uK[a]=c})(t,o),e.addEventListener(i,o,!!AI&&r)})}function TI(e,t,n,r){if(n===void 0&&(n={}),typeof e!="object"||!e.postMessage)throw Xe(Zr,"target must be window object");if(typeof t!="string")throw Xe(Zr,"keyname must be string");if(typeof n!="object")throw Xe(Zr,"incorrect body format. It should be Object or Array comprised of Object");if(!r)throw Xe(Zr,"serverEndPointUrl isn't passed. please fill up with proper url");if(r==="*")throw new Error("serverEndPointUrl doesn't allow to set '*'");var i={name:t,body:n};e.postMessage(i,r)}function zee(e,t,n,r){Hee(e,"message.".concat(t),function(i,s,o){return function(a){Er.debug("messageReceive",a),a.origin===o&&a.data.name===i&&s(a)}}(t,n,r))}var qee=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(t){return pt(this,void 0,void 0,function(){var n,r;return gt(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.liffId=t.referrer.liffId,this.doesWaitForSubwindowResult=!(!t.options||!t.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(t),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return i.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return n=i.sent(),this.finalize(),[2,n];case 3:case 6:return[2];case 4:return[3,6];case 5:if(r=i.sent(),this.finalize(),r.name!=="AbortError")throw r;return[3,6]}})})},e.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var t,n;this.abortController&&this.abortController.abort(),yr()||(t=this.timeoutIDForHealthCheck,n=this.popupWindow,Wee(window,"message.receivedHealthcheck"),t&&clearTimeout(t),n&&!n.closed&&n.close())},e.prototype.buildPayloadToShareTargetPicker=function(t){return{messages:t.messages,isMultiple:t.isMultiple,referrer:t.referrer}},e.prototype.initAllowPostMessageOrigin=function(t){return t===void 0&&(t=mi("shareTargetPicker")),JZ(t)},e.prototype.initOtt=function(){return pt(this,void 0,void 0,function(){var t,n,r;return gt(this,function(i){switch(i.label){case 0:return this.abortController&&(t=this.abortController.signal),n="".concat(mi("shareTargetPickerOtt"),"/").concat(this.liffId,"/ott"),r=this,[4,Ui(n,{method:"GET",signal:t}).then(function(s){return s.ott})];case 1:return r.ott=i.sent(),[2]}})})},e.prototype.prepareAnotherWindow=function(){yr()||(Vs()!=="ios"||ZT()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if(yr()&&this.payloadToShareTargetPicker)t=this.liffId,n=this.ott,r=this.payloadToShareTargetPicker,i={liffId:t,ott:n,data:JSON.stringify(r),closeModals:!1},location.href="".concat("line://picker","?").concat(zs.stringify(i));else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw Xe(A4);(function(s,o,a){var c={liffId:o,ott:a};s.location.href="".concat(mi("shareTargetPicker"),"?").concat(zs.stringify(c))})(this.popupWindow,this.liffId,this.ott)}var t,n,r,i},e.prototype.initListener=function(){var t,n;yr()||(t=this.onReceivedHealthcheck.bind(this),n=this.allowPostMessageOrigin,zee(window,"receivedHealthcheck",t,n))},e.prototype.healthCheck=function(){return pt(this,void 0,void 0,function(){var t;return gt(this,function(n){switch(n.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.internalError=t,[3,4];case 4:return[3,6];case 5:this.finalize(),n.label=6;case 6:return[3,8];case 7:r=this.popupWindow,i=this.allowPostMessageOrigin,TI(r,"healthcheck",void 0,i),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),n.label=8;case 8:return[2]}var r,i})})},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw Xe(A4);var t,n,r;t=this.popupWindow,n=this.payloadToShareTargetPicker,r=this.allowPostMessageOrigin,TI(t,"ready",n,r)},e.prototype.onCanceled=function(){return pt(this,void 0,void 0,function(){var t,n;return gt(this,function(r){switch(r.label){case 0:if(yr()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},[4,Ui("".concat(mi("shareTargetPickerResult"),"?").concat(zs.stringify(n)),{method:"POST",signal:t,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,r.sent().status==="ok"]}})})},e.prototype.getShareResult=function(){return pt(this,void 0,void 0,function(){var t,n;return gt(this,function(r){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},Er.debug("fetch: getShareResult"),[2,Ui("".concat(mi("shareTargetPickerResult"),"?").concat(zs.stringify(n)),{method:"GET",headers:{Accept:"application/json"},signal:t})]})})},e.isPollingTimeOut=function(t,n){return(n-t)/6e4>=10},e.prototype.pollingShareResult=function(){return pt(this,void 0,void 0,function(){var t,n;return gt(this,function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((n=r.sent())&&n.result)switch(n.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];default:throw new Error(n.resultDescription)}return[4,new Promise(function(i){setTimeout(i,500)})];case 3:return r.sent(),[3,1];case 4:throw new Error("Timeout: not finished within ".concat(10,"min"))}})})},e}(),Vee=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.shareTargetPicker=function(r,i){return i===void 0&&(i={}),pt(n,void 0,void 0,function(){var s,o,a,c,u,d,h;return gt(this,function(p){switch(p.label){case 0:if(zl.shareTargetPicker(),!r||!Array.isArray(r)||r.length===0)throw Xe(Zr,"no proper argument");if(r.length>jZ)throw Xe(Zr,"exceed the limit of num of messages");if(!(s=yi().liffId))throw Xe(il);window.liff&&(o=window.liff).analytics&&Pee(o.analytics),a=i.isMultiple===void 0||i.isMultiple,p.label=1;case 1:return p.trys.push([1,3,,4]),c=qee.getInstance(),u=sl(),d={waitForSubwindowResult:!0},yr()&&u&&$a(u,"10.11.0")<0&&(d.waitForSubwindowResult=!1),[4,c.init({messages:r,isMultiple:a,referrer:{liffId:s,url:location.origin},options:d})];case 2:return[2,p.sent()];case 3:throw(h=p.sent())instanceof rF?h:Xe(T4,h.message);case 4:return[2]}})})},n}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"shareTargetPicker"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.shareTargetPicker},t}(Kn),Xee=new Vee;function dK(e,t){return pt(this,void 0,void 0,function(){var n,r;return gt(this,function(i){switch(i.label){case 0:return n=mi("createShortcutOnHomeScreen"),(r=new URL(n)).searchParams.append("liffId",e),r.searchParams.append("url",t.url),t.description&&r.searchParams.append("description",t.description),[4,Ui(r.toString())];case 1:return[2,i.sent().shortcutPageUrl]}})})}function fK(e){if(N4(e))throw Xe(Zr,"LINE URL scheme are not supported in the current environment.")}function Gee(e,t){return pt(this,void 0,void 0,function(){var n;return gt(this,function(r){switch(r.label){case 0:return yr()?[2]:[4,new Promise(function(i){setTimeout(i,1e3)})];case 1:return r.sent(),document.visibilityState==="hidden"?[2]:(fK(t.url),[4,dK(e,t)]);case 2:return n=r.sent(),KC({url:n,external:!0}),[2]}})})}function Jee(e,t){return pt(this,void 0,void 0,function(){var n,r;return gt(this,function(i){switch(i.label){case 0:return n={liffId:e,targetUrl:t.url,description:t.description},r="".concat("line://shortcut/liff","?").concat(zs.stringify(n)),location.href=r,[4,Gee(e,t)];case 1:return i.sent(),[2]}})})}function Yee(e,t){return pt(this,void 0,void 0,function(){var n;return gt(this,function(r){switch(r.label){case 0:return fK(t.url),[4,dK(e,t)];case 1:return n=r.sent(),KC({url:n,external:!0}),[2]}})})}function hK(e){var t;if(e.url===void 0||e.url===null||e.url==="")throw Xe(Zr,"no proper argument");var n=Os();if(!(!((t=n?.availability.addToHomeLineScheme)===null||t===void 0)&&t.permission)){if(N4(e.url))throw Xe(br,"No permission to specify line schema in url.");if(e.description)throw Xe(br,"No permission to specify description.")}if(!N4(e.url)){if(!n)throw Xe(br,"Could not get Context from server.");n.liffId!==YT(e.url)&&lK(e.url,n.endpointUrl)}}function Zee(e){return pt(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return hK(e),zl.internalCreateShortcutOnHomeScreen(),[4,pK(e)];case 1:return t.sent(),[2]}})})}function Qee(e){return pt(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return hK(e),zl.createShortcutOnHomeScreen(),[4,pK(e)];case 1:return t.sent(),[2]}})})}function pK(e){return pt(this,void 0,void 0,function(){var t;return gt(this,function(n){switch(n.label){case 0:if(!(t=yi().liffId))throw Xe(Ai,"Invalid LIFF ID.");return Vs()==="ios"?[4,Yee(t,e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,Jee(t,e)];case 3:n.sent(),n.label=4;case 4:return[2]}})})}var ete=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"createShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return Qee(n)}},t}(Kn),tte=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"internalCreateShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return Zee(n)}},t}(Kn);function nte(e){var t=e.productIds;return pt(this,void 0,void 0,function(){return gt(this,function(n){switch(n.label){case 0:return[4,pg("iap.getPlatformProducts",{productIds:t}).catch(function(r){throw r.code&&r.description?Xe(r.code,r.description):Xe(Cs,"Failed to get platform products",{cause:r})})];case 1:return[2,n.sent().products]}})})}var rte=function(e){var t=e.productId,n=e.orderId;return pt(void 0,void 0,void 0,function(){return gt(this,function(r){switch(r.label){case 0:return[4,pg("iap.createPayment",{productId:t,orderId:n}).catch(function(i){throw i.code&&i.description?Xe(i.code,i.description):Xe(Cs,"Failed to get platform products",{cause:i})})];case 1:return r.sent(),[2]}})})},ite=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Hn(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"iap"},enumerable:!1,configurable:!0}),t.prototype.install=function(){var n=this;return{getPlatformProducts:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return pt(n,void 0,void 0,function(){return gt(this,function(s){return zl.iap(),[2,nte.apply(void 0,sa([],$r(r),!1))]})})},createPayment:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return pt(n,void 0,void 0,function(){return gt(this,function(s){return zl.iap(),[2,rte.apply(void 0,sa([],$r(r),!1))]})})},requestConsentAgreement:function(){return pt(n,void 0,void 0,function(){return gt(this,function(r){return zl.iap(),[2,pt(void 0,void 0,void 0,function(){return gt(this,function(i){switch(i.label){case 0:return[4,pg("iap.requestConsentAgreement").catch(function(s){throw s.code&&s.description?Xe(s.code,s.description):Xe(Cs,"Failed to request consent agreement",{cause:s})})];case 1:return i.sent(),[2]}})})]})})}}},t}(Kn),ste={},lR=Object.defineProperties(ste,{getOS:{value:Vs,enumerable:!0,writable:!0},getVersion:{value:jC,enumerable:!0,writable:!0},getLanguage:{value:eK,enumerable:!0,writable:!0},getAppLanguage:{value:tK,enumerable:!0,writable:!0},isInClient:{value:yr,enumerable:!0,writable:!0},isLoggedIn:{value:xs,enumerable:!0,writable:!0},logout:{value:tR,enumerable:!0,writable:!0},getAccessToken:{value:ou,enumerable:!0,writable:!0},getIDToken:{value:BC,enumerable:!0,writable:!0},getDecodedIDToken:{value:$C,enumerable:!0,writable:!0},getContext:{value:Os,enumerable:!0,writable:!0},openWindow:{value:KC,enumerable:!0,writable:!0},closeWindow:{value:N0,enumerable:!0,writable:!0},getFriendship:{value:P0(oK,"profile"),enumerable:!0,writable:!0},getAId:{value:lF,enumerable:!0,writable:!0},getProfilePlus:{value:dF,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:uF,enumerable:!0,writable:!0},getLineVersion:{value:sl,enumerable:!0,writable:!0},isApiAvailable:{value:R1,enumerable:!0,writable:!0},getProfile:{value:P0(cR,"profile"),enumerable:!0,writable:!0},sendMessages:{value:P0(sK,"chat_message.write"),enumerable:!0,writable:!0},subWindow:{value:Yo,enumerable:!0,writable:!0},ready:{value:$Z,enumerable:!0,writable:!0},id:{get:function(){return yi().liffId||null},enumerable:!0},_dispatchEvent:{value:UQ,enumerable:!0,writable:!0},_call:{value:pg,enumerable:!0,writable:!0},_addListener:{value:nR,enumerable:!0,writable:!0},_removeListener:{value:rR,enumerable:!0,writable:!0},_postMessage:{value:OF,enumerable:!0,writable:!0}}),uR=new BZ,gK=new UZ(uR,lR),ote=new Zj(uR,gK).install();function ate(e){ote.call(lR,e)}[new Zj(uR,gK),new ZQ,new wee,new Nee,Fee,Uee,wF,xee,Xee,tee,new xQ,new ete,new tte,new ite].forEach(ate);var qr=lR,YS={exports:{}},Mm={},ZS={exports:{}},QS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RI;function cte(){return RI||(RI=1,function(e){function t(I,$){var W=I.length;I.push($);e:for(;0<W;){var X=W-1>>>1,j=I[X];if(0<i(j,$))I[X]=$,I[W]=j,W=X;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var $=I[0],W=I.pop();if(W!==$){I[0]=W;e:for(var X=0,j=I.length,G=j>>>1;X<G;){var ae=2*(X+1)-1,ce=I[ae],oe=ae+1,Ce=I[oe];if(0>i(ce,W))oe<j&&0>i(Ce,ce)?(I[X]=Ce,I[oe]=W,X=oe):(I[X]=ce,I[ae]=W,X=ae);else if(oe<j&&0>i(Ce,W))I[X]=Ce,I[oe]=W,X=oe;else break e}}return $}function i(I,$){var W=I.sortIndex-$.sortIndex;return W!==0?W:I.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function O(I){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=I)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function R(I){if(v=!1,O(I),!y)if(n(c)!==null)y=!0,F();else{var $=n(u);$!==null&&P(R,$.startTime-I)}}var S=!1,E=-1,x=5,N=-1;function A(){return!(e.unstable_now()-N<x)}function D(){if(S){var I=e.unstable_now();N=I;var $=!0;try{e:{y=!1,v&&(v=!1,C(E),E=-1),m=!0;var W=p;try{t:{for(O(I),h=n(c);h!==null&&!(h.expirationTime>I&&A());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var j=X(h.expirationTime<=I);if(I=e.unstable_now(),typeof j=="function"){h.callback=j,O(I),$=!0;break t}h===n(c)&&r(c),O(I)}else r(c);h=n(c)}if(h!==null)$=!0;else{var G=n(u);G!==null&&P(R,G.startTime-I),$=!1}}break e}finally{h=null,p=W,m=!1}$=void 0}}finally{$?k():S=!1}}}var k;if(typeof _=="function")k=function(){_(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=D,k=function(){H.postMessage(null)}}else k=function(){w(D,0)};function F(){S||(S=!0,k())}function P(I,$){E=w(function(){I(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,F())},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var W=p;p=$;try{return I()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=p;p=I;try{return $()}finally{p=W}},e.unstable_scheduleCallback=function(I,$,W){var X=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,I){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=W+j,I={id:d++,callback:$,priorityLevel:I,startTime:W,expirationTime:j,sortIndex:-1},W>X?(I.sortIndex=W,t(u,I),n(c)===null&&I===n(u)&&(v?(C(E),E=-1):v=!0,P(R,W-X))):(I.sortIndex=j,t(c,I),y||m||(y=!0,F())),I},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(I){var $=p;return function(){var W=p;p=$;try{return I.apply(this,arguments)}finally{p=W}}}}(QS)),QS}var NI;function lte(){return NI||(NI=1,ZS.exports=cte()),ZS.exports}var eO={exports:{}},An={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PI;function ute(){if(PI)return An;PI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function w(j,G,ae){this.props=j,this.context=G,this.refs=v,this.updater=ae||m}w.prototype.isReactComponent={},w.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function C(){}C.prototype=w.prototype;function _(j,G,ae){this.props=j,this.context=G,this.refs=v,this.updater=ae||m}var O=_.prototype=new C;O.constructor=_,y(O,w.prototype),O.isPureReactComponent=!0;var R=Array.isArray,S={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function x(j,G,ae,ce,oe,Ce){return ae=Ce.ref,{$$typeof:e,type:j,key:G,ref:ae!==void 0?ae:null,props:Ce}}function N(j,G){return x(j.type,G,void 0,void 0,void 0,j.props)}function A(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function D(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return G[ae]})}var k=/\/+/g;function U(j,G){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):G.toString(36)}function H(){}function F(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(H,H):(j.status="pending",j.then(function(G){j.status==="pending"&&(j.status="fulfilled",j.value=G)},function(G){j.status==="pending"&&(j.status="rejected",j.reason=G)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function P(j,G,ae,ce,oe){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var Ae=!1;if(j===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(j.$$typeof){case e:case t:Ae=!0;break;case d:return Ae=j._init,P(Ae(j._payload),G,ae,ce,oe)}}if(Ae)return oe=oe(j),Ae=ce===""?"."+U(j,0):ce,R(oe)?(ae="",Ae!=null&&(ae=Ae.replace(k,"$&/")+"/"),P(oe,G,ae,"",function(ee){return ee})):oe!=null&&(A(oe)&&(oe=N(oe,ae+(oe.key==null||j&&j.key===oe.key?"":(""+oe.key).replace(k,"$&/")+"/")+Ae)),G.push(oe)),1;Ae=0;var ue=ce===""?".":ce+":";if(R(j))for(var Y=0;Y<j.length;Y++)ce=j[Y],Ce=ue+U(ce,Y),Ae+=P(ce,G,ae,Ce,oe);else if(Y=p(j),typeof Y=="function")for(j=Y.call(j),Y=0;!(ce=j.next()).done;)ce=ce.value,Ce=ue+U(ce,Y++),Ae+=P(ce,G,ae,Ce,oe);else if(Ce==="object"){if(typeof j.then=="function")return P(F(j),G,ae,ce,oe);throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function I(j,G,ae){if(j==null)return j;var ce=[],oe=0;return P(j,ce,"","",function(Ce){return G.call(ae,Ce,oe++)}),ce}function $(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var W=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function X(){}return An.Children={map:I,forEach:function(j,G,ae){I(j,function(){G.apply(this,arguments)},ae)},count:function(j){var G=0;return I(j,function(){G++}),G},toArray:function(j){return I(j,function(G){return G})||[]},only:function(j){if(!A(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},An.Component=w,An.Fragment=n,An.Profiler=i,An.PureComponent=_,An.StrictMode=r,An.Suspense=c,An.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,An.act=function(){throw Error("act(...) is not supported in production builds of React.")},An.cache=function(j){return function(){return j.apply(null,arguments)}},An.cloneElement=function(j,G,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ce=y({},j.props),oe=j.key,Ce=void 0;if(G!=null)for(Ae in G.ref!==void 0&&(Ce=void 0),G.key!==void 0&&(oe=""+G.key),G)!E.call(G,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&G.ref===void 0||(ce[Ae]=G[Ae]);var Ae=arguments.length-2;if(Ae===1)ce.children=ae;else if(1<Ae){for(var ue=Array(Ae),Y=0;Y<Ae;Y++)ue[Y]=arguments[Y+2];ce.children=ue}return x(j.type,oe,void 0,void 0,Ce,ce)},An.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},An.createElement=function(j,G,ae){var ce,oe={},Ce=null;if(G!=null)for(ce in G.key!==void 0&&(Ce=""+G.key),G)E.call(G,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(oe[ce]=G[ce]);var Ae=arguments.length-2;if(Ae===1)oe.children=ae;else if(1<Ae){for(var ue=Array(Ae),Y=0;Y<Ae;Y++)ue[Y]=arguments[Y+2];oe.children=ue}if(j&&j.defaultProps)for(ce in Ae=j.defaultProps,Ae)oe[ce]===void 0&&(oe[ce]=Ae[ce]);return x(j,Ce,void 0,void 0,null,oe)},An.createRef=function(){return{current:null}},An.forwardRef=function(j){return{$$typeof:a,render:j}},An.isValidElement=A,An.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:$}},An.memo=function(j,G){return{$$typeof:u,type:j,compare:G===void 0?null:G}},An.startTransition=function(j){var G=S.T,ae={};S.T=ae;try{var ce=j(),oe=S.S;oe!==null&&oe(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(X,W)}catch(Ce){W(Ce)}finally{S.T=G}},An.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},An.use=function(j){return S.H.use(j)},An.useActionState=function(j,G,ae){return S.H.useActionState(j,G,ae)},An.useCallback=function(j,G){return S.H.useCallback(j,G)},An.useContext=function(j){return S.H.useContext(j)},An.useDebugValue=function(){},An.useDeferredValue=function(j,G){return S.H.useDeferredValue(j,G)},An.useEffect=function(j,G){return S.H.useEffect(j,G)},An.useId=function(){return S.H.useId()},An.useImperativeHandle=function(j,G,ae){return S.H.useImperativeHandle(j,G,ae)},An.useInsertionEffect=function(j,G){return S.H.useInsertionEffect(j,G)},An.useLayoutEffect=function(j,G){return S.H.useLayoutEffect(j,G)},An.useMemo=function(j,G){return S.H.useMemo(j,G)},An.useOptimistic=function(j,G){return S.H.useOptimistic(j,G)},An.useReducer=function(j,G,ae){return S.H.useReducer(j,G,ae)},An.useRef=function(j){return S.H.useRef(j)},An.useState=function(j){return S.H.useState(j)},An.useSyncExternalStore=function(j,G,ae){return S.H.useSyncExternalStore(j,G,ae)},An.useTransition=function(){return S.H.useTransition()},An.version="19.0.0",An}var II;function dR(){return II||(II=1,eO.exports=ute()),eO.exports}var tO={exports:{}},Ls={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI;function dte(){if(DI)return Ls;DI=1;var e=dR();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:u,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ls.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ls.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(c,u,null,d)},Ls.flushSync=function(c){var u=o.T,d=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=u,r.p=d,r.d.f()}},Ls.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},Ls.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ls.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,h=a(d,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(c,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ls.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=a(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},Ls.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=a(d,u.crossOrigin);r.d.L(c,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ls.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=a(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},Ls.requestFormReset=function(c){r.d.r(c)},Ls.unstable_batchedUpdates=function(c,u){return c(u)},Ls.useFormState=function(c,u,d){return o.H.useFormState(c,u,d)},Ls.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ls.version="19.0.0",Ls}var kI;function fte(){if(kI)return tO.exports;kI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tO.exports=dte(),tO.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MI;function hte(){if(MI)return Mm;MI=1;var e=lte(),t=dR(),n=fte();function r(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function E(l){return l===null||typeof l!="object"?null:(l=S&&l[S]||l["@@iterator"],typeof l=="function"?l:null)}var x=Symbol.for("react.client.reference");function N(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===x?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case c:return"Fragment";case a:return"Portal";case d:return"Profiler";case u:return"StrictMode";case v:return"Suspense";case w:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case m:return(l.displayName||"Context")+".Provider";case p:return(l._context.displayName||"Context")+".Consumer";case y:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case C:return f=l.displayName||null,f!==null?f:N(l.type)||"Memo";case _:f=l._payload,l=l._init;try{return N(l(f))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,k,U;function H(l){if(k===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);k=f&&f[1]||"",U=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+l+U}var F=!1;function P(l,f){if(!l||F)return"";F=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Ke){var Me=Ke}Reflect.construct(l,[],et)}else{try{et.call()}catch(Ke){Me=Ke}l.call(et.prototype)}}else{try{throw Error()}catch(Ke){Me=Ke}(et=l())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Ke){if(Ke&&Me&&typeof Ke.stack=="string")return[Ke.stack,Me.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=b.DetermineComponentFrameRoot(),z=M[0],ie=M[1];if(z&&ie){var he=z.split(`
`),Se=ie.split(`
`);for(T=b=0;b<he.length&&!he[b].includes("DetermineComponentFrameRoot");)b++;for(;T<Se.length&&!Se[T].includes("DetermineComponentFrameRoot");)T++;if(b===he.length||T===Se.length)for(b=he.length-1,T=Se.length-1;1<=b&&0<=T&&he[b]!==Se[T];)T--;for(;1<=b&&0<=T;b--,T--)if(he[b]!==Se[T]){if(b!==1||T!==1)do if(b--,T--,0>T||he[b]!==Se[T]){var He=`
`+he[b].replace(" at new "," at ");return l.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",l.displayName)),He}while(1<=b&&0<=T);break}}}finally{F=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?H(g):""}function I(l){switch(l.tag){case 26:case 27:case 5:return H(l.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 15:return l=P(l.type,!1),l;case 11:return l=P(l.type.render,!1),l;case 1:return l=P(l.type,!0),l;default:return""}}function $(l){try{var f="";do f+=I(l),l=l.return;while(l);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function W(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function X(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function j(l){if(W(l)!==l)throw Error(r(188))}function G(l){var f=l.alternate;if(!f){if(f=W(l),f===null)throw Error(r(188));return f!==l?null:l}for(var g=l,b=f;;){var T=g.return;if(T===null)break;var M=T.alternate;if(M===null){if(b=T.return,b!==null){g=b;continue}break}if(T.child===M.child){for(M=T.child;M;){if(M===g)return j(T),l;if(M===b)return j(T),f;M=M.sibling}throw Error(r(188))}if(g.return!==b.return)g=T,b=M;else{for(var z=!1,ie=T.child;ie;){if(ie===g){z=!0,g=T,b=M;break}if(ie===b){z=!0,b=T,g=M;break}ie=ie.sibling}if(!z){for(ie=M.child;ie;){if(ie===g){z=!0,g=M,b=T;break}if(ie===b){z=!0,b=M,g=T;break}ie=ie.sibling}if(!z)throw Error(r(189))}}if(g.alternate!==b)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?l:f}function ae(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=ae(l),f!==null)return f;l=l.sibling}return null}var ce=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Ae=[],ue=-1;function Y(l){return{current:l}}function ee(l){0>ue||(l.current=Ae[ue],Ae[ue]=null,ue--)}function B(l,f){ue++,Ae[ue]=l.current,l.current=f}var te=Y(null),we=Y(null),Ne=Y(null),Fe=Y(null);function Ve(l,f){switch(B(Ne,f),B(we,l),B(te,null),l=f.nodeType,l){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?TP(f):0;break;default:if(l=l===8?f.parentNode:f,f=l.tagName,l=l.namespaceURI)l=TP(l),f=RP(l,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}ee(te),B(te,f)}function Et(){ee(te),ee(we),ee(Ne)}function Nt(l){l.memoizedState!==null&&B(Fe,l);var f=te.current,g=RP(f,l.type);f!==g&&(B(we,l),B(te,g))}function at(l){we.current===l&&(ee(te),ee(we)),Fe.current===l&&(ee(Fe),Am._currentValue=Ce)}var Kt=Object.prototype.hasOwnProperty,en=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,Gt=e.unstable_shouldYield,Wt=e.unstable_requestPaint,Ht=e.unstable_now,pn=e.unstable_getCurrentPriorityLevel,ct=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,zt=e.unstable_LowPriority,In=e.unstable_IdlePriority,gn=e.log,Ft=e.unstable_setDisableYieldValue,_t=null,un=null;function xr(l){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(_t,l,void 0,(l.current.flags&128)===128)}catch{}}function Qn(l){if(typeof gn=="function"&&Ft(l),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(_t,l)}catch{}}var Bn=Math.clz32?Math.clz32:Jr,ei=Math.log,wi=Math.LN2;function Jr(l){return l>>>=0,l===0?32:31-(ei(l)/wi|0)|0}var Xi=128,ks=4194304;function Jn(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Rn(l,f){var g=l.pendingLanes;if(g===0)return 0;var b=0,T=l.suspendedLanes,M=l.pingedLanes,z=l.warmLanes;l=l.finishedLanes!==0;var ie=g&134217727;return ie!==0?(g=ie&~T,g!==0?b=Jn(g):(M&=ie,M!==0?b=Jn(M):l||(z=ie&~z,z!==0&&(b=Jn(z))))):(ie=g&~T,ie!==0?b=Jn(ie):M!==0?b=Jn(M):l||(z=g&~z,z!==0&&(b=Jn(z)))),b===0?0:f!==0&&f!==b&&(f&T)===0&&(T=b&-b,z=f&-f,T>=z||T===32&&(z&4194176)!==0)?f:b}function Dn(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function rr(l,f){switch(l){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(){var l=Xi;return Xi<<=1,(Xi&4194176)===0&&(Xi=128),l}function me(){var l=ks;return ks<<=1,(ks&62914560)===0&&(ks=4194304),l}function Ee(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function Te(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function je(l,f,g,b,T,M){var z=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ie=l.entanglements,he=l.expirationTimes,Se=l.hiddenUpdates;for(g=z&~g;0<g;){var He=31-Bn(g),et=1<<He;ie[He]=0,he[He]=-1;var Me=Se[He];if(Me!==null)for(Se[He]=null,He=0;He<Me.length;He++){var Ke=Me[He];Ke!==null&&(Ke.lane&=-536870913)}g&=~et}b!==0&&Ge(l,b,0),M!==0&&T===0&&l.tag!==0&&(l.suspendedLanes|=M&~(z&~f))}function Ge(l,f,g){l.pendingLanes|=f,l.suspendedLanes&=~f;var b=31-Bn(f);l.entangledLanes|=f,l.entanglements[b]=l.entanglements[b]|1073741824|g&4194218}function K(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var b=31-Bn(g),T=1<<b;T&f|l[b]&f&&(l[b]|=f),g&=~T}}function J(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function V(){var l=oe.p;return l!==0?l:(l=window.event,l===void 0?32:VP(l.type))}function L(l,f){var g=oe.p;try{return oe.p=l,f()}finally{oe.p=g}}var Z=Math.random().toString(36).slice(2),fe="__reactFiber$"+Z,ye="__reactProps$"+Z,Ie="__reactContainer$"+Z,We="__reactEvents$"+Z,ut="__reactListeners$"+Z,rt="__reactHandles$"+Z,sn="__reactResources$"+Z,Ze="__reactMarker$"+Z;function qt(l){delete l[fe],delete l[ye],delete l[We],delete l[ut],delete l[rt]}function Ut(l){var f=l[fe];if(f)return f;for(var g=l.parentNode;g;){if(f=g[Ie]||g[fe]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=IP(l);l!==null;){if(g=l[fe])return g;l=IP(l)}return f}l=g,g=l.parentNode}return null}function Xt(l){if(l=l[fe]||l[Ie]){var f=l.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return l}return null}function Bt(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(r(33))}function jt(l){var f=l[sn];return f||(f=l[sn]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Ct(l){l[Ze]=!0}var Jt=new Set,dt={};function At(l,f){Ye(l,f),Ye(l+"Capture",f)}function Ye(l,f){for(dt[l]=f,l=0;l<f.length;l++)Jt.add(f[l])}var st=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ft={},ke={};function Re(l){return Kt.call(ke,l)?!0:Kt.call(ft,l)?!1:xt.test(l)?ke[l]=!0:(ft[l]=!0,!1)}function qe(l,f,g){if(Re(f))if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+g)}}function q(l,f,g){if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+g)}}function ne(l,f,g,b){if(b===null)l.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(f,g,""+b)}}function Q(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function pe(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ve(l){var f=pe(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,f),b=""+l[f];if(!l.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,M=g.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return T.call(this)},set:function(z){b=""+z,M.call(this,z)}}),Object.defineProperty(l,f,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(z){b=""+z},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function ge(l){l._valueTracker||(l._valueTracker=ve(l))}function Pe(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),b="";return l&&(b=pe(l)?l.checked?"true":"false":l.value),l=b,l!==g?(f.setValue(l),!0):!1}function re(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var $e=/[\n"\\]/g;function Ue(l){return l.replace($e,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ze(l,f,g,b,T,M,z,ie){l.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.type=z:l.removeAttribute("type"),f!=null?z==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+Q(f)):l.value!==""+Q(f)&&(l.value=""+Q(f)):z!=="submit"&&z!=="reset"||l.removeAttribute("value"),f!=null?wt(l,z,Q(f)):g!=null?wt(l,z,Q(g)):b!=null&&l.removeAttribute("value"),T==null&&M!=null&&(l.defaultChecked=!!M),T!=null&&(l.checked=T&&typeof T!="function"&&typeof T!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?l.name=""+Q(ie):l.removeAttribute("name")}function Qe(l,f,g,b,T,M,z,ie){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(l.type=M),f!=null||g!=null){if(!(M!=="submit"&&M!=="reset"||f!=null))return;g=g!=null?""+Q(g):"",f=f!=null?""+Q(f):g,ie||f===l.value||(l.value=f),l.defaultValue=f}b=b??T,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=ie?l.checked:!!b,l.defaultChecked=!!b,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(l.name=z)}function wt(l,f,g){f==="number"&&re(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function Tt(l,f,g,b){if(l=l.options,f){f={};for(var T=0;T<g.length;T++)f["$"+g[T]]=!0;for(g=0;g<l.length;g++)T=f.hasOwnProperty("$"+l[g].value),l[g].selected!==T&&(l[g].selected=T),T&&b&&(l[g].defaultSelected=!0)}else{for(g=""+Q(g),f=null,T=0;T<l.length;T++){if(l[T].value===g){l[T].selected=!0,b&&(l[T].defaultSelected=!0);return}f!==null||l[T].disabled||(f=l[T])}f!==null&&(f.selected=!0)}}function tn(l,f,g){if(f!=null&&(f=""+Q(f),f!==l.value&&(l.value=f),g==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=g!=null?""+Q(g):""}function nn(l,f,g,b){if(f==null){if(b!=null){if(g!=null)throw Error(r(92));if(ce(b)){if(1<b.length)throw Error(r(93));b=b[0]}g=b}g==null&&(g=""),f=g}g=Q(f),l.defaultValue=g,b=l.textContent,b===g&&b!==""&&b!==null&&(l.value=b)}function dn(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var $n=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pr(l,f,g){var b=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":b?l.setProperty(f,g):typeof g!="number"||g===0||$n.has(f)?f==="float"?l.cssFloat=g:l[f]=(""+g).trim():l[f]=g+"px"}function Fr(l,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(l=l.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var T in f)b=f[T],f.hasOwnProperty(T)&&g[T]!==b&&pr(l,T,b)}else for(var M in f)f.hasOwnProperty(M)&&pr(l,M,f[M])}function ci(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var li=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ip(l){return ji.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var jg=null;function sp(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var op=null,ap=null;function B6(l){var f=Xt(l);if(f&&(l=f.stateNode)){var g=l[ye]||null;e:switch(l=f.stateNode,f.type){case"input":if(ze(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ue(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var b=g[f];if(b!==l&&b.form===l.form){var T=b[ye]||null;if(!T)throw Error(r(90));ze(b,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<g.length;f++)b=g[f],b.form===l.form&&Pe(b)}break e;case"textarea":tn(l,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&Tt(l,!!g.multiple,f,!1)}}}var H2=!1;function $6(l,f,g){if(H2)return l(f,g);H2=!0;try{var b=l(f);return b}finally{if(H2=!1,(op!==null||ap!==null)&&(Zw(),op&&(f=op,l=ap,ap=op=null,B6(f),l)))for(f=0;f<l.length;f++)B6(l[f])}}function Fg(l,f){var g=l.stateNode;if(g===null)return null;var b=g[ye]||null;if(b===null)return null;g=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var z2=!1;if(st)try{var Kg={};Object.defineProperty(Kg,"passive",{get:function(){z2=!0}}),window.addEventListener("test",Kg,Kg),window.removeEventListener("test",Kg,Kg)}catch{z2=!1}var fu=null,q2=null,mw=null;function j6(){if(mw)return mw;var l,f=q2,g=f.length,b,T="value"in fu?fu.value:fu.textContent,M=T.length;for(l=0;l<g&&f[l]===T[l];l++);var z=g-l;for(b=1;b<=z&&f[g-b]===T[M-b];b++);return mw=T.slice(l,1<b?1-b:void 0)}function yw(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function vw(){return!0}function F6(){return!1}function ho(l){function f(g,b,T,M,z){this._reactName=g,this._targetInst=T,this.type=b,this.nativeEvent=M,this.target=z,this.currentTarget=null;for(var ie in l)l.hasOwnProperty(ie)&&(g=l[ie],this[ie]=g?g(M):M[ie]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?vw:F6,this.isPropagationStopped=F6,this}return D(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=vw)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=vw)},persist:function(){},isPersistent:vw}),f}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ww=ho(Od),Wg=D({},Od,{view:0,detail:0}),bJ=ho(Wg),V2,X2,Hg,bw=D({},Wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J2,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Hg&&(Hg&&l.type==="mousemove"?(V2=l.screenX-Hg.screenX,X2=l.screenY-Hg.screenY):X2=V2=0,Hg=l),V2)},movementY:function(l){return"movementY"in l?l.movementY:X2}}),K6=ho(bw),EJ=D({},bw,{dataTransfer:0}),_J=ho(EJ),CJ=D({},Wg,{relatedTarget:0}),G2=ho(CJ),xJ=D({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),SJ=ho(xJ),OJ=D({},Od,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),AJ=ho(OJ),TJ=D({},Od,{data:0}),W6=ho(TJ),RJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IJ(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=PJ[l])?!!f[l]:!1}function J2(){return IJ}var DJ=D({},Wg,{key:function(l){if(l.key){var f=RJ[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=yw(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?NJ[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J2,charCode:function(l){return l.type==="keypress"?yw(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?yw(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),kJ=ho(DJ),MJ=D({},bw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H6=ho(MJ),LJ=D({},Wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J2}),UJ=ho(LJ),BJ=D({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),$J=ho(BJ),jJ=D({},bw,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),FJ=ho(jJ),KJ=D({},Od,{newState:0,oldState:0}),WJ=ho(KJ),HJ=[9,13,27,32],Y2=st&&"CompositionEvent"in window,zg=null;st&&"documentMode"in document&&(zg=document.documentMode);var zJ=st&&"TextEvent"in window&&!zg,z6=st&&(!Y2||zg&&8<zg&&11>=zg),q6=" ",V6=!1;function X6(l,f){switch(l){case"keyup":return HJ.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G6(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var cp=!1;function qJ(l,f){switch(l){case"compositionend":return G6(f);case"keypress":return f.which!==32?null:(V6=!0,q6);case"textInput":return l=f.data,l===q6&&V6?null:l;default:return null}}function VJ(l,f){if(cp)return l==="compositionend"||!Y2&&X6(l,f)?(l=j6(),mw=q2=fu=null,cp=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return z6&&f.locale!=="ko"?null:f.data;default:return null}}var XJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J6(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!XJ[l.type]:f==="textarea"}function Y6(l,f,g,b){op?ap?ap.push(b):ap=[b]:op=b,f=rb(f,"onChange"),0<f.length&&(g=new ww("onChange","change",null,g,b),l.push({event:g,listeners:f}))}var qg=null,Vg=null;function GJ(l){CP(l,0)}function Ew(l){var f=Bt(l);if(Pe(f))return l}function Z6(l,f){if(l==="change")return f}var Q6=!1;if(st){var Z2;if(st){var Q2="oninput"in document;if(!Q2){var eN=document.createElement("div");eN.setAttribute("oninput","return;"),Q2=typeof eN.oninput=="function"}Z2=Q2}else Z2=!1;Q6=Z2&&(!document.documentMode||9<document.documentMode)}function tN(){qg&&(qg.detachEvent("onpropertychange",nN),Vg=qg=null)}function nN(l){if(l.propertyName==="value"&&Ew(Vg)){var f=[];Y6(f,Vg,l,sp(l)),$6(GJ,f)}}function JJ(l,f,g){l==="focusin"?(tN(),qg=f,Vg=g,qg.attachEvent("onpropertychange",nN)):l==="focusout"&&tN()}function YJ(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ew(Vg)}function ZJ(l,f){if(l==="click")return Ew(f)}function QJ(l,f){if(l==="input"||l==="change")return Ew(f)}function eY(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Mo=typeof Object.is=="function"?Object.is:eY;function Xg(l,f){if(Mo(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var T=g[b];if(!Kt.call(f,T)||!Mo(l[T],f[T]))return!1}return!0}function rN(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function iN(l,f){var g=rN(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=f&&b>=f)return{node:g,offset:f-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=rN(g)}}function sN(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?sN(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function oN(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=re(l.document);f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=re(l.document)}return f}function ex(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}function tY(l,f){var g=oN(f);f=l.focusedElem;var b=l.selectionRange;if(g!==f&&f&&f.ownerDocument&&sN(f.ownerDocument.documentElement,f)){if(b!==null&&ex(f)){if(l=b.start,g=b.end,g===void 0&&(g=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(g,f.value.length);else if(g=(l=f.ownerDocument||document)&&l.defaultView||window,g.getSelection){g=g.getSelection();var T=f.textContent.length,M=Math.min(b.start,T);b=b.end===void 0?M:Math.min(b.end,T),!g.extend&&M>b&&(T=b,b=M,M=T),T=iN(f,M);var z=iN(f,b);T&&z&&(g.rangeCount!==1||g.anchorNode!==T.node||g.anchorOffset!==T.offset||g.focusNode!==z.node||g.focusOffset!==z.offset)&&(l=l.createRange(),l.setStart(T.node,T.offset),g.removeAllRanges(),M>b?(g.addRange(l),g.extend(z.node,z.offset)):(l.setEnd(z.node,z.offset),g.addRange(l)))}}for(l=[],g=f;g=g.parentNode;)g.nodeType===1&&l.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)g=l[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var nY=st&&"documentMode"in document&&11>=document.documentMode,lp=null,tx=null,Gg=null,nx=!1;function aN(l,f,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;nx||lp==null||lp!==re(b)||(b=lp,"selectionStart"in b&&ex(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Gg&&Xg(Gg,b)||(Gg=b,b=rb(tx,"onSelect"),0<b.length&&(f=new ww("onSelect","select",null,f,g),l.push({event:f,listeners:b}),f.target=lp)))}function Ad(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var up={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionrun:Ad("Transition","TransitionRun"),transitionstart:Ad("Transition","TransitionStart"),transitioncancel:Ad("Transition","TransitionCancel"),transitionend:Ad("Transition","TransitionEnd")},rx={},cN={};st&&(cN=document.createElement("div").style,"AnimationEvent"in window||(delete up.animationend.animation,delete up.animationiteration.animation,delete up.animationstart.animation),"TransitionEvent"in window||delete up.transitionend.transition);function Td(l){if(rx[l])return rx[l];if(!up[l])return l;var f=up[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in cN)return rx[l]=f[g];return l}var lN=Td("animationend"),uN=Td("animationiteration"),dN=Td("animationstart"),rY=Td("transitionrun"),iY=Td("transitionstart"),sY=Td("transitioncancel"),fN=Td("transitionend"),hN=new Map,pN="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ja(l,f){hN.set(l,f),At(f,[l])}var ha=[],dp=0,ix=0;function _w(){for(var l=dp,f=ix=dp=0;f<l;){var g=ha[f];ha[f++]=null;var b=ha[f];ha[f++]=null;var T=ha[f];ha[f++]=null;var M=ha[f];if(ha[f++]=null,b!==null&&T!==null){var z=b.pending;z===null?T.next=T:(T.next=z.next,z.next=T),b.pending=T}M!==0&&gN(g,T,M)}}function Cw(l,f,g,b){ha[dp++]=l,ha[dp++]=f,ha[dp++]=g,ha[dp++]=b,ix|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function sx(l,f,g,b){return Cw(l,f,g,b),xw(l)}function hu(l,f){return Cw(l,null,null,f),xw(l)}function gN(l,f,g){l.lanes|=g;var b=l.alternate;b!==null&&(b.lanes|=g);for(var T=!1,M=l.return;M!==null;)M.childLanes|=g,b=M.alternate,b!==null&&(b.childLanes|=g),M.tag===22&&(l=M.stateNode,l===null||l._visibility&1||(T=!0)),l=M,M=M.return;T&&f!==null&&l.tag===3&&(M=l.stateNode,T=31-Bn(g),M=M.hiddenUpdates,l=M[T],l===null?M[T]=[f]:l.push(f),f.lane=g|536870912)}function xw(l){if(50<bm)throw bm=0,dS=null,Error(r(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var fp={},mN=new WeakMap;function pa(l,f){if(typeof l=="object"&&l!==null){var g=mN.get(l);return g!==void 0?g:(f={value:l,source:f,stack:$(f)},mN.set(l,f),f)}return{value:l,source:f,stack:$(f)}}var hp=[],pp=0,Sw=null,Ow=0,ga=[],ma=0,Rd=null,al=1,cl="";function Nd(l,f){hp[pp++]=Ow,hp[pp++]=Sw,Sw=l,Ow=f}function yN(l,f,g){ga[ma++]=al,ga[ma++]=cl,ga[ma++]=Rd,Rd=l;var b=al;l=cl;var T=32-Bn(b)-1;b&=~(1<<T),g+=1;var M=32-Bn(f)+T;if(30<M){var z=T-T%5;M=(b&(1<<z)-1).toString(32),b>>=z,T-=z,al=1<<32-Bn(f)+T|g<<T|b,cl=M+l}else al=1<<M|g<<T|b,cl=l}function ox(l){l.return!==null&&(Nd(l,1),yN(l,1,0))}function ax(l){for(;l===Sw;)Sw=hp[--pp],hp[pp]=null,Ow=hp[--pp],hp[pp]=null;for(;l===Rd;)Rd=ga[--ma],ga[ma]=null,cl=ga[--ma],ga[ma]=null,al=ga[--ma],ga[ma]=null}var eo=null,ls=null,ir=!1,Ya=null,Oc=!1,cx=Error(r(519));function Pd(l){var f=Error(r(418,""));throw Zg(pa(f,l)),cx}function vN(l){var f=l.stateNode,g=l.type,b=l.memoizedProps;switch(f[fe]=l,f[ye]=b,g){case"dialog":zn("cancel",f),zn("close",f);break;case"iframe":case"object":case"embed":zn("load",f);break;case"video":case"audio":for(g=0;g<_m.length;g++)zn(_m[g],f);break;case"source":zn("error",f);break;case"img":case"image":case"link":zn("error",f),zn("load",f);break;case"details":zn("toggle",f);break;case"input":zn("invalid",f),Qe(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),ge(f);break;case"select":zn("invalid",f);break;case"textarea":zn("invalid",f),nn(f,b.value,b.defaultValue,b.children),ge(f)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||b.suppressHydrationWarning===!0||AP(f.textContent,g)?(b.popover!=null&&(zn("beforetoggle",f),zn("toggle",f)),b.onScroll!=null&&zn("scroll",f),b.onScrollEnd!=null&&zn("scrollend",f),b.onClick!=null&&(f.onclick=ib),f=!0):f=!1,f||Pd(l)}function wN(l){for(eo=l.return;eo;)switch(eo.tag){case 3:case 27:Oc=!0;return;case 5:case 13:Oc=!1;return;default:eo=eo.return}}function Jg(l){if(l!==eo)return!1;if(!ir)return wN(l),ir=!0,!1;var f=!1,g;if((g=l.tag!==3&&l.tag!==27)&&((g=l.tag===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||TS(l.type,l.memoizedProps)),g=!g),g&&(f=!0),f&&ls&&Pd(l),wN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,f=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(f===0){ls=Qa(l.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;l=l.nextSibling}ls=null}}else ls=eo?Qa(l.stateNode.nextSibling):null;return!0}function Yg(){ls=eo=null,ir=!1}function Zg(l){Ya===null?Ya=[l]:Ya.push(l)}var Qg=Error(r(460)),bN=Error(r(474)),lx={then:function(){}};function EN(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Aw(){}function _N(l,f,g){switch(g=l[g],g===void 0?l.push(f):g!==f&&(f.then(Aw,Aw),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,l===Qg?Error(r(483)):l;default:if(typeof f.status=="string")f.then(Aw,Aw);else{if(l=Kr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=f,l.status="pending",l.then(function(b){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=b}},function(b){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,l===Qg?Error(r(483)):l}throw em=f,Qg}}var em=null;function CN(){if(em===null)throw Error(r(459));var l=em;return em=null,l}var gp=null,tm=0;function Tw(l){var f=tm;return tm+=1,gp===null&&(gp=[]),_N(gp,l,f)}function nm(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Rw(l,f){throw f.$$typeof===s?Error(r(525)):(l=Object.prototype.toString.call(f),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function xN(l){var f=l._init;return f(l._payload)}function SN(l){function f(Oe,_e){if(l){var De=Oe.deletions;De===null?(Oe.deletions=[_e],Oe.flags|=16):De.push(_e)}}function g(Oe,_e){if(!l)return null;for(;_e!==null;)f(Oe,_e),_e=_e.sibling;return null}function b(Oe){for(var _e=new Map;Oe!==null;)Oe.key!==null?_e.set(Oe.key,Oe):_e.set(Oe.index,Oe),Oe=Oe.sibling;return _e}function T(Oe,_e){return Oe=Su(Oe,_e),Oe.index=0,Oe.sibling=null,Oe}function M(Oe,_e,De){return Oe.index=De,l?(De=Oe.alternate,De!==null?(De=De.index,De<_e?(Oe.flags|=33554434,_e):De):(Oe.flags|=33554434,_e)):(Oe.flags|=1048576,_e)}function z(Oe){return l&&Oe.alternate===null&&(Oe.flags|=33554434),Oe}function ie(Oe,_e,De,Je){return _e===null||_e.tag!==6?(_e=rS(De,Oe.mode,Je),_e.return=Oe,_e):(_e=T(_e,De),_e.return=Oe,_e)}function he(Oe,_e,De,Je){var $t=De.type;return $t===c?He(Oe,_e,De.props.children,Je,De.key):_e!==null&&(_e.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===_&&xN($t)===_e.type)?(_e=T(_e,De.props),nm(_e,De),_e.return=Oe,_e):(_e=Vw(De.type,De.key,De.props,null,Oe.mode,Je),nm(_e,De),_e.return=Oe,_e)}function Se(Oe,_e,De,Je){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==De.containerInfo||_e.stateNode.implementation!==De.implementation?(_e=iS(De,Oe.mode,Je),_e.return=Oe,_e):(_e=T(_e,De.children||[]),_e.return=Oe,_e)}function He(Oe,_e,De,Je,$t){return _e===null||_e.tag!==7?(_e=Fd(De,Oe.mode,Je,$t),_e.return=Oe,_e):(_e=T(_e,De),_e.return=Oe,_e)}function et(Oe,_e,De){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=rS(""+_e,Oe.mode,De),_e.return=Oe,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case o:return De=Vw(_e.type,_e.key,_e.props,null,Oe.mode,De),nm(De,_e),De.return=Oe,De;case a:return _e=iS(_e,Oe.mode,De),_e.return=Oe,_e;case _:var Je=_e._init;return _e=Je(_e._payload),et(Oe,_e,De)}if(ce(_e)||E(_e))return _e=Fd(_e,Oe.mode,De,null),_e.return=Oe,_e;if(typeof _e.then=="function")return et(Oe,Tw(_e),De);if(_e.$$typeof===m)return et(Oe,Hw(Oe,_e),De);Rw(Oe,_e)}return null}function Me(Oe,_e,De,Je){var $t=_e!==null?_e.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return $t!==null?null:ie(Oe,_e,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case o:return De.key===$t?he(Oe,_e,De,Je):null;case a:return De.key===$t?Se(Oe,_e,De,Je):null;case _:return $t=De._init,De=$t(De._payload),Me(Oe,_e,De,Je)}if(ce(De)||E(De))return $t!==null?null:He(Oe,_e,De,Je,null);if(typeof De.then=="function")return Me(Oe,_e,Tw(De),Je);if(De.$$typeof===m)return Me(Oe,_e,Hw(Oe,De),Je);Rw(Oe,De)}return null}function Ke(Oe,_e,De,Je,$t){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Oe=Oe.get(De)||null,ie(_e,Oe,""+Je,$t);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case o:return Oe=Oe.get(Je.key===null?De:Je.key)||null,he(_e,Oe,Je,$t);case a:return Oe=Oe.get(Je.key===null?De:Je.key)||null,Se(_e,Oe,Je,$t);case _:var Ln=Je._init;return Je=Ln(Je._payload),Ke(Oe,_e,De,Je,$t)}if(ce(Je)||E(Je))return Oe=Oe.get(De)||null,He(_e,Oe,Je,$t,null);if(typeof Je.then=="function")return Ke(Oe,_e,De,Tw(Je),$t);if(Je.$$typeof===m)return Ke(Oe,_e,De,Hw(_e,Je),$t);Rw(_e,Je)}return null}function Vt(Oe,_e,De,Je){for(var $t=null,Ln=null,Yt=_e,fn=_e=0,Yi=null;Yt!==null&&fn<De.length;fn++){Yt.index>fn?(Yi=Yt,Yt=null):Yi=Yt.sibling;var sr=Me(Oe,Yt,De[fn],Je);if(sr===null){Yt===null&&(Yt=Yi);break}l&&Yt&&sr.alternate===null&&f(Oe,Yt),_e=M(sr,_e,fn),Ln===null?$t=sr:Ln.sibling=sr,Ln=sr,Yt=Yi}if(fn===De.length)return g(Oe,Yt),ir&&Nd(Oe,fn),$t;if(Yt===null){for(;fn<De.length;fn++)Yt=et(Oe,De[fn],Je),Yt!==null&&(_e=M(Yt,_e,fn),Ln===null?$t=Yt:Ln.sibling=Yt,Ln=Yt);return ir&&Nd(Oe,fn),$t}for(Yt=b(Yt);fn<De.length;fn++)Yi=Ke(Yt,Oe,fn,De[fn],Je),Yi!==null&&(l&&Yi.alternate!==null&&Yt.delete(Yi.key===null?fn:Yi.key),_e=M(Yi,_e,fn),Ln===null?$t=Yi:Ln.sibling=Yi,Ln=Yi);return l&&Yt.forEach(function(Iu){return f(Oe,Iu)}),ir&&Nd(Oe,fn),$t}function En(Oe,_e,De,Je){if(De==null)throw Error(r(151));for(var $t=null,Ln=null,Yt=_e,fn=_e=0,Yi=null,sr=De.next();Yt!==null&&!sr.done;fn++,sr=De.next()){Yt.index>fn?(Yi=Yt,Yt=null):Yi=Yt.sibling;var Iu=Me(Oe,Yt,sr.value,Je);if(Iu===null){Yt===null&&(Yt=Yi);break}l&&Yt&&Iu.alternate===null&&f(Oe,Yt),_e=M(Iu,_e,fn),Ln===null?$t=Iu:Ln.sibling=Iu,Ln=Iu,Yt=Yi}if(sr.done)return g(Oe,Yt),ir&&Nd(Oe,fn),$t;if(Yt===null){for(;!sr.done;fn++,sr=De.next())sr=et(Oe,sr.value,Je),sr!==null&&(_e=M(sr,_e,fn),Ln===null?$t=sr:Ln.sibling=sr,Ln=sr);return ir&&Nd(Oe,fn),$t}for(Yt=b(Yt);!sr.done;fn++,sr=De.next())sr=Ke(Yt,Oe,fn,sr.value,Je),sr!==null&&(l&&sr.alternate!==null&&Yt.delete(sr.key===null?fn:sr.key),_e=M(sr,_e,fn),Ln===null?$t=sr:Ln.sibling=sr,Ln=sr);return l&&Yt.forEach(function(wZ){return f(Oe,wZ)}),ir&&Nd(Oe,fn),$t}function fi(Oe,_e,De,Je){if(typeof De=="object"&&De!==null&&De.type===c&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case o:e:{for(var $t=De.key;_e!==null;){if(_e.key===$t){if($t=De.type,$t===c){if(_e.tag===7){g(Oe,_e.sibling),Je=T(_e,De.props.children),Je.return=Oe,Oe=Je;break e}}else if(_e.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===_&&xN($t)===_e.type){g(Oe,_e.sibling),Je=T(_e,De.props),nm(Je,De),Je.return=Oe,Oe=Je;break e}g(Oe,_e);break}else f(Oe,_e);_e=_e.sibling}De.type===c?(Je=Fd(De.props.children,Oe.mode,Je,De.key),Je.return=Oe,Oe=Je):(Je=Vw(De.type,De.key,De.props,null,Oe.mode,Je),nm(Je,De),Je.return=Oe,Oe=Je)}return z(Oe);case a:e:{for($t=De.key;_e!==null;){if(_e.key===$t)if(_e.tag===4&&_e.stateNode.containerInfo===De.containerInfo&&_e.stateNode.implementation===De.implementation){g(Oe,_e.sibling),Je=T(_e,De.children||[]),Je.return=Oe,Oe=Je;break e}else{g(Oe,_e);break}else f(Oe,_e);_e=_e.sibling}Je=iS(De,Oe.mode,Je),Je.return=Oe,Oe=Je}return z(Oe);case _:return $t=De._init,De=$t(De._payload),fi(Oe,_e,De,Je)}if(ce(De))return Vt(Oe,_e,De,Je);if(E(De)){if($t=E(De),typeof $t!="function")throw Error(r(150));return De=$t.call(De),En(Oe,_e,De,Je)}if(typeof De.then=="function")return fi(Oe,_e,Tw(De),Je);if(De.$$typeof===m)return fi(Oe,_e,Hw(Oe,De),Je);Rw(Oe,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,_e!==null&&_e.tag===6?(g(Oe,_e.sibling),Je=T(_e,De),Je.return=Oe,Oe=Je):(g(Oe,_e),Je=rS(De,Oe.mode,Je),Je.return=Oe,Oe=Je),z(Oe)):g(Oe,_e)}return function(Oe,_e,De,Je){try{tm=0;var $t=fi(Oe,_e,De,Je);return gp=null,$t}catch(Yt){if(Yt===Qg)throw Yt;var Ln=ba(29,Yt,null,Oe.mode);return Ln.lanes=Je,Ln.return=Oe,Ln}finally{}}}var Id=SN(!0),ON=SN(!1),mp=Y(null),Nw=Y(0);function AN(l,f){l=wl,B(Nw,l),B(mp,f),wl=l|f.baseLanes}function ux(){B(Nw,wl),B(mp,mp.current)}function dx(){wl=Nw.current,ee(mp),ee(Nw)}var ya=Y(null),Ac=null;function pu(l){var f=l.alternate;B(Fi,Fi.current&1),B(ya,l),Ac===null&&(f===null||mp.current!==null||f.memoizedState!==null)&&(Ac=l)}function TN(l){if(l.tag===22){if(B(Fi,Fi.current),B(ya,l),Ac===null){var f=l.alternate;f!==null&&f.memoizedState!==null&&(Ac=l)}}else gu()}function gu(){B(Fi,Fi.current),B(ya,ya.current)}function ll(l){ee(ya),Ac===l&&(Ac=null),ee(Fi)}var Fi=Y(0);function Pw(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var oY=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(g,b){l.push(b)}};this.abort=function(){f.aborted=!0,l.forEach(function(g){return g()})}},aY=e.unstable_scheduleCallback,cY=e.unstable_NormalPriority,Ki={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fx(){return{controller:new oY,data:new Map,refCount:0}}function rm(l){l.refCount--,l.refCount===0&&aY(cY,function(){l.controller.abort()})}var im=null,hx=0,yp=0,vp=null;function lY(l,f){if(im===null){var g=im=[];hx=0,yp=wS(),vp={status:"pending",value:void 0,then:function(b){g.push(b)}}}return hx++,f.then(RN,RN),f}function RN(){if(--hx===0&&im!==null){vp!==null&&(vp.status="fulfilled");var l=im;im=null,yp=0,vp=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function uY(l,f){var g=[],b={status:"pending",value:null,reason:null,then:function(T){g.push(T)}};return l.then(function(){b.status="fulfilled",b.value=f;for(var T=0;T<g.length;T++)(0,g[T])(f)},function(T){for(b.status="rejected",b.reason=T,T=0;T<g.length;T++)(0,g[T])(void 0)}),b}var NN=A.S;A.S=function(l,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&lY(l,f),NN!==null&&NN(l,f)};var Dd=Y(null);function px(){var l=Dd.current;return l!==null?l:Kr.pooledCache}function Iw(l,f){f===null?B(Dd,Dd.current):B(Dd,f.pool)}function PN(){var l=px();return l===null?null:{parent:Ki._currentValue,pool:l}}var mu=0,kn=null,Tr=null,Ri=null,Dw=!1,wp=!1,kd=!1,kw=0,sm=0,bp=null,dY=0;function bi(){throw Error(r(321))}function gx(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!Mo(l[g],f[g]))return!1;return!0}function mx(l,f,g,b,T,M){return mu=M,kn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,A.H=l===null||l.memoizedState===null?Md:yu,kd=!1,M=g(b,T),kd=!1,wp&&(M=DN(f,g,b,T)),IN(l),M}function IN(l){A.H=Tc;var f=Tr!==null&&Tr.next!==null;if(mu=0,Ri=Tr=kn=null,Dw=!1,sm=0,bp=null,f)throw Error(r(300));l===null||Gi||(l=l.dependencies,l!==null&&Ww(l)&&(Gi=!0))}function DN(l,f,g,b){kn=l;var T=0;do{if(wp&&(bp=null),sm=0,wp=!1,25<=T)throw Error(r(301));if(T+=1,Ri=Tr=null,l.updateQueue!=null){var M=l.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}A.H=Ld,M=f(g,b)}while(wp);return M}function fY(){var l=A.H,f=l.useState()[0];return f=typeof f.then=="function"?om(f):f,l=l.useState()[0],(Tr!==null?Tr.memoizedState:null)!==l&&(kn.flags|=1024),f}function yx(){var l=kw!==0;return kw=0,l}function vx(l,f,g){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~g}function wx(l){if(Dw){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Dw=!1}mu=0,Ri=Tr=kn=null,wp=!1,sm=kw=0,bp=null}function po(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ri===null?kn.memoizedState=Ri=l:Ri=Ri.next=l,Ri}function Ni(){if(Tr===null){var l=kn.alternate;l=l!==null?l.memoizedState:null}else l=Tr.next;var f=Ri===null?kn.memoizedState:Ri.next;if(f!==null)Ri=f,Tr=l;else{if(l===null)throw kn.alternate===null?Error(r(467)):Error(r(310));Tr=l,l={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Ri===null?kn.memoizedState=Ri=l:Ri=Ri.next=l}return Ri}var Mw;Mw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function om(l){var f=sm;return sm+=1,bp===null&&(bp=[]),l=_N(bp,l,f),f=kn,(Ri===null?f.memoizedState:Ri.next)===null&&(f=f.alternate,A.H=f===null||f.memoizedState===null?Md:yu),l}function Lw(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return om(l);if(l.$$typeof===m)return Ms(l)}throw Error(r(438,String(l)))}function bx(l){var f=null,g=kn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var b=kn.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Mw(),kn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(l),b=0;b<l;b++)g[b]=R;return f.index++,g}function ul(l,f){return typeof f=="function"?f(l):f}function Uw(l){var f=Ni();return Ex(f,Tr,l)}function Ex(l,f,g){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=g;var T=l.baseQueue,M=b.pending;if(M!==null){if(T!==null){var z=T.next;T.next=M.next,M.next=z}f.baseQueue=T=M,b.pending=null}if(M=l.baseState,T===null)l.memoizedState=M;else{f=T.next;var ie=z=null,he=null,Se=f,He=!1;do{var et=Se.lane&-536870913;if(et!==Se.lane?(Yn&et)===et:(mu&et)===et){var Me=Se.revertLane;if(Me===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),et===yp&&(He=!0);else if((mu&Me)===Me){Se=Se.next,Me===yp&&(He=!0);continue}else et={lane:0,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},he===null?(ie=he=et,z=M):he=he.next=et,kn.lanes|=Me,Ou|=Me;et=Se.action,kd&&g(M,et),M=Se.hasEagerState?Se.eagerState:g(M,et)}else Me={lane:et,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},he===null?(ie=he=Me,z=M):he=he.next=Me,kn.lanes|=et,Ou|=et;Se=Se.next}while(Se!==null&&Se!==f);if(he===null?z=M:he.next=ie,!Mo(M,l.memoizedState)&&(Gi=!0,He&&(g=vp,g!==null)))throw g;l.memoizedState=M,l.baseState=z,l.baseQueue=he,b.lastRenderedState=M}return T===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function _x(l){var f=Ni(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var b=g.dispatch,T=g.pending,M=f.memoizedState;if(T!==null){g.pending=null;var z=T=T.next;do M=l(M,z.action),z=z.next;while(z!==T);Mo(M,f.memoizedState)||(Gi=!0),f.memoizedState=M,f.baseQueue===null&&(f.baseState=M),g.lastRenderedState=M}return[M,b]}function kN(l,f,g){var b=kn,T=Ni(),M=ir;if(M){if(g===void 0)throw Error(r(407));g=g()}else g=f();var z=!Mo((Tr||T).memoizedState,g);if(z&&(T.memoizedState=g,Gi=!0),T=T.queue,Sx(UN.bind(null,b,T,l),[l]),T.getSnapshot!==f||z||Ri!==null&&Ri.memoizedState.tag&1){if(b.flags|=2048,Ep(9,LN.bind(null,b,T,g,f),{destroy:void 0},null),Kr===null)throw Error(r(349));M||(mu&60)!==0||MN(b,f,g)}return g}function MN(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=kn.updateQueue,f===null?(f=Mw(),kn.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function LN(l,f,g,b){f.value=g,f.getSnapshot=b,BN(f)&&$N(l)}function UN(l,f,g){return g(function(){BN(f)&&$N(l)})}function BN(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!Mo(l,g)}catch{return!0}}function $N(l){var f=hu(l,2);f!==null&&to(f,l,2)}function Cx(l){var f=po();if(typeof l=="function"){var g=l;if(l=g(),kd){Qn(!0);try{g()}finally{Qn(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:l},f}function jN(l,f,g,b){return l.baseState=g,Ex(l,Tr,typeof b=="function"?b:ul)}function hY(l,f,g,b,T){if(jw(l))throw Error(r(485));if(l=f.action,l!==null){var M={payload:T,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){M.listeners.push(z)}};A.T!==null?g(!0):M.isTransition=!1,b(M),g=f.pending,g===null?(M.next=f.pending=M,FN(f,M)):(M.next=g.next,f.pending=g.next=M)}}function FN(l,f){var g=f.action,b=f.payload,T=l.state;if(f.isTransition){var M=A.T,z={};A.T=z;try{var ie=g(T,b),he=A.S;he!==null&&he(z,ie),KN(l,f,ie)}catch(Se){xx(l,f,Se)}finally{A.T=M}}else try{M=g(T,b),KN(l,f,M)}catch(Se){xx(l,f,Se)}}function KN(l,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){WN(l,f,b)},function(b){return xx(l,f,b)}):WN(l,f,g)}function WN(l,f,g){f.status="fulfilled",f.value=g,HN(f),l.state=g,f=l.pending,f!==null&&(g=f.next,g===f?l.pending=null:(g=g.next,f.next=g,FN(l,g)))}function xx(l,f,g){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=g,HN(f),f=f.next;while(f!==b)}l.action=null}function HN(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function zN(l,f){return f}function qN(l,f){if(ir){var g=Kr.formState;if(g!==null){e:{var b=kn;if(ir){if(ls){t:{for(var T=ls,M=Oc;T.nodeType!==8;){if(!M){T=null;break t}if(T=Qa(T.nextSibling),T===null){T=null;break t}}M=T.data,T=M==="F!"||M==="F"?T:null}if(T){ls=Qa(T.nextSibling),b=T.data==="F!";break e}}Pd(b)}b=!1}b&&(f=g[0])}}return g=po(),g.memoizedState=g.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zN,lastRenderedState:f},g.queue=b,g=u8.bind(null,kn,b),b.dispatch=g,b=Cx(!1),M=Nx.bind(null,kn,!1,b.queue),b=po(),T={state:f,dispatch:null,action:l,pending:null},b.queue=T,g=hY.bind(null,kn,T,M,g),T.dispatch=g,b.memoizedState=l,[f,g,!1]}function VN(l){var f=Ni();return XN(f,Tr,l)}function XN(l,f,g){f=Ex(l,f,zN)[0],l=Uw(ul)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?om(f):f;var b=Ni(),T=b.queue,M=T.dispatch;return g!==b.memoizedState&&(kn.flags|=2048,Ep(9,pY.bind(null,T,g),{destroy:void 0},null)),[f,M,l]}function pY(l,f){l.action=f}function GN(l){var f=Ni(),g=Tr;if(g!==null)return XN(f,g,l);Ni(),f=f.memoizedState,g=Ni();var b=g.queue.dispatch;return g.memoizedState=l,[f,b,!1]}function Ep(l,f,g,b){return l={tag:l,create:f,inst:g,deps:b,next:null},f=kn.updateQueue,f===null&&(f=Mw(),kn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,f.lastEffect=l),l}function JN(){return Ni().memoizedState}function Bw(l,f,g,b){var T=po();kn.flags|=l,T.memoizedState=Ep(1|f,g,{destroy:void 0},b===void 0?null:b)}function $w(l,f,g,b){var T=Ni();b=b===void 0?null:b;var M=T.memoizedState.inst;Tr!==null&&b!==null&&gx(b,Tr.memoizedState.deps)?T.memoizedState=Ep(f,g,M,b):(kn.flags|=l,T.memoizedState=Ep(1|f,g,M,b))}function YN(l,f){Bw(8390656,8,l,f)}function Sx(l,f){$w(2048,8,l,f)}function ZN(l,f){return $w(4,2,l,f)}function QN(l,f){return $w(4,4,l,f)}function e8(l,f){if(typeof f=="function"){l=l();var g=f(l);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function t8(l,f,g){g=g!=null?g.concat([l]):null,$w(4,4,e8.bind(null,f,l),g)}function Ox(){}function n8(l,f){var g=Ni();f=f===void 0?null:f;var b=g.memoizedState;return f!==null&&gx(f,b[1])?b[0]:(g.memoizedState=[l,f],l)}function r8(l,f){var g=Ni();f=f===void 0?null:f;var b=g.memoizedState;if(f!==null&&gx(f,b[1]))return b[0];if(b=l(),kd){Qn(!0);try{l()}finally{Qn(!1)}}return g.memoizedState=[b,f],b}function Ax(l,f,g){return g===void 0||(mu&1073741824)!==0?l.memoizedState=f:(l.memoizedState=g,l=sP(),kn.lanes|=l,Ou|=l,g)}function i8(l,f,g,b){return Mo(g,f)?g:mp.current!==null?(l=Ax(l,g,b),Mo(l,f)||(Gi=!0),l):(mu&42)===0?(Gi=!0,l.memoizedState=g):(l=sP(),kn.lanes|=l,Ou|=l,f)}function s8(l,f,g,b,T){var M=oe.p;oe.p=M!==0&&8>M?M:8;var z=A.T,ie={};A.T=ie,Nx(l,!1,f,g);try{var he=T(),Se=A.S;if(Se!==null&&Se(ie,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var He=uY(he,b);am(l,f,He,$o(l))}else am(l,f,b,$o(l))}catch(et){am(l,f,{then:function(){},status:"rejected",reason:et},$o())}finally{oe.p=M,A.T=z}}function gY(){}function Tx(l,f,g,b){if(l.tag!==5)throw Error(r(476));var T=o8(l).queue;s8(l,T,f,Ce,g===null?gY:function(){return a8(l),g(b)})}function o8(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:Ce},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:g},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function a8(l){var f=o8(l).next.queue;am(l,f,{},$o())}function Rx(){return Ms(Am)}function c8(){return Ni().memoizedState}function l8(){return Ni().memoizedState}function mY(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var g=$o();l=bu(g);var b=Eu(f,l,g);b!==null&&(to(b,f,g),um(b,f,g)),f={cache:fx()},l.payload=f;return}f=f.return}}function yY(l,f,g){var b=$o();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},jw(l)?d8(f,g):(g=sx(l,f,g,b),g!==null&&(to(g,l,b),f8(g,f,b)))}function u8(l,f,g){var b=$o();am(l,f,g,b)}function am(l,f,g,b){var T={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(jw(l))d8(f,T);else{var M=l.alternate;if(l.lanes===0&&(M===null||M.lanes===0)&&(M=f.lastRenderedReducer,M!==null))try{var z=f.lastRenderedState,ie=M(z,g);if(T.hasEagerState=!0,T.eagerState=ie,Mo(ie,z))return Cw(l,f,T,0),Kr===null&&_w(),!1}catch{}finally{}if(g=sx(l,f,T,b),g!==null)return to(g,l,b),f8(g,f,b),!0}return!1}function Nx(l,f,g,b){if(b={lane:2,revertLane:wS(),action:b,hasEagerState:!1,eagerState:null,next:null},jw(l)){if(f)throw Error(r(479))}else f=sx(l,g,b,2),f!==null&&to(f,l,2)}function jw(l){var f=l.alternate;return l===kn||f!==null&&f===kn}function d8(l,f){wp=Dw=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function f8(l,f,g){if((g&4194176)!==0){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,K(l,g)}}var Tc={readContext:Ms,use:Lw,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useLayoutEffect:bi,useInsertionEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useSyncExternalStore:bi,useId:bi};Tc.useCacheRefresh=bi,Tc.useMemoCache=bi,Tc.useHostTransitionStatus=bi,Tc.useFormState=bi,Tc.useActionState=bi,Tc.useOptimistic=bi;var Md={readContext:Ms,use:Lw,useCallback:function(l,f){return po().memoizedState=[l,f===void 0?null:f],l},useContext:Ms,useEffect:YN,useImperativeHandle:function(l,f,g){g=g!=null?g.concat([l]):null,Bw(4194308,4,e8.bind(null,f,l),g)},useLayoutEffect:function(l,f){return Bw(4194308,4,l,f)},useInsertionEffect:function(l,f){Bw(4,2,l,f)},useMemo:function(l,f){var g=po();f=f===void 0?null:f;var b=l();if(kd){Qn(!0);try{l()}finally{Qn(!1)}}return g.memoizedState=[b,f],b},useReducer:function(l,f,g){var b=po();if(g!==void 0){var T=g(f);if(kd){Qn(!0);try{g(f)}finally{Qn(!1)}}}else T=f;return b.memoizedState=b.baseState=T,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:T},b.queue=l,l=l.dispatch=yY.bind(null,kn,l),[b.memoizedState,l]},useRef:function(l){var f=po();return l={current:l},f.memoizedState=l},useState:function(l){l=Cx(l);var f=l.queue,g=u8.bind(null,kn,f);return f.dispatch=g,[l.memoizedState,g]},useDebugValue:Ox,useDeferredValue:function(l,f){var g=po();return Ax(g,l,f)},useTransition:function(){var l=Cx(!1);return l=s8.bind(null,kn,l.queue,!0,!1),po().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,g){var b=kn,T=po();if(ir){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),Kr===null)throw Error(r(349));(Yn&60)!==0||MN(b,f,g)}T.memoizedState=g;var M={value:g,getSnapshot:f};return T.queue=M,YN(UN.bind(null,b,M,l),[l]),b.flags|=2048,Ep(9,LN.bind(null,b,M,g,f),{destroy:void 0},null),g},useId:function(){var l=po(),f=Kr.identifierPrefix;if(ir){var g=cl,b=al;g=(b&~(1<<32-Bn(b)-1)).toString(32)+g,f=":"+f+"R"+g,g=kw++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=dY++,f=":"+f+"r"+g.toString(32)+":";return l.memoizedState=f},useCacheRefresh:function(){return po().memoizedState=mY.bind(null,kn)}};Md.useMemoCache=bx,Md.useHostTransitionStatus=Rx,Md.useFormState=qN,Md.useActionState=qN,Md.useOptimistic=function(l){var f=po();f.memoizedState=f.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Nx.bind(null,kn,!0,g),g.dispatch=f,[l,f]};var yu={readContext:Ms,use:Lw,useCallback:n8,useContext:Ms,useEffect:Sx,useImperativeHandle:t8,useInsertionEffect:ZN,useLayoutEffect:QN,useMemo:r8,useReducer:Uw,useRef:JN,useState:function(){return Uw(ul)},useDebugValue:Ox,useDeferredValue:function(l,f){var g=Ni();return i8(g,Tr.memoizedState,l,f)},useTransition:function(){var l=Uw(ul)[0],f=Ni().memoizedState;return[typeof l=="boolean"?l:om(l),f]},useSyncExternalStore:kN,useId:c8};yu.useCacheRefresh=l8,yu.useMemoCache=bx,yu.useHostTransitionStatus=Rx,yu.useFormState=VN,yu.useActionState=VN,yu.useOptimistic=function(l,f){var g=Ni();return jN(g,Tr,l,f)};var Ld={readContext:Ms,use:Lw,useCallback:n8,useContext:Ms,useEffect:Sx,useImperativeHandle:t8,useInsertionEffect:ZN,useLayoutEffect:QN,useMemo:r8,useReducer:_x,useRef:JN,useState:function(){return _x(ul)},useDebugValue:Ox,useDeferredValue:function(l,f){var g=Ni();return Tr===null?Ax(g,l,f):i8(g,Tr.memoizedState,l,f)},useTransition:function(){var l=_x(ul)[0],f=Ni().memoizedState;return[typeof l=="boolean"?l:om(l),f]},useSyncExternalStore:kN,useId:c8};Ld.useCacheRefresh=l8,Ld.useMemoCache=bx,Ld.useHostTransitionStatus=Rx,Ld.useFormState=GN,Ld.useActionState=GN,Ld.useOptimistic=function(l,f){var g=Ni();return Tr!==null?jN(g,Tr,l,f):(g.baseState=l,[l,g.queue.dispatch])};function Px(l,f,g,b){f=l.memoizedState,g=g(b,f),g=g==null?f:D({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Ix={isMounted:function(l){return(l=l._reactInternals)?W(l)===l:!1},enqueueSetState:function(l,f,g){l=l._reactInternals;var b=$o(),T=bu(b);T.payload=f,g!=null&&(T.callback=g),f=Eu(l,T,b),f!==null&&(to(f,l,b),um(f,l,b))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var b=$o(),T=bu(b);T.tag=1,T.payload=f,g!=null&&(T.callback=g),f=Eu(l,T,b),f!==null&&(to(f,l,b),um(f,l,b))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=$o(),b=bu(g);b.tag=2,f!=null&&(b.callback=f),f=Eu(l,b,g),f!==null&&(to(f,l,g),um(f,l,g))}};function h8(l,f,g,b,T,M,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,M,z):f.prototype&&f.prototype.isPureReactComponent?!Xg(g,b)||!Xg(T,M):!0}function p8(l,f,g,b){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==l&&Ix.enqueueReplaceState(f,f.state,null)}function Ud(l,f){var g=f;if("ref"in f){g={};for(var b in f)b!=="ref"&&(g[b]=f[b])}if(l=l.defaultProps){g===f&&(g=D({},g));for(var T in l)g[T]===void 0&&(g[T]=l[T])}return g}var Fw=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function g8(l){Fw(l)}function m8(l){console.error(l)}function y8(l){Fw(l)}function Kw(l,f){try{var g=l.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function v8(l,f,g){try{var b=l.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Dx(l,f,g){return g=bu(g),g.tag=3,g.payload={element:null},g.callback=function(){Kw(l,f)},g}function w8(l){return l=bu(l),l.tag=3,l}function b8(l,f,g,b){var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var M=b.value;l.payload=function(){return T(M)},l.callback=function(){v8(f,g,b)}}var z=g.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(l.callback=function(){v8(f,g,b),typeof T!="function"&&(Au===null?Au=new Set([this]):Au.add(this));var ie=b.stack;this.componentDidCatch(b.value,{componentStack:ie!==null?ie:""})})}function vY(l,f,g,b,T){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=g.alternate,f!==null&&lm(f,g,T,!0),g=ya.current,g!==null){switch(g.tag){case 13:return Ac===null?pS():g.alternate===null&&di===0&&(di=3),g.flags&=-257,g.flags|=65536,g.lanes=T,b===lx?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([b]):f.add(b),mS(l,b,T)),!1;case 22:return g.flags|=65536,b===lx?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([b]):g.add(b)),mS(l,b,T)),!1}throw Error(r(435,g.tag))}return mS(l,b,T),pS(),!1}if(ir)return f=ya.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,b!==cx&&(l=Error(r(422),{cause:b}),Zg(pa(l,g)))):(b!==cx&&(f=Error(r(423),{cause:b}),Zg(pa(f,g))),l=l.current.alternate,l.flags|=65536,T&=-T,l.lanes|=T,b=pa(b,g),T=Dx(l.stateNode,b,T),Xx(l,T),di!==4&&(di=2)),!1;var M=Error(r(520),{cause:b});if(M=pa(M,g),vm===null?vm=[M]:vm.push(M),di!==4&&(di=2),f===null)return!0;b=pa(b,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,l=T&-T,g.lanes|=l,l=Dx(g.stateNode,b,l),Xx(g,l),!1;case 1:if(f=g.type,M=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Au===null||!Au.has(M))))return g.flags|=65536,T&=-T,g.lanes|=T,T=w8(T),b8(T,l,g,b),Xx(g,T),!1}g=g.return}while(g!==null);return!1}var E8=Error(r(461)),Gi=!1;function us(l,f,g,b){f.child=l===null?ON(f,null,g,b):Id(f,l.child,g,b)}function _8(l,f,g,b,T){g=g.render;var M=f.ref;if("ref"in b){var z={};for(var ie in b)ie!=="ref"&&(z[ie]=b[ie])}else z=b;return $d(f),b=mx(l,f,g,z,M,T),ie=yx(),l!==null&&!Gi?(vx(l,f,T),dl(l,f,T)):(ir&&ie&&ox(f),f.flags|=1,us(l,f,b,T),f.child)}function C8(l,f,g,b,T){if(l===null){var M=g.type;return typeof M=="function"&&!nS(M)&&M.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=M,x8(l,f,M,b,T)):(l=Vw(g.type,null,b,f,f.mode,T),l.ref=f.ref,l.return=f,f.child=l)}if(M=l.child,!Kx(l,T)){var z=M.memoizedProps;if(g=g.compare,g=g!==null?g:Xg,g(z,b)&&l.ref===f.ref)return dl(l,f,T)}return f.flags|=1,l=Su(M,b),l.ref=f.ref,l.return=f,f.child=l}function x8(l,f,g,b,T){if(l!==null){var M=l.memoizedProps;if(Xg(M,b)&&l.ref===f.ref)if(Gi=!1,f.pendingProps=b=M,Kx(l,T))(l.flags&131072)!==0&&(Gi=!0);else return f.lanes=l.lanes,dl(l,f,T)}return kx(l,f,g,b,T)}function S8(l,f,g){var b=f.pendingProps,T=b.children,M=(f.stateNode._pendingVisibility&2)!==0,z=l!==null?l.memoizedState:null;if(cm(l,f),b.mode==="hidden"||M){if((f.flags&128)!==0){if(b=z!==null?z.baseLanes|g:g,l!==null){for(T=f.child=l.child,M=0;T!==null;)M=M|T.lanes|T.childLanes,T=T.sibling;f.childLanes=M&~b}else f.childLanes=0,f.child=null;return O8(l,f,b,g)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Iw(f,z!==null?z.cachePool:null),z!==null?AN(f,z):ux(),TN(f);else return f.lanes=f.childLanes=536870912,O8(l,f,z!==null?z.baseLanes|g:g,g)}else z!==null?(Iw(f,z.cachePool),AN(f,z),gu(),f.memoizedState=null):(l!==null&&Iw(f,null),ux(),gu());return us(l,f,T,g),f.child}function O8(l,f,g,b){var T=px();return T=T===null?null:{parent:Ki._currentValue,pool:T},f.memoizedState={baseLanes:g,cachePool:T},l!==null&&Iw(f,null),ux(),TN(f),l!==null&&lm(l,f,b,!0),null}function cm(l,f){var g=f.ref;if(g===null)l!==null&&l.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(l===null||l.ref!==g)&&(f.flags|=2097664)}}function kx(l,f,g,b,T){return $d(f),g=mx(l,f,g,b,void 0,T),b=yx(),l!==null&&!Gi?(vx(l,f,T),dl(l,f,T)):(ir&&b&&ox(f),f.flags|=1,us(l,f,g,T),f.child)}function A8(l,f,g,b,T,M){return $d(f),f.updateQueue=null,g=DN(f,b,g,T),IN(l),b=yx(),l!==null&&!Gi?(vx(l,f,M),dl(l,f,M)):(ir&&b&&ox(f),f.flags|=1,us(l,f,g,M),f.child)}function T8(l,f,g,b,T){if($d(f),f.stateNode===null){var M=fp,z=g.contextType;typeof z=="object"&&z!==null&&(M=Ms(z)),M=new g(b,M),f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Ix,f.stateNode=M,M._reactInternals=f,M=f.stateNode,M.props=b,M.state=f.memoizedState,M.refs={},qx(f),z=g.contextType,M.context=typeof z=="object"&&z!==null?Ms(z):fp,M.state=f.memoizedState,z=g.getDerivedStateFromProps,typeof z=="function"&&(Px(f,g,z,b),M.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(z=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),z!==M.state&&Ix.enqueueReplaceState(M,M.state,null),fm(f,b,M,T),dm(),M.state=f.memoizedState),typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(l===null){M=f.stateNode;var ie=f.memoizedProps,he=Ud(g,ie);M.props=he;var Se=M.context,He=g.contextType;z=fp,typeof He=="object"&&He!==null&&(z=Ms(He));var et=g.getDerivedStateFromProps;He=typeof et=="function"||typeof M.getSnapshotBeforeUpdate=="function",ie=f.pendingProps!==ie,He||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ie||Se!==z)&&p8(f,M,b,z),wu=!1;var Me=f.memoizedState;M.state=Me,fm(f,b,M,T),dm(),Se=f.memoizedState,ie||Me!==Se||wu?(typeof et=="function"&&(Px(f,g,et,b),Se=f.memoizedState),(he=wu||h8(f,g,he,b,Me,Se,z))?(He||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(f.flags|=4194308)):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Se),M.props=b,M.state=Se,M.context=z,b=he):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{M=f.stateNode,Vx(l,f),z=f.memoizedProps,He=Ud(g,z),M.props=He,et=f.pendingProps,Me=M.context,Se=g.contextType,he=fp,typeof Se=="object"&&Se!==null&&(he=Ms(Se)),ie=g.getDerivedStateFromProps,(Se=typeof ie=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==et||Me!==he)&&p8(f,M,b,he),wu=!1,Me=f.memoizedState,M.state=Me,fm(f,b,M,T),dm();var Ke=f.memoizedState;z!==et||Me!==Ke||wu||l!==null&&l.dependencies!==null&&Ww(l.dependencies)?(typeof ie=="function"&&(Px(f,g,ie,b),Ke=f.memoizedState),(He=wu||h8(f,g,He,b,Me,Ke,he)||l!==null&&l.dependencies!==null&&Ww(l.dependencies))?(Se||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,Ke,he),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,Ke,he)),typeof M.componentDidUpdate=="function"&&(f.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof M.componentDidUpdate!="function"||z===l.memoizedProps&&Me===l.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Me===l.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=Ke),M.props=b,M.state=Ke,M.context=he,b=He):(typeof M.componentDidUpdate!="function"||z===l.memoizedProps&&Me===l.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Me===l.memoizedState||(f.flags|=1024),b=!1)}return M=b,cm(l,f),b=(f.flags&128)!==0,M||b?(M=f.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:M.render(),f.flags|=1,l!==null&&b?(f.child=Id(f,l.child,null,T),f.child=Id(f,null,g,T)):us(l,f,g,T),f.memoizedState=M.state,l=f.child):l=dl(l,f,T),l}function R8(l,f,g,b){return Yg(),f.flags|=256,us(l,f,g,b),f.child}var Mx={dehydrated:null,treeContext:null,retryLane:0};function Lx(l){return{baseLanes:l,cachePool:PN()}}function Ux(l,f,g){return l=l!==null?l.childLanes&~g:0,f&&(l|=Ea),l}function N8(l,f,g){var b=f.pendingProps,T=!1,M=(f.flags&128)!==0,z;if((z=M)||(z=l!==null&&l.memoizedState===null?!1:(Fi.current&2)!==0),z&&(T=!0,f.flags&=-129),z=(f.flags&32)!==0,f.flags&=-33,l===null){if(ir){if(T?pu(f):gu(),ir){var ie=ls,he;if(he=ie){e:{for(he=ie,ie=Oc;he.nodeType!==8;){if(!ie){ie=null;break e}if(he=Qa(he.nextSibling),he===null){ie=null;break e}}ie=he}ie!==null?(f.memoizedState={dehydrated:ie,treeContext:Rd!==null?{id:al,overflow:cl}:null,retryLane:536870912},he=ba(18,null,null,0),he.stateNode=ie,he.return=f,f.child=he,eo=f,ls=null,he=!0):he=!1}he||Pd(f)}if(ie=f.memoizedState,ie!==null&&(ie=ie.dehydrated,ie!==null))return ie.data==="$!"?f.lanes=16:f.lanes=536870912,null;ll(f)}return ie=b.children,b=b.fallback,T?(gu(),T=f.mode,ie=$x({mode:"hidden",children:ie},T),b=Fd(b,T,g,null),ie.return=f,b.return=f,ie.sibling=b,f.child=ie,T=f.child,T.memoizedState=Lx(g),T.childLanes=Ux(l,z,g),f.memoizedState=Mx,b):(pu(f),Bx(f,ie))}if(he=l.memoizedState,he!==null&&(ie=he.dehydrated,ie!==null)){if(M)f.flags&256?(pu(f),f.flags&=-257,f=jx(l,f,g)):f.memoizedState!==null?(gu(),f.child=l.child,f.flags|=128,f=null):(gu(),T=b.fallback,ie=f.mode,b=$x({mode:"visible",children:b.children},ie),T=Fd(T,ie,g,null),T.flags|=2,b.return=f,T.return=f,b.sibling=T,f.child=b,Id(f,l.child,null,g),b=f.child,b.memoizedState=Lx(g),b.childLanes=Ux(l,z,g),f.memoizedState=Mx,f=T);else if(pu(f),ie.data==="$!"){if(z=ie.nextSibling&&ie.nextSibling.dataset,z)var Se=z.dgst;z=Se,b=Error(r(419)),b.stack="",b.digest=z,Zg({value:b,source:null,stack:null}),f=jx(l,f,g)}else if(Gi||lm(l,f,g,!1),z=(g&l.childLanes)!==0,Gi||z){if(z=Kr,z!==null){if(b=g&-g,(b&42)!==0)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=(b&(z.suspendedLanes|g))!==0?0:b,b!==0&&b!==he.retryLane)throw he.retryLane=b,hu(l,b),to(z,l,b),E8}ie.data==="$?"||pS(),f=jx(l,f,g)}else ie.data==="$?"?(f.flags|=128,f.child=l.child,f=DY.bind(null,l),ie._reactRetry=f,f=null):(l=he.treeContext,ls=Qa(ie.nextSibling),eo=f,ir=!0,Ya=null,Oc=!1,l!==null&&(ga[ma++]=al,ga[ma++]=cl,ga[ma++]=Rd,al=l.id,cl=l.overflow,Rd=f),f=Bx(f,b.children),f.flags|=4096);return f}return T?(gu(),T=b.fallback,ie=f.mode,he=l.child,Se=he.sibling,b=Su(he,{mode:"hidden",children:b.children}),b.subtreeFlags=he.subtreeFlags&31457280,Se!==null?T=Su(Se,T):(T=Fd(T,ie,g,null),T.flags|=2),T.return=f,b.return=f,b.sibling=T,f.child=b,b=T,T=f.child,ie=l.child.memoizedState,ie===null?ie=Lx(g):(he=ie.cachePool,he!==null?(Se=Ki._currentValue,he=he.parent!==Se?{parent:Se,pool:Se}:he):he=PN(),ie={baseLanes:ie.baseLanes|g,cachePool:he}),T.memoizedState=ie,T.childLanes=Ux(l,z,g),f.memoizedState=Mx,b):(pu(f),g=l.child,l=g.sibling,g=Su(g,{mode:"visible",children:b.children}),g.return=f,g.sibling=null,l!==null&&(z=f.deletions,z===null?(f.deletions=[l],f.flags|=16):z.push(l)),f.child=g,f.memoizedState=null,g)}function Bx(l,f){return f=$x({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function $x(l,f){return nP(l,f,0,null)}function jx(l,f,g){return Id(f,l.child,null,g),l=Bx(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function P8(l,f,g){l.lanes|=f;var b=l.alternate;b!==null&&(b.lanes|=f),Hx(l.return,f,g)}function Fx(l,f,g,b,T){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:T}:(M.isBackwards=f,M.rendering=null,M.renderingStartTime=0,M.last=b,M.tail=g,M.tailMode=T)}function I8(l,f,g){var b=f.pendingProps,T=b.revealOrder,M=b.tail;if(us(l,f,b.children,g),b=Fi.current,(b&2)!==0)b=b&1|2,f.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&P8(l,g,f);else if(l.tag===19)P8(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}switch(B(Fi,b),T){case"forwards":for(g=f.child,T=null;g!==null;)l=g.alternate,l!==null&&Pw(l)===null&&(T=g),g=g.sibling;g=T,g===null?(T=f.child,f.child=null):(T=g.sibling,g.sibling=null),Fx(f,!1,T,g,M);break;case"backwards":for(g=null,T=f.child,f.child=null;T!==null;){if(l=T.alternate,l!==null&&Pw(l)===null){f.child=T;break}l=T.sibling,T.sibling=g,g=T,T=l}Fx(f,!0,g,null,M);break;case"together":Fx(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function dl(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),Ou|=f.lanes,(g&f.childLanes)===0)if(l!==null){if(lm(l,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(r(153));if(f.child!==null){for(l=f.child,g=Su(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=Su(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function Kx(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Ww(l)))}function wY(l,f,g){switch(f.tag){case 3:Ve(f,f.stateNode.containerInfo),vu(f,Ki,l.memoizedState.cache),Yg();break;case 27:case 5:Nt(f);break;case 4:Ve(f,f.stateNode.containerInfo);break;case 10:vu(f,f.type,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(pu(f),f.flags|=128,null):(g&f.child.childLanes)!==0?N8(l,f,g):(pu(f),l=dl(l,f,g),l!==null?l.sibling:null);pu(f);break;case 19:var T=(l.flags&128)!==0;if(b=(g&f.childLanes)!==0,b||(lm(l,f,g,!1),b=(g&f.childLanes)!==0),T){if(b)return I8(l,f,g);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),B(Fi,Fi.current),b)break;return null;case 22:case 23:return f.lanes=0,S8(l,f,g);case 24:vu(f,Ki,l.memoizedState.cache)}return dl(l,f,g)}function D8(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps)Gi=!0;else{if(!Kx(l,g)&&(f.flags&128)===0)return Gi=!1,wY(l,f,g);Gi=(l.flags&131072)!==0}else Gi=!1,ir&&(f.flags&1048576)!==0&&yN(f,Ow,f.index);switch(f.lanes=0,f.tag){case 16:e:{l=f.pendingProps;var b=f.elementType,T=b._init;if(b=T(b._payload),f.type=b,typeof b=="function")nS(b)?(l=Ud(b,l),f.tag=1,f=T8(null,f,b,l,g)):(f.tag=0,f=kx(null,f,b,l,g));else{if(b!=null){if(T=b.$$typeof,T===y){f.tag=11,f=_8(null,f,b,l,g);break e}else if(T===C){f.tag=14,f=C8(null,f,b,l,g);break e}}throw f=N(b)||b,Error(r(306,f,""))}}return f;case 0:return kx(l,f,f.type,f.pendingProps,g);case 1:return b=f.type,T=Ud(b,f.pendingProps),T8(l,f,b,T,g);case 3:e:{if(Ve(f,f.stateNode.containerInfo),l===null)throw Error(r(387));var M=f.pendingProps;T=f.memoizedState,b=T.element,Vx(l,f),fm(f,M,null,g);var z=f.memoizedState;if(M=z.cache,vu(f,Ki,M),M!==T.cache&&zx(f,[Ki],g,!0),dm(),M=z.element,T.isDehydrated)if(T={element:M,isDehydrated:!1,cache:z.cache},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){f=R8(l,f,M,g);break e}else if(M!==b){b=pa(Error(r(424)),f),Zg(b),f=R8(l,f,M,g);break e}else for(ls=Qa(f.stateNode.containerInfo.firstChild),eo=f,ir=!0,Ya=null,Oc=!0,g=ON(f,null,M,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Yg(),M===b){f=dl(l,f,g);break e}us(l,f,M,g)}f=f.child}return f;case 26:return cm(l,f),l===null?(g=LP(f.type,null,f.pendingProps,null))?f.memoizedState=g:ir||(g=f.type,l=f.pendingProps,b=sb(Ne.current).createElement(g),b[fe]=f,b[ye]=l,ds(b,g,l),Ct(b),f.stateNode=b):f.memoizedState=LP(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Nt(f),l===null&&ir&&(b=f.stateNode=DP(f.type,f.pendingProps,Ne.current),eo=f,Oc=!0,ls=Qa(b.firstChild)),b=f.pendingProps.children,l!==null||ir?us(l,f,b,g):f.child=Id(f,null,b,g),cm(l,f),f.child;case 5:return l===null&&ir&&((T=b=ls)&&(b=GY(b,f.type,f.pendingProps,Oc),b!==null?(f.stateNode=b,eo=f,ls=Qa(b.firstChild),Oc=!1,T=!0):T=!1),T||Pd(f)),Nt(f),T=f.type,M=f.pendingProps,z=l!==null?l.memoizedProps:null,b=M.children,TS(T,M)?b=null:z!==null&&TS(T,z)&&(f.flags|=32),f.memoizedState!==null&&(T=mx(l,f,fY,null,null,g),Am._currentValue=T),cm(l,f),us(l,f,b,g),f.child;case 6:return l===null&&ir&&((l=g=ls)&&(g=JY(g,f.pendingProps,Oc),g!==null?(f.stateNode=g,eo=f,ls=null,l=!0):l=!1),l||Pd(f)),null;case 13:return N8(l,f,g);case 4:return Ve(f,f.stateNode.containerInfo),b=f.pendingProps,l===null?f.child=Id(f,null,b,g):us(l,f,b,g),f.child;case 11:return _8(l,f,f.type,f.pendingProps,g);case 7:return us(l,f,f.pendingProps,g),f.child;case 8:return us(l,f,f.pendingProps.children,g),f.child;case 12:return us(l,f,f.pendingProps.children,g),f.child;case 10:return b=f.pendingProps,vu(f,f.type,b.value),us(l,f,b.children,g),f.child;case 9:return T=f.type._context,b=f.pendingProps.children,$d(f),T=Ms(T),b=b(T),f.flags|=1,us(l,f,b,g),f.child;case 14:return C8(l,f,f.type,f.pendingProps,g);case 15:return x8(l,f,f.type,f.pendingProps,g);case 19:return I8(l,f,g);case 22:return S8(l,f,g);case 24:return $d(f),b=Ms(Ki),l===null?(T=px(),T===null&&(T=Kr,M=fx(),T.pooledCache=M,M.refCount++,M!==null&&(T.pooledCacheLanes|=g),T=M),f.memoizedState={parent:b,cache:T},qx(f),vu(f,Ki,T)):((l.lanes&g)!==0&&(Vx(l,f),fm(f,null,null,g),dm()),T=l.memoizedState,M=f.memoizedState,T.parent!==b?(T={parent:b,cache:b},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),vu(f,Ki,b)):(b=M.cache,vu(f,Ki,b),b!==T.cache&&zx(f,[Ki],g,!0))),us(l,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var Wx=Y(null),Bd=null,fl=null;function vu(l,f,g){B(Wx,f._currentValue),f._currentValue=g}function hl(l){l._currentValue=Wx.current,ee(Wx)}function Hx(l,f,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),l===g)break;l=l.return}}function zx(l,f,g,b){var T=l.child;for(T!==null&&(T.return=l);T!==null;){var M=T.dependencies;if(M!==null){var z=T.child;M=M.firstContext;e:for(;M!==null;){var ie=M;M=T;for(var he=0;he<f.length;he++)if(ie.context===f[he]){M.lanes|=g,ie=M.alternate,ie!==null&&(ie.lanes|=g),Hx(M.return,g,l),b||(z=null);break e}M=ie.next}}else if(T.tag===18){if(z=T.return,z===null)throw Error(r(341));z.lanes|=g,M=z.alternate,M!==null&&(M.lanes|=g),Hx(z,g,l),z=null}else z=T.child;if(z!==null)z.return=T;else for(z=T;z!==null;){if(z===l){z=null;break}if(T=z.sibling,T!==null){T.return=z.return,z=T;break}z=z.return}T=z}}function lm(l,f,g,b){l=null;for(var T=f,M=!1;T!==null;){if(!M){if((T.flags&524288)!==0)M=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var z=T.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var ie=T.type;Mo(T.pendingProps.value,z.value)||(l!==null?l.push(ie):l=[ie])}}else if(T===Fe.current){if(z=T.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(l!==null?l.push(Am):l=[Am])}T=T.return}l!==null&&zx(f,l,g,b),f.flags|=262144}function Ww(l){for(l=l.firstContext;l!==null;){if(!Mo(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function $d(l){Bd=l,fl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ms(l){return k8(Bd,l)}function Hw(l,f){return Bd===null&&$d(l),k8(l,f)}function k8(l,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},fl===null){if(l===null)throw Error(r(308));fl=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else fl=fl.next=f;return g}var wu=!1;function qx(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vx(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function bu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Eu(l,f,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(ni&2)!==0){var T=b.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),b.pending=f,f=xw(l),gN(l,null,g),f}return Cw(l,b,f,g),xw(l)}function um(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,K(l,g)}}function Xx(l,f){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var T=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var z={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};M===null?T=M=z:M=M.next=z,g=g.next}while(g!==null);M===null?T=M=f:M=M.next=f}else T=M=f;g={baseState:b.baseState,firstBaseUpdate:T,lastBaseUpdate:M,shared:b.shared,callbacks:b.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}var Gx=!1;function dm(){if(Gx){var l=vp;if(l!==null)throw l}}function fm(l,f,g,b){Gx=!1;var T=l.updateQueue;wu=!1;var M=T.firstBaseUpdate,z=T.lastBaseUpdate,ie=T.shared.pending;if(ie!==null){T.shared.pending=null;var he=ie,Se=he.next;he.next=null,z===null?M=Se:z.next=Se,z=he;var He=l.alternate;He!==null&&(He=He.updateQueue,ie=He.lastBaseUpdate,ie!==z&&(ie===null?He.firstBaseUpdate=Se:ie.next=Se,He.lastBaseUpdate=he))}if(M!==null){var et=T.baseState;z=0,He=Se=he=null,ie=M;do{var Me=ie.lane&-536870913,Ke=Me!==ie.lane;if(Ke?(Yn&Me)===Me:(b&Me)===Me){Me!==0&&Me===yp&&(Gx=!0),He!==null&&(He=He.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Vt=l,En=ie;Me=f;var fi=g;switch(En.tag){case 1:if(Vt=En.payload,typeof Vt=="function"){et=Vt.call(fi,et,Me);break e}et=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=En.payload,Me=typeof Vt=="function"?Vt.call(fi,et,Me):Vt,Me==null)break e;et=D({},et,Me);break e;case 2:wu=!0}}Me=ie.callback,Me!==null&&(l.flags|=64,Ke&&(l.flags|=8192),Ke=T.callbacks,Ke===null?T.callbacks=[Me]:Ke.push(Me))}else Ke={lane:Me,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},He===null?(Se=He=Ke,he=et):He=He.next=Ke,z|=Me;if(ie=ie.next,ie===null){if(ie=T.shared.pending,ie===null)break;Ke=ie,ie=Ke.next,Ke.next=null,T.lastBaseUpdate=Ke,T.shared.pending=null}}while(!0);He===null&&(he=et),T.baseState=he,T.firstBaseUpdate=Se,T.lastBaseUpdate=He,M===null&&(T.shared.lanes=0),Ou|=z,l.lanes=z,l.memoizedState=et}}function M8(l,f){if(typeof l!="function")throw Error(r(191,l));l.call(f)}function L8(l,f){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)M8(g[l],f)}function hm(l,f){try{var g=f.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var T=b.next;g=T;do{if((g.tag&l)===l){b=void 0;var M=g.create,z=g.inst;b=M(),z.destroy=b}g=g.next}while(g!==T)}}catch(ie){kr(f,f.return,ie)}}function _u(l,f,g){try{var b=f.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var M=T.next;b=M;do{if((b.tag&l)===l){var z=b.inst,ie=z.destroy;if(ie!==void 0){z.destroy=void 0,T=f;var he=g;try{ie()}catch(Se){kr(T,he,Se)}}}b=b.next}while(b!==M)}}catch(Se){kr(f,f.return,Se)}}function U8(l){var f=l.updateQueue;if(f!==null){var g=l.stateNode;try{L8(f,g)}catch(b){kr(l,l.return,b)}}}function B8(l,f,g){g.props=Ud(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(b){kr(l,f,b)}}function jd(l,f){try{var g=l.ref;if(g!==null){var b=l.stateNode;switch(l.tag){case 26:case 27:case 5:var T=b;break;default:T=b}typeof g=="function"?l.refCleanup=g(T):g.current=T}}catch(M){kr(l,f,M)}}function Lo(l,f){var g=l.ref,b=l.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(T){kr(l,f,T)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(T){kr(l,f,T)}else g.current=null}function $8(l){var f=l.type,g=l.memoizedProps,b=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(T){kr(l,l.return,T)}}function j8(l,f,g){try{var b=l.stateNode;HY(b,l.type,g,f),b[ye]=f}catch(T){kr(l,l.return,T)}}function F8(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27||l.tag===4}function Jx(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||F8(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==27&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Yx(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(l,f):g.insertBefore(l,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(l,g)):(f=g,f.appendChild(l)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=ib));else if(b!==4&&b!==27&&(l=l.child,l!==null))for(Yx(l,f,g),l=l.sibling;l!==null;)Yx(l,f,g),l=l.sibling}function zw(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(b!==4&&b!==27&&(l=l.child,l!==null))for(zw(l,f,g),l=l.sibling;l!==null;)zw(l,f,g),l=l.sibling}var pl=!1,ui=!1,Zx=!1,K8=typeof WeakSet=="function"?WeakSet:Set,Ji=null,W8=!1;function bY(l,f){if(l=l.containerInfo,OS=db,l=oN(l),ex(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var T=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var z=0,ie=-1,he=-1,Se=0,He=0,et=l,Me=null;t:for(;;){for(var Ke;et!==g||T!==0&&et.nodeType!==3||(ie=z+T),et!==M||b!==0&&et.nodeType!==3||(he=z+b),et.nodeType===3&&(z+=et.nodeValue.length),(Ke=et.firstChild)!==null;)Me=et,et=Ke;for(;;){if(et===l)break t;if(Me===g&&++Se===T&&(ie=z),Me===M&&++He===b&&(he=z),(Ke=et.nextSibling)!==null)break;et=Me,Me=et.parentNode}et=Ke}g=ie===-1||he===-1?null:{start:ie,end:he}}else g=null}g=g||{start:0,end:0}}else g=null;for(AS={focusedElem:l,selectionRange:g},db=!1,Ji=f;Ji!==null;)if(f=Ji,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Ji=l;else for(;Ji!==null;){switch(f=Ji,M=f.alternate,l=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&M!==null){l=void 0,g=f,T=M.memoizedProps,M=M.memoizedState,b=g.stateNode;try{var Vt=Ud(g.type,T,g.elementType===g.type);l=b.getSnapshotBeforeUpdate(Vt,M),b.__reactInternalSnapshotBeforeUpdate=l}catch(En){kr(g,g.return,En)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,g=l.nodeType,g===9)PS(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":PS(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=f.sibling,l!==null){l.return=f.return,Ji=l;break}Ji=f.return}return Vt=W8,W8=!1,Vt}function H8(l,f,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:ml(l,g),b&4&&hm(5,g);break;case 1:if(ml(l,g),b&4)if(l=g.stateNode,f===null)try{l.componentDidMount()}catch(ie){kr(g,g.return,ie)}else{var T=Ud(g.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(T,f,l.__reactInternalSnapshotBeforeUpdate)}catch(ie){kr(g,g.return,ie)}}b&64&&U8(g),b&512&&jd(g,g.return);break;case 3:if(ml(l,g),b&64&&(b=g.updateQueue,b!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=g.child.stateNode;break;case 1:l=g.child.stateNode}try{L8(b,l)}catch(ie){kr(g,g.return,ie)}}break;case 26:ml(l,g),b&512&&jd(g,g.return);break;case 27:case 5:ml(l,g),f===null&&b&4&&$8(g),b&512&&jd(g,g.return);break;case 12:ml(l,g);break;case 13:ml(l,g),b&4&&V8(l,g);break;case 22:if(T=g.memoizedState!==null||pl,!T){f=f!==null&&f.memoizedState!==null||ui;var M=pl,z=ui;pl=T,(ui=f)&&!z?Cu(l,g,(g.subtreeFlags&8772)!==0):ml(l,g),pl=M,ui=z}b&512&&(g.memoizedProps.mode==="manual"?jd(g,g.return):Lo(g,g.return));break;default:ml(l,g)}}function z8(l){var f=l.alternate;f!==null&&(l.alternate=null,z8(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&qt(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Pi=null,Uo=!1;function gl(l,f,g){for(g=g.child;g!==null;)q8(l,f,g),g=g.sibling}function q8(l,f,g){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(_t,g)}catch{}switch(g.tag){case 26:ui||Lo(g,f),gl(l,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:ui||Lo(g,f);var b=Pi,T=Uo;for(Pi=g.stateNode,gl(l,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);qt(g),Pi=b,Uo=T;break;case 5:ui||Lo(g,f);case 6:T=Pi;var M=Uo;if(Pi=null,gl(l,f,g),Pi=T,Uo=M,Pi!==null)if(Uo)try{l=Pi,b=g.stateNode,l.nodeType===8?l.parentNode.removeChild(b):l.removeChild(b)}catch(z){kr(g,f,z)}else try{Pi.removeChild(g.stateNode)}catch(z){kr(g,f,z)}break;case 18:Pi!==null&&(Uo?(f=Pi,g=g.stateNode,f.nodeType===8?NS(f.parentNode,g):f.nodeType===1&&NS(f,g),Pm(f)):NS(Pi,g.stateNode));break;case 4:b=Pi,T=Uo,Pi=g.stateNode.containerInfo,Uo=!0,gl(l,f,g),Pi=b,Uo=T;break;case 0:case 11:case 14:case 15:ui||_u(2,g,f),ui||_u(4,g,f),gl(l,f,g);break;case 1:ui||(Lo(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"&&B8(g,f,b)),gl(l,f,g);break;case 21:gl(l,f,g);break;case 22:ui||Lo(g,f),ui=(b=ui)||g.memoizedState!==null,gl(l,f,g),ui=b;break;default:gl(l,f,g)}}function V8(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Pm(l)}catch(g){kr(f,f.return,g)}}function EY(l){switch(l.tag){case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new K8),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new K8),f;default:throw Error(r(435,l.tag))}}function Qx(l,f){var g=EY(l);f.forEach(function(b){var T=kY.bind(null,l,b);g.has(b)||(g.add(b),b.then(T,T))})}function va(l,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var T=g[b],M=l,z=f,ie=z;e:for(;ie!==null;){switch(ie.tag){case 27:case 5:Pi=ie.stateNode,Uo=!1;break e;case 3:Pi=ie.stateNode.containerInfo,Uo=!0;break e;case 4:Pi=ie.stateNode.containerInfo,Uo=!0;break e}ie=ie.return}if(Pi===null)throw Error(r(160));q8(M,z,T),Pi=null,Uo=!1,M=T.alternate,M!==null&&(M.return=null),T.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)X8(f,l),f=f.sibling}var Za=null;function X8(l,f){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:va(f,l),wa(l),b&4&&(_u(3,l,l.return),hm(3,l),_u(5,l,l.return));break;case 1:va(f,l),wa(l),b&512&&(ui||g===null||Lo(g,g.return)),b&64&&pl&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var T=Za;if(va(f,l),wa(l),b&512&&(ui||g===null||Lo(g,g.return)),b&4){var M=g!==null?g.memoizedState:null;if(b=l.memoizedState,g===null)if(b===null)if(l.stateNode===null){e:{b=l.type,g=l.memoizedProps,T=T.ownerDocument||T;t:switch(b){case"title":M=T.getElementsByTagName("title")[0],(!M||M[Ze]||M[fe]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=T.createElement(b),T.head.insertBefore(M,T.querySelector("head > title"))),ds(M,b,g),M[fe]=l,Ct(M),b=M;break e;case"link":var z=$P("link","href",T).get(b+(g.href||""));if(z){for(var ie=0;ie<z.length;ie++)if(M=z[ie],M.getAttribute("href")===(g.href==null?null:g.href)&&M.getAttribute("rel")===(g.rel==null?null:g.rel)&&M.getAttribute("title")===(g.title==null?null:g.title)&&M.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){z.splice(ie,1);break t}}M=T.createElement(b),ds(M,b,g),T.head.appendChild(M);break;case"meta":if(z=$P("meta","content",T).get(b+(g.content||""))){for(ie=0;ie<z.length;ie++)if(M=z[ie],M.getAttribute("content")===(g.content==null?null:""+g.content)&&M.getAttribute("name")===(g.name==null?null:g.name)&&M.getAttribute("property")===(g.property==null?null:g.property)&&M.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&M.getAttribute("charset")===(g.charSet==null?null:g.charSet)){z.splice(ie,1);break t}}M=T.createElement(b),ds(M,b,g),T.head.appendChild(M);break;default:throw Error(r(468,b))}M[fe]=l,Ct(M),b=M}l.stateNode=b}else jP(T,l.type,l.stateNode);else l.stateNode=BP(T,b,l.memoizedProps);else M!==b?(M===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):M.count--,b===null?jP(T,l.type,l.stateNode):BP(T,b,l.memoizedProps)):b===null&&l.stateNode!==null&&j8(l,l.memoizedProps,g.memoizedProps)}break;case 27:if(b&4&&l.alternate===null){T=l.stateNode,M=l.memoizedProps;try{for(var he=T.firstChild;he;){var Se=he.nextSibling,He=he.nodeName;he[Ze]||He==="HEAD"||He==="BODY"||He==="SCRIPT"||He==="STYLE"||He==="LINK"&&he.rel.toLowerCase()==="stylesheet"||T.removeChild(he),he=Se}for(var et=l.type,Me=T.attributes;Me.length;)T.removeAttributeNode(Me[0]);ds(T,et,M),T[fe]=l,T[ye]=M}catch(Vt){kr(l,l.return,Vt)}}case 5:if(va(f,l),wa(l),b&512&&(ui||g===null||Lo(g,g.return)),l.flags&32){T=l.stateNode;try{dn(T,"")}catch(Vt){kr(l,l.return,Vt)}}b&4&&l.stateNode!=null&&(T=l.memoizedProps,j8(l,T,g!==null?g.memoizedProps:T)),b&1024&&(Zx=!0);break;case 6:if(va(f,l),wa(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,g=l.stateNode;try{g.nodeValue=b}catch(Vt){kr(l,l.return,Vt)}}break;case 3:if(cb=null,T=Za,Za=ob(f.containerInfo),va(f,l),Za=T,wa(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{Pm(f.containerInfo)}catch(Vt){kr(l,l.return,Vt)}Zx&&(Zx=!1,G8(l));break;case 4:b=Za,Za=ob(l.stateNode.containerInfo),va(f,l),wa(l),Za=b;break;case 12:va(f,l),wa(l);break;case 13:va(f,l),wa(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(cS=Ht()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Qx(l,b)));break;case 22:if(b&512&&(ui||g===null||Lo(g,g.return)),he=l.memoizedState!==null,Se=g!==null&&g.memoizedState!==null,He=pl,et=ui,pl=He||he,ui=et||Se,va(f,l),ui=et,pl=He,wa(l),f=l.stateNode,f._current=l,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,b&8192&&(f._visibility=he?f._visibility&-2:f._visibility|1,he&&(f=pl||ui,g===null||Se||f||_p(l)),l.memoizedProps===null||l.memoizedProps.mode!=="manual"))e:for(g=null,f=l;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){Se=g=f;try{if(T=Se.stateNode,he)M=T.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{z=Se.stateNode,ie=Se.memoizedProps.style;var Ke=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;z.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Vt){kr(Se,Se.return,Vt)}}}else if(f.tag===6){if(g===null){Se=f;try{Se.stateNode.nodeValue=he?"":Se.memoizedProps}catch(Vt){kr(Se,Se.return,Vt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=l.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,Qx(l,g))));break;case 19:va(f,l),wa(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Qx(l,b)));break;case 21:break;default:va(f,l),wa(l)}}function wa(l){var f=l.flags;if(f&2){try{if(l.tag!==27){e:{for(var g=l.return;g!==null;){if(F8(g)){var b=g;break e}g=g.return}throw Error(r(160))}switch(b.tag){case 27:var T=b.stateNode,M=Jx(l);zw(l,M,T);break;case 5:var z=b.stateNode;b.flags&32&&(dn(z,""),b.flags&=-33);var ie=Jx(l);zw(l,ie,z);break;case 3:case 4:var he=b.stateNode.containerInfo,Se=Jx(l);Yx(l,Se,he);break;default:throw Error(r(161))}}}catch(He){kr(l,l.return,He)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function G8(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;G8(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function ml(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)H8(l,f.alternate,f),f=f.sibling}function _p(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:_u(4,f,f.return),_p(f);break;case 1:Lo(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&B8(f,f.return,g),_p(f);break;case 26:case 27:case 5:Lo(f,f.return),_p(f);break;case 22:Lo(f,f.return),f.memoizedState===null&&_p(f);break;default:_p(f)}l=l.sibling}}function Cu(l,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,T=l,M=f,z=M.flags;switch(M.tag){case 0:case 11:case 15:Cu(T,M,g),hm(4,M);break;case 1:if(Cu(T,M,g),b=M,T=b.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Se){kr(b,b.return,Se)}if(b=M,T=b.updateQueue,T!==null){var ie=b.stateNode;try{var he=T.shared.hiddenCallbacks;if(he!==null)for(T.shared.hiddenCallbacks=null,T=0;T<he.length;T++)M8(he[T],ie)}catch(Se){kr(b,b.return,Se)}}g&&z&64&&U8(M),jd(M,M.return);break;case 26:case 27:case 5:Cu(T,M,g),g&&b===null&&z&4&&$8(M),jd(M,M.return);break;case 12:Cu(T,M,g);break;case 13:Cu(T,M,g),g&&z&4&&V8(T,M);break;case 22:M.memoizedState===null&&Cu(T,M,g),jd(M,M.return);break;default:Cu(T,M,g)}f=f.sibling}}function eS(l,f){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&rm(g))}function tS(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&rm(l))}function xu(l,f,g,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)J8(l,f,g,b),f=f.sibling}function J8(l,f,g,b){var T=f.flags;switch(f.tag){case 0:case 11:case 15:xu(l,f,g,b),T&2048&&hm(9,f);break;case 3:xu(l,f,g,b),T&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&rm(l)));break;case 12:if(T&2048){xu(l,f,g,b),l=f.stateNode;try{var M=f.memoizedProps,z=M.id,ie=M.onPostCommit;typeof ie=="function"&&ie(z,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(he){kr(f,f.return,he)}}else xu(l,f,g,b);break;case 23:break;case 22:M=f.stateNode,f.memoizedState!==null?M._visibility&4?xu(l,f,g,b):pm(l,f):M._visibility&4?xu(l,f,g,b):(M._visibility|=4,Cp(l,f,g,b,(f.subtreeFlags&10256)!==0)),T&2048&&eS(f.alternate,f);break;case 24:xu(l,f,g,b),T&2048&&tS(f.alternate,f);break;default:xu(l,f,g,b)}}function Cp(l,f,g,b,T){for(T=T&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var M=l,z=f,ie=g,he=b,Se=z.flags;switch(z.tag){case 0:case 11:case 15:Cp(M,z,ie,he,T),hm(8,z);break;case 23:break;case 22:var He=z.stateNode;z.memoizedState!==null?He._visibility&4?Cp(M,z,ie,he,T):pm(M,z):(He._visibility|=4,Cp(M,z,ie,he,T)),T&&Se&2048&&eS(z.alternate,z);break;case 24:Cp(M,z,ie,he,T),T&&Se&2048&&tS(z.alternate,z);break;default:Cp(M,z,ie,he,T)}f=f.sibling}}function pm(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=l,b=f,T=b.flags;switch(b.tag){case 22:pm(g,b),T&2048&&eS(b.alternate,b);break;case 24:pm(g,b),T&2048&&tS(b.alternate,b);break;default:pm(g,b)}f=f.sibling}}var gm=8192;function xp(l){if(l.subtreeFlags&gm)for(l=l.child;l!==null;)Y8(l),l=l.sibling}function Y8(l){switch(l.tag){case 26:xp(l),l.flags&gm&&l.memoizedState!==null&&lZ(Za,l.memoizedState,l.memoizedProps);break;case 5:xp(l);break;case 3:case 4:var f=Za;Za=ob(l.stateNode.containerInfo),xp(l),Za=f;break;case 22:l.memoizedState===null&&(f=l.alternate,f!==null&&f.memoizedState!==null?(f=gm,gm=16777216,xp(l),gm=f):xp(l));break;default:xp(l)}}function Z8(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function mm(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];Ji=b,eP(b,l)}Z8(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Q8(l),l=l.sibling}function Q8(l){switch(l.tag){case 0:case 11:case 15:mm(l),l.flags&2048&&_u(9,l,l.return);break;case 3:mm(l);break;case 12:mm(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&4&&(l.return===null||l.return.tag!==13)?(f._visibility&=-5,qw(l)):mm(l);break;default:mm(l)}}function qw(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];Ji=b,eP(b,l)}Z8(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:_u(8,f,f.return),qw(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,qw(f));break;default:qw(f)}l=l.sibling}}function eP(l,f){for(;Ji!==null;){var g=Ji;switch(g.tag){case 0:case 11:case 15:_u(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:rm(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,Ji=b;else e:for(g=l;Ji!==null;){b=Ji;var T=b.sibling,M=b.return;if(z8(b),b===g){Ji=null;break e}if(T!==null){T.return=M,Ji=T;break e}Ji=M}}}function _Y(l,f,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(l,f,g,b){return new _Y(l,f,g,b)}function nS(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Su(l,f){var g=l.alternate;return g===null?(g=ba(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&31457280,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function tP(l,f){l.flags&=31457282;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,f=g.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Vw(l,f,g,b,T,M){var z=0;if(b=l,typeof l=="function")nS(l)&&(z=1);else if(typeof l=="string")z=aZ(l,g,te.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case c:return Fd(g.children,T,M,f);case u:z=8,T|=24;break;case d:return l=ba(12,g,f,T|2),l.elementType=d,l.lanes=M,l;case v:return l=ba(13,g,f,T),l.elementType=v,l.lanes=M,l;case w:return l=ba(19,g,f,T),l.elementType=w,l.lanes=M,l;case O:return nP(g,T,M,f);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case h:case m:z=10;break e;case p:z=9;break e;case y:z=11;break e;case C:z=14;break e;case _:z=16,b=null;break e}z=29,g=Error(r(130,l===null?"null":typeof l,"")),b=null}return f=ba(z,g,f,T),f.elementType=l,f.type=b,f.lanes=M,f}function Fd(l,f,g,b){return l=ba(7,l,b,f),l.lanes=g,l}function nP(l,f,g,b){l=ba(22,l,b,f),l.elementType=O,l.lanes=g;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=T._current;if(M===null)throw Error(r(456));if((T._pendingVisibility&2)===0){var z=hu(M,2);z!==null&&(T._pendingVisibility|=2,to(z,M,2))}},attach:function(){var M=T._current;if(M===null)throw Error(r(456));if((T._pendingVisibility&2)!==0){var z=hu(M,2);z!==null&&(T._pendingVisibility&=-3,to(z,M,2))}}};return l.stateNode=T,l}function rS(l,f,g){return l=ba(6,l,null,f),l.lanes=g,l}function iS(l,f,g){return f=ba(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}function yl(l){l.flags|=4}function rP(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!FP(f)){if(f=ya.current,f!==null&&((Yn&4194176)===Yn?Ac!==null:(Yn&62914560)!==Yn&&(Yn&536870912)===0||f!==Ac))throw em=lx,bN;l.flags|=8192}}function Xw(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?me():536870912,l.lanes|=f,Op|=f)}function ym(l,f){if(!ir)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function ti(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(f)for(var T=l.child;T!==null;)g|=T.lanes|T.childLanes,b|=T.subtreeFlags&31457280,b|=T.flags&31457280,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)g|=T.lanes|T.childLanes,b|=T.subtreeFlags,b|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=b,l.childLanes=g,f}function CY(l,f,g){var b=f.pendingProps;switch(ax(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(f),null;case 1:return ti(f),null;case 3:return g=f.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),hl(Ki),Et(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Jg(f)?yl(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ya!==null&&(fS(Ya),Ya=null))),ti(f),null;case 26:return g=f.memoizedState,l===null?(yl(f),g!==null?(ti(f),rP(f,g)):(ti(f),f.flags&=-16777217)):g?g!==l.memoizedState?(yl(f),ti(f),rP(f,g)):(ti(f),f.flags&=-16777217):(l.memoizedProps!==b&&yl(f),ti(f),f.flags&=-16777217),null;case 27:at(f),g=Ne.current;var T=f.type;if(l!==null&&f.stateNode!=null)l.memoizedProps!==b&&yl(f);else{if(!b){if(f.stateNode===null)throw Error(r(166));return ti(f),null}l=te.current,Jg(f)?vN(f):(l=DP(T,b,g),f.stateNode=l,yl(f))}return ti(f),null;case 5:if(at(f),g=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==b&&yl(f);else{if(!b){if(f.stateNode===null)throw Error(r(166));return ti(f),null}if(l=te.current,Jg(f))vN(f);else{switch(T=sb(Ne.current),l){case 1:l=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=T.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof b.is=="string"?T.createElement("select",{is:b.is}):T.createElement("select"),b.multiple?l.multiple=!0:b.size&&(l.size=b.size);break;default:l=typeof b.is=="string"?T.createElement(g,{is:b.is}):T.createElement(g)}}l[fe]=f,l[ye]=b;e:for(T=f.child;T!==null;){if(T.tag===5||T.tag===6)l.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===f)break e;for(;T.sibling===null;){if(T.return===null||T.return===f)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}f.stateNode=l;e:switch(ds(l,g,b),g){case"button":case"input":case"select":case"textarea":l=!!b.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&yl(f)}}return ti(f),f.flags&=-16777217,null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==b&&yl(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(r(166));if(l=Ne.current,Jg(f)){if(l=f.stateNode,g=f.memoizedProps,b=null,T=eo,T!==null)switch(T.tag){case 27:case 5:b=T.memoizedProps}l[fe]=f,l=!!(l.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||AP(l.nodeValue,g)),l||Pd(f)}else l=sb(l).createTextNode(b),l[fe]=f,f.stateNode=l}return ti(f),null;case 13:if(b=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(T=Jg(f),b!==null&&b.dehydrated!==null){if(l===null){if(!T)throw Error(r(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[fe]=f}else Yg(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ti(f),T=!1}else Ya!==null&&(fS(Ya),Ya=null),T=!0;if(!T)return f.flags&256?(ll(f),f):(ll(f),null)}if(ll(f),(f.flags&128)!==0)return f.lanes=g,f;if(g=b!==null,l=l!==null&&l.memoizedState!==null,g){b=f.child,T=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(T=b.alternate.memoizedState.cachePool.pool);var M=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==T&&(b.flags|=2048)}return g!==l&&g&&(f.child.flags|=8192),Xw(f,f.updateQueue),ti(f),null;case 4:return Et(),l===null&&CS(f.stateNode.containerInfo),ti(f),null;case 10:return hl(f.type),ti(f),null;case 19:if(ee(Fi),T=f.memoizedState,T===null)return ti(f),null;if(b=(f.flags&128)!==0,M=T.rendering,M===null)if(b)ym(T,!1);else{if(di!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(M=Pw(l),M!==null){for(f.flags|=128,ym(T,!1),l=M.updateQueue,f.updateQueue=l,Xw(f,l),f.subtreeFlags=0,l=g,g=f.child;g!==null;)tP(g,l),g=g.sibling;return B(Fi,Fi.current&1|2),f.child}l=l.sibling}T.tail!==null&&Ht()>Gw&&(f.flags|=128,b=!0,ym(T,!1),f.lanes=4194304)}else{if(!b)if(l=Pw(M),l!==null){if(f.flags|=128,b=!0,l=l.updateQueue,f.updateQueue=l,Xw(f,l),ym(T,!0),T.tail===null&&T.tailMode==="hidden"&&!M.alternate&&!ir)return ti(f),null}else 2*Ht()-T.renderingStartTime>Gw&&g!==536870912&&(f.flags|=128,b=!0,ym(T,!1),f.lanes=4194304);T.isBackwards?(M.sibling=f.child,f.child=M):(l=T.last,l!==null?l.sibling=M:f.child=M,T.last=M)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=Ht(),f.sibling=null,l=Fi.current,B(Fi,b?l&1|2:l&1),f):(ti(f),null);case 22:case 23:return ll(f),dx(),b=f.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(g&536870912)!==0&&(f.flags&128)===0&&(ti(f),f.subtreeFlags&6&&(f.flags|=8192)):ti(f),g=f.updateQueue,g!==null&&Xw(f,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048),l!==null&&ee(Dd),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),hl(Ki),ti(f),null;case 25:return null}throw Error(r(156,f.tag))}function xY(l,f){switch(ax(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return hl(Ki),Et(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return at(f),null;case 13:if(ll(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Yg()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return ee(Fi),null;case 4:return Et(),null;case 10:return hl(f.type),null;case 22:case 23:return ll(f),dx(),l!==null&&ee(Dd),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return hl(Ki),null;case 25:return null;default:return null}}function iP(l,f){switch(ax(f),f.tag){case 3:hl(Ki),Et();break;case 26:case 27:case 5:at(f);break;case 4:Et();break;case 13:ll(f);break;case 19:ee(Fi);break;case 10:hl(f.type);break;case 22:case 23:ll(f),dx(),l!==null&&ee(Dd);break;case 24:hl(Ki)}}var SY={getCacheForType:function(l){var f=Ms(Ki),g=f.data.get(l);return g===void 0&&(g=l(),f.data.set(l,g)),g}},OY=typeof WeakMap=="function"?WeakMap:Map,ni=0,Kr=null,jn=null,Yn=0,Wr=0,Bo=null,vl=!1,Sp=!1,sS=!1,wl=0,di=0,Ou=0,Kd=0,oS=0,Ea=0,Op=0,vm=null,Rc=null,aS=!1,cS=0,Gw=1/0,Jw=null,Au=null,Yw=!1,Wd=null,wm=0,lS=0,uS=null,bm=0,dS=null;function $o(){if((ni&2)!==0&&Yn!==0)return Yn&-Yn;if(A.T!==null){var l=yp;return l!==0?l:wS()}return V()}function sP(){Ea===0&&(Ea=(Yn&536870912)===0||ir?Sr():536870912);var l=ya.current;return l!==null&&(l.flags|=32),Ea}function to(l,f,g){(l===Kr&&Wr===2||l.cancelPendingCommit!==null)&&(Ap(l,0),bl(l,Yn,Ea,!1)),Te(l,g),((ni&2)===0||l!==Kr)&&(l===Kr&&((ni&2)===0&&(Kd|=g),di===4&&bl(l,Yn,Ea,!1)),Nc(l))}function oP(l,f,g){if((ni&6)!==0)throw Error(r(327));var b=!g&&(f&60)===0&&(f&l.expiredLanes)===0||Dn(l,f),T=b?RY(l,f):gS(l,f,!0),M=b;do{if(T===0){Sp&&!b&&bl(l,f,0,!1);break}else if(T===6)bl(l,f,0,!vl);else{if(g=l.current.alternate,M&&!AY(g)){T=gS(l,f,!1),M=!1;continue}if(T===2){if(M=f,l.errorRecoveryDisabledLanes&M)var z=0;else z=l.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){f=z;e:{var ie=l;T=vm;var he=ie.current.memoizedState.isDehydrated;if(he&&(Ap(ie,z).flags|=256),z=gS(ie,z,!1),z!==2){if(sS&&!he){ie.errorRecoveryDisabledLanes|=M,Kd|=M,T=4;break e}M=Rc,Rc=T,M!==null&&fS(M)}T=z}if(M=!1,T!==2)continue}}if(T===1){Ap(l,0),bl(l,f,0,!0);break}e:{switch(b=l,T){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){bl(b,f,Ea,!vl);break e}break;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(r(329))}if(b.finishedWork=g,b.finishedLanes=f,(f&62914560)===f&&(M=cS+300-Ht(),10<M)){if(bl(b,f,Ea,!vl),Rn(b,0)!==0)break e;b.timeoutHandle=NP(aP.bind(null,b,g,Rc,Jw,aS,f,Ea,Kd,Op,vl,2,-0,0),M);break e}aP(b,g,Rc,Jw,aS,f,Ea,Kd,Op,vl,0,-0,0)}}break}while(!0);Nc(l)}function fS(l){Rc===null?Rc=l:Rc.push.apply(Rc,l)}function aP(l,f,g,b,T,M,z,ie,he,Se,He,et,Me){var Ke=f.subtreeFlags;if((Ke&8192||(Ke&16785408)===16785408)&&(Om={stylesheets:null,count:0,unsuspend:cZ},Y8(f),f=uZ(),f!==null)){l.cancelPendingCommit=f(pP.bind(null,l,g,b,T,z,ie,he,1,et,Me)),bl(l,M,z,!Se);return}pP(l,g,b,T,z,ie,he,He,et,Me)}function AY(l){for(var f=l;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var T=g[b],M=T.getSnapshot;T=T.value;try{if(!Mo(M(),T))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function bl(l,f,g,b){f&=~oS,f&=~Kd,l.suspendedLanes|=f,l.pingedLanes&=~f,b&&(l.warmLanes|=f),b=l.expirationTimes;for(var T=f;0<T;){var M=31-Bn(T),z=1<<M;b[M]=-1,T&=~z}g!==0&&Ge(l,g,f)}function Zw(){return(ni&6)===0?(Em(0),!1):!0}function hS(){if(jn!==null){if(Wr===0)var l=jn.return;else l=jn,fl=Bd=null,wx(l),gp=null,tm=0,l=jn;for(;l!==null;)iP(l.alternate,l),l=l.return;jn=null}}function Ap(l,f){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,qY(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),hS(),Kr=l,jn=g=Su(l.current,null),Yn=f,Wr=0,Bo=null,vl=!1,Sp=Dn(l,f),sS=!1,Op=Ea=oS=Kd=Ou=di=0,Rc=vm=null,aS=!1,(f&8)!==0&&(f|=f&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=f;0<b;){var T=31-Bn(b),M=1<<T;f|=l[T],b&=~M}return wl=f,_w(),g}function cP(l,f){kn=null,A.H=Tc,f===Qg?(f=CN(),Wr=3):f===bN?(f=CN(),Wr=4):Wr=f===E8?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Bo=f,jn===null&&(di=1,Kw(l,pa(f,l.current)))}function lP(){var l=A.H;return A.H=Tc,l===null?Tc:l}function uP(){var l=A.A;return A.A=SY,l}function pS(){di=4,vl||(Yn&4194176)!==Yn&&ya.current!==null||(Sp=!0),(Ou&134217727)===0&&(Kd&134217727)===0||Kr===null||bl(Kr,Yn,Ea,!1)}function gS(l,f,g){var b=ni;ni|=2;var T=lP(),M=uP();(Kr!==l||Yn!==f)&&(Jw=null,Ap(l,f)),f=!1;var z=di;e:do try{if(Wr!==0&&jn!==null){var ie=jn,he=Bo;switch(Wr){case 8:hS(),z=6;break e;case 3:case 2:case 6:ya.current===null&&(f=!0);var Se=Wr;if(Wr=0,Bo=null,Tp(l,ie,he,Se),g&&Sp){z=0;break e}break;default:Se=Wr,Wr=0,Bo=null,Tp(l,ie,he,Se)}}TY(),z=di;break}catch(He){cP(l,He)}while(!0);return f&&l.shellSuspendCounter++,fl=Bd=null,ni=b,A.H=T,A.A=M,jn===null&&(Kr=null,Yn=0,_w()),z}function TY(){for(;jn!==null;)dP(jn)}function RY(l,f){var g=ni;ni|=2;var b=lP(),T=uP();Kr!==l||Yn!==f?(Jw=null,Gw=Ht()+500,Ap(l,f)):Sp=Dn(l,f);e:do try{if(Wr!==0&&jn!==null){f=jn;var M=Bo;t:switch(Wr){case 1:Wr=0,Bo=null,Tp(l,f,M,1);break;case 2:if(EN(M)){Wr=0,Bo=null,fP(f);break}f=function(){Wr===2&&Kr===l&&(Wr=7),Nc(l)},M.then(f,f);break e;case 3:Wr=7;break e;case 4:Wr=5;break e;case 7:EN(M)?(Wr=0,Bo=null,fP(f)):(Wr=0,Bo=null,Tp(l,f,M,7));break;case 5:var z=null;switch(jn.tag){case 26:z=jn.memoizedState;case 5:case 27:var ie=jn;if(!z||FP(z)){Wr=0,Bo=null;var he=ie.sibling;if(he!==null)jn=he;else{var Se=ie.return;Se!==null?(jn=Se,Qw(Se)):jn=null}break t}}Wr=0,Bo=null,Tp(l,f,M,5);break;case 6:Wr=0,Bo=null,Tp(l,f,M,6);break;case 8:hS(),di=6;break e;default:throw Error(r(462))}}NY();break}catch(He){cP(l,He)}while(!0);return fl=Bd=null,A.H=b,A.A=T,ni=g,jn!==null?0:(Kr=null,Yn=0,_w(),di)}function NY(){for(;jn!==null&&!Gt();)dP(jn)}function dP(l){var f=D8(l.alternate,l,wl);l.memoizedProps=l.pendingProps,f===null?Qw(l):jn=f}function fP(l){var f=l,g=f.alternate;switch(f.tag){case 15:case 0:f=A8(g,f,f.pendingProps,f.type,void 0,Yn);break;case 11:f=A8(g,f,f.pendingProps,f.type.render,f.ref,Yn);break;case 5:wx(f);default:iP(g,f),f=jn=tP(f,wl),f=D8(g,f,wl)}l.memoizedProps=l.pendingProps,f===null?Qw(l):jn=f}function Tp(l,f,g,b){fl=Bd=null,wx(f),gp=null,tm=0;var T=f.return;try{if(vY(l,T,f,g,Yn)){di=1,Kw(l,pa(g,l.current)),jn=null;return}}catch(M){if(T!==null)throw jn=T,M;di=1,Kw(l,pa(g,l.current)),jn=null;return}f.flags&32768?(ir||b===1?l=!0:Sp||(Yn&536870912)!==0?l=!1:(vl=l=!0,(b===2||b===3||b===6)&&(b=ya.current,b!==null&&b.tag===13&&(b.flags|=16384))),hP(f,l)):Qw(f)}function Qw(l){var f=l;do{if((f.flags&32768)!==0){hP(f,vl);return}l=f.return;var g=CY(f.alternate,f,wl);if(g!==null){jn=g;return}if(f=f.sibling,f!==null){jn=f;return}jn=f=l}while(f!==null);di===0&&(di=5)}function hP(l,f){do{var g=xY(l.alternate,l);if(g!==null){g.flags&=32767,jn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(l=l.sibling,l!==null)){jn=l;return}jn=l=g}while(l!==null);di=6,jn=null}function pP(l,f,g,b,T,M,z,ie,he,Se){var He=A.T,et=oe.p;try{oe.p=2,A.T=null,PY(l,f,g,b,et,T,M,z,ie,he,Se)}finally{A.T=He,oe.p=et}}function PY(l,f,g,b,T,M,z,ie){do Rp();while(Wd!==null);if((ni&6)!==0)throw Error(r(327));var he=l.finishedWork;if(b=l.finishedLanes,he===null)return null;if(l.finishedWork=null,l.finishedLanes=0,he===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var Se=he.lanes|he.childLanes;if(Se|=ix,je(l,b,Se,M,z,ie),l===Kr&&(jn=Kr=null,Yn=0),(he.subtreeFlags&10256)===0&&(he.flags&10256)===0||Yw||(Yw=!0,lS=Se,uS=g,MY(vt,function(){return Rp(),null})),g=(he.flags&15990)!==0,(he.subtreeFlags&15990)!==0||g?(g=A.T,A.T=null,M=oe.p,oe.p=2,z=ni,ni|=4,bY(l,he),X8(he,l),tY(AS,l.containerInfo),db=!!OS,AS=OS=null,l.current=he,H8(l,he.alternate,he),Wt(),ni=z,oe.p=M,A.T=g):l.current=he,Yw?(Yw=!1,Wd=l,wm=b):gP(l,Se),Se=l.pendingLanes,Se===0&&(Au=null),xr(he.stateNode),Nc(l),f!==null)for(T=l.onRecoverableError,he=0;he<f.length;he++)Se=f[he],T(Se.value,{componentStack:Se.stack});return(wm&3)!==0&&Rp(),Se=l.pendingLanes,(b&4194218)!==0&&(Se&42)!==0?l===dS?bm++:(bm=0,dS=l):bm=0,Em(0),null}function gP(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,rm(f)))}function Rp(){if(Wd!==null){var l=Wd,f=lS;lS=0;var g=J(wm),b=A.T,T=oe.p;try{if(oe.p=32>g?32:g,A.T=null,Wd===null)var M=!1;else{g=uS,uS=null;var z=Wd,ie=wm;if(Wd=null,wm=0,(ni&6)!==0)throw Error(r(331));var he=ni;if(ni|=4,Q8(z.current),J8(z,z.current,ie,g),ni=he,Em(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(_t,z)}catch{}M=!0}return M}finally{oe.p=T,A.T=b,gP(l,f)}}return!1}function mP(l,f,g){f=pa(g,f),f=Dx(l.stateNode,f,2),l=Eu(l,f,2),l!==null&&(Te(l,2),Nc(l))}function kr(l,f,g){if(l.tag===3)mP(l,l,g);else for(;f!==null;){if(f.tag===3){mP(f,l,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Au===null||!Au.has(b))){l=pa(g,l),g=w8(2),b=Eu(f,g,2),b!==null&&(b8(g,b,f,l),Te(b,2),Nc(b));break}}f=f.return}}function mS(l,f,g){var b=l.pingCache;if(b===null){b=l.pingCache=new OY;var T=new Set;b.set(f,T)}else T=b.get(f),T===void 0&&(T=new Set,b.set(f,T));T.has(g)||(sS=!0,T.add(g),l=IY.bind(null,l,f,g),f.then(l,l))}function IY(l,f,g){var b=l.pingCache;b!==null&&b.delete(f),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Kr===l&&(Yn&g)===g&&(di===4||di===3&&(Yn&62914560)===Yn&&300>Ht()-cS?(ni&2)===0&&Ap(l,0):oS|=g,Op===Yn&&(Op=0)),Nc(l)}function yP(l,f){f===0&&(f=me()),l=hu(l,f),l!==null&&(Te(l,f),Nc(l))}function DY(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),yP(l,g)}function kY(l,f){var g=0;switch(l.tag){case 13:var b=l.stateNode,T=l.memoizedState;T!==null&&(g=T.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(f),yP(l,g)}function MY(l,f){return en(l,f)}var eb=null,Np=null,yS=!1,tb=!1,vS=!1,Hd=0;function Nc(l){l!==Np&&l.next===null&&(Np===null?eb=Np=l:Np=Np.next=l),tb=!0,yS||(yS=!0,UY(LY))}function Em(l,f){if(!vS&&tb){vS=!0;do for(var g=!1,b=eb;b!==null;){if(l!==0){var T=b.pendingLanes;if(T===0)var M=0;else{var z=b.suspendedLanes,ie=b.pingedLanes;M=(1<<31-Bn(42|l)+1)-1,M&=T&~(z&~ie),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(g=!0,bP(b,M))}else M=Yn,M=Rn(b,b===Kr?M:0),(M&3)===0||Dn(b,M)||(g=!0,bP(b,M));b=b.next}while(g);vS=!1}}function LY(){tb=yS=!1;var l=0;Hd!==0&&(zY()&&(l=Hd),Hd=0);for(var f=Ht(),g=null,b=eb;b!==null;){var T=b.next,M=vP(b,f);M===0?(b.next=null,g===null?eb=T:g.next=T,T===null&&(Np=g)):(g=b,(l!==0||(M&3)!==0)&&(tb=!0)),b=T}Em(l)}function vP(l,f){for(var g=l.suspendedLanes,b=l.pingedLanes,T=l.expirationTimes,M=l.pendingLanes&-62914561;0<M;){var z=31-Bn(M),ie=1<<z,he=T[z];he===-1?((ie&g)===0||(ie&b)!==0)&&(T[z]=rr(ie,f)):he<=f&&(l.expiredLanes|=ie),M&=~ie}if(f=Kr,g=Yn,g=Rn(l,l===f?g:0),b=l.callbackNode,g===0||l===f&&Wr===2||l.cancelPendingCommit!==null)return b!==null&&b!==null&&ln(b),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Dn(l,g)){if(f=g&-g,f===l.callbackPriority)return f;switch(b!==null&&ln(b),J(g)){case 2:case 8:g=yt;break;case 32:g=vt;break;case 268435456:g=In;break;default:g=vt}return b=wP.bind(null,l),g=en(g,b),l.callbackPriority=f,l.callbackNode=g,f}return b!==null&&b!==null&&ln(b),l.callbackPriority=2,l.callbackNode=null,2}function wP(l,f){var g=l.callbackNode;if(Rp()&&l.callbackNode!==g)return null;var b=Yn;return b=Rn(l,l===Kr?b:0),b===0?null:(oP(l,b,f),vP(l,Ht()),l.callbackNode!=null&&l.callbackNode===g?wP.bind(null,l):null)}function bP(l,f){if(Rp())return null;oP(l,f,!0)}function UY(l){VY(function(){(ni&6)!==0?en(ct,l):l()})}function wS(){return Hd===0&&(Hd=Sr()),Hd}function EP(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ip(""+l)}function _P(l,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,l.id&&g.setAttribute("form",l.id),f.parentNode.insertBefore(g,f),l=new FormData(l),g.parentNode.removeChild(g),l}function BY(l,f,g,b,T){if(f==="submit"&&g&&g.stateNode===T){var M=EP((T[ye]||null).action),z=b.submitter;z&&(f=(f=z[ye]||null)?EP(f.formAction):z.getAttribute("formAction"),f!==null&&(M=f,z=null));var ie=new ww("action","action",null,b,T);l.push({event:ie,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Hd!==0){var he=z?_P(T,z):new FormData(T);Tx(g,{pending:!0,data:he,method:T.method,action:M},null,he)}}else typeof M=="function"&&(ie.preventDefault(),he=z?_P(T,z):new FormData(T),Tx(g,{pending:!0,data:he,method:T.method,action:M},M,he))},currentTarget:T}]})}}for(var bS=0;bS<pN.length;bS++){var ES=pN[bS],$Y=ES.toLowerCase(),jY=ES[0].toUpperCase()+ES.slice(1);Ja($Y,"on"+jY)}Ja(lN,"onAnimationEnd"),Ja(uN,"onAnimationIteration"),Ja(dN,"onAnimationStart"),Ja("dblclick","onDoubleClick"),Ja("focusin","onFocus"),Ja("focusout","onBlur"),Ja(rY,"onTransitionRun"),Ja(iY,"onTransitionStart"),Ja(sY,"onTransitionCancel"),Ja(fN,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),At("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),At("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),At("onBeforeInput",["compositionend","keypress","textInput","paste"]),At("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_m));function CP(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],T=b.event;b=b.listeners;e:{var M=void 0;if(f)for(var z=b.length-1;0<=z;z--){var ie=b[z],he=ie.instance,Se=ie.currentTarget;if(ie=ie.listener,he!==M&&T.isPropagationStopped())break e;M=ie,T.currentTarget=Se;try{M(T)}catch(He){Fw(He)}T.currentTarget=null,M=he}else for(z=0;z<b.length;z++){if(ie=b[z],he=ie.instance,Se=ie.currentTarget,ie=ie.listener,he!==M&&T.isPropagationStopped())break e;M=ie,T.currentTarget=Se;try{M(T)}catch(He){Fw(He)}T.currentTarget=null,M=he}}}}function zn(l,f){var g=f[We];g===void 0&&(g=f[We]=new Set);var b=l+"__bubble";g.has(b)||(xP(f,l,2,!1),g.add(b))}function _S(l,f,g){var b=0;f&&(b|=4),xP(g,l,b,f)}var nb="_reactListening"+Math.random().toString(36).slice(2);function CS(l){if(!l[nb]){l[nb]=!0,Jt.forEach(function(g){g!=="selectionchange"&&(FY.has(g)||_S(g,!1,l),_S(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[nb]||(f[nb]=!0,_S("selectionchange",!1,f))}}function xP(l,f,g,b){switch(VP(f)){case 2:var T=hZ;break;case 8:T=pZ;break;default:T=LS}g=T.bind(null,f,g,l),T=void 0,!z2||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),b?T!==void 0?l.addEventListener(f,g,{capture:!0,passive:T}):l.addEventListener(f,g,!0):T!==void 0?l.addEventListener(f,g,{passive:T}):l.addEventListener(f,g,!1)}function xS(l,f,g,b,T){var M=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var z=b.tag;if(z===3||z===4){var ie=b.stateNode.containerInfo;if(ie===T||ie.nodeType===8&&ie.parentNode===T)break;if(z===4)for(z=b.return;z!==null;){var he=z.tag;if((he===3||he===4)&&(he=z.stateNode.containerInfo,he===T||he.nodeType===8&&he.parentNode===T))return;z=z.return}for(;ie!==null;){if(z=Ut(ie),z===null)return;if(he=z.tag,he===5||he===6||he===26||he===27){b=M=z;continue e}ie=ie.parentNode}}b=b.return}$6(function(){var Se=M,He=sp(g),et=[];e:{var Me=hN.get(l);if(Me!==void 0){var Ke=ww,Vt=l;switch(l){case"keypress":if(yw(g)===0)break e;case"keydown":case"keyup":Ke=kJ;break;case"focusin":Vt="focus",Ke=G2;break;case"focusout":Vt="blur",Ke=G2;break;case"beforeblur":case"afterblur":Ke=G2;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=K6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=_J;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=UJ;break;case lN:case uN:case dN:Ke=SJ;break;case fN:Ke=$J;break;case"scroll":case"scrollend":Ke=bJ;break;case"wheel":Ke=FJ;break;case"copy":case"cut":case"paste":Ke=AJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=H6;break;case"toggle":case"beforetoggle":Ke=WJ}var En=(f&4)!==0,fi=!En&&(l==="scroll"||l==="scrollend"),Oe=En?Me!==null?Me+"Capture":null:Me;En=[];for(var _e=Se,De;_e!==null;){var Je=_e;if(De=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||De===null||Oe===null||(Je=Fg(_e,Oe),Je!=null&&En.push(Cm(_e,Je,De))),fi)break;_e=_e.return}0<En.length&&(Me=new Ke(Me,Vt,null,g,He),et.push({event:Me,listeners:En}))}}if((f&7)===0){e:{if(Me=l==="mouseover"||l==="pointerover",Ke=l==="mouseout"||l==="pointerout",Me&&g!==jg&&(Vt=g.relatedTarget||g.fromElement)&&(Ut(Vt)||Vt[Ie]))break e;if((Ke||Me)&&(Me=He.window===He?He:(Me=He.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ke?(Vt=g.relatedTarget||g.toElement,Ke=Se,Vt=Vt?Ut(Vt):null,Vt!==null&&(fi=W(Vt),En=Vt.tag,Vt!==fi||En!==5&&En!==27&&En!==6)&&(Vt=null)):(Ke=null,Vt=Se),Ke!==Vt)){if(En=K6,Je="onMouseLeave",Oe="onMouseEnter",_e="mouse",(l==="pointerout"||l==="pointerover")&&(En=H6,Je="onPointerLeave",Oe="onPointerEnter",_e="pointer"),fi=Ke==null?Me:Bt(Ke),De=Vt==null?Me:Bt(Vt),Me=new En(Je,_e+"leave",Ke,g,He),Me.target=fi,Me.relatedTarget=De,Je=null,Ut(He)===Se&&(En=new En(Oe,_e+"enter",Vt,g,He),En.target=De,En.relatedTarget=fi,Je=En),fi=Je,Ke&&Vt)t:{for(En=Ke,Oe=Vt,_e=0,De=En;De;De=Pp(De))_e++;for(De=0,Je=Oe;Je;Je=Pp(Je))De++;for(;0<_e-De;)En=Pp(En),_e--;for(;0<De-_e;)Oe=Pp(Oe),De--;for(;_e--;){if(En===Oe||Oe!==null&&En===Oe.alternate)break t;En=Pp(En),Oe=Pp(Oe)}En=null}else En=null;Ke!==null&&SP(et,Me,Ke,En,!1),Vt!==null&&fi!==null&&SP(et,fi,Vt,En,!0)}}e:{if(Me=Se?Bt(Se):window,Ke=Me.nodeName&&Me.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Me.type==="file")var $t=Z6;else if(J6(Me))if(Q6)$t=QJ;else{$t=YJ;var Ln=JJ}else Ke=Me.nodeName,!Ke||Ke.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Se&&ci(Se.elementType)&&($t=Z6):$t=ZJ;if($t&&($t=$t(l,Se))){Y6(et,$t,g,He);break e}Ln&&Ln(l,Me,Se),l==="focusout"&&Se&&Me.type==="number"&&Se.memoizedProps.value!=null&&wt(Me,"number",Me.value)}switch(Ln=Se?Bt(Se):window,l){case"focusin":(J6(Ln)||Ln.contentEditable==="true")&&(lp=Ln,tx=Se,Gg=null);break;case"focusout":Gg=tx=lp=null;break;case"mousedown":nx=!0;break;case"contextmenu":case"mouseup":case"dragend":nx=!1,aN(et,g,He);break;case"selectionchange":if(nY)break;case"keydown":case"keyup":aN(et,g,He)}var Yt;if(Y2)e:{switch(l){case"compositionstart":var fn="onCompositionStart";break e;case"compositionend":fn="onCompositionEnd";break e;case"compositionupdate":fn="onCompositionUpdate";break e}fn=void 0}else cp?X6(l,g)&&(fn="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(fn="onCompositionStart");fn&&(z6&&g.locale!=="ko"&&(cp||fn!=="onCompositionStart"?fn==="onCompositionEnd"&&cp&&(Yt=j6()):(fu=He,q2="value"in fu?fu.value:fu.textContent,cp=!0)),Ln=rb(Se,fn),0<Ln.length&&(fn=new W6(fn,l,null,g,He),et.push({event:fn,listeners:Ln}),Yt?fn.data=Yt:(Yt=G6(g),Yt!==null&&(fn.data=Yt)))),(Yt=zJ?qJ(l,g):VJ(l,g))&&(fn=rb(Se,"onBeforeInput"),0<fn.length&&(Ln=new W6("onBeforeInput","beforeinput",null,g,He),et.push({event:Ln,listeners:fn}),Ln.data=Yt)),BY(et,l,Se,g,He)}CP(et,f)})}function Cm(l,f,g){return{instance:l,listener:f,currentTarget:g}}function rb(l,f){for(var g=f+"Capture",b=[];l!==null;){var T=l,M=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||M===null||(T=Fg(l,g),T!=null&&b.unshift(Cm(l,T,M)),T=Fg(l,f),T!=null&&b.push(Cm(l,T,M))),l=l.return}return b}function Pp(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function SP(l,f,g,b,T){for(var M=f._reactName,z=[];g!==null&&g!==b;){var ie=g,he=ie.alternate,Se=ie.stateNode;if(ie=ie.tag,he!==null&&he===b)break;ie!==5&&ie!==26&&ie!==27||Se===null||(he=Se,T?(Se=Fg(g,M),Se!=null&&z.unshift(Cm(g,Se,he))):T||(Se=Fg(g,M),Se!=null&&z.push(Cm(g,Se,he)))),g=g.return}z.length!==0&&l.push({event:f,listeners:z})}var KY=/\r\n?/g,WY=/\u0000|\uFFFD/g;function OP(l){return(typeof l=="string"?l:""+l).replace(KY,`
`).replace(WY,"")}function AP(l,f){return f=OP(f),OP(l)===f}function ib(){}function Rr(l,f,g,b,T,M){switch(g){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||dn(l,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&dn(l,""+b);break;case"className":q(l,"class",b);break;case"tabIndex":q(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":q(l,g,b);break;case"style":Fr(l,b,M);break;case"data":if(f!=="object"){q(l,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||g!=="href")){l.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=ip(""+b),l.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(g==="formAction"?(f!=="input"&&Rr(l,f,"name",T.name,T,null),Rr(l,f,"formEncType",T.formEncType,T,null),Rr(l,f,"formMethod",T.formMethod,T,null),Rr(l,f,"formTarget",T.formTarget,T,null)):(Rr(l,f,"encType",T.encType,T,null),Rr(l,f,"method",T.method,T,null),Rr(l,f,"target",T.target,T,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=ip(""+b),l.setAttribute(g,b);break;case"onClick":b!=null&&(l.onclick=ib);break;case"onScroll":b!=null&&zn("scroll",l);break;case"onScrollEnd":b!=null&&zn("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(T.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}g=ip(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""+b):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":b===!0?l.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,b):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(g,b):l.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(g):l.setAttribute(g,b);break;case"popover":zn("beforetoggle",l),zn("toggle",l),qe(l,"popover",b);break;case"xlinkActuate":ne(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":ne(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":ne(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":ne(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":ne(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":ne(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":ne(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":ne(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":ne(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":qe(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=li.get(g)||g,qe(l,g,b))}}function SS(l,f,g,b,T,M){switch(g){case"style":Fr(l,b,M);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(T.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"children":typeof b=="string"?dn(l,b):(typeof b=="number"||typeof b=="bigint")&&dn(l,""+b);break;case"onScroll":b!=null&&zn("scroll",l);break;case"onScrollEnd":b!=null&&zn("scrollend",l);break;case"onClick":b!=null&&(l.onclick=ib);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(T=g.endsWith("Capture"),f=g.slice(2,T?g.length-7:void 0),M=l[ye]||null,M=M!=null?M[g]:null,typeof M=="function"&&l.removeEventListener(f,M,T),typeof b=="function")){typeof M!="function"&&M!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(f,b,T);break e}g in l?l[g]=b:b===!0?l.setAttribute(g,""):qe(l,g,b)}}}function ds(l,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zn("error",l),zn("load",l);var b=!1,T=!1,M;for(M in g)if(g.hasOwnProperty(M)){var z=g[M];if(z!=null)switch(M){case"src":b=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Rr(l,f,M,z,g,null)}}T&&Rr(l,f,"srcSet",g.srcSet,g,null),b&&Rr(l,f,"src",g.src,g,null);return;case"input":zn("invalid",l);var ie=M=z=T=null,he=null,Se=null;for(b in g)if(g.hasOwnProperty(b)){var He=g[b];if(He!=null)switch(b){case"name":T=He;break;case"type":z=He;break;case"checked":he=He;break;case"defaultChecked":Se=He;break;case"value":M=He;break;case"defaultValue":ie=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,f));break;default:Rr(l,f,b,He,g,null)}}Qe(l,M,ie,he,Se,z,T,!1),ge(l);return;case"select":zn("invalid",l),b=z=M=null;for(T in g)if(g.hasOwnProperty(T)&&(ie=g[T],ie!=null))switch(T){case"value":M=ie;break;case"defaultValue":z=ie;break;case"multiple":b=ie;default:Rr(l,f,T,ie,g,null)}f=M,g=z,l.multiple=!!b,f!=null?Tt(l,!!b,f,!1):g!=null&&Tt(l,!!b,g,!0);return;case"textarea":zn("invalid",l),M=T=b=null;for(z in g)if(g.hasOwnProperty(z)&&(ie=g[z],ie!=null))switch(z){case"value":b=ie;break;case"defaultValue":T=ie;break;case"children":M=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(91));break;default:Rr(l,f,z,ie,g,null)}nn(l,b,T,M),ge(l);return;case"option":for(he in g)if(g.hasOwnProperty(he)&&(b=g[he],b!=null))switch(he){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Rr(l,f,he,b,g,null)}return;case"dialog":zn("cancel",l),zn("close",l);break;case"iframe":case"object":zn("load",l);break;case"video":case"audio":for(b=0;b<_m.length;b++)zn(_m[b],l);break;case"image":zn("error",l),zn("load",l);break;case"details":zn("toggle",l);break;case"embed":case"source":case"link":zn("error",l),zn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in g)if(g.hasOwnProperty(Se)&&(b=g[Se],b!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Rr(l,f,Se,b,g,null)}return;default:if(ci(f)){for(He in g)g.hasOwnProperty(He)&&(b=g[He],b!==void 0&&SS(l,f,He,b,g,void 0));return}}for(ie in g)g.hasOwnProperty(ie)&&(b=g[ie],b!=null&&Rr(l,f,ie,b,g,null))}function HY(l,f,g,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,M=null,z=null,ie=null,he=null,Se=null,He=null;for(Ke in g){var et=g[Ke];if(g.hasOwnProperty(Ke)&&et!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":he=et;default:b.hasOwnProperty(Ke)||Rr(l,f,Ke,null,b,et)}}for(var Me in b){var Ke=b[Me];if(et=g[Me],b.hasOwnProperty(Me)&&(Ke!=null||et!=null))switch(Me){case"type":M=Ke;break;case"name":T=Ke;break;case"checked":Se=Ke;break;case"defaultChecked":He=Ke;break;case"value":z=Ke;break;case"defaultValue":ie=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(r(137,f));break;default:Ke!==et&&Rr(l,f,Me,Ke,b,et)}}ze(l,z,ie,he,Se,He,M,T);return;case"select":Ke=z=ie=Me=null;for(M in g)if(he=g[M],g.hasOwnProperty(M)&&he!=null)switch(M){case"value":break;case"multiple":Ke=he;default:b.hasOwnProperty(M)||Rr(l,f,M,null,b,he)}for(T in b)if(M=b[T],he=g[T],b.hasOwnProperty(T)&&(M!=null||he!=null))switch(T){case"value":Me=M;break;case"defaultValue":ie=M;break;case"multiple":z=M;default:M!==he&&Rr(l,f,T,M,b,he)}f=ie,g=z,b=Ke,Me!=null?Tt(l,!!g,Me,!1):!!b!=!!g&&(f!=null?Tt(l,!!g,f,!0):Tt(l,!!g,g?[]:"",!1));return;case"textarea":Ke=Me=null;for(ie in g)if(T=g[ie],g.hasOwnProperty(ie)&&T!=null&&!b.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:Rr(l,f,ie,null,b,T)}for(z in b)if(T=b[z],M=g[z],b.hasOwnProperty(z)&&(T!=null||M!=null))switch(z){case"value":Me=T;break;case"defaultValue":Ke=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==M&&Rr(l,f,z,T,b,M)}tn(l,Me,Ke);return;case"option":for(var Vt in g)if(Me=g[Vt],g.hasOwnProperty(Vt)&&Me!=null&&!b.hasOwnProperty(Vt))switch(Vt){case"selected":l.selected=!1;break;default:Rr(l,f,Vt,null,b,Me)}for(he in b)if(Me=b[he],Ke=g[he],b.hasOwnProperty(he)&&Me!==Ke&&(Me!=null||Ke!=null))switch(he){case"selected":l.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Rr(l,f,he,Me,b,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var En in g)Me=g[En],g.hasOwnProperty(En)&&Me!=null&&!b.hasOwnProperty(En)&&Rr(l,f,En,null,b,Me);for(Se in b)if(Me=b[Se],Ke=g[Se],b.hasOwnProperty(Se)&&Me!==Ke&&(Me!=null||Ke!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,f));break;default:Rr(l,f,Se,Me,b,Ke)}return;default:if(ci(f)){for(var fi in g)Me=g[fi],g.hasOwnProperty(fi)&&Me!==void 0&&!b.hasOwnProperty(fi)&&SS(l,f,fi,void 0,b,Me);for(He in b)Me=b[He],Ke=g[He],!b.hasOwnProperty(He)||Me===Ke||Me===void 0&&Ke===void 0||SS(l,f,He,Me,b,Ke);return}}for(var Oe in g)Me=g[Oe],g.hasOwnProperty(Oe)&&Me!=null&&!b.hasOwnProperty(Oe)&&Rr(l,f,Oe,null,b,Me);for(et in b)Me=b[et],Ke=g[et],!b.hasOwnProperty(et)||Me===Ke||Me==null&&Ke==null||Rr(l,f,et,Me,b,Ke)}var OS=null,AS=null;function sb(l){return l.nodeType===9?l:l.ownerDocument}function TP(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RP(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function TS(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var RS=null;function zY(){var l=window.event;return l&&l.type==="popstate"?l===RS?!1:(RS=l,!0):(RS=null,!1)}var NP=typeof setTimeout=="function"?setTimeout:void 0,qY=typeof clearTimeout=="function"?clearTimeout:void 0,PP=typeof Promise=="function"?Promise:void 0,VY=typeof queueMicrotask=="function"?queueMicrotask:typeof PP<"u"?function(l){return PP.resolve(null).then(l).catch(XY)}:NP;function XY(l){setTimeout(function(){throw l})}function NS(l,f){var g=f,b=0;do{var T=g.nextSibling;if(l.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(b===0){l.removeChild(T),Pm(f);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=T}while(g);Pm(f)}function PS(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":PS(g),qt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function GY(l,f,g,b){for(;l.nodeType===1;){var T=g;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[Ze])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(M=l.getAttribute("rel"),M==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(M!==T.rel||l.getAttribute("href")!==(T.href==null?null:T.href)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||l.getAttribute("title")!==(T.title==null?null:T.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(M=l.getAttribute("src"),(M!==(T.src==null?null:T.src)||l.getAttribute("type")!==(T.type==null?null:T.type)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&M&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var M=T.name==null?null:""+T.name;if(T.type==="hidden"&&l.getAttribute("name")===M)return l}else return l;if(l=Qa(l.nextSibling),l===null)break}return null}function JY(l,f,g){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Qa(l.nextSibling),l===null))return null;return l}function Qa(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return l}function IP(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return l;f--}else g==="/$"&&f++}l=l.previousSibling}return null}function DP(l,f,g){switch(f=sb(g),l){case"html":if(l=f.documentElement,!l)throw Error(r(452));return l;case"head":if(l=f.head,!l)throw Error(r(453));return l;case"body":if(l=f.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}var _a=new Map,kP=new Set;function ob(l){return typeof l.getRootNode=="function"?l.getRootNode():l.ownerDocument}var El=oe.d;oe.d={f:YY,r:ZY,D:QY,C:eZ,L:tZ,m:nZ,X:iZ,S:rZ,M:sZ};function YY(){var l=El.f(),f=Zw();return l||f}function ZY(l){var f=Xt(l);f!==null&&f.tag===5&&f.type==="form"?a8(f):El.r(l)}var Ip=typeof document>"u"?null:document;function MP(l,f,g){var b=Ip;if(b&&typeof f=="string"&&f){var T=Ue(f);T='link[rel="'+l+'"][href="'+T+'"]',typeof g=="string"&&(T+='[crossorigin="'+g+'"]'),kP.has(T)||(kP.add(T),l={rel:l,crossOrigin:g,href:f},b.querySelector(T)===null&&(f=b.createElement("link"),ds(f,"link",l),Ct(f),b.head.appendChild(f)))}}function QY(l){El.D(l),MP("dns-prefetch",l,null)}function eZ(l,f){El.C(l,f),MP("preconnect",l,f)}function tZ(l,f,g){El.L(l,f,g);var b=Ip;if(b&&l&&f){var T='link[rel="preload"][as="'+Ue(f)+'"]';f==="image"&&g&&g.imageSrcSet?(T+='[imagesrcset="'+Ue(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(T+='[imagesizes="'+Ue(g.imageSizes)+'"]')):T+='[href="'+Ue(l)+'"]';var M=T;switch(f){case"style":M=Dp(l);break;case"script":M=kp(l)}_a.has(M)||(l=D({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:l,as:f},g),_a.set(M,l),b.querySelector(T)!==null||f==="style"&&b.querySelector(xm(M))||f==="script"&&b.querySelector(Sm(M))||(f=b.createElement("link"),ds(f,"link",l),Ct(f),b.head.appendChild(f)))}}function nZ(l,f){El.m(l,f);var g=Ip;if(g&&l){var b=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Ue(b)+'"][href="'+Ue(l)+'"]',M=T;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=kp(l)}if(!_a.has(M)&&(l=D({rel:"modulepreload",href:l},f),_a.set(M,l),g.querySelector(T)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Sm(M)))return}b=g.createElement("link"),ds(b,"link",l),Ct(b),g.head.appendChild(b)}}}function rZ(l,f,g){El.S(l,f,g);var b=Ip;if(b&&l){var T=jt(b).hoistableStyles,M=Dp(l);f=f||"default";var z=T.get(M);if(!z){var ie={loading:0,preload:null};if(z=b.querySelector(xm(M)))ie.loading=5;else{l=D({rel:"stylesheet",href:l,"data-precedence":f},g),(g=_a.get(M))&&IS(l,g);var he=z=b.createElement("link");Ct(he),ds(he,"link",l),he._p=new Promise(function(Se,He){he.onload=Se,he.onerror=He}),he.addEventListener("load",function(){ie.loading|=1}),he.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,ab(z,f,b)}z={type:"stylesheet",instance:z,count:1,state:ie},T.set(M,z)}}}function iZ(l,f){El.X(l,f);var g=Ip;if(g&&l){var b=jt(g).hoistableScripts,T=kp(l),M=b.get(T);M||(M=g.querySelector(Sm(T)),M||(l=D({src:l,async:!0},f),(f=_a.get(T))&&DS(l,f),M=g.createElement("script"),Ct(M),ds(M,"link",l),g.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(T,M))}}function sZ(l,f){El.M(l,f);var g=Ip;if(g&&l){var b=jt(g).hoistableScripts,T=kp(l),M=b.get(T);M||(M=g.querySelector(Sm(T)),M||(l=D({src:l,async:!0,type:"module"},f),(f=_a.get(T))&&DS(l,f),M=g.createElement("script"),Ct(M),ds(M,"link",l),g.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(T,M))}}function LP(l,f,g,b){var T=(T=Ne.current)?ob(T):null;if(!T)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=Dp(g.href),g=jt(T).hoistableStyles,b=g.get(f),b||(b={type:"style",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=Dp(g.href);var M=jt(T).hoistableStyles,z=M.get(l);if(z||(T=T.ownerDocument||T,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(l,z),(M=T.querySelector(xm(l)))&&!M._p&&(z.instance=M,z.state.loading=5),_a.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},_a.set(l,g),M||oZ(T,l,g,z.state))),f&&b===null)throw Error(r(528,""));return z}if(f&&b!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=kp(g),g=jt(T).hoistableScripts,b=g.get(f),b||(b={type:"script",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Dp(l){return'href="'+Ue(l)+'"'}function xm(l){return'link[rel="stylesheet"]['+l+"]"}function UP(l){return D({},l,{"data-precedence":l.precedence,precedence:null})}function oZ(l,f,g,b){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=l.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),ds(f,"link",g),Ct(f),l.head.appendChild(f))}function kp(l){return'[src="'+Ue(l)+'"]'}function Sm(l){return"script[async]"+l}function BP(l,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var b=l.querySelector('style[data-href~="'+Ue(g.href)+'"]');if(b)return f.instance=b,Ct(b),b;var T=D({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),Ct(b),ds(b,"style",T),ab(b,g.precedence,l),f.instance=b;case"stylesheet":T=Dp(g.href);var M=l.querySelector(xm(T));if(M)return f.state.loading|=4,f.instance=M,Ct(M),M;b=UP(g),(T=_a.get(T))&&IS(b,T),M=(l.ownerDocument||l).createElement("link"),Ct(M);var z=M;return z._p=new Promise(function(ie,he){z.onload=ie,z.onerror=he}),ds(M,"link",b),f.state.loading|=4,ab(M,g.precedence,l),f.instance=M;case"script":return M=kp(g.src),(T=l.querySelector(Sm(M)))?(f.instance=T,Ct(T),T):(b=g,(T=_a.get(M))&&(b=D({},g),DS(b,T)),l=l.ownerDocument||l,T=l.createElement("script"),Ct(T),ds(T,"link",b),l.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,ab(b,g.precedence,l));return f.instance}function ab(l,f,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=b.length?b[b.length-1]:null,M=T,z=0;z<b.length;z++){var ie=b[z];if(ie.dataset.precedence===f)M=ie;else if(M!==T)break}M?M.parentNode.insertBefore(l,M.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(l,f.firstChild))}function IS(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function DS(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var cb=null;function $P(l,f,g){if(cb===null){var b=new Map,T=cb=new Map;T.set(g,b)}else T=cb,b=T.get(g),b||(b=new Map,T.set(g,b));if(b.has(l))return b;for(b.set(l,null),g=g.getElementsByTagName(l),T=0;T<g.length;T++){var M=g[T];if(!(M[Ze]||M[fe]||l==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var z=M.getAttribute(f)||"";z=l+z;var ie=b.get(z);ie?ie.push(M):b.set(z,[M])}}return b}function jP(l,f,g){l=l.ownerDocument||l,l.head.insertBefore(g,f==="title"?l.querySelector("head > title"):null)}function aZ(l,f,g){if(g===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function FP(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Om=null;function cZ(){}function lZ(l,f,g){if(Om===null)throw Error(r(475));var b=Om;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=Dp(g.href),M=l.querySelector(xm(T));if(M){l=M._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(b.count++,b=lb.bind(b),l.then(b,b)),f.state.loading|=4,f.instance=M,Ct(M);return}M=l.ownerDocument||l,g=UP(g),(T=_a.get(T))&&IS(g,T),M=M.createElement("link"),Ct(M);var z=M;z._p=new Promise(function(ie,he){z.onload=ie,z.onerror=he}),ds(M,"link",g),f.instance=M}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(b.count++,f=lb.bind(b),l.addEventListener("load",f),l.addEventListener("error",f))}}function uZ(){if(Om===null)throw Error(r(475));var l=Om;return l.stylesheets&&l.count===0&&kS(l,l.stylesheets),0<l.count?function(f){var g=setTimeout(function(){if(l.stylesheets&&kS(l,l.stylesheets),l.unsuspend){var b=l.unsuspend;l.unsuspend=null,b()}},6e4);return l.unsuspend=f,function(){l.unsuspend=null,clearTimeout(g)}}:null}function lb(){if(this.count--,this.count===0){if(this.stylesheets)kS(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var ub=null;function kS(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,ub=new Map,f.forEach(dZ,l),ub=null,lb.call(l))}function dZ(l,f){if(!(f.state.loading&4)){var g=ub.get(l);if(g)var b=g.get(null);else{g=new Map,ub.set(l,g);for(var T=l.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<T.length;M++){var z=T[M];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(g.set(z.dataset.precedence,z),b=z)}b&&g.set(null,b)}T=f.instance,z=T.getAttribute("data-precedence"),M=g.get(z)||b,M===b&&g.set(null,T),g.set(z,T),this.count++,b=lb.bind(this),T.addEventListener("load",b),T.addEventListener("error",b),M?M.parentNode.insertBefore(T,M.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(T,l.firstChild)),f.state.loading|=4}}var Am={$$typeof:m,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function fZ(l,f,g,b,T,M,z,ie){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=b,this.onUncaughtError=T,this.onCaughtError=M,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function KP(l,f,g,b,T,M,z,ie,he,Se,He,et){return l=new fZ(l,f,g,z,ie,he,Se,et),f=1,M===!0&&(f|=24),M=ba(3,null,null,f),l.current=M,M.stateNode=l,f=fx(),f.refCount++,l.pooledCache=f,f.refCount++,M.memoizedState={element:b,isDehydrated:g,cache:f},qx(M),l}function WP(l){return l?(l=fp,l):fp}function HP(l,f,g,b,T,M){T=WP(T),b.context===null?b.context=T:b.pendingContext=T,b=bu(f),b.payload={element:g},M=M===void 0?null:M,M!==null&&(b.callback=M),g=Eu(l,b,f),g!==null&&(to(g,l,f),um(g,l,f))}function zP(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function MS(l,f){zP(l,f),(l=l.alternate)&&zP(l,f)}function qP(l){if(l.tag===13){var f=hu(l,67108864);f!==null&&to(f,l,67108864),MS(l,67108864)}}var db=!0;function hZ(l,f,g,b){var T=A.T;A.T=null;var M=oe.p;try{oe.p=2,LS(l,f,g,b)}finally{oe.p=M,A.T=T}}function pZ(l,f,g,b){var T=A.T;A.T=null;var M=oe.p;try{oe.p=8,LS(l,f,g,b)}finally{oe.p=M,A.T=T}}function LS(l,f,g,b){if(db){var T=US(b);if(T===null)xS(l,f,b,fb,g),XP(l,b);else if(mZ(T,l,f,g,b))b.stopPropagation();else if(XP(l,b),f&4&&-1<gZ.indexOf(l)){for(;T!==null;){var M=Xt(T);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var z=Jn(M.pendingLanes);if(z!==0){var ie=M;for(ie.pendingLanes|=2,ie.entangledLanes|=2;z;){var he=1<<31-Bn(z);ie.entanglements[1]|=he,z&=~he}Nc(M),(ni&6)===0&&(Gw=Ht()+500,Em(0))}}break;case 13:ie=hu(M,2),ie!==null&&to(ie,M,2),Zw(),MS(M,2)}if(M=US(b),M===null&&xS(l,f,b,fb,g),M===T)break;T=M}T!==null&&b.stopPropagation()}else xS(l,f,b,null,g)}}function US(l){return l=sp(l),BS(l)}var fb=null;function BS(l){if(fb=null,l=Ut(l),l!==null){var f=W(l);if(f===null)l=null;else{var g=f.tag;if(g===13){if(l=X(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return fb=l,null}function VP(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case ct:return 2;case yt:return 8;case vt:case zt:return 32;case In:return 268435456;default:return 32}default:return 32}}var $S=!1,Tu=null,Ru=null,Nu=null,Tm=new Map,Rm=new Map,Pu=[],gZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XP(l,f){switch(l){case"focusin":case"focusout":Tu=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":Tm.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rm.delete(f.pointerId)}}function Nm(l,f,g,b,T,M){return l===null||l.nativeEvent!==M?(l={blockedOn:f,domEventName:g,eventSystemFlags:b,nativeEvent:M,targetContainers:[T]},f!==null&&(f=Xt(f),f!==null&&qP(f)),l):(l.eventSystemFlags|=b,f=l.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),l)}function mZ(l,f,g,b,T){switch(f){case"focusin":return Tu=Nm(Tu,l,f,g,b,T),!0;case"dragenter":return Ru=Nm(Ru,l,f,g,b,T),!0;case"mouseover":return Nu=Nm(Nu,l,f,g,b,T),!0;case"pointerover":var M=T.pointerId;return Tm.set(M,Nm(Tm.get(M)||null,l,f,g,b,T)),!0;case"gotpointercapture":return M=T.pointerId,Rm.set(M,Nm(Rm.get(M)||null,l,f,g,b,T)),!0}return!1}function GP(l){var f=Ut(l.target);if(f!==null){var g=W(f);if(g!==null){if(f=g.tag,f===13){if(f=X(g),f!==null){l.blockedOn=f,L(l.priority,function(){if(g.tag===13){var b=$o(),T=hu(g,b);T!==null&&to(T,g,b),MS(g,b)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function hb(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=US(l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);jg=b,g.target.dispatchEvent(b),jg=null}else return f=Xt(g),f!==null&&qP(f),l.blockedOn=g,!1;f.shift()}return!0}function JP(l,f,g){hb(l)&&g.delete(f)}function yZ(){$S=!1,Tu!==null&&hb(Tu)&&(Tu=null),Ru!==null&&hb(Ru)&&(Ru=null),Nu!==null&&hb(Nu)&&(Nu=null),Tm.forEach(JP),Rm.forEach(JP)}function pb(l,f){l.blockedOn===f&&(l.blockedOn=null,$S||($S=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yZ)))}var gb=null;function YP(l){gb!==l&&(gb=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gb===l&&(gb=null);for(var f=0;f<l.length;f+=3){var g=l[f],b=l[f+1],T=l[f+2];if(typeof b!="function"){if(BS(b||g)===null)continue;break}var M=Xt(g);M!==null&&(l.splice(f,3),f-=3,Tx(M,{pending:!0,data:T,method:g.method,action:b},b,T))}}))}function Pm(l){function f(he){return pb(he,l)}Tu!==null&&pb(Tu,l),Ru!==null&&pb(Ru,l),Nu!==null&&pb(Nu,l),Tm.forEach(f),Rm.forEach(f);for(var g=0;g<Pu.length;g++){var b=Pu[g];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Pu.length&&(g=Pu[0],g.blockedOn===null);)GP(g),g.blockedOn===null&&Pu.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var T=g[b],M=g[b+1],z=T[ye]||null;if(typeof M=="function")z||YP(g);else if(z){var ie=null;if(M&&M.hasAttribute("formAction")){if(T=M,z=M[ye]||null)ie=z.formAction;else if(BS(T)!==null)continue}else ie=z.action;typeof ie=="function"?g[b+1]=ie:(g.splice(b,3),b-=3),YP(g)}}}function jS(l){this._internalRoot=l}mb.prototype.render=jS.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,b=$o();HP(g,b,l,f,null,null)},mb.prototype.unmount=jS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;l.tag===0&&Rp(),HP(l.current,2,null,l,null,null),Zw(),f[Ie]=null}};function mb(l){this._internalRoot=l}mb.prototype.unstable_scheduleHydration=function(l){if(l){var f=V();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Pu.length&&f!==0&&f<Pu[g].priority;g++);Pu.splice(g,0,l),g===0&&GP(l)}};var ZP=t.version;if(ZP!=="19.0.0")throw Error(r(527,ZP,"19.0.0"));oe.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=G(f),l=l!==null?ae(l):null,l=l===null?null:l.stateNode,l};var vZ={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Ut,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yb.isDisabled&&yb.supportsFiber)try{_t=yb.inject(vZ),un=yb}catch{}}return Mm.createRoot=function(l,f){if(!i(l))throw Error(r(299));var g=!1,b="",T=g8,M=m8,z=y8,ie=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ie=f.unstable_transitionCallbacks)),f=KP(l,1,!1,null,null,g,b,T,M,z,ie,null),l[Ie]=f.current,CS(l.nodeType===8?l.parentNode:l),new jS(f)},Mm.hydrateRoot=function(l,f,g){if(!i(l))throw Error(r(299));var b=!1,T="",M=g8,z=m8,ie=y8,he=null,Se=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onUncaughtError!==void 0&&(M=g.onUncaughtError),g.onCaughtError!==void 0&&(z=g.onCaughtError),g.onRecoverableError!==void 0&&(ie=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(he=g.unstable_transitionCallbacks),g.formState!==void 0&&(Se=g.formState)),f=KP(l,1,!0,f,g??null,b,T,M,z,ie,he,Se),f.context=WP(null),g=f.current,b=$o(),T=bu(b),T.callback=null,Eu(g,T,b),f.current.lanes=b,Te(f,b),Nc(f),l[Ie]=f.current,CS(l),new mb(f)},Mm.version="19.0.0",Mm}var LI;function pte(){if(LI)return YS.exports;LI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),YS.exports=hte(),YS.exports}var gte=pte();const bn=e=>typeof e=="string",Lm=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},UI=e=>e==null?"":""+e,mte=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},yte=/###/g,BI=e=>e&&e.indexOf("###")>-1?e.replace(yte,"."):e,$I=e=>!e||bn(e),Wy=(e,t,n)=>{const r=bn(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if($I(e))return{};const s=BI(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return $I(e)?{}:{obj:e,k:BI(r[i])}},jI=(e,t,n)=>{const{obj:r,k:i}=Wy(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],o=t.slice(0,t.length-1),a=Wy(e,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Wy(e,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},vte=(e,t,n,r)=>{const{obj:i,k:s}=Wy(e,t,Object);i[s]=i[s]||[],i[s].push(n)},N_=(e,t)=>{const{obj:n,k:r}=Wy(e,t);if(n)return n[r]},wte=(e,t,n)=>{const r=N_(e,n);return r!==void 0?r:N_(t,n)},mK=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?bn(e[r])||e[r]instanceof String||bn(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):mK(e[r],t[r],n):e[r]=t[r]);return e},Mp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var bte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ete=e=>bn(e)?e.replace(/[&<>"'\/]/g,t=>bte[t]):e;class _te{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Cte=[" ",",","?","!",";"],xte=new _te(20),Ste=(e,t,n)=>{t=t||"",n=n||"";const r=Cte.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=xte.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(e);if(!s){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(s=!0)}return s},j4=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let c=s;c<r.length;++c)if(c!==s&&(a+=n),a+=r[c],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;s+=c-s+1;break}i=o}return i},P_=e=>e&&e.replace("_","-"),Ote={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class I_{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Ote,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(bn(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new I_(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new I_(this.logger,t)}}var zc=new I_;class WC{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a.apply(a,[t,...r])})}}class FI extends WC{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):bn(r)&&s?a.push(...r.split(s)):a.push(r)));const c=N_(this.data,a);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),c||!o||!bn(r)?c:j4(this.data&&this.data[t]&&this.data[t][n],r,s)}addResource(t,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),jI(this.data,a,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(bn(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let c=N_(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?mK(c,r,s):c={...c,...r},jI(this.data,a,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var yK={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{this.processors[s]&&(t=this.processors[s].process(t,n,r,i))}),t}};const KI={};class D_ extends WC{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),mte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zc.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ste(t,r,i);if(o&&!a){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:bn(s)?[s]:s};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:bn(s)?[s]:s}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(t[t.length-1],n),c=a[a.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const R=n.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${R}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${R}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(t,n);let p=h&&h.res;const m=h&&h.usedKey||o,y=h&&h.exactUsedKey||o,v=Object.prototype.toString.apply(p),w=["[object Number]","[object Function]","[object RegExp]"],C=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,O=!bn(p)&&typeof p!="boolean"&&typeof p!="number";if(_&&p&&O&&w.indexOf(v)<0&&!(bn(C)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=R,h.usedParams=this.getUsedParamsDetails(n),h):R}if(s){const R=Array.isArray(p),S=R?[]:{},E=R?y:m;for(const x in p)if(Object.prototype.hasOwnProperty.call(p,x)){const N=`${E}${s}${x}`;S[x]=this.translate(N,{...n,joinArrays:!1,ns:a}),S[x]===N&&(S[x]=p[x])}p=S}}else if(_&&bn(C)&&Array.isArray(p))p=p.join(C),p&&(p=this.extendTranslation(p,t,n,r));else{let R=!1,S=!1;const E=n.count!==void 0&&!bn(n.count),x=D_.hasDefaultValue(n),N=E?this.pluralResolver.getSuffix(u,n.count,n):"",A=n.ordinal&&E?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",D=E&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),k=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${N}`]||n[`defaultValue${A}`]||n.defaultValue;!this.isValidLookup(p)&&x&&(R=!0,p=k),this.isValidLookup(p)||(S=!0,p=o);const H=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:p,F=x&&k!==p&&this.options.updateMissing;if(S||R||F){if(this.logger.log(F?"updateKey":"missingKey",u,c,o,F?k:p),s){const W=this.resolve(o,{...n,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let P=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let W=0;W<I.length;W++)P.push(I[W]);else this.options.saveMissingTo==="all"?P=this.languageUtils.toResolveHierarchy(n.lng||this.language):P.push(n.lng||this.language);const $=(W,X,j)=>{const G=x&&j!==p?j:H;this.options.missingKeyHandler?this.options.missingKeyHandler(W,c,X,G,F,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(W,c,X,G,F,n),this.emit("missingKey",W,c,X,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?P.forEach(W=>{const X=this.pluralResolver.getSuffixes(W,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(j=>{$([W],o+j,n[`defaultValue${j}`]||k)})}):$(P,o,k))}p=this.extendTranslation(p,t,n,h,r),S&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${o}`),(S||R)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,R?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(t,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=bn(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!bn(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language||i.usedLng,r),u){const p=t.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];return s&&s[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):o.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,c=bn(a)?[a]:a;return t!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(t=yK.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return bn(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;i=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!bn(n.count),m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(bn(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(w=>{this.isValidLookup(r)||(a=w,!KI[`${v[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(KI[`${v[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(C=>{if(this.isValidLookup(r))return;o=C;const _=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,C,w,n);else{let R;p&&(R=this.pluralResolver.getSuffix(C,n.count,n));const S=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(_.push(d+R),n.ordinal&&R.indexOf(E)===0&&_.push(d+R.replace(E,this.options.pluralSeparator)),m&&_.push(d+S)),y){const x=`${d}${this.options.contextSeparator}${n.context}`;_.push(x),p&&(_.push(x+R),n.ordinal&&R.indexOf(E)===0&&_.push(x+R.replace(E,this.options.pluralSeparator)),m&&_.push(x+S))}}let O;for(;O=_.pop();)this.isValidLookup(r)||(s=O,r=this.getResource(C,w,O,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!bn(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const nO=e=>e.charAt(0).toUpperCase()+e.slice(1);class WI{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zc.create("languageUtils")}getScriptPartFromCode(t){if(t=P_(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=P_(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(bn(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=nO(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=nO(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=nO(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),bn(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return bn(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):bn(t)&&s(this.formatLanguageCode(t)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let Ate=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Tte={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Rte=["v1","v2","v3"],Nte=["v4"],HI={zero:0,one:1,two:2,few:3,many:4,other:5},Pte=()=>{const e={};return Ate.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Tte[t.fc]}})}),e};class Ite{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=zc.create("pluralResolver"),(!this.options.compatibilityJSON||Nte.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Pte(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=P_(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[s]=o,o}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>HI[i]-HI[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Rte.includes(this.options.compatibilityJSON)}}const zI=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=wte(e,t,n);return!s&&i&&bn(n)&&(s=j4(e,n,r),s===void 0&&(s=j4(t,n,r))),s},rO=e=>e.replace(/\$/g,"$$$$");class Dte{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=zc.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:y,nestingSuffixEscaped:v,nestingOptionsSeparator:w,maxReplaces:C,alwaysFormat:_}=t.interpolation;this.escape=n!==void 0?n:Ete,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Mp(s):o||"{{",this.suffix=a?Mp(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Mp(p):m||Mp("$t("),this.nestingSuffix=y?Mp(y):v||Mp(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=C||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let s,o,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const C=zI(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...i,...n,interpolationkey:m}):C}const y=m.split(this.formatSeparator),v=y.shift().trim(),w=y.join(this.formatSeparator).trim();return this.format(zI(n,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>rO(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?rO(this.escape(m)):rO(m)}].forEach(m=>{for(a=0;s=m.regex.exec(t);){const y=s[1].trim();if(o=u(y),o===void 0)if(typeof d=="function"){const w=d(t,s,i);o=bn(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),o="";else!bn(o)&&!this.useRawValueToEscape&&(o=UI(o));const v=m.safeValue(o);if(t=t.replace(s[0],v),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,o);const m=p.match(/'/g),y=p.match(/"/g);(m&&m.length%2===0&&!y||y.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&!bn(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=d.shift(),c=d,u=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===t&&!bn(s))return s;bn(s)||(s=UI(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),u&&(s=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const kte=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Lp=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=t[o];return a||(a=e(P_(r),i),t[o]=a),a(n)}};class Mte{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=zc.create("formatter"),this.options=t,this.formats={number:Lp((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Lp((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Lp((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Lp((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Lp((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Lp(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,c)=>{const{formatName:u,formatOptions:d}=kte(c);if(this.formats[u]){let h=a;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[u](a,m,{...d,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const Lte=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Ute extends WC{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=zc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const s={},o={},a={},c={};return t.forEach(u=>{let d=!0;n.forEach(h=>{const p=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const i=t.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(c=>{vte(c.loaded,[s],o),Lte(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,o)},s);return}o(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}return}return c(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();bn(t)&&(t=this.languageUtils.toResolveHierarchy(t)),bn(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,n,r,i,c):d=u(t,n,r,i),d&&typeof d.then=="function"?d.then(h=>a(null,h)).catch(a):a(null,d)}catch(d){a(d)}else u(t,n,r,i,a,c)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const qI=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),bn(e[1])&&(t.defaultValue=e[1]),bn(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),VI=e=>(bn(e.ns)&&(e.ns=[e.ns]),bn(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),bn(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Eb=()=>{},Bte=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class gv extends WC{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=VI(t),this.services={},this.logger=zc,this.modules={external:[]},Bte(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(bn(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=qI();this.options={...i,...this.options,...VI(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?zc.init(s(this.modules.logger),this.options):zc.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Mte);const h=new WI(this.options);this.store=new FI(this.options.resources,this.options);const p=this.services;p.logger=zc,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new Ite(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=s(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new Dte(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new Ute(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];t.emit(m,...v)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new D_(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];t.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Eb),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const c=Lm(),u=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),r(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eb;const i=bn(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=Lm();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Eb),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&yK.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Lm();this.emit("languageChanging",t);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},a=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=bn(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{o(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const s=function(o,a){let c;if(typeof a!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];c=i.options.overloadTranslationOptionHandler([o,a].concat(d))}else c={...a};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||s.keyPrefix);const p=i.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(o)?m=o.map(y=>`${c.keyPrefix}${p}${y}`):m=c.keyPrefix?`${c.keyPrefix}${p}${o}`:o,i.t(m,c)};return bn(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,c)=>{const u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}loadNamespaces(t,n){const r=Lm();return this.options.ns?(bn(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Lm();bn(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new WI(qI());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new gv(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eb;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new gv(i);return(t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new FI(this.store.data,i),s.services.resourceStore=s.store),s.translator=new D_(s.services,i),s.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];s.emit(a,...u)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Li=gv.createInstance();Li.createInstance=gv.createInstance;Li.createInstance;Li.dir;Li.init;Li.loadResources;Li.reloadResources;Li.use;Li.changeLanguage;Li.getFixedT;const BLe=Li.t;Li.exists;Li.setDefaultNamespace;Li.hasLoadedNamespace;Li.loadNamespaces;Li.loadLanguages;function F4(e){"@babel/helpers - typeof";return F4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F4(e)}function vK(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":F4(XMLHttpRequest))==="object"}function $te(e){return!!e&&typeof e.then=="function"}function jte(e){return $te(e)?e:Promise.resolve(e)}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){Fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fte(e,t,n){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kte(e){var t=Wte(e,"string");return Ch(t)=="symbol"?t:t+""}function Wte(e,t){if(Ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}var dd=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?dd=global.fetch:typeof window<"u"&&window.fetch&&(dd=window.fetch);var mv;vK()&&(typeof global<"u"&&global.XMLHttpRequest?mv=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(mv=window.XMLHttpRequest));var k_;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?k_=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(k_=window.ActiveXObject));typeof dd!="function"&&(dd=void 0);if(!dd&&!mv&&!k_)try{it(()=>import("./browser-ponyfill-DPSLQSYb.js").then(e=>e.b),[],import.meta.url).then(function(e){dd=e.default}).catch(function(){})}catch{}var K4=function(t,n){if(n&&Ch(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},JI=function(t,n,r,i){var s=function(c){if(!c.ok)return r(c.statusText||"Error",{status:c.status});c.text().then(function(u){r(null,{status:c.status,data:u})}).catch(r)};if(i){var o=i(t,n);if(o instanceof Promise){o.then(s).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(s).catch(r):dd(t,n).then(s).catch(r)},YI=!1,Hte=function(t,n,r,i){t.queryStringParams&&(n=K4(n,t.queryStringParams));var s=GI({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var o=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,a=GI({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:s},YI?{}:o),c=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{JI(n,a,i,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(o).forEach(function(d){delete a[d]}),JI(n,a,i,c),YI=!0}catch(d){i(d)}}},zte=function(t,n,r,i){r&&Ch(r)==="object"&&(r=K4("",r).slice(1)),t.queryStringParams&&(n=K4(n,t.queryStringParams));try{var s=mv?new mv:new k_("MSXML2.XMLHTTP.3.0");s.open(r?"POST":"GET",n,1),t.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!t.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=t.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(c){console&&console.log(c)}},qte=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},dd&&n.indexOf("file:")!==0)return Hte(t,n,r,i);if(vK()||typeof ActiveXObject=="function")return zte(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){wK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bK(r.key),r)}}function Gte(e,t,n){return t&&Xte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wK(e,t,n){return(t=bK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bK(e){var t=Jte(e,"string");return H0(t)=="symbol"?t:t+""}function Jte(e,t){if(H0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(H0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yte=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return wK({},r,i||"")},parseLoadPayload:function(n,r){},request:qte,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},EK=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Vte(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return Gte(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=iO(iO(iO({},Yte()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return r.reload()},this.options.reloadInterval);H0(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,o){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(n,i)),c=jte(c),c.then(function(u){if(!u)return o(null,{});var d=a.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(d,o,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var o=this,a=typeof i=="string"?[i]:i,c=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,n,u,function(d,h){if(h&&(h.status>=500&&h.status<600||!h.status))return r("failed loading "+n+"; status code: "+h.status,!0);if(h&&h.status>=400&&h.status<500)return r("failed loading "+n+"; status code: "+h.status,!1);if(!h&&d&&d.message){var p=d.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(w){return p.indexOf(w)>-1});if(m)return r("failed loading "+n+": "+d.message,!0)}if(d)return r(d,!1);var y,v;try{typeof h.data=="string"?y=o.options.parse(h.data,i,s):y=h.data}catch{v="failed parsing "+n+" to json"}if(v)return r(v,!1);r(null,y)})}},{key:"create",value:function(n,r,i,s,o){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var c=this.options.parsePayload(r,i,s),u=0,d=[],h=[];n.forEach(function(p){var m=a.options.addPath;typeof a.options.addPath=="function"&&(m=a.options.addPath(p,r));var y=a.services.interpolator.interpolate(m,{lng:p,ns:r});a.options.request(a.options,y,c,function(v,w){u+=1,d.push(v),h.push(w),u===n.length&&typeof o=="function"&&o(d,h)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,o=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(h){var p=s.toResolveHierarchy(h);p.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return u(d)}),c.forEach(function(d){n.allOptions.ns.forEach(function(h){i.read(d,h,"read",null,null,function(p,m){p&&o.warn("loading namespace ".concat(h," for language ").concat(d," failed"),p),!p&&m&&o.log("loaded namespace ".concat(h," for language ").concat(d),m),i.loaded("".concat(d,"|").concat(h),p,m)})})})}}}])}();EK.type="backend";var le=dR();const QI=rl(le);var sO,eD;function Zte(){return eD||(eD=1,sO={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),sO}var Qte=Zte();const ene=rl(Qte);var tne=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function tD(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(ene[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(tne),s=null;(s=i.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),a=[o,""];o.indexOf("=")>-1&&(a=o.split("=")),t.attrs[a[0]]=a[1],i.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var nne=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,rne=/^\s*$/,ine=Object.create(null);function _K(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(_K,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var sne={parse:function(e,t){t||(t={}),t.components||(t.components=ine);var n,r=[],i=[],s=-1,o=!1;if(e.indexOf("<")!==0){var a=e.indexOf("<");r.push({type:"text",content:a===-1?e:e.substring(0,a)})}return e.replace(nne,function(c,u){if(o){if(c!=="</"+n.name+">")return;o=!1}var d,h=c.charAt(1)!=="/",p=c.startsWith("<!--"),m=u+c.length,y=e.charAt(m);if(p){var v=tD(c);return s<0?(r.push(v),r):((d=i[s]).children.push(v),r)}if(h&&(s++,(n=tD(c)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!y||y==="<"||n.children.push({type:"text",content:e.slice(m,e.indexOf("<",m))}),s===0&&r.push(n),(d=i[s-1])&&d.children.push(n),i[s]=n),(!h||n.voidElement)&&(s>-1&&(n.voidElement||n.name===c.slice(2,-1))&&(s--,n=s===-1?r:i[s]),!o&&y!=="<"&&y)){d=s===-1?r:i[s].children;var w=e.indexOf("<",m),C=e.slice(m,w===-1?void 0:w);rne.test(C)&&(C=" "),(w>-1&&s+d.length>=0||C!==" ")&&d.push({type:"text",content:C})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+_K("",n)},"")}};function mE(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ja(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const nD={};function M_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ja(t[0])&&nD[t[0]]||(ja(t[0])&&(nD[t[0]]=new Date),mE(...t))}const CK=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},rD=(e,t,n)=>{e.loadNamespaces(t,CK(e,n))},iD=(e,t,n,r)=>{ja(n)&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,CK(e,r))},one=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,s=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,c)=>{const u=t.services.backendConnector.state[`${a}|${c}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))},ane=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(M_("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}):one(e,t,n)},ja=e=>typeof e=="string",v0=e=>typeof e=="object"&&e!==null,cne=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lne={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},une=e=>lne[e],dne=e=>e.replace(cne,une);let W4={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:dne};const fne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};W4={...W4,...e}},xK=()=>W4;let SK;const hne=e=>{SK=e},fR=()=>SK,oO=(e,t)=>{if(!e)return!1;const n=e.props?e.props.children:e.children;return t?n.length>0:!!n},aO=e=>{if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?w0(t):t},pne=e=>Array.isArray(e)&&e.every(le.isValidElement),w0=e=>Array.isArray(e)?e:[e],gne=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},OK=(e,t)=>{if(!e)return"";let n="";const r=w0(e),i=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach((s,o)=>{if(ja(s))n+=`${s}`;else if(le.isValidElement(s)){const{props:a,type:c}=s,u=Object.keys(a).length,d=i.indexOf(c)>-1,h=a.children;if(!h&&d&&!u)n+=`<${c}/>`;else if(!h&&(!d||u)||a.i18nIsDynamicList)n+=`<${o}></${o}>`;else if(d&&u===1&&ja(h))n+=`<${c}>${h}</${c}>`;else{const p=OK(h,t);n+=`<${o}>${p}</${o}>`}}else if(s===null)mE("Trans: the passed in value is invalid - seems you passed in a null child.");else if(v0(s)){const{format:a,...c}=s,u=Object.keys(c);if(u.length===1){const d=a?`${u[0]}, ${a}`:u[0];n+=`{{${d}}}`}else mE("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else mE("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),n},mne=(e,t,n,r,i,s)=>{if(t==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],a=t&&new RegExp(o.map(w=>`<${w}`).join("|")).test(t);if(!e&&!a&&!s)return[t];const c={},u=w=>{w0(w).forEach(_=>{ja(_)||(oO(_)?u(aO(_)):v0(_)&&!le.isValidElement(_)&&Object.assign(c,_))})};u(e);const d=sne.parse(`<0>${t}</0>`),h={...c,...i},p=(w,C,_)=>{const O=aO(w),R=y(O,C.children,_);return pne(O)&&R.length===0||w.props&&w.props.i18nIsDynamicList?O:R},m=(w,C,_,O,R)=>{w.dummy?(w.children=C,_.push(le.cloneElement(w,{key:O},R?void 0:C))):_.push(...le.Children.map([w],S=>{const E={...S.props};return delete E.i18nIsDynamicList,le.createElement(S.type,{...E,key:O,ref:S.ref},R?null:C)}))},y=(w,C,_)=>{const O=w0(w);return w0(C).reduce((S,E,x)=>{const N=E.children&&E.children[0]&&E.children[0].content&&n.services.interpolator.interpolate(E.children[0].content,h,n.language);if(E.type==="tag"){let A=O[parseInt(E.name,10)];_.length===1&&!A&&(A=_[0][E.name]),A||(A={});const D=Object.keys(E.attrs).length!==0?gne({props:E.attrs},A):A,k=le.isValidElement(D),U=k&&oO(E,!0)&&!E.voidElement,H=a&&v0(D)&&D.dummy&&!k,F=v0(e)&&Object.hasOwnProperty.call(e,E.name);if(ja(D)){const P=n.services.interpolator.interpolate(D,h,n.language);S.push(P)}else if(oO(D)||U){const P=p(D,E,_);m(D,P,S,x)}else if(H){const P=y(O,E.children,_);m(D,P,S,x)}else if(Number.isNaN(parseFloat(E.name)))if(F){const P=p(D,E,_);m(D,P,S,x,E.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(E.name)>-1)if(E.voidElement)S.push(le.createElement(E.name,{key:`${E.name}-${x}`}));else{const P=y(O,E.children,_);S.push(le.createElement(E.name,{key:`${E.name}-${x}`},P))}else if(E.voidElement)S.push(`<${E.name} />`);else{const P=y(O,E.children,_);S.push(`<${E.name}>${P}</${E.name}>`)}else if(v0(D)&&!k){const P=E.children[0]?N:null;P&&S.push(P)}else m(D,N,S,x,E.children.length!==1||!N)}else if(E.type==="text"){const A=r.transWrapTextNodes,D=s?r.unescape(n.services.interpolator.interpolate(E.content,h,n.language)):n.services.interpolator.interpolate(E.content,h,n.language);A?S.push(le.createElement(A,{key:`${E.name}-${x}`},D)):S.push(D)}return S},[])},v=y([{dummy:!0,children:e||[]}],d,w0(e||[]));return aO(v[0])};function yne(e){let{children:t,count:n,parent:r,i18nKey:i,context:s,tOptions:o={},values:a,defaults:c,components:u,ns:d,i18n:h,t:p,shouldUnescape:m,...y}=e;const v=h||fR();if(!v)return M_("You will need to pass in an i18next instance by using i18nextReactModule"),t;const w=p||v.t.bind(v)||(U=>U),C={...xK(),...v.options&&v.options.react};let _=d||w.ns||v.options&&v.options.defaultNS;_=ja(_)?[_]:_||["translation"];const O=OK(t,C),R=c||O||C.transEmptyNodeValue||i,{hashTransKey:S}=C,E=i||(S?S(O||R):O||R);v.options&&v.options.interpolation&&v.options.interpolation.defaultVariables&&(a=a&&Object.keys(a).length>0?{...a,...v.options.interpolation.defaultVariables}:{...v.options.interpolation.defaultVariables});const x=a||n!==void 0||!t?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},N={...o,context:s||o.context,count:n,...a,...x,defaultValue:R,ns:_},A=E?w(E,N):R;u&&Object.keys(u).forEach(U=>{const H=u[U];if(typeof H.type=="function"||!H.props||!H.props.children||A.indexOf(`${U}/>`)<0&&A.indexOf(`${U} />`)<0)return;function F(){return le.createElement(le.Fragment,null,H)}u[U]=le.createElement(F)});const D=mne(u||t,A,v,C,N,m),k=r!==void 0?r:C.defaultTransParent;return k?le.createElement(k,y,D):D}const vne={type:"3rdParty",init(e){fne(e.options.react),hne(e)}},AK=le.createContext();class wne{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces=()=>Object.keys(this.usedNamespaces)}function bne(e){let{children:t,count:n,parent:r,i18nKey:i,context:s,tOptions:o={},values:a,defaults:c,components:u,ns:d,i18n:h,t:p,shouldUnescape:m,...y}=e;const{i18n:v,defaultNS:w}=le.useContext(AK)||{},C=h||v||fR(),_=p||C&&C.t.bind(C);return yne({children:t,count:n,parent:r,i18nKey:i,context:s,tOptions:o,values:a,defaults:c,components:u,ns:d||_&&_.ns||w||C&&C.options&&C.options.defaultNS,i18n:C,t:p,shouldUnescape:m,...y})}const Ene=(e,t)=>{const n=le.useRef();return le.useEffect(()=>{n.current=e},[e,t]),n.current},TK=(e,t,n,r)=>e.getFixedT(t,n,r),_ne=(e,t,n,r)=>le.useCallback(TK(e,t,n,r),[e,t,n,r]),hR=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=le.useContext(AK)||{},s=n||r||fR();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new wne),!s){M_("You will need to pass in an i18next instance by using initReactI18next");const R=(E,x)=>ja(x)?x:v0(x)&&ja(x.defaultValue)?x.defaultValue:Array.isArray(E)?E[E.length-1]:E,S=[R,{},!1];return S.t=R,S.i18n={},S.ready=!1,S}s.options.react&&s.options.react.wait!==void 0&&M_("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...xK(),...s.options.react,...t},{useSuspense:a,keyPrefix:c}=o;let u=i||s.options&&s.options.defaultNS;u=ja(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every(R=>ane(R,s,o)),h=_ne(s,t.lng||null,o.nsMode==="fallback"?u:u[0],c),p=()=>h,m=()=>TK(s,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[y,v]=le.useState(p);let w=u.join();t.lng&&(w=`${t.lng}${w}`);const C=Ene(w),_=le.useRef(!0);le.useEffect(()=>{const{bindI18n:R,bindI18nStore:S}=o;_.current=!0,!d&&!a&&(t.lng?iD(s,t.lng,u,()=>{_.current&&v(m)}):rD(s,u,()=>{_.current&&v(m)})),d&&C&&C!==w&&_.current&&v(m);const E=()=>{_.current&&v(m)};return R&&s&&s.on(R,E),S&&s&&s.store.on(S,E),()=>{_.current=!1,R&&s&&R.split(" ").forEach(x=>s.off(x,E)),S&&s&&S.split(" ").forEach(x=>s.store.off(x,E))}},[s,w]),le.useEffect(()=>{_.current&&d&&v(p)},[s,c,d]);const O=[y,s,d];if(O.t=y,O.i18n=s,O.ready=d,d||!d&&!a)return O;throw new Promise(R=>{t.lng?iD(s,t.lng,u,()=>R()):rD(s,u,()=>R())})},Cne=["ko_KR","en_US"],xne="en_US",Sne={ko_KR:new URL("https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/messages_ko-BqYr5pyl.json",import.meta.url),en_US:new URL("https://vos.line-scdn.net/minidapp-demo-web-prod/minidapp-demo-web/assets/messages_en-fAJ1HiI2.json",import.meta.url)},One=async(e={})=>(await Li.use(EK).use(vne).init({supportedLngs:Cne,fallbackLng:xne,load:"currentOnly",backend:{loadPath:t=>Sne[t[0]].href},returnEmptyString:!1,...e}),Li.resolvedLanguage&&document.documentElement.setAttribute("lang",Li.resolvedLanguage),Li.on("languageChanged",t=>{document.documentElement.setAttribute("lang",t)}),Li);var Um={},sD;function Ane(){if(sD)return Um;sD=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.parse=o,Um.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,m){const y=new s,v=p.length;if(v<2)return y;const w=m?.decode||d;let C=0;do{const _=p.indexOf("=",C);if(_===-1)break;const O=p.indexOf(";",C),R=O===-1?v:O;if(_>R){C=p.lastIndexOf(";",_-1)+1;continue}const S=a(p,C,_),E=c(p,_,S),x=p.slice(S,E);if(y[x]===void 0){let N=a(p,_+1,R),A=c(p,R,N);const D=w(p.slice(N,A));y[x]=D}C=R+1}while(C<v);return y}function a(p,m,y){do{const v=p.charCodeAt(m);if(v!==32&&v!==9)return m}while(++m<y);return y}function c(p,m,y){for(;m>y;){const v=p.charCodeAt(--m);if(v!==32&&v!==9)return m+1}return y}function u(p,m,y){const v=y?.encode||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const w=v(m);if(!t.test(w))throw new TypeError(`argument val is invalid: ${m}`);let C=p+"="+w;if(!y)return C;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);C+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);C+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);C+="; Path="+y.path}if(y.expires){if(!h(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);C+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(C+="; HttpOnly"),y.secure&&(C+="; Secure"),y.partitioned&&(C+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return C}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return i.call(p)==="[object Date]"}return Um}Ane();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RK=e=>{throw TypeError(e)},Tne=(e,t,n)=>t.has(e)||RK("Cannot "+n),cO=(e,t,n)=>(Tne(e,t,"read from private field"),n?n.call(e):t.get(e)),Rne=(e,t,n)=>t.has(e)?RK("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oD="popstate";function Nne(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return yv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fd(i)}return Ine(t,n,null,e)}function Tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ti(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pne(){return Math.random().toString(36).substring(2,10)}function aD(e,t){return{usr:e.state,key:e.key,idx:t}}function yv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?wd(t):t,state:n,key:t&&t.key||r||Pne()}}function fd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ine(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let w=d(),C=w==null?null:w-u;u=w,c&&c({action:a,location:v.location,delta:C})}function p(w,C){a="PUSH";let _=yv(v.location,w,C);u=d()+1;let O=aD(_,u),R=v.createHref(_);try{o.pushState(O,"",R)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(R)}s&&c&&c({action:a,location:v.location,delta:1})}function m(w,C){a="REPLACE";let _=yv(v.location,w,C);u=d();let O=aD(_,u),R=v.createHref(_);o.replaceState(O,"",R),s&&c&&c({action:a,location:v.location,delta:0})}function y(w){let C=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:fd(w);return _=_.replace(/ $/,"%20"),Tn(C,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,C)}let v={get action(){return a},get location(){return e(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(oD,h),c=w,()=>{i.removeEventListener(oD,h),c=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let C=y(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:m,go(w){return o.go(w)}};return v}var _y,cD=class{constructor(e){if(Rne(this,_y,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(cO(this,_y).has(e))return cO(this,_y).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){cO(this,_y).set(e,t)}};_y=new WeakMap;var Dne=new Set(["lazy","caseSensitive","path","id","index","children"]);function kne(e){return Dne.has(e)}var Mne=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Lne(e){return Mne.has(e)}function Une(e){return e.index===!0}function L_(e,t,n=[],r={}){return e.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Tn(i.index!==!0||!i.children,"Cannot specify children on an index route"),Tn(!r[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),Une(i)){let c={...i,...t(i),id:a};return r[a]=c,c}else{let c={...i,...t(i),id:a,children:void 0};return r[a]=c,i.children&&(c.children=L_(i.children,t,o,r)),c}})}function Qu(e,t,n="/"){return yE(e,t,n,!1)}function yE(e,t,n,r){let i=typeof t=="string"?wd(t):t,s=Wa(i.pathname||"/",n);if(s==null)return null;let o=NK(e);$ne(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Jne(s);a=Xne(o[c],u,r)}return a}function Bne(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function NK(e,t=[],n=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Tn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=qc([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Tn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),NK(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:qne(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of PK(s.path))i(s,o,a)}),t}function PK(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=PK(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function $ne(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jne=/^:[\w-]+$/,Fne=3,Kne=2,Wne=1,Hne=10,zne=-2,lD=e=>e==="*";function qne(e,t){let n=e.split("/"),r=n.length;return n.some(lD)&&(r+=zne),t&&(r+=Kne),n.filter(i=>!lD(i)).reduce((i,s)=>i+(jne.test(s)?Fne:s===""?Wne:Hne),r)}function Vne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Xne(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=U_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=U_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:qc([s,h.pathname]),pathnameBase:Qne(qc([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=qc([s,h.pathnameBase]))}return o}function U_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Gne(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[p];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Gne(e,t=!1,n=!0){Ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Jne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ti(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Yne(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?wd(e):e;return{pathname:n?n.startsWith("/")?n:Zne(n,t):t,search:ere(r),hash:tre(i)}}function Zne(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lO(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function HC(e){let t=IK(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zC(e,t,n,r=!1){let i;typeof e=="string"?i=wd(e):(i={...e},Tn(!i.pathname||!i.pathname.includes("?"),lO("?","pathname","search",i)),Tn(!i.pathname||!i.pathname.includes("#"),lO("#","pathname","hash",i)),Tn(!i.search||!i.search.includes("#"),lO("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?t[h]:"/"}let c=Yne(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var qc=e=>e.join("/").replace(/\/\/+/g,"/"),Qne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ere=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,B_=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var DK=["POST","PUT","PATCH","DELETE"],nre=new Set(DK),rre=["GET",...DK],ire=new Set(rre),sre=new Set([301,302,303,307,308]),ore=new Set([307,308]),uO={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},are={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cre=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),kK="remix-router-transitions",MK=Symbol("ResetLoaderData");function lre(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Tn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||cre,s={},o=L_(e.routes,i,void 0,s),a,c=e.basename||"/",u=e.dataStrategy||pre,d={unstable_middleware:!1,...e.future},h=null,p=new Set,m=null,y=null,v=null,w=e.hydrationData!=null,C=Qu(o,e.history.location,c),_=!1,O=null;if(C==null&&!e.patchRoutesOnNavigation){let me=ka(404,{pathname:e.history.location.pathname}),{matches:Ee,route:Te}=ED(o);C=Ee,O={[Te.id]:me}}C&&!e.hydrationData&&Rn(C,o,e.history.location.pathname).active&&(C=null);let R;if(C)if(C.some(me=>me.route.lazy))R=!1;else if(!C.some(me=>me.route.loader))R=!0;else{let me=e.hydrationData?e.hydrationData.loaderData:null,Ee=e.hydrationData?e.hydrationData.errors:null;if(Ee){let Te=C.findIndex(je=>Ee[je.route.id]!==void 0);R=C.slice(0,Te+1).every(je=>!z4(je.route,me,Ee))}else R=C.every(Te=>!z4(Te.route,me,Ee))}else{R=!1,C=[];let me=Rn(null,o,e.history.location.pathname);me.active&&me.matches&&(_=!0,C=me.matches)}let S,E={historyAction:e.history.action,location:e.history.location,matches:C,initialized:R,navigation:uO,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},x="POP",N=!1,A,D=!1,k=new Map,U=null,H=!1,F=!1,P=new Set,I=new Map,$=0,W=-1,X=new Map,j=new Set,G=new Map,ae=new Map,ce=new Set,oe=new Map,Ce,Ae=null;function ue(){if(h=e.history.listen(({action:me,location:Ee,delta:Te})=>{if(Ce){Ce(),Ce=void 0;return}Ti(oe.size===0||Te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let je=ei({currentLocation:E.location,nextLocation:Ee,historyAction:me});if(je&&Te!=null){let Ge=new Promise(K=>{Ce=K});e.history.go(Te*-1),Bn(je,{state:"blocked",location:Ee,proceed(){Bn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Ge.then(()=>e.history.go(Te))},reset(){let K=new Map(E.blockers);K.set(je,Bm),B({blockers:K})}});return}return Fe(me,Ee)}),n){Sre(t,k);let me=()=>Ore(t,k);t.addEventListener("pagehide",me),U=()=>t.removeEventListener("pagehide",me)}return E.initialized||Fe("POP",E.location,{initialHydration:!0}),S}function Y(){h&&h(),U&&U(),p.clear(),A&&A.abort(),E.fetchers.forEach((me,Ee)=>zt(Ee)),E.blockers.forEach((me,Ee)=>Qn(Ee))}function ee(me){return p.add(me),()=>p.delete(me)}function B(me,Ee={}){E={...E,...me};let Te=[],je=[];E.fetchers.forEach((Ge,K)=>{Ge.state==="idle"&&(ce.has(K)?Te.push(K):je.push(K))}),ce.forEach(Ge=>{!E.fetchers.has(Ge)&&!I.has(Ge)&&Te.push(Ge)}),[...p].forEach(Ge=>Ge(E,{deletedFetchers:Te,viewTransitionOpts:Ee.viewTransitionOpts,flushSync:Ee.flushSync===!0})),Te.forEach(Ge=>zt(Ge)),je.forEach(Ge=>E.fetchers.delete(Ge))}function te(me,Ee,{flushSync:Te}={}){let je=E.actionData!=null&&E.navigation.formMethod!=null&&ea(E.navigation.formMethod)&&E.navigation.state==="loading"&&me.state?._isRedirect!==!0,Ge;Ee.actionData?Object.keys(Ee.actionData).length>0?Ge=Ee.actionData:Ge=null:je?Ge=E.actionData:Ge=null;let K=Ee.loaderData?wD(E.loaderData,Ee.loaderData,Ee.matches||[],Ee.errors):E.loaderData,J=E.blockers;J.size>0&&(J=new Map(J),J.forEach((Z,fe)=>J.set(fe,Bm)));let V=N===!0||E.navigation.formMethod!=null&&ea(E.navigation.formMethod)&&me.state?._isRedirect!==!0;a&&(o=a,a=void 0),H||x==="POP"||(x==="PUSH"?e.history.push(me,me.state):x==="REPLACE"&&e.history.replace(me,me.state));let L;if(x==="POP"){let Z=k.get(E.location.pathname);Z&&Z.has(me.pathname)?L={currentLocation:E.location,nextLocation:me}:k.has(me.pathname)&&(L={currentLocation:me,nextLocation:E.location})}else if(D){let Z=k.get(E.location.pathname);Z?Z.add(me.pathname):(Z=new Set([me.pathname]),k.set(E.location.pathname,Z)),L={currentLocation:E.location,nextLocation:me}}B({...Ee,actionData:Ge,loaderData:K,historyAction:x,location:me,initialized:!0,navigation:uO,revalidation:"idle",restoreScrollPosition:Jn(me,Ee.matches||E.matches),preventScrollReset:V,blockers:J},{viewTransitionOpts:L,flushSync:Te===!0}),x="POP",N=!1,D=!1,H=!1,F=!1,Ae?.resolve(),Ae=null}async function we(me,Ee){if(typeof me=="number"){e.history.go(me);return}let Te=H4(E.location,E.matches,c,me,Ee?.fromRouteId,Ee?.relative),{path:je,submission:Ge,error:K}=uD(!1,Te,Ee),J=E.location,V=yv(E.location,je,Ee&&Ee.state);V={...V,...e.history.encodeLocation(V)};let L=Ee&&Ee.replace!=null?Ee.replace:void 0,Z="PUSH";L===!0?Z="REPLACE":L===!1||Ge!=null&&ea(Ge.formMethod)&&Ge.formAction===E.location.pathname+E.location.search&&(Z="REPLACE");let fe=Ee&&"preventScrollReset"in Ee?Ee.preventScrollReset===!0:void 0,ye=(Ee&&Ee.flushSync)===!0,Ie=ei({currentLocation:J,nextLocation:V,historyAction:Z});if(Ie){Bn(Ie,{state:"blocked",location:V,proceed(){Bn(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),we(me,Ee)},reset(){let We=new Map(E.blockers);We.set(Ie,Bm),B({blockers:We})}});return}await Fe(Z,V,{submission:Ge,pendingError:K,preventScrollReset:fe,replace:Ee&&Ee.replace,enableViewTransition:Ee&&Ee.viewTransition,flushSync:ye})}function Ne(){Ae||(Ae=Are()),pn(),B({revalidation:"loading"});let me=Ae.promise;return E.navigation.state==="submitting"?me:E.navigation.state==="idle"?(Fe(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),me):(Fe(x||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:D===!0}),me)}async function Fe(me,Ee,Te){A&&A.abort(),A=null,x=me,H=(Te&&Te.startUninterruptedRevalidation)===!0,ks(E.location,E.matches),N=(Te&&Te.preventScrollReset)===!0,D=(Te&&Te.enableViewTransition)===!0;let je=a||o,Ge=Te&&Te.overrideNavigation,K=Te?.initialHydration&&E.matches&&E.matches.length>0&&!_?E.matches:Qu(je,Ee,c),J=(Te&&Te.flushSync)===!0;if(K&&E.initialized&&!F&&bre(E.location,Ee)&&!(Te&&Te.submission&&ea(Te.submission.formMethod))){te(Ee,{matches:K},{flushSync:J});return}let V=Rn(K,je,Ee.pathname);if(V.active&&V.matches&&(K=V.matches),!K){let{error:rt,notFoundMatches:sn,route:Ze}=wi(Ee.pathname);te(Ee,{matches:sn,loaderData:{},errors:{[Ze.id]:rt}},{flushSync:J});return}A=new AbortController;let L=f0(e.history,Ee,A.signal,Te&&Te.submission),Z=new cD(e.unstable_getContext?await e.unstable_getContext():void 0),fe;if(Te&&Te.pendingError)fe=[qf(K).route.id,{type:"error",error:Te.pendingError}];else if(Te&&Te.submission&&ea(Te.submission.formMethod)){let rt=await Ve(L,Ee,Te.submission,K,Z,V.active,Te&&Te.initialHydration===!0,{replace:Te.replace,flushSync:J});if(rt.shortCircuited)return;if(rt.pendingActionResult){let[sn,Ze]=rt.pendingActionResult;if(Qo(Ze)&&vv(Ze.error)&&Ze.error.status===404){A=null,te(Ee,{matches:rt.matches,loaderData:{},errors:{[sn]:Ze.error}});return}}K=rt.matches||K,fe=rt.pendingActionResult,Ge=dO(Ee,Te.submission),J=!1,V.active=!1,L=f0(e.history,L.url,L.signal)}let{shortCircuited:ye,matches:Ie,loaderData:We,errors:ut}=await Et(L,Ee,K,Z,V.active,Ge,Te&&Te.submission,Te&&Te.fetcherSubmission,Te&&Te.replace,Te&&Te.initialHydration===!0,J,fe);ye||(A=null,te(Ee,{matches:Ie||K,...bD(fe),loaderData:We,errors:ut}))}async function Ve(me,Ee,Te,je,Ge,K,J,V={}){pn();let L=Cre(Ee,Te);if(B({navigation:L},{flushSync:V.flushSync===!0}),K){let ye=await Dn(je,Ee.pathname,me.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Ie=qf(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[Ie,{type:"error",error:ye.error}]}}else if(ye.matches)je=ye.matches;else{let{notFoundMatches:Ie,error:We,route:ut}=wi(Ee.pathname);return{matches:Ie,pendingActionResult:[ut.id,{type:"error",error:We}]}}}let Z,fe=Cy(je,Ee);if(!fe.route.action&&!fe.route.lazy)Z={type:"error",error:ka(405,{method:me.method,pathname:Ee.pathname,routeId:fe.route.id})};else{let ye=I0(i,s,me,je,fe,J?[]:r,Ge),Ie=await Wt(me,ye,Ge,null);if(Z=Ie[fe.route.id],!Z){for(let We of je)if(Ie[We.route.id]){Z=Ie[We.route.id];break}}if(me.signal.aborted)return{shortCircuited:!0}}if(eh(Z)){let ye;return V&&V.replace!=null?ye=V.replace:ye=mD(Z.response.headers.get("Location"),new URL(me.url),c)===E.location.pathname+E.location.search,await Gt(me,Z,!0,{submission:Te,replace:ye}),{shortCircuited:!0}}if(Qo(Z)){let ye=qf(je,fe.route.id);return(V&&V.replace)!==!0&&(x="PUSH"),{matches:je,pendingActionResult:[ye.route.id,Z,fe.route.id]}}return{matches:je,pendingActionResult:[fe.route.id,Z]}}async function Et(me,Ee,Te,je,Ge,K,J,V,L,Z,fe,ye){let Ie=K||dO(Ee,J),We=J||V||CD(Ie),ut=!H&&!Z;if(Ge){if(ut){let st=Nt(ye);B({navigation:Ie,...st!==void 0?{actionData:st}:{}},{flushSync:fe})}let Ye=await Dn(Te,Ee.pathname,me.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let st=qf(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[st]:Ye.error}}}else if(Ye.matches)Te=Ye.matches;else{let{error:st,notFoundMatches:xt,route:ft}=wi(Ee.pathname);return{matches:xt,loaderData:{},errors:{[ft.id]:st}}}}let rt=a||o,{dsMatches:sn,revalidatingFetchers:Ze}=dD(me,je,i,s,e.history,E,Te,We,Ee,Z?[]:r,Z===!0,F,P,ce,G,j,rt,c,ye);if(W=++$,!e.dataStrategy&&!sn.some(Ye=>Ye.shouldLoad)&&Ze.length===0){let Ye=_t();return te(Ee,{matches:Te,loaderData:{},errors:ye&&Qo(ye[1])?{[ye[0]]:ye[1].error}:null,...bD(ye),...Ye?{fetchers:new Map(E.fetchers)}:{}},{flushSync:fe}),{shortCircuited:!0}}if(ut){let Ye={};if(!Ge){Ye.navigation=Ie;let st=Nt(ye);st!==void 0&&(Ye.actionData=st)}Ze.length>0&&(Ye.fetchers=at(Ze)),B(Ye,{flushSync:fe})}Ze.forEach(Ye=>{gn(Ye.key),Ye.controller&&I.set(Ye.key,Ye.controller)});let qt=()=>Ze.forEach(Ye=>gn(Ye.key));A&&A.signal.addEventListener("abort",qt);let{loaderResults:Ut,fetcherResults:Xt}=await Ht(sn,Ze,me,je);if(me.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",qt),Ze.forEach(Ye=>I.delete(Ye.key));let Bt=_b(Ut);if(Bt)return await Gt(me,Bt.result,!0,{replace:L}),{shortCircuited:!0};if(Bt=_b(Xt),Bt)return j.add(Bt.key),await Gt(me,Bt.result,!0,{replace:L}),{shortCircuited:!0};let{loaderData:jt,errors:Ct}=vD(E,Te,Ut,ye,Ze,Xt);Z&&E.errors&&(Ct={...E.errors,...Ct});let Jt=_t(),dt=un(W),At=Jt||dt||Ze.length>0;return{matches:Te,loaderData:jt,errors:Ct,...At?{fetchers:new Map(E.fetchers)}:{}}}function Nt(me){if(me&&!Qo(me[1]))return{[me[0]]:me[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function at(me){return me.forEach(Ee=>{let Te=E.fetchers.get(Ee.key),je=$m(void 0,Te?Te.data:void 0);E.fetchers.set(Ee.key,je)}),new Map(E.fetchers)}async function Kt(me,Ee,Te,je){gn(me);let Ge=(je&&je.flushSync)===!0,K=a||o,J=H4(E.location,E.matches,c,Te,Ee,je?.relative),V=Qu(K,J,c),L=Rn(V,K,J);if(L.active&&L.matches&&(V=L.matches),!V){yt(me,Ee,ka(404,{pathname:J}),{flushSync:Ge});return}let{path:Z,submission:fe,error:ye}=uD(!0,J,je);if(ye){yt(me,Ee,ye,{flushSync:Ge});return}let Ie=Cy(V,Z),We=new cD(e.unstable_getContext?await e.unstable_getContext():void 0),ut=(je&&je.preventScrollReset)===!0;if(fe&&ea(fe.formMethod)){await en(me,Ee,Z,Ie,V,We,L.active,Ge,ut,fe);return}G.set(me,{routeId:Ee,path:Z}),await ln(me,Ee,Z,Ie,V,We,L.active,Ge,ut,fe)}async function en(me,Ee,Te,je,Ge,K,J,V,L,Z){pn(),G.delete(me);function fe(Re){if(!Re.route.action&&!Re.route.lazy){let qe=ka(405,{method:Z.formMethod,pathname:Te,routeId:Ee});return yt(me,Ee,qe,{flushSync:V}),!0}return!1}if(!J&&fe(je))return;let ye=E.fetchers.get(me);ct(me,xre(Z,ye),{flushSync:V});let Ie=new AbortController,We=f0(e.history,Te,Ie.signal,Z);if(J){let Re=await Dn(Ge,Te,We.signal,me);if(Re.type==="aborted")return;if(Re.type==="error"){yt(me,Ee,Re.error,{flushSync:V});return}else if(Re.matches){if(Ge=Re.matches,je=Cy(Ge,Te),fe(je))return}else{yt(me,Ee,ka(404,{pathname:Te}),{flushSync:V});return}}I.set(me,Ie);let ut=$,rt=I0(i,s,We,Ge,je,r,K),Ze=(await Wt(We,rt,K,me))[je.route.id];if(We.signal.aborted){I.get(me)===Ie&&I.delete(me);return}if(ce.has(me)){if(eh(Ze)||Qo(Ze)){ct(me,qu(void 0));return}}else{if(eh(Ze))if(I.delete(me),W>ut){ct(me,qu(void 0));return}else return j.add(me),ct(me,$m(Z)),Gt(We,Ze,!1,{fetcherSubmission:Z,preventScrollReset:L});if(Qo(Ze)){yt(me,Ee,Ze.error);return}}let qt=E.navigation.location||E.location,Ut=f0(e.history,qt,Ie.signal),Xt=a||o,Bt=E.navigation.state!=="idle"?Qu(Xt,E.navigation.location,c):E.matches;Tn(Bt,"Didn't find any matches after fetcher action");let jt=++$;X.set(me,jt);let Ct=$m(Z,Ze.data);E.fetchers.set(me,Ct);let{dsMatches:Jt,revalidatingFetchers:dt}=dD(Ut,K,i,s,e.history,E,Bt,Z,qt,r,!1,F,P,ce,G,j,Xt,c,[je.route.id,Ze]);dt.filter(Re=>Re.key!==me).forEach(Re=>{let qe=Re.key,q=E.fetchers.get(qe),ne=$m(void 0,q?q.data:void 0);E.fetchers.set(qe,ne),gn(qe),Re.controller&&I.set(qe,Re.controller)}),B({fetchers:new Map(E.fetchers)});let At=()=>dt.forEach(Re=>gn(Re.key));Ie.signal.addEventListener("abort",At);let{loaderResults:Ye,fetcherResults:st}=await Ht(Jt,dt,Ut,K);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",At),X.delete(me),I.delete(me),dt.forEach(Re=>I.delete(Re.key));let xt=_b(Ye);if(xt)return Gt(Ut,xt.result,!1,{preventScrollReset:L});if(xt=_b(st),xt)return j.add(xt.key),Gt(Ut,xt.result,!1,{preventScrollReset:L});let{loaderData:ft,errors:ke}=vD(E,Bt,Ye,void 0,dt,st);if(E.fetchers.has(me)){let Re=qu(Ze.data);E.fetchers.set(me,Re)}un(jt),E.navigation.state==="loading"&&jt>W?(Tn(x,"Expected pending action"),A&&A.abort(),te(E.navigation.location,{matches:Bt,loaderData:ft,errors:ke,fetchers:new Map(E.fetchers)})):(B({errors:ke,loaderData:wD(E.loaderData,ft,Bt,ke),fetchers:new Map(E.fetchers)}),F=!1)}async function ln(me,Ee,Te,je,Ge,K,J,V,L,Z){let fe=E.fetchers.get(me);ct(me,$m(Z,fe?fe.data:void 0),{flushSync:V});let ye=new AbortController,Ie=f0(e.history,Te,ye.signal);if(J){let Ze=await Dn(Ge,Te,Ie.signal,me);if(Ze.type==="aborted")return;if(Ze.type==="error"){yt(me,Ee,Ze.error,{flushSync:V});return}else if(Ze.matches)Ge=Ze.matches,je=Cy(Ge,Te);else{yt(me,Ee,ka(404,{pathname:Te}),{flushSync:V});return}}I.set(me,ye);let We=$,ut=I0(i,s,Ie,Ge,je,r,K),sn=(await Wt(Ie,ut,K,me))[je.route.id];if(I.get(me)===ye&&I.delete(me),!Ie.signal.aborted){if(ce.has(me)){ct(me,qu(void 0));return}if(eh(sn))if(W>We){ct(me,qu(void 0));return}else{j.add(me),await Gt(Ie,sn,!1,{preventScrollReset:L});return}if(Qo(sn)){yt(me,Ee,sn.error);return}ct(me,qu(sn.data))}}async function Gt(me,Ee,Te,{submission:je,fetcherSubmission:Ge,preventScrollReset:K,replace:J}={}){Ee.response.headers.has("X-Remix-Revalidate")&&(F=!0);let V=Ee.response.headers.get("Location");Tn(V,"Expected a Location header on the redirect Response"),V=mD(V,new URL(me.url),c);let L=yv(E.location,V,{_isRedirect:!0});if(n){let ut=!1;if(Ee.response.headers.has("X-Remix-Reload-Document"))ut=!0;else if(pR.test(V)){const rt=e.history.createURL(V);ut=rt.origin!==t.location.origin||Wa(rt.pathname,c)==null}if(ut){J?t.location.replace(V):t.location.assign(V);return}}A=null;let Z=J===!0||Ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:fe,formAction:ye,formEncType:Ie}=E.navigation;!je&&!Ge&&fe&&ye&&Ie&&(je=CD(E.navigation));let We=je||Ge;if(ore.has(Ee.response.status)&&We&&ea(We.formMethod))await Fe(Z,L,{submission:{...We,formAction:V},preventScrollReset:K||N,enableViewTransition:Te?D:void 0});else{let ut=dO(L,je);await Fe(Z,L,{overrideNavigation:ut,fetcherSubmission:Ge,preventScrollReset:K||N,enableViewTransition:Te?D:void 0})}}async function Wt(me,Ee,Te,je){let Ge,K={};try{Ge=await gre(u,me,Ee,je,Te,!1)}catch(J){return Ee.filter(V=>V.shouldLoad).forEach(V=>{K[V.route.id]={type:"error",error:J}}),K}for(let[J,V]of Object.entries(Ge))if(Ere(V)){let L=V.result;K[J]={type:"redirect",response:vre(L,me,J,Ee,c)}}else K[J]=await yre(V);return K}async function Ht(me,Ee,Te,je){let Ge=Wt(Te,me,je,null),K=Promise.all(Ee.map(async L=>{if(L.matches&&L.match&&L.request&&L.controller){let fe=(await Wt(L.request,L.matches,je,L.key))[L.match.route.id];return{[L.key]:fe}}else return Promise.resolve({[L.key]:{type:"error",error:ka(404,{pathname:L.path})}})})),J=await Ge,V=(await K).reduce((L,Z)=>Object.assign(L,Z),{});return{loaderResults:J,fetcherResults:V}}function pn(){F=!0,G.forEach((me,Ee)=>{I.has(Ee)&&P.add(Ee),gn(Ee)})}function ct(me,Ee,Te={}){E.fetchers.set(me,Ee),B({fetchers:new Map(E.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function yt(me,Ee,Te,je={}){let Ge=qf(E.matches,Ee);zt(me),B({errors:{[Ge.route.id]:Te},fetchers:new Map(E.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function vt(me){return ae.set(me,(ae.get(me)||0)+1),ce.has(me)&&ce.delete(me),E.fetchers.get(me)||are}function zt(me){let Ee=E.fetchers.get(me);I.has(me)&&!(Ee&&Ee.state==="loading"&&X.has(me))&&gn(me),G.delete(me),X.delete(me),j.delete(me),ce.delete(me),P.delete(me),E.fetchers.delete(me)}function In(me){let Ee=(ae.get(me)||0)-1;Ee<=0?(ae.delete(me),ce.add(me)):ae.set(me,Ee),B({fetchers:new Map(E.fetchers)})}function gn(me){let Ee=I.get(me);Ee&&(Ee.abort(),I.delete(me))}function Ft(me){for(let Ee of me){let Te=vt(Ee),je=qu(Te.data);E.fetchers.set(Ee,je)}}function _t(){let me=[],Ee=!1;for(let Te of j){let je=E.fetchers.get(Te);Tn(je,`Expected fetcher: ${Te}`),je.state==="loading"&&(j.delete(Te),me.push(Te),Ee=!0)}return Ft(me),Ee}function un(me){let Ee=[];for(let[Te,je]of X)if(je<me){let Ge=E.fetchers.get(Te);Tn(Ge,`Expected fetcher: ${Te}`),Ge.state==="loading"&&(gn(Te),X.delete(Te),Ee.push(Te))}return Ft(Ee),Ee.length>0}function xr(me,Ee){let Te=E.blockers.get(me)||Bm;return oe.get(me)!==Ee&&oe.set(me,Ee),Te}function Qn(me){E.blockers.delete(me),oe.delete(me)}function Bn(me,Ee){let Te=E.blockers.get(me)||Bm;Tn(Te.state==="unblocked"&&Ee.state==="blocked"||Te.state==="blocked"&&Ee.state==="blocked"||Te.state==="blocked"&&Ee.state==="proceeding"||Te.state==="blocked"&&Ee.state==="unblocked"||Te.state==="proceeding"&&Ee.state==="unblocked",`Invalid blocker state transition: ${Te.state} -> ${Ee.state}`);let je=new Map(E.blockers);je.set(me,Ee),B({blockers:je})}function ei({currentLocation:me,nextLocation:Ee,historyAction:Te}){if(oe.size===0)return;oe.size>1&&Ti(!1,"A router only supports one blocker at a time");let je=Array.from(oe.entries()),[Ge,K]=je[je.length-1],J=E.blockers.get(Ge);if(!(J&&J.state==="proceeding")&&K({currentLocation:me,nextLocation:Ee,historyAction:Te}))return Ge}function wi(me){let Ee=ka(404,{pathname:me}),Te=a||o,{matches:je,route:Ge}=ED(Te);return{notFoundMatches:je,route:Ge,error:Ee}}function Jr(me,Ee,Te){if(m=me,v=Ee,y=Te||null,!w&&E.navigation===uO){w=!0;let je=Jn(E.location,E.matches);je!=null&&B({restoreScrollPosition:je})}return()=>{m=null,v=null,y=null}}function Xi(me,Ee){return y&&y(me,Ee.map(je=>Bne(je,E.loaderData)))||me.key}function ks(me,Ee){if(m&&v){let Te=Xi(me,Ee);m[Te]=v()}}function Jn(me,Ee){if(m){let Te=Xi(me,Ee),je=m[Te];if(typeof je=="number")return je}return null}function Rn(me,Ee,Te){if(e.patchRoutesOnNavigation)if(me){if(Object.keys(me[0].params).length>0)return{active:!0,matches:yE(Ee,Te,c,!0)}}else return{active:!0,matches:yE(Ee,Te,c,!0)||[]};return{active:!1,matches:null}}async function Dn(me,Ee,Te,je){if(!e.patchRoutesOnNavigation)return{type:"success",matches:me};let Ge=me;for(;;){let K=a==null,J=a||o,V=s;try{await e.patchRoutesOnNavigation({signal:Te,path:Ee,matches:Ge,fetcherKey:je,patch:(fe,ye)=>{Te.aborted||fD(fe,ye,J,V,i)}})}catch(fe){return{type:"error",error:fe,partialMatches:Ge}}finally{K&&!Te.aborted&&(o=[...o])}if(Te.aborted)return{type:"aborted"};let L=Qu(J,Ee,c);if(L)return{type:"success",matches:L};let Z=yE(J,Ee,c,!0);if(!Z||Ge.length===Z.length&&Ge.every((fe,ye)=>fe.route.id===Z[ye].route.id))return{type:"success",matches:null};Ge=Z}}function rr(me){s={},a=L_(me,i,void 0,s)}function Sr(me,Ee){let Te=a==null;fD(me,Ee,a||o,s,i),Te&&(o=[...o],B({}))}return S={get basename(){return c},get future(){return d},get state(){return E},get routes(){return o},get window(){return t},initialize:ue,subscribe:ee,enableScrollRestoration:Jr,navigate:we,fetch:Kt,revalidate:Ne,createHref:me=>e.history.createHref(me),encodeLocation:me=>e.history.encodeLocation(me),getFetcher:vt,deleteFetcher:In,dispose:Y,getBlocker:xr,deleteBlocker:Qn,patchRoutes:Sr,_internalFetchControllers:I,_internalSetRoutes:rr},S}function ure(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function H4(e,t,n,r,i,s){let o,a;if(i){o=[];for(let u of t)if(o.push(u),u.route.id===i){a=u;break}}else o=t,a=t[t.length-1];let c=zC(r||".",HC(o),Wa(e.pathname,n)||e.pathname,s==="path");if(r==null&&(c.search=e.search,c.hash=e.hash),(r==null||r===""||r===".")&&a){let u=gR(c.search);if(a.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();c.search=p?`?${p}`:""}}return n!=="/"&&(c.pathname=c.pathname==="/"?n:qc([n,c.pathname])),fd(c)}function uD(e,t,n){if(!n||!ure(n))return{path:t};if(n.formMethod&&!_re(n.formMethod))return{path:t,error:ka(405,{method:n.formMethod})};let r=()=>({path:t,error:ka(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=FK(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ea(s))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,y])=>`${p}${m}=${y}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!ea(s))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}Tn(typeof FormData=="function","FormData is not available in this environment");let a,c;if(n.formData)a=V4(n.formData),c=n.formData;else if(n.body instanceof FormData)a=V4(n.body),c=n.body;else if(n.body instanceof URLSearchParams)a=n.body,c=yD(a);else if(n.body==null)a=new URLSearchParams,c=new FormData;else try{a=new URLSearchParams(n.body),c=yD(a)}catch{return r()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ea(u.formMethod))return{path:t,submission:u};let d=wd(t);return e&&d.search&&gR(d.search)&&a.append("index",""),d.search=`?${a}`,{path:fd(d),submission:u}}function dD(e,t,n,r,i,s,o,a,c,u,d,h,p,m,y,v,w,C,_){let O=_?Qo(_[1])?_[1].error:_[1].data:void 0,R=i.createURL(s.location),S=i.createURL(c),E;if(d&&s.errors){let U=Object.keys(s.errors)[0];E=o.findIndex(H=>H.route.id===U)}else if(_&&Qo(_[1])){let U=_[0];E=o.findIndex(H=>H.route.id===U)-1}let x=_?_[1].statusCode:void 0,N=x&&x>=400,A={currentUrl:R,currentParams:s.matches[0]?.params||{},nextUrl:S,nextParams:o[0].params,...a,actionResult:O,actionStatus:x},D=o.map((U,H)=>{let{route:F}=U,P=null;if(E!=null&&H>E?P=!1:F.lazy?P=!0:F.loader==null?P=!1:d?P=z4(F,s.loaderData,s.errors):dre(s.loaderData,s.matches[H],U)&&(P=!0),P!==null)return q4(n,r,e,U,u,t,P);let I=N?!1:h||R.pathname+R.search===S.pathname+S.search||R.search!==S.search||fre(s.matches[H],U),$={...A,defaultShouldRevalidate:I},W=$_(U,$);return q4(n,r,e,U,u,t,W,$)}),k=[];return y.forEach((U,H)=>{if(d||!o.some(j=>j.route.id===U.routeId)||m.has(H))return;let F=Qu(w,U.path,C);if(!F){k.push({key:H,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(v.has(H))return;let P=s.fetchers.get(H),I=Cy(F,U.path),$=new AbortController,W=f0(i,U.path,$.signal),X=null;if(p.has(H))p.delete(H),X=I0(n,r,W,F,I,u,t);else if(P&&P.state!=="idle"&&P.data===void 0)h&&(X=I0(n,r,W,F,I,u,t));else{let j={...A,defaultShouldRevalidate:N?!1:h};$_(I,j)&&(X=I0(n,r,W,F,I,u,t,j))}X&&k.push({key:H,routeId:U.routeId,path:U.path,matches:X,match:I,request:W,controller:$})}),{dsMatches:D,revalidatingFetchers:k}}function z4(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function dre(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function fre(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function $_(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function fD(e,t,n,r,i){let s;if(e){let c=r[e];Tn(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),s=c.children}else s=n;let o=t.filter(c=>!s.some(u=>LK(c,u))),a=L_(o,i,[e||"_","patch",String(s?.length||"0")],r);s.push(...a)}function LK(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>LK(n,i))):!1}var hD=new WeakMap,UK=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Tn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=hD.get(i);o||(o={},hD.set(i,o));let a=o[e];if(a)return a;let c=(async()=>{let u=kne(e),h=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)Ti(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(h)Ti(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await s();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return o[e]=c,c},pD=new WeakMap;function hre(e,t,n,r,i){let s=n[e.id];if(Tn(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=pD.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{Tn(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let y in p){let v=p[y];if(v===void 0)continue;let w=Lne(y),_=s[y]!==void 0&&y!=="hasErrorBoundary";w?Ti(!w,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):_?Ti(!_,`Route "${s.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=v}Object.assign(s,m),Object.assign(s,{...r(s),lazy:void 0})})();return pD.set(s,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(e.lazy),a=[],c;for(let d of o){if(i&&i.includes(d))continue;let h=UK({key:d,route:e,manifest:n,mapRouteProperties:r});h&&(a.push(h),d===t&&(c=h))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function gD(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function pre(e){return e.matches.some(t=>t.route.unstable_middleware)?BK(e,!1,()=>gD(e),(t,n)=>({[n]:{type:"error",result:t}})):gD(e)}async function BK(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,c={handlerResult:void 0};try{let u=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(p=>[h.route.id,p]):[]),d=await $K({request:s,params:o,context:a},u,t,c,n);return t?d:c.handlerResult}catch(u){if(!c.middlewareError)throw u;let d=await r(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,d):d}}async function $K(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[c,u]=a,d=!1,h,p=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await $K(e,t,n,r,i,s+1)};try{let m=await u({request:e.request,params:e.params,context:e.context},p);return d?m===void 0?h:m:p()}catch(m){throw r.middlewareError?r.middlewareError.error!==m&&(r.middlewareError={routeId:c,error:m}):r.middlewareError={routeId:c,error:m},m}}function jK(e,t,n,r,i){let s=UK({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=hre(r.route,ea(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function q4(e,t,n,r,i,s,o,a=null){let c=!1,u=jK(e,t,n,r,i);return{...r,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(d){return c=!0,a?typeof d=="boolean"?$_(r,{...a,defaultShouldRevalidate:d}):$_(r,a):o},resolve(d){return c||o||d&&n.method==="GET"&&(r.route.lazy||r.route.loader)?mre({request:n,match:r,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:d,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function I0(e,t,n,r,i,s,o,a=null){return r.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:jK(e,t,n,c,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:q4(e,t,n,c,s,o,!0,a))}async function gre(e,t,n,r,i,s){n.some(u=>u._lazyPromises?.middleware)&&await Promise.all(n.map(u=>u._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},c=await e({...o,fetcherKey:r,unstable_runClientMiddleware:u=>{let d=o;return BK(d,!1,()=>u({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,p)=>({[p]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return c}async function mre({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,c=ea(e.method),u=c?"action":"loader",d=h=>{let p,m=new Promise((w,C)=>p=C);a=()=>p(),e.signal.addEventListener("abort",a);let y=w=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:s},...w!==void 0?[w]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(C=>y(C)):y())}}catch(w){return{type:"error",result:w}}})();return Promise.race([v,m])};try{let h=c?t.route.action:t.route.loader;if(n||r)if(h){let p,[m]=await Promise.all([d(h).catch(y=>{p=y}),n,r]);if(p!==void 0)throw p;o=m}else{await n;let p=c?t.route.action:t.route.loader;if(p)[o]=await Promise.all([d(p),r]);else if(u==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw ka(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)o=await d(h);else{let p=new URL(e.url),m=p.pathname+p.search;throw ka(404,{pathname:m})}}catch(h){return{type:"error",result:h}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function yre(e){let{result:t,type:n}=e;if(KK(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new B_(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?_D(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new B_(t.init?.status||500,void 0,t.data),statusCode:vv(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:vv(t)?t.status:void 0}:_D(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function vre(e,t,n,r,i){let s=e.headers.get("Location");if(Tn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!pR.test(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=H4(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function mD(e,t,n){if(pR.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Wa(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function f0(e,t,n,r){let i=e.createURL(FK(t)).toString(),s={signal:n};if(r&&ea(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=V4(r.formData):s.body=r.formData}return new Request(i,s)}function V4(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function yD(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function wre(e,t,n,r=!1,i=!1){let s={},o=null,a,c=!1,u={},d=n&&Qo(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let p=h.route.id,m=t[p];if(Tn(!eh(m),"Cannot handle redirect results in processLoaderData"),Qo(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),o=o||{},i)o[p]=y;else{let v=qf(e,p);o[v.route.id]==null&&(o[v.route.id]=y)}r||(s[p]=MK),c||(c=!0,a=vv(m.error)?m.error.status:500),m.headers&&(u[p]=m.headers)}else s[p]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(a=m.statusCode),m.headers&&(u[p]=m.headers)}),d!==void 0&&n&&(o={[n[0]]:d},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function vD(e,t,n,r,i,s){let{loaderData:o,errors:a}=wre(t,n,r);return i.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c,p=s[u];if(Tn(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Qo(p)){let m=qf(e.matches,d?.route.id);a&&a[m.route.id]||(a={...a,[m.route.id]:p.error}),e.fetchers.delete(u)}else if(eh(p))Tn(!1,"Unhandled fetcher revalidation redirect");else{let m=qu(p.data);e.fetchers.set(u,m)}}),{loaderData:o,errors:a}}function wD(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==MK).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function bD(e){return e?Qo(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function qf(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function ED(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ka(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new B_(e||500,o,new Error(a),!0)}function _b(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(eh(i))return{key:r,result:i}}}function FK(e){let t=typeof e=="string"?wd(e):e;return fd({...t,hash:""})}function bre(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ere(e){return KK(e.result)&&sre.has(e.result.status)}function Qo(e){return e.type==="error"}function eh(e){return(e&&e.type)==="redirect"}function _D(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function KK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function _re(e){return ire.has(e.toUpperCase())}function ea(e){return nre.has(e.toUpperCase())}function gR(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Cy(e,t){let n=typeof t=="string"?wd(t).search:t.search;if(e[e.length-1].route.index&&gR(n||""))return e[e.length-1];let r=IK(e);return r[r.length-1]}function CD(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function dO(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Cre(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function $m(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xre(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function qu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Sre(e,t){try{let n=e.sessionStorage.getItem(kK);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function Ore(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(kK,JSON.stringify(n))}catch(r){Ti(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Are(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var $h=le.createContext(null);$h.displayName="DataRouter";var N1=le.createContext(null);N1.displayName="DataRouterState";var mR=le.createContext({isTransitioning:!1});mR.displayName="ViewTransition";var WK=le.createContext(new Map);WK.displayName="Fetchers";var Tre=le.createContext(null);Tre.displayName="Await";var bc=le.createContext(null);bc.displayName="Navigation";var qC=le.createContext(null);qC.displayName="Location";var Ec=le.createContext({outlet:null,matches:[],isDataRoute:!1});Ec.displayName="Route";var yR=le.createContext(null);yR.displayName="RouteError";function Rre(e,{relative:t}={}){Tn(mg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=le.useContext(bc),{hash:i,pathname:s,search:o}=P1(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:qc([n,s])),r.createHref({pathname:a,search:o,hash:i})}function mg(){return le.useContext(qC)!=null}function ua(){return Tn(mg(),"useLocation() may be used only in the context of a <Router> component."),le.useContext(qC).location}var HK="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zK(e){le.useContext(bc).static||le.useLayoutEffect(e)}function vR(){let{isDataRoute:e}=le.useContext(Ec);return e?Hre():Nre()}function Nre(){Tn(mg(),"useNavigate() may be used only in the context of a <Router> component.");let e=le.useContext($h),{basename:t,navigator:n}=le.useContext(bc),{matches:r}=le.useContext(Ec),{pathname:i}=ua(),s=JSON.stringify(HC(r)),o=le.useRef(!1);return zK(()=>{o.current=!0}),le.useCallback((c,u={})=>{if(Ti(o.current,HK),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=zC(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:qc([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}var Pre=le.createContext(null);function Ire(e){let t=le.useContext(Ec).outlet;return t&&le.createElement(Pre.Provider,{value:e},t)}function P1(e,{relative:t}={}){let{matches:n}=le.useContext(Ec),{pathname:r}=ua(),i=JSON.stringify(HC(n));return le.useMemo(()=>zC(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Dre(e,t,n,r){Tn(mg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=le.useContext(bc),{matches:o}=le.useContext(Ec),a=o[o.length-1],c=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let _=h&&h.path||"";qK(u,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=ua(),m;m=p;let y=m.pathname||"/",v=y;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:Qu(e,{pathname:v});return Ti(h||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ti(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Bre(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:qc([d,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:qc([d,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r)}function kre(){let e=Wre(),t=vv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=le.createElement(le.Fragment,null,le.createElement("p",null," Hey developer "),le.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",le.createElement("code",{style:s},"ErrorBoundary")," or"," ",le.createElement("code",{style:s},"errorElement")," prop on your route.")),le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},t),n?le.createElement("pre",{style:i},n):null,o)}var Mre=le.createElement(kre,null),Lre=class extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?le.createElement(Ec.Provider,{value:this.props.routeContext},le.createElement(yR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ure({routeContext:e,match:t,children:n}){let r=le.useContext($h);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),le.createElement(Ec.Provider,{value:e},n)}function Bre(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);Tn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=c),u.route.id){let{loaderData:d,errors:h}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let h,p=!1,m=null,y=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||Mre,o&&(a<0&&d===0?(qK("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===d&&(p=!0,y=u.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,d+1)),w=()=>{let C;return h?C=m:p?C=y:u.route.Component?C=le.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=c,le.createElement(Ure,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:C})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?le.createElement(Lre,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}function wR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $re(e){let t=le.useContext($h);return Tn(t,wR(e)),t}function jre(e){let t=le.useContext(N1);return Tn(t,wR(e)),t}function Fre(e){let t=le.useContext(Ec);return Tn(t,wR(e)),t}function bR(e){let t=Fre(e),n=t.matches[t.matches.length-1];return Tn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Kre(){return bR("useRouteId")}function Wre(){let e=le.useContext(yR),t=jre("useRouteError"),n=bR("useRouteError");return e!==void 0?e:t.errors?.[n]}function Hre(){let{router:e}=$re("useNavigate"),t=bR("useNavigate"),n=le.useRef(!1);return zK(()=>{n.current=!0}),le.useCallback(async(i,s={})=>{Ti(n.current,HK),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var xD={};function qK(e,t,n){!t&&!xD[e]&&(xD[e]=!0,Ti(!1,n))}var SD={};function OD(e,t){!e&&!SD[t]&&(SD[t]=!0,console.warn(t))}function zre(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ti(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:le.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ti(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:le.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ti(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:le.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var qre=["HydrateFallback","hydrateFallbackElement"],Vre=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Xre({router:e,flushSync:t}){let[n,r]=le.useState(e.state),[i,s]=le.useState(),[o,a]=le.useState({isTransitioning:!1}),[c,u]=le.useState(),[d,h]=le.useState(),[p,m]=le.useState(),y=le.useRef(new Map),v=le.useCallback((O,{deletedFetchers:R,flushSync:S,viewTransitionOpts:E})=>{O.fetchers.forEach((N,A)=>{N.data!==void 0&&y.current.set(A,N.data)}),R.forEach(N=>y.current.delete(N)),OD(S===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(OD(E==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!x){t&&S?t(()=>r(O)):le.startTransition(()=>r(O));return}if(t&&S){t(()=>{d&&(c&&c.resolve(),d.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let N=e.window.document.startViewTransition(()=>{t(()=>r(O))});N.finished.finally(()=>{t(()=>{u(void 0),h(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>h(N));return}d?(c&&c.resolve(),d.skipTransition(),m({state:O,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(s(O),a({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,d,c]);le.useLayoutEffect(()=>e.subscribe(v),[e,v]),le.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new Vre)},[o]),le.useEffect(()=>{if(c&&i&&e.window){let O=i,R=c.promise,S=e.window.document.startViewTransition(async()=>{le.startTransition(()=>r(O)),await R});S.finished.finally(()=>{u(void 0),h(void 0),s(void 0),a({isTransitioning:!1})}),h(S)}},[i,c,e.window]),le.useEffect(()=>{c&&i&&n.location.key===i.location.key&&c.resolve()},[c,d,n.location,i]),le.useEffect(()=>{!o.isTransitioning&&p&&(s(p.state),a({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[o.isTransitioning,p]);let w=le.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,R,S)=>e.navigate(O,{state:R,preventScrollReset:S?.preventScrollReset}),replace:(O,R,S)=>e.navigate(O,{replace:!0,state:R,preventScrollReset:S?.preventScrollReset})}),[e]),C=e.basename||"/",_=le.useMemo(()=>({router:e,navigator:w,static:!1,basename:C}),[e,w,C]);return le.createElement(le.Fragment,null,le.createElement($h.Provider,{value:_},le.createElement(N1.Provider,{value:n},le.createElement(WK.Provider,{value:y.current},le.createElement(mR.Provider,{value:o},le.createElement(Zre,{basename:C,location:n.location,navigationType:n.historyAction,navigator:w},le.createElement(Gre,{routes:e.routes,future:e.future,state:n})))))),null)}var Gre=le.memo(Jre);function Jre({routes:e,future:t,state:n}){return Dre(e,void 0,n,t)}function Yre({to:e,replace:t,state:n,relative:r}){Tn(mg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=le.useContext(bc);Ti(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=le.useContext(Ec),{pathname:o}=ua(),a=vR(),c=zC(e,HC(s),o,r==="path"),u=JSON.stringify(c);return le.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function VK(e){return Ire(e.context)}function Vu(e){Tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zre({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Tn(!mg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=le.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=wd(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:p="default"}=n,m=le.useMemo(()=>{let y=Wa(c,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:p},navigationType:r}},[o,c,u,d,h,p,r]);return Ti(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:le.createElement(bc.Provider,{value:a},le.createElement(qC.Provider,{children:t,value:m}))}function X4(e,t=[]){let n=[];return le.Children.forEach(e,(r,i)=>{if(!le.isValidElement(r))return;let s=[...t,i];if(r.type===le.Fragment){n.push.apply(n,X4(r.props.children,s));return}Tn(r.type===Vu,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=X4(r.props.children,s)),n.push(o)}),n}var Qre=X4,vE="get",wE="application/x-www-form-urlencoded";function VC(e){return e!=null&&typeof e.tagName=="string"}function eie(e){return VC(e)&&e.tagName.toLowerCase()==="button"}function tie(e){return VC(e)&&e.tagName.toLowerCase()==="form"}function nie(e){return VC(e)&&e.tagName.toLowerCase()==="input"}function rie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iie(e,t){return e.button===0&&(!t||t==="_self")&&!rie(e)}var Cb=null;function sie(){if(Cb===null)try{new FormData(document.createElement("form"),0),Cb=!1}catch{Cb=!0}return Cb}var oie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fO(e){return e!=null&&!oie.has(e)?(Ti(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wE}"`),null):e}function aie(e,t){let n,r,i,s,o;if(tie(e)){let a=e.getAttribute("action");r=a?Wa(a,t):null,n=e.getAttribute("method")||vE,i=fO(e.getAttribute("enctype"))||wE,s=new FormData(e)}else if(eie(e)||nie(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||a.getAttribute("action");if(r=c?Wa(c,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||vE,i=fO(e.getAttribute("formenctype"))||fO(a.getAttribute("enctype"))||wE,s=new FormData(a,e),!sie()){let{name:u,type:d,value:h}=e;if(d==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,h)}}else{if(VC(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vE,r=null,i=wE,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function ER(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function cie(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lie(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uie(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await cie(s,n);return o.links?o.links():[]}return[]}));return pie(r.flat(1).filter(lie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AD(e,t,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return s==="assets"?t.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?t.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function die(e,t,{includeHydrateFallback:n}={}){return fie(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function fie(e){return[...new Set(e)]}function hie(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function pie(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(hie(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var gie=new Set([100,101,204,205]);function mie(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Wa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function XK(){let e=le.useContext($h);return ER(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yie(){let e=le.useContext(N1);return ER(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _R=le.createContext(void 0);_R.displayName="FrameworkContext";function GK(){let e=le.useContext(_R);return ER(e,"You must render this element inside a <HydratedRouter> element"),e}function vie(e,t){let n=le.useContext(_R),[r,i]=le.useState(!1),[s,o]=le.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=le.useRef(null);le.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=C=>{C.forEach(_=>{o(_.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),le.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:jm(a,m),onBlur:jm(c,y),onMouseEnter:jm(u,m),onMouseLeave:jm(d,y),onTouchStart:jm(h,m)}]:[!1,p,{}]}function jm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function wie({page:e,...t}){let{router:n}=XK(),r=le.useMemo(()=>Qu(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?le.createElement(Eie,{page:e,matches:r,...t}):null}function bie(e){let{manifest:t,routeModules:n}=GK(),[r,i]=le.useState([]);return le.useEffect(()=>{let s=!1;return uie(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function Eie({page:e,matches:t,...n}){let r=ua(),{manifest:i,routeModules:s}=GK(),{basename:o}=XK(),{loaderData:a,matches:c}=yie(),u=le.useMemo(()=>AD(e,t,c,i,r,"data"),[e,t,c,i,r]),d=le.useMemo(()=>AD(e,t,c,i,r,"assets"),[e,t,c,i,r]),h=le.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(t.forEach(C=>{let _=i.routes[C.route.id];!_||!_.hasLoader||(!u.some(O=>O.route.id===C.route.id)&&C.route.id in a&&s[C.route.id]?.shouldRevalidate||_.hasClientLoader?v=!0:y.add(C.route.id))}),y.size===0)return[];let w=mie(e,o);return v&&y.size>0&&w.searchParams.set("_routes",t.filter(C=>y.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[o,a,r,i,u,t,e,s]),p=le.useMemo(()=>die(d,i),[d,i]),m=bie(d);return le.createElement(le.Fragment,null,h.map(y=>le.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>le.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>le.createElement("link",{key:y,...v})))}function _ie(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JK&&(window.__reactRouterVersion="7.5.3")}catch{}function Cie(e,t){return lre({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Nne({window:t?.window}),hydrationData:xie(),routes:e,mapRouteProperties:zre,hydrationRouteProperties:qre,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function xie(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Sie(e.errors)}),e}function Sie(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new B_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var YK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I1=le.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h,...p},m){let{basename:y}=le.useContext(bc),v=typeof u=="string"&&YK.test(u),w,C=!1;if(typeof u=="string"&&v&&(w=u,JK))try{let A=new URL(window.location.href),D=u.startsWith("//")?new URL(A.protocol+u):new URL(u),k=Wa(D.pathname,y);D.origin===A.origin&&k!=null?u=k+D.search+D.hash:C=!0}catch{Ti(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Rre(u,{relative:i}),[O,R,S]=vie(r,p),E=Rie(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,viewTransition:h});function x(A){t&&t(A),A.defaultPrevented||E(A)}let N=le.createElement("a",{...p,...S,href:w||_,onClick:C||s?t:x,ref:_ie(m,R),target:c,"data-discover":!v&&n==="render"?"true":void 0});return O&&!v?le.createElement(le.Fragment,null,N,le.createElement(wie,{page:_})):N});I1.displayName="Link";var Oie=le.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},d){let h=P1(o,{relative:u.relative}),p=ua(),m=le.useContext(N1),{navigator:y,basename:v}=le.useContext(bc),w=m!=null&&kie(h)&&a===!0,C=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,_=p.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&v&&(O=Wa(O,v)||O);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let S=_===C||!i&&_.startsWith(C)&&_.charAt(R)==="/",E=O!=null&&(O===C||!i&&O.startsWith(C)&&O.charAt(C.length)==="/"),x={isActive:S,isPending:E,isTransitioning:w},N=S?t:void 0,A;typeof r=="function"?A=r(x):A=[r,S?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(x):s;return le.createElement(I1,{...u,"aria-current":N,className:A,ref:d,style:D,to:o,viewTransition:a},typeof c=="function"?c(x):c)});Oie.displayName="NavLink";var Aie=le.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=vE,action:a,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...p},m)=>{let y=Iie(),v=Die(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&YK.test(a),_=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let R=O.nativeEvent.submitter,S=R?.getAttribute("formmethod")||o;y(R||O.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return le.createElement("form",{ref:m,method:w,action:v,onSubmit:r?c:_,...p,"data-discover":!C&&e==="render"?"true":void 0})});Aie.displayName="Form";function Tie(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZK(e){let t=le.useContext($h);return Tn(t,Tie(e)),t}function Rie(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=vR(),c=ua(),u=P1(e,{relative:s});return le.useCallback(d=>{if(iie(d,t)){d.preventDefault();let h=n!==void 0?n:fd(c)===fd(u);a(e,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,n,r,t,e,i,s,o])}var Nie=0,Pie=()=>`__${String(++Nie)}__`;function Iie(){let{router:e}=ZK("useSubmit"),{basename:t}=le.useContext(bc),n=Kre();return le.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=aie(r,t);if(i.navigate===!1){let d=i.fetcherKey||Pie();await e.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Die(e,{relative:t}={}){let{basename:n}=le.useContext(bc),r=le.useContext(Ec);Tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...P1(e||".",{relative:t})},o=ua();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(d=>d==="")){a.delete("index"),c.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:qc([n,s.pathname])),fd(s)}function kie(e,t={}){let n=le.useContext(mR);Tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZK("useViewTransitionState"),i=P1(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return U_(i.pathname,o)!=null||U_(i.pathname,s)!=null}new TextEncoder;[...gie];var D1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xh=typeof window>"u"||"Deno"in globalThis;function Ma(){}function Mie(e,t){return typeof e=="function"?e(t):e}function G4(e){return typeof e=="number"&&e>=0&&e!==1/0}function QK(e,t){return Math.max(e+(t||0)-Date.now(),0)}function D0(e,t){return typeof e=="function"?e(t):e}function ac(e,t){return typeof e=="function"?e(t):e}function TD(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==CR(o,t.options))return!1}else if(!bv(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function RD(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(wv(t.options.mutationKey)!==wv(s))return!1}else if(!bv(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function CR(e,t){return(t?.queryKeyHashFn||wv)(e)}function wv(e){return JSON.stringify(e,(t,n)=>Y4(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>bv(e[n],t[n])):!1}function eW(e,t){if(e===t)return e;const n=ND(e)&&ND(t);if(n||Y4(e)&&Y4(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=eW(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function J4(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ND(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Y4(e){if(!PD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!PD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function PD(e){return Object.prototype.toString.call(e)==="[object Object]"}function Lie(e){return new Promise(t=>{setTimeout(t,e)})}function Z4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?eW(e,t):t}function Uie(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Bie(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var xR=Symbol();function tW(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===xR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $ie=class extends D1{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!xh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},SR=new $ie,jie=class extends D1{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!xh&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},j_=new jie;function Q4(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function Fie(e){return Math.min(1e3*2**e,3e4)}function nW(e){return(e??"online")==="online"?j_.isOnline():!0}var rW=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function hO(e){return e instanceof rW}function iW(e){let t=!1,n=0,r=!1,i;const s=Q4(),o=v=>{r||(p(new rW(v)),e.abort?.())},a=()=>{t=!0},c=()=>{t=!1},u=()=>SR.isFocused()&&(e.networkMode==="always"||j_.isOnline())&&e.canRun(),d=()=>nW(e.networkMode)&&e.canRun(),h=v=>{r||(r=!0,e.onSuccess?.(v),i?.(),s.resolve(v))},p=v=>{r||(r=!0,e.onError?.(v),i?.(),s.reject(v))},m=()=>new Promise(v=>{i=w=>{(r||u())&&v(w)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),y=()=>{if(r)return;let v;const w=n===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(h).catch(C=>{if(r)return;const _=e.retry??(xh?0:3),O=e.retryDelay??Fie,R=typeof O=="function"?O(n,C):O,S=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,C);if(t||!S){p(C);return}n++,e.onFail?.(n,C),Lie(R).then(()=>u()?void 0:m()).then(()=>{t?p(C):y()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),s)}}var Kie=e=>setTimeout(e,0);function Wie(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=Kie;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var _s=Wie(),sW=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),G4(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xh?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Hie=class extends sW{#t;#e;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=zie(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Z4(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Ma).catch(Ma):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ac(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!QK(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const a=tW(this.options,t),c={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(c),this.#o=!1,this.options.persister?this.options.persister(a,c,this):a(c)},s={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#s({type:"fetch",meta:s.fetchOptions?.meta});const o=a=>{hO(a)&&a.silent||this.#s({type:"error",error:a}),hO(a)||(this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#i=iW({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:a=>{if(a===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(c){o(c);return}this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:o,onFail:(a,c)=>{this.#s({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...oW(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return hO(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),_s.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function oW(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nW(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zie(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qie=class extends D1{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??CR(r,t);let s=this.get(i);return s||(s=new Hie({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_s.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>TD(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>TD(e,n)):t}notify(e){_s.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_s.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_s.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vie=class extends sW{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Xie(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=iW({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),_s.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Xie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gie=class extends D1{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new Vie({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=xb(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=xb(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=xb(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=xb(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_s.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>RD(t,n))}findAll(e={}){return this.getAll().filter(t=>RD(e,t))}notify(e){_s.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return _s.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ma))))}};function xb(e){return e.options.scope?.id}function ID(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},p=tW(t.options,t.fetchOptions),m=async(y,v,w)=>{if(d)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const C={client:t.client,queryKey:t.queryKey,pageParam:v,direction:w?"backward":"forward",meta:t.options.meta};h(C);const _=await p(C),{maxPages:O}=t.options,R=w?Bie:Uie;return{pages:R(y.pages,_,O),pageParams:R(y.pageParams,v,O)}};if(i&&s.length){const y=i==="backward",v=y?Jie:DD,w={pages:s,pageParams:o},C=v(r,w);a=await m(w,C,y)}else{const y=e??s.length;do{const v=c===0?o[0]??r.initialPageParam:DD(r,a);if(c>0&&v==null)break;a=await m(a,v),c++}while(c<y)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function DD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Jie(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Yie=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new qie,this.#e=e.mutationCache||new Gie,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=SR.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=j_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(D0(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=Mie(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return _s.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;_s.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return _s.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_s.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ma).catch(Ma)}invalidateQueries(e,t={}){return _s.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_s.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ma)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ma)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(D0(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ma).catch(Ma)}fetchInfiniteQuery(e){return e.behavior=ID(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ma).catch(Ma)}ensureInfiniteQueryData(e){return e.behavior=ID(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return j_.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(wv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{bv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(wv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{bv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=CR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xR&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Zie=class extends D1{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=Q4(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#g;#f;#h;#l;#u;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),kD(this.#e,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return e3(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return e3(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#E(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ac(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!J4(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&MD(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||ac(this.options.enabled,this.#e)!==ac(t.enabled,this.#e)||D0(this.options.staleTime,this.#e)!==D0(t.staleTime,this.#e))&&this.#m();const i=this.#y();r&&(this.#e!==n||ac(this.options.enabled,this.#e)!==ac(t.enabled,this.#e)||i!==this.#c)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return ese(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ma)),t}#m(){this.#b();const e=D0(this.options.staleTime,this.#e);if(xh||this.#r.isStale||!G4(e))return;const n=QK(this.#r.dataUpdatedAt,e)+1;this.#l=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#E(),this.#c=e,!(xh||ac(this.options.enabled,this.#e)===!1||!G4(this.#c)||this.#c===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||SR.isFocused())&&this.#d()},this.#c))}#w(){this.#m(),this.#v(this.#y())}#b(){this.#l&&(clearTimeout(this.#l),this.#l=void 0)}#E(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#a,c=e!==n?e.state:this.#n,{state:u}=e;let d={...u},h=!1,p;if(t._optimisticResults){const N=this.hasListeners(),A=!N&&kD(e,t),D=N&&MD(e,n,t,r);(A||D)&&(d={...d,...oW(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:v}=d;p=d.data;let w=!1;if(t.placeholderData!==void 0&&p===void 0&&v==="pending"){let N;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(N=i.data,w=!0):N=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,N!==void 0&&(v="success",p=Z4(i?.data,N,t),h=!0)}if(t.select&&p!==void 0&&!w)if(i&&p===s?.data&&t.select===this.#g)p=this.#f;else try{this.#g=t.select,p=t.select(p),p=Z4(i?.data,p,t),this.#f=p,this.#s=null}catch(N){this.#s=N}this.#s&&(m=this.#s,p=this.#f,y=Date.now(),v="error");const C=d.fetchStatus==="fetching",_=v==="pending",O=v==="error",R=_&&C,S=p!==void 0,x={status:v,fetchStatus:d.fetchStatus,isPending:_,isSuccess:v==="success",isError:O,isInitialLoading:R,isLoading:R,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:C,isRefetching:C&&!_,isLoadingError:O&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:O&&S,isStale:OR(e,t),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const N=k=>{x.status==="error"?k.reject(x.error):x.data!==void 0&&k.resolve(x.data)},A=()=>{const k=this.#o=x.promise=Q4();N(k)},D=this.#o;switch(D.status){case"pending":e.queryHash===n.queryHash&&N(D);break;case"fulfilled":(x.status==="error"||x.data!==D.value)&&A();break;case"rejected":(x.status!=="error"||x.error!==D.reason)&&A();break}}return x}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),J4(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#C({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#C(e){_s.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Qie(e,t){return ac(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kD(e,t){return Qie(e,t)||e.state.data!==void 0&&e3(e,t,t.refetchOnMount)}function e3(e,t,n){if(ac(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&OR(e,t)}return!1}function MD(e,t,n,r){return(e!==t||ac(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&OR(e,n)}function OR(e,t){return ac(t.enabled,e)!==!1&&e.isStaleByTime(D0(t.staleTime,e))}function ese(e,t){return!J4(e.getCurrentResult(),t)}var aW=le.createContext(void 0),tse=e=>{const t=le.useContext(aW);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nse=({client:e,children:t})=>(le.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Le.jsx(aW.Provider,{value:e,children:t})),cW=le.createContext(!1),rse=()=>le.useContext(cW);cW.Provider;function ise(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sse=le.createContext(ise()),ose=()=>le.useContext(sse);function ase(e,t){return typeof e=="function"?e(...t):!!e}function LD(){}var cse=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},lse=e=>{le.useEffect(()=>{e.clearReset()},[e])},use=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||ase(n,[e.error,r])),dse=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},fse=(e,t)=>e.isLoading&&e.isFetching&&!t,hse=(e,t)=>e?.suspense&&t.isPending,UD=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function pse(e,t,n){const r=tse(),i=rse(),s=ose(),o=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",dse(o),cse(o,s),lse(s);const a=!r.getQueryCache().get(o.queryHash),[c]=le.useState(()=>new t(r,o)),u=c.getOptimisticResult(o),d=!i&&e.subscribed!==!1;if(le.useSyncExternalStore(le.useCallback(h=>{const p=d?c.subscribe(_s.batchCalls(h)):LD;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),le.useEffect(()=>{c.setOptions(o)},[o,c]),hse(o,u))throw UD(o,c,s);if(use({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!xh&&fse(u,i)&&(a?UD(o,c,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(LD).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function gse(e,t){return pse(e,Zie)}const BD=e=>{let t;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,i,a);return a},mse=e=>e?BD(e):BD,yse=e=>e;function AR(e,t=yse){const n=QI.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return QI.useDebugValue(n),n}const $D=e=>{const t=mse(e),n=r=>AR(t,r);return Object.assign(n,t),n},k1=e=>e?$D(e):$D,Hy="localstorage",jD="sdk.dappportal.io:1001:",vse=(e="")=>{if(e.startsWith(jD))return e.replace(jD,"")},TR=k1(e=>({update:(t,n)=>e(r=>({...r,[t]:n})),selectedWalletAddress:localStorage.getItem("sdk.dappportal.io:1001:selectedWalletAddress"),walletType:localStorage.getItem("sdk.dappportal.io:1001:walletType"),deviceId:localStorage.getItem("sdk.dappportal.io:1001:deviceId"),providerType:localStorage.getItem("sdk.dappportal.io:1001:providerType"),clear:()=>e(()=>({deviceId:void 0,providerType:void 0,selectedWalletAddress:void 0,walletType:void 0}))}));function wse(){const e=Storage.prototype.setItem,t=Storage.prototype.removeItem,n=Storage.prototype.clear;Storage.prototype.setItem=new Proxy(Storage.prototype.setItem,{apply(i,s,o){const a=new CustomEvent(Hy,{detail:{type:"setItem",key:o[0],oldValue:s.getItem(o[0]),newValue:o[1]}});return window.dispatchEvent(a),Reflect.apply(i,s,o)}}),Storage.prototype.removeItem=new Proxy(Storage.prototype.removeItem,{apply(i,s,o){const a=new CustomEvent(Hy,{detail:{type:"removeItem",key:o[0]}});return window.dispatchEvent(a),Reflect.apply(i,s,o)}}),Storage.prototype.clear=new Proxy(Storage.prototype.clear,{apply(i,s,o){const a=new CustomEvent(Hy,{detail:{type:"clear",key:"__all__"}});return window.dispatchEvent(a),Reflect.apply(i,s,o)}});function r(){Storage.prototype.setItem=e,Storage.prototype.removeItem=t,Storage.prototype.clear=n}return r}const bse=({children:e})=>{const{update:t,clear:n}=TR();return le.useEffect(()=>{const r=s=>{const{type:o,key:a,newValue:c}=s.detail,u=vse(a);switch(o){case"setItem":if(!u||!c)return;t(u,c);break;case"clear":n();break;case"removeItem":if(!u)return;t(u,void 0);break}},i=wse();return window.addEventListener(Hy,r),()=>{window.removeEventListener(Hy,r),i()}},[n,t]),Le.jsx(Le.Fragment,{children:e})},Ese=new Yie({defaultOptions:{queries:{gcTime:24*60*60*1e3,retry(e,t){switch(t.message){case"ERR_NETWORK":return e<3;default:return!1}},throwOnError(e){switch(e.message){case"ERR_NETWORK":return!1;default:return!0}}},mutations:{onError:()=>{}}}}),_se=({children:e})=>Le.jsx(nse,{client:Ese,children:Le.jsx(bse,{children:e})}),Cse=e=>le.createElement("svg",{width:18,height:14,viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},le.createElement("path",{d:"M1 1H17M1 7H17M1 13H17",stroke:"black",strokeWidth:2,strokeLinecap:"square"})),lW=e=>le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:44,height:44,viewBox:"0 0 44 44",fill:"none",...e},le.createElement("path",{d:"M25.8665 14.41C19.6515 10.0485 11.88 10.417 8.50299 15.2295C5.12599 20.0365 7.43049 27.4725 13.6455 31.8285C15.543 33.1595 17.5835 34.0505 19.602 34.507C19.1455 35.53 18.4415 36.476 17.7265 37.2625C17.116 37.9335 17.7925 38.984 18.656 38.72C26.983 36.1845 30.547 31.6085 30.547 31.6085C30.7065 31.4215 30.8605 31.2235 31.009 31.0145C34.386 26.2075 32.0815 18.7715 25.8665 14.4155V14.41ZM11.9845 17.666C12.1605 17.4185 12.3585 17.193 12.573 16.9895C12.716 16.8575 12.936 16.962 12.936 17.1545C12.859 19.921 14.696 23.2045 17.9025 25.5145C21.23 27.9125 25.08 28.5835 27.687 27.478C27.863 27.4065 28.039 27.5825 27.962 27.7585C27.8465 28.039 27.6925 28.314 27.5165 28.567C25.4925 31.4545 20.372 31.3555 16.082 28.3415C11.7865 25.333 9.95499 20.5535 11.979 17.666H11.9845Z",fill:"currentColor"}),le.createElement("path",{d:"M35.4807 24.9094L35.3982 25.0304C35.2387 25.2559 34.8867 25.1459 34.8867 24.8709C34.8647 23.0449 34.5457 21.23 33.9187 19.5085C33.3412 17.941 32.5162 16.467 31.4932 15.147C30.8002 14.2505 30.0137 13.4145 29.1502 12.683C28.0447 11.748 26.8017 10.9395 25.4872 10.3235C23.9252 9.59196 22.2532 9.10246 20.5427 8.88796C18.1887 8.58546 15.7852 8.82746 13.5247 9.56996C13.4367 9.59746 13.3542 9.62496 13.2717 9.65796C13.0132 9.74596 12.7932 9.44896 12.9527 9.22896L13.0352 9.11346C16.4067 4.30646 24.1837 3.94346 30.3987 8.29946C36.5972 12.683 38.8742 20.1245 35.4862 24.9204L35.4807 24.9094Z",fill:"currentColor"}));function uW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=uW(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gs(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=uW(e))&&(r&&(r+=" "),r+=t);return r}const xse="_0fd2d33d",Sse="c7665b02",Ose="f06d9806",Ase="_5e089f8a",Tse="_765923b7",pO={root:xse,pre:Sse,preLine:Ose,nowrap:Ase,empty:Tse},hd=({className:e,name:t,pre:n="preLine",parent:r="span",...i})=>{const{t:s}=hR(),o=!1;return Le.jsx(bne,{className:Gs(pO.root,e,{[pO[n]]:n,[pO.empty]:o}),parent:r,t:s,...i,i18nKey:t})},Rse="cdc0c49e",Nse={root:Rse},dW=({onClick:e,to:t})=>Le.jsxs(I1,{to:t,onClick:e,className:Nse.root,children:[Le.jsx(lW,{className:"logo"}),Le.jsx(hd,{parent:"h1",name:"DD_gnb_logo",className:"title"})]}),Pse=({children:e,value:t,onSuccess:n,onError:r,...i})=>{const s=le.useCallback(()=>{navigator.clipboard.writeText(t).then(n).catch(r)},[r,n,t]);return Le.jsx("button",{type:"button",onClick:s,...i,children:e})},fW={duration:.3,ease:"easeOut"};function Ise(e){return e?e.slice(0,5)+"..."+e.slice(-3):""}const bE=k1(()=>({})),Dse={get:e=>bE.getState()[e],add:(e,t)=>bE.setState({[e]:t}),remove:e=>bE.setState(t=>{const{[e]:n,...r}=t;return r},!0)},hW=()=>({data:AR(bE),...Dse});let kse=1;const Mse=(e={})=>{const{add:t,remove:n,get:r}=hW();return{open:le.useCallback((s,o)=>{const a={...e,...o},c=`toast-${kse++}`;return new Promise(u=>{const h={close:p=>{const m=new CustomEvent("toast",{detail:p});u(m)},options:{...a}};t(c,{key:c,content:s,api:h})}).finally(()=>n(c))},[t,e,r])}},pW=le.createContext({}),XC=()=>le.useContext(pW),Lse="_83ce2c82",Use="ce3014b0",FD={root:Lse,disabled:Use},Bse=({className:e,disabled:t,...n})=>{const{close:r}=XC();return Le.jsx("button",{disabled:t,className:Gs(FD.root,{[FD.disabled]:t},e),onClick:r,"aria-label":"confirm",...n})},$se="_6fc3e020",jse={root:$se},Fse=({className:e,...t})=>{const{dismiss:n}=XC();return Le.jsx("button",{className:Gs(jse.root,e),onClick:n,"aria-label":"dismiss",...t})},RR=le.createContext({});function NR(e){const t=le.useRef(null);return t.current===null&&(t.current=e()),t.current}const PR=typeof window<"u",gW=PR?le.useLayoutEffect:le.useEffect,GC=le.createContext(null);function IR(e,t){e.indexOf(t)===-1&&e.push(t)}function DR(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zl=(e,t,n)=>n>t?t:n<e?e:n;let kR=()=>{};const Ql={},mW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function yW(e){return typeof e=="object"&&e!==null}const vW=e=>/^0[^.\s]+$/u.test(e);function MR(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fa=e=>e,Kse=(e,t)=>n=>t(e(n)),M1=(...e)=>e.reduce(Kse),Ev=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class LR{constructor(){this.subscriptions=[]}add(t){return IR(this.subscriptions,t),()=>DR(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vc=e=>e*1e3,Xc=e=>e/1e3;function wW(e,t){return t?e*(1e3/t):0}const bW=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Wse=1e-7,Hse=12;function zse(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=bW(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Wse&&++a<Hse);return o}function L1(e,t,n,r){if(e===t&&n===r)return Fa;const i=s=>zse(s,0,1,e,n);return s=>s===0||s===1?s:bW(i(s),t,r)}const EW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_W=e=>t=>1-e(1-t),CW=L1(.33,1.53,.69,.99),UR=_W(CW),xW=EW(UR),SW=e=>(e*=2)<1?.5*UR(e):.5*(2-Math.pow(2,-10*(e-1))),BR=e=>1-Math.sin(Math.acos(e)),OW=_W(BR),AW=EW(BR),qse=L1(.42,0,1,1),Vse=L1(0,0,.58,1),TW=L1(.42,0,.58,1),Xse=e=>Array.isArray(e)&&typeof e[0]!="number",RW=e=>Array.isArray(e)&&typeof e[0]=="number",Gse={linear:Fa,easeIn:qse,easeInOut:TW,easeOut:Vse,circIn:BR,circInOut:AW,circOut:OW,backIn:UR,backInOut:xW,backOut:CW,anticipate:SW},Jse=e=>typeof e=="string",KD=e=>{if(RW(e)){kR(e.length===4);const[t,n,r,i]=e;return L1(t,n,r,i)}else if(Jse(e))return Gse[e];return e},Sb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],WD={value:null};function Yse(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(a)}const d={schedule:(h,p=!1,m=!1)=>{const v=m&&i?n:r;return p&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&WD.value&&WD.value.frameloop[t].push(c),c=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const Zse=40;function NW(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Sb.reduce((O,R)=>(O[R]=Yse(s,t?R:void 0),O),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:p,render:m,postRender:y}=o,v=()=>{const O=Ql.useManualTiming?i.timestamp:performance.now();n=!1,Ql.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,Zse),1)),i.timestamp=O,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),d.process(i),h.process(i),p.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},w=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:Sb.reduce((O,R)=>{const S=o[R];return O[R]=(E,x=!1,N=!1)=>(n||w(),S.schedule(E,x,N)),O},{}),cancel:O=>{for(let R=0;R<Sb.length;R++)o[Sb[R]].cancel(O)},state:i,steps:o}}const{schedule:ai,cancel:pd,state:vs,steps:gO}=NW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fa,!0);let EE;function Qse(){EE=void 0}const Ao={now:()=>(EE===void 0&&Ao.set(vs.isProcessing||Ql.useManualTiming?vs.timestamp:performance.now()),EE),set:e=>{EE=e,queueMicrotask(Qse)}},PW=e=>t=>typeof t=="string"&&t.startsWith(e),$R=PW("--"),eoe=PW("var(--"),jR=e=>eoe(e)?toe.test(e.split("/*")[0].trim()):!1,toe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_v={...yg,transform:e=>Zl(0,1,e)},Ob={...yg,default:1},zy=e=>Math.round(e*1e5)/1e5,FR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function noe(e){return e==null}const roe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,KR=(e,t)=>n=>!!(typeof n=="string"&&roe.test(n)&&n.startsWith(e)||t&&!noe(n)&&Object.prototype.hasOwnProperty.call(n,t)),IW=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(FR);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ioe=e=>Zl(0,255,e),mO={...yg,transform:e=>Math.round(ioe(e))},th={test:KR("rgb","red"),parse:IW("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+mO.transform(e)+", "+mO.transform(t)+", "+mO.transform(n)+", "+zy(_v.transform(r))+")"};function soe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const t3={test:KR("#"),parse:soe,transform:th.transform},U1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xu=U1("deg"),Gc=U1("%"),yn=U1("px"),ooe=U1("vh"),aoe=U1("vw"),HD={...Gc,parse:e=>Gc.parse(e)/100,transform:e=>Gc.transform(e*100)},b0={test:KR("hsl","hue"),parse:IW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gc.transform(zy(t))+", "+Gc.transform(zy(n))+", "+zy(_v.transform(r))+")"},Fs={test:e=>th.test(e)||t3.test(e)||b0.test(e),parse:e=>th.test(e)?th.parse(e):b0.test(e)?b0.parse(e):t3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?th.transform(e):b0.transform(e)},coe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function loe(e){return isNaN(e)&&typeof e=="string"&&(e.match(FR)?.length||0)+(e.match(coe)?.length||0)>0}const DW="number",kW="color",uoe="var",doe="var(",zD="${}",foe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(foe,c=>(Fs.test(c)?(r.color.push(s),i.push(kW),n.push(Fs.parse(c))):c.startsWith(doe)?(r.var.push(s),i.push(uoe),n.push(c)):(r.number.push(s),i.push(DW),n.push(parseFloat(c))),++s,zD)).split(zD);return{values:n,split:a,indexes:r,types:i}}function MW(e){return Cv(e).values}function LW(e){const{split:t,types:n}=Cv(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===DW?s+=zy(i[o]):a===kW?s+=Fs.transform(i[o]):s+=i[o]}return s}}const hoe=e=>typeof e=="number"?0:e;function poe(e){const t=MW(e);return LW(e)(t.map(hoe))}const gd={test:loe,parse:MW,createTransformer:LW,getAnimatableNone:poe};function yO(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function goe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=yO(c,a,e+1/3),s=yO(c,a,e),o=yO(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function F_(e,t){return n=>n>0?t:e}const oi=(e,t,n)=>e+(t-e)*n,vO=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},moe=[t3,th,b0],yoe=e=>moe.find(t=>t.test(e));function qD(e){const t=yoe(e);if(!t)return!1;let n=t.parse(e);return t===b0&&(n=goe(n)),n}const VD=(e,t)=>{const n=qD(e),r=qD(t);if(!n||!r)return F_(e,t);const i={...n};return s=>(i.red=vO(n.red,r.red,s),i.green=vO(n.green,r.green,s),i.blue=vO(n.blue,r.blue,s),i.alpha=oi(n.alpha,r.alpha,s),th.transform(i))},n3=new Set(["none","hidden"]);function voe(e,t){return n3.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function woe(e,t){return n=>oi(e,t,n)}function WR(e){return typeof e=="number"?woe:typeof e=="string"?jR(e)?F_:Fs.test(e)?VD:_oe:Array.isArray(e)?UW:typeof e=="object"?Fs.test(e)?VD:boe:F_}function UW(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>WR(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function boe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=WR(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Eoe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const _oe=(e,t)=>{const n=gd.createTransformer(t),r=Cv(e),i=Cv(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?n3.has(e)&&!i.values.length||n3.has(t)&&!r.values.length?voe(e,t):M1(UW(Eoe(r,i),i.values),n):F_(e,t)};function BW(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oi(e,t,n):WR(e)(e,t)}const Coe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ai.update(t,n),stop:()=>pd(t),now:()=>vs.isProcessing?vs.timestamp:Ao.now()}},$W=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},K_=2e4;function HR(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<K_;)t+=n,r=e.next(t);return t>=K_?1/0:t}function xoe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(HR(r),K_);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Xc(i)}}const Soe=5;function jW(e,t,n){const r=Math.max(t-Soe,0);return wW(n-e(r),t-r)}const gi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},XD=.001;function Ooe({duration:e=gi.duration,bounce:t=gi.bounce,velocity:n=gi.velocity,mass:r=gi.mass}){let i,s,o=1-t;o=Zl(gi.minDamping,gi.maxDamping,o),e=Zl(gi.minDuration,gi.maxDuration,Xc(e)),o<1?(i=u=>{const d=u*o,h=d*e,p=d-n,m=r3(u,o),y=Math.exp(-h);return XD-p/m*y},s=u=>{const h=u*o*e,p=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),v=r3(Math.pow(u,2),o);return(-i(u)+XD>0?-1:1)*((p-m)*y)/v}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-.001+d*h},s=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,c=Toe(i,s,a);if(e=Vc(e),isNaN(c))return{stiffness:gi.stiffness,damping:gi.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Aoe=12;function Toe(e,t,n){let r=n;for(let i=1;i<Aoe;i++)r=r-e(r)/t(r);return r}function r3(e,t){return e*Math.sqrt(1-t*t)}const Roe=["duration","bounce"],Noe=["stiffness","damping","mass"];function GD(e,t){return t.some(n=>e[n]!==void 0)}function Poe(e){let t={velocity:gi.velocity,stiffness:gi.stiffness,damping:gi.damping,mass:gi.mass,isResolvedFromDuration:!1,...e};if(!GD(e,Noe)&&GD(e,Roe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Zl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:gi.mass,stiffness:i,damping:s}}else{const n=Ooe(e);t={...t,...n,mass:gi.mass},t.isResolvedFromDuration=!0}return t}function W_(e=gi.visualDuration,t=gi.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=Poe({...n,velocity:-Xc(n.velocity||0)}),y=p||0,v=u/(2*Math.sqrt(c*d)),w=o-s,C=Xc(Math.sqrt(c/d)),_=Math.abs(w)<5;r||(r=_?gi.restSpeed.granular:gi.restSpeed.default),i||(i=_?gi.restDelta.granular:gi.restDelta.default);let O;if(v<1){const S=r3(C,v);O=E=>{const x=Math.exp(-v*C*E);return o-x*((y+v*C*w)/S*Math.sin(S*E)+w*Math.cos(S*E))}}else if(v===1)O=S=>o-Math.exp(-C*S)*(w+(y+C*w)*S);else{const S=C*Math.sqrt(v*v-1);O=E=>{const x=Math.exp(-v*C*E),N=Math.min(S*E,300);return o-x*((y+v*C*w)*Math.sinh(N)+S*w*Math.cosh(N))/S}}const R={calculatedDuration:m&&h||null,next:S=>{const E=O(S);if(m)a.done=S>=h;else{let x=S===0?y:0;v<1&&(x=S===0?Vc(y):jW(O,S,E));const N=Math.abs(x)<=r,A=Math.abs(o-E)<=i;a.done=N&&A}return a.value=a.done?o:E,a},toString:()=>{const S=Math.min(HR(R),K_),E=$W(x=>R.next(S*x).value,S,30);return S+"ms "+E},toTransition:()=>{}};return R}W_.applyToOptions=e=>{const t=xoe(e,100,W_);return e.ease=t.ease,e.duration=Vc(t.duration),e.type="keyframes",e};function i3({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},m=N=>a!==void 0&&N<a||c!==void 0&&N>c,y=N=>a===void 0?c:c===void 0||Math.abs(a-N)<Math.abs(c-N)?a:c;let v=n*t;const w=h+v,C=o===void 0?w:o(w);C!==w&&(v=C-h);const _=N=>-v*Math.exp(-N/r),O=N=>C+_(N),R=N=>{const A=_(N),D=O(N);p.done=Math.abs(A)<=u,p.value=p.done?C:D};let S,E;const x=N=>{m(p.value)&&(S=N,E=W_({keyframes:[p.value,y(p.value)],velocity:jW(O,N,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return x(0),{calculatedDuration:null,next:N=>{let A=!1;return!E&&S===void 0&&(A=!0,R(N),x(N)),S!==void 0&&N>=S?E.next(N-S):(!A&&R(N),p)}}}function Ioe(e,t,n){const r=[],i=n||Ql.mix||BW,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Fa:t;a=M1(c,a)}r.push(a)}return r}function Doe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(kR(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Ioe(t,r,i),c=a.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const p=Ev(e[h],e[h+1],d);return a[h](p)};return n?d=>u(Zl(e[0],e[s-1],d)):u}function koe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ev(0,t,r);e.push(oi(n,1,i))}}function Moe(e){const t=[0];return koe(t,e.length-1),t}function Loe(e,t){return e.map(n=>n*t)}function Uoe(e,t){return e.map(()=>t||TW).splice(0,e.length-1)}function qy({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Xse(r)?r.map(KD):KD(r),s={done:!1,value:t[0]},o=Loe(n&&n.length===t.length?n:Moe(t),e),a=Doe(o,t,{ease:Array.isArray(i)?i:Uoe(t,i)});return{calculatedDuration:e,next:c=>(s.value=a(c),s.done=c>=e,s)}}const Boe=e=>e!==null;function zR(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(Boe),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const $oe={decay:i3,inertia:i3,tween:qy,keyframes:qy,spring:W_};function FW(e){typeof e.type=="string"&&(e.type=$oe[e.type])}class qR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const joe=e=>e/100;class VR extends qR{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:r}=this.options;r&&r.updatedAt!==Ao.now()&&this.tick(Ao.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;FW(t);const{type:n=qy,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const c=n||qy;c!==qy&&typeof a[0]!="number"&&(this.mixKeyframes=M1(joe,BW(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=HR(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:m,type:y,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,R=r;if(h){const N=Math.min(this.currentTime,i)/a;let A=Math.floor(N),D=N%1;!D&&N>=1&&(D=1),D===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(p==="reverse"?(D=1-D,m&&(D-=m/a)):p==="mirror"&&(R=o)),O=Zl(0,1,D)*a}const S=_?{done:!1,value:d[0]}:R.next(O);s&&(S.value=s(S.value));let{done:E}=S;!_&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return x&&y!==i3&&(S.value=zR(d,this.options,w,this.speed)),v&&v(S.value),x&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Xc(this.calculatedDuration)}get time(){return Xc(this.currentTime)}set time(t){t=Vc(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ao.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Coe,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ao.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Foe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const nh=e=>e*180/Math.PI,s3=e=>{const t=nh(Math.atan2(e[1],e[0]));return o3(t)},Koe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:s3,rotateZ:s3,skewX:e=>nh(Math.atan(e[1])),skewY:e=>nh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},o3=e=>(e=e%360,e<0&&(e+=360),e),JD=s3,YD=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ZD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Woe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YD,scaleY:ZD,scale:e=>(YD(e)+ZD(e))/2,rotateX:e=>o3(nh(Math.atan2(e[6],e[5]))),rotateY:e=>o3(nh(Math.atan2(-e[2],e[0]))),rotateZ:JD,rotate:JD,skewX:e=>nh(Math.atan(e[4])),skewY:e=>nh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function a3(e){return e.includes("scale")?1:0}function c3(e,t){if(!e||e==="none")return a3(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Woe,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Koe,i=a}if(!i)return a3(t);const s=r[t],o=i[1].split(",").map(zoe);return typeof s=="function"?s(o):o[s]}const Hoe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return c3(n,t)};function zoe(e){return parseFloat(e.trim())}const vg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wg=new Set(vg),QD=e=>e===yg||e===yn,qoe=new Set(["x","y","z"]),Voe=vg.filter(e=>!qoe.has(e));function Xoe(e){const t=[];return Voe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const fh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>c3(t,"x"),y:(e,{transform:t})=>c3(t,"y")};fh.translateX=fh.x;fh.translateY=fh.y;const hh=new Set;let l3=!1,u3=!1,d3=!1;function KW(){if(u3){const e=Array.from(hh).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Xoe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}u3=!1,l3=!1,hh.forEach(e=>e.complete(d3)),hh.clear()}function WW(){hh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(u3=!0)})}function Goe(){d3=!0,WW(),KW(),d3=!1}class XR{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hh.add(this),l3||(l3=!0,ai.read(WW),ai.resolveKeyframes(KW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}Foe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hh.delete(this)}cancel(){this.state==="scheduled"&&(hh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Joe=e=>e.startsWith("--");function Yoe(e,t,n){Joe(t)?e.style.setProperty(t,n):e.style[t]=n}const Zoe=MR(()=>window.ScrollTimeline!==void 0),Qoe={};function eae(e,t){const n=MR(e);return()=>Qoe[t]??n()}const HW=eae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,e9={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xy([0,.65,.55,1]),circOut:xy([.55,0,1,.45]),backIn:xy([.31,.01,.66,-.59]),backOut:xy([.33,1.53,.69,.99])};function zW(e,t){if(e)return typeof e=="function"?HW()?$W(e,t):"ease-out":RW(e)?xy(e):Array.isArray(e)?e.map(n=>zW(n,t)||e9.easeOut):e9[e]}function tae(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=zW(a,i);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(d,p)}function qW(e){return typeof e=="function"&&"applyToOptions"in e}function nae({type:e,...t}){return qW(e)&&HW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class rae extends qR{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,kR(typeof t.type!="string");const u=nae(t);this.animation=tae(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=zR(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Yoe(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xc(Number(t))}get time(){return Xc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vc(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Zoe()?(this.animation.timeline=t,Fa):n(this)}}const VW={anticipate:SW,backInOut:xW,circInOut:AW};function iae(e){return e in VW}function sae(e){typeof e.ease=="string"&&iae(e.ease)&&(e.ease=VW[e.ease])}const t9=10;class oae extends rae{constructor(t){sae(t),FW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new VR({...o,autoplay:!1}),c=Vc(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-t9).value,a.sample(c).value,t9),a.stop()}}const n9=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gd.test(e)||e==="0")&&!e.startsWith("url("));function aae(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cae(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=n9(i,t),a=n9(s,t);return!o||!a?!1:aae(e)||(n==="spring"||qW(n))&&r}function GR(e){return yW(e)&&"offsetHeight"in e}const lae=new Set(["opacity","clipPath","filter","transform"]),uae=MR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dae(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!GR(t?.owner?.current))return!1;const{onUpdate:a,transformTemplate:c}=t.owner.getProps();return uae()&&n&&lae.has(n)&&(n!=="transform"||!c)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const fae=40;class hae extends qR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:d,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ao.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:d,...h},m=d?.KeyframeResolver||XR;this.keyframeResolver=new m(a,(y,v,w)=>this.onKeyframesResolved(y,v,p,!w),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ao.now(),cae(t,s,o,a)||((Ql.instantAnimations||!c)&&d?.(zR(t,r,n)),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>fae?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&dae(p)?new oae({...p,element:p.motionValue.owner.current}):new VR(p);m.finished.then(()=>this.notifyFinished()).catch(Fa),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Goe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gae(e){const t=pae.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function XW(e,t,n=1){const[r,i]=gae(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return mW(o)?parseFloat(o):o}return jR(i)?XW(i,t,n+1):i}function JR(e,t){return e?.[t]??e?.default??e}const GW=new Set(["width","height","top","left","right","bottom",...vg]),mae={test:e=>e==="auto",parse:e=>e},JW=e=>t=>t.test(e),YW=[yg,yn,Gc,Xu,aoe,ooe,mae],r9=e=>YW.find(JW(e));function yae(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vW(e):!0}const vae=new Set(["brightness","contrast","saturate","opacity"]);function wae(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(FR)||[];if(!r)return e;const i=n.replace(r,"");let s=vae.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const bae=/\b([a-z-]*)\(.*?\)/gu,f3={...gd,getAnimatableNone:e=>{const t=e.match(bae);return t?t.map(wae).join(" "):e}},i9={...yg,transform:Math.round},Eae={rotate:Xu,rotateX:Xu,rotateY:Xu,rotateZ:Xu,scale:Ob,scaleX:Ob,scaleY:Ob,scaleZ:Ob,skew:Xu,skewX:Xu,skewY:Xu,distance:yn,translateX:yn,translateY:yn,translateZ:yn,x:yn,y:yn,z:yn,perspective:yn,transformPerspective:yn,opacity:_v,originX:HD,originY:HD,originZ:yn},YR={borderWidth:yn,borderTopWidth:yn,borderRightWidth:yn,borderBottomWidth:yn,borderLeftWidth:yn,borderRadius:yn,radius:yn,borderTopLeftRadius:yn,borderTopRightRadius:yn,borderBottomRightRadius:yn,borderBottomLeftRadius:yn,width:yn,maxWidth:yn,height:yn,maxHeight:yn,top:yn,right:yn,bottom:yn,left:yn,padding:yn,paddingTop:yn,paddingRight:yn,paddingBottom:yn,paddingLeft:yn,margin:yn,marginTop:yn,marginRight:yn,marginBottom:yn,marginLeft:yn,backgroundPositionX:yn,backgroundPositionY:yn,...Eae,zIndex:i9,fillOpacity:_v,strokeOpacity:_v,numOctaves:i9},_ae={...YR,color:Fs,backgroundColor:Fs,outlineColor:Fs,fill:Fs,stroke:Fs,borderColor:Fs,borderTopColor:Fs,borderRightColor:Fs,borderBottomColor:Fs,borderLeftColor:Fs,filter:f3,WebkitFilter:f3},ZW=e=>_ae[e];function QW(e,t){let n=ZW(e);return n!==f3&&(n=gd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Cae=new Set(["auto","none","0"]);function xae(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!Cae.has(s)&&Cv(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=QW(n,i)}class Sae extends XR{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),jR(u))){const d=XW(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!GW.has(r)||t.length!==2)return;const[i,s]=t,o=r9(i),a=r9(s);if(o!==a)if(QD(o)&&QD(a))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else fh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||yae(t[i]))&&r.push(i);r.length&&xae(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=fh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,c])=>{t.getValue(a).set(c)}),this.resolveNoneKeyframes()}}function Oae(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const s9=30,Aae=e=>!isNaN(parseFloat(e));class Tae{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ao.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ao.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Aae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new LR);const r=this.events[t].add(n);return t==="change"?()=>{r(),ai.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>s9)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,s9);return wW(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function z0(e,t){return new Tae(e,t)}const eH=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:ZR}=NW(queueMicrotask,!1),oc={x:!1,y:!1};function tH(){return oc.x||oc.y}function Rae(e){return e==="x"||e==="y"?oc[e]?null:(oc[e]=!0,()=>{oc[e]=!1}):oc.x||oc.y?null:(oc.x=oc.y=!0,()=>{oc.x=oc.y=!1})}function nH(e,t){const n=Oae(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function o9(e){return!(e.pointerType==="touch"||tH())}function Nae(e,t,n={}){const[r,i,s]=nH(e,n),o=a=>{if(!o9(a))return;const{target:c}=a,u=t(c,a);if(typeof u!="function"||!c)return;const d=h=>{o9(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const rH=(e,t)=>t?e===t?!0:rH(e,t.parentElement):!1,QR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Pae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Iae(e){return Pae.has(e.tagName)||e.tabIndex!==-1}const _E=new WeakSet;function a9(e){return t=>{t.key==="Enter"&&e(t)}}function wO(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Dae=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=a9(()=>{if(_E.has(n))return;wO(n,"down");const i=a9(()=>{wO(n,"up")}),s=()=>wO(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function c9(e){return QR(e)&&!tH()}function kae(e,t,n={}){const[r,i,s]=nH(e,n),o=a=>{const c=a.currentTarget;if(!c9(a))return;_E.add(c);const u=t(c,a),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),_E.has(c)&&_E.delete(c),c9(m)&&typeof u=="function"&&u(m,{success:y})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||rH(c,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),GR(a)&&(a.addEventListener("focus",u=>Dae(u,i)),!Iae(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function iH(e){return yW(e)&&"ownerSVGElement"in e}function Mae(e){return iH(e)&&e.tagName==="svg"}const qs=e=>!!(e&&e.getVelocity),Lae=[...YW,Fs,gd],Uae=e=>Lae.find(JW(e)),e5=le.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Bae extends le.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=GR(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $ae({children:e,isPresent:t,anchorX:n}){const r=le.useId(),i=le.useRef(null),s=le.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=le.useContext(e5);return le.useInsertionEffect(()=>{const{width:a,height:c,top:u,left:d,right:h}=s.current;if(t||!i.current||!a||!c)return;const p=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),Le.jsx(Bae,{isPresent:t,childRef:i,sizeRef:s,children:le.cloneElement(e,{ref:i})})}const jae=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const c=NR(Fae),u=le.useId();let d=!0,h=le.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const m of c.values())if(!m)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&d&&(h={...h}),le.useMemo(()=>{c.forEach((p,m)=>c.set(m,!1))},[n]),le.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=Le.jsx($ae,{isPresent:n,anchorX:a,children:e})),Le.jsx(GC.Provider,{value:h,children:e})};function Fae(){return new Map}function sH(e=!0){const t=le.useContext(GC);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=le.useId();le.useEffect(()=>{if(e)return i(s)},[e]);const o=le.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Ab=e=>e.key||"";function l9(e){const t=[];return le.Children.forEach(e,n=>{le.isValidElement(n)&&t.push(n)}),t}const t5=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[c,u]=sH(o),d=le.useMemo(()=>l9(e),[e]),h=o&&!c?[]:d.map(Ab),p=le.useRef(!0),m=le.useRef(d),y=NR(()=>new Map),[v,w]=le.useState(d),[C,_]=le.useState(d);gW(()=>{p.current=!1,m.current=d;for(let S=0;S<C.length;S++){const E=Ab(C[S]);h.includes(E)?y.delete(E):y.get(E)!==!0&&y.set(E,!1)}},[C,h.length,h.join("-")]);const O=[];if(d!==v){let S=[...d];for(let E=0;E<C.length;E++){const x=C[E],N=Ab(x);h.includes(N)||(S.splice(E,0,x),O.push(x))}return s==="wait"&&O.length&&(S=O),_(l9(S)),w(d),null}const{forceRender:R}=le.useContext(RR);return Le.jsx(Le.Fragment,{children:C.map(S=>{const E=Ab(S),x=o&&!c?!1:d===C||h.includes(E),N=()=>{if(y.has(E))y.set(E,!0);else return;let A=!0;y.forEach(D=>{D||(A=!1)}),A&&(R?.(),_(m.current),o&&u?.(),r&&r())};return Le.jsx(jae,{isPresent:x,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:x?void 0:N,anchorX:a,children:S},E)})})},oH=le.createContext({strict:!1}),u9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},q0={};for(const e in u9)q0[e]={isEnabled:t=>u9[e].some(n=>!!t[n])};function Kae(e){for(const t in e)q0[t]={...q0[t],...e[t]}}const Wae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function H_(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wae.has(e)}let aH=e=>!H_(e);function Hae(e){e&&(aH=t=>t.startsWith("on")?!H_(t):e(t))}try{Hae(require("@emotion/is-prop-valid").default)}catch{}function zae(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(aH(i)||n===!0&&H_(i)||!t&&!H_(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function qae(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const JC=le.createContext({});function YC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xv(e){return typeof e=="string"||Array.isArray(e)}const n5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r5=["initial",...n5];function ZC(e){return YC(e.animate)||r5.some(t=>xv(e[t]))}function cH(e){return!!(ZC(e)||e.variants)}function Vae(e,t){if(ZC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xv(n)?n:void 0,animate:xv(r)?r:void 0}}return e.inherit!==!1?t:{}}function Xae(e){const{initial:t,animate:n}=Vae(e,le.useContext(JC));return le.useMemo(()=>({initial:t,animate:n}),[d9(t),d9(n)])}function d9(e){return Array.isArray(e)?e.join(" "):e}const Gae=Symbol.for("motionComponentSymbol");function E0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jae(e,t,n){return le.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):E0(n)&&(n.current=r))},[t])}const i5=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yae="framerAppearId",lH="data-"+i5(Yae),uH=le.createContext({});function Zae(e,t,n,r,i){const{visualElement:s}=le.useContext(JC),o=le.useContext(oH),a=le.useContext(GC),c=le.useContext(e5).reducedMotion,u=le.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=le.useContext(uH);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Qae(u.current,n,i,h);const p=le.useRef(!1);le.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const m=n[lH],y=le.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return gW(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),ZR.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),le.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1))}),d}function Qae(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dH(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&E0(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function dH(e){if(e)return e.options.allowProjection!==!1?e.projection:dH(e.parent)}function ece({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Kae(e);function s(a,c){let u;const d={...le.useContext(e5),...a,layoutId:tce(a)},{isStatic:h}=d,p=Xae(a),m=r(a,h);if(!h&&PR){nce();const y=rce(d);u=y.MeasureLayout,p.visualElement=Zae(i,m,d,t,y.ProjectionNode)}return Le.jsxs(JC.Provider,{value:p,children:[u&&p.visualElement?Le.jsx(u,{visualElement:p.visualElement,...d}):null,n(i,a,Jae(m,p.visualElement,c),m,h,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=le.forwardRef(s);return o[Gae]=i,o}function tce({layoutId:e}){const t=le.useContext(RR).id;return t&&e!==void 0?t+"-"+e:e}function nce(e,t){le.useContext(oH).strict}function rce(e){const{drag:t,layout:n}=q0;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Sv={};function ice(e){for(const t in e)Sv[t]=e[t],$R(t)&&(Sv[t].isCSSVariable=!0)}function fH(e,{layout:t,layoutId:n}){return wg.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sv[e]||e==="opacity")}const sce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oce=vg.length;function ace(e,t,n){let r="",i=!0;for(let s=0;s<oce;s++){const o=vg[s],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=eH(a,YR[o]);if(!c){i=!1;const d=sce[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function s5(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const c in t){const u=t[c];if(wg.has(c)){o=!0;continue}else if($R(c)){i[c]=u;continue}else{const d=eH(u,YR[c]);c.startsWith("origin")?(a=!0,s[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=ace(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const o5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hH(e,t,n){for(const r in t)!qs(t[r])&&!fH(r,n)&&(e[r]=t[r])}function cce({transformTemplate:e},t){return le.useMemo(()=>{const n=o5();return s5(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lce(e,t){const n=e.style||{},r={};return hH(r,n,e),Object.assign(r,cce(e,t)),r}function uce(e,t){const n={},r=lce(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const dce={offset:"stroke-dashoffset",array:"stroke-dasharray"},fce={offset:"strokeDashoffset",array:"strokeDasharray"};function hce(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?dce:fce;e[s.offset]=yn.transform(-r);const o=yn.transform(t),a=yn.transform(n);e[s.array]=`${o} ${a}`}function pH(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,u,d){if(s5(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&hce(h,i,s,o,!1)}const gH=()=>({...o5(),attrs:{}}),mH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pce(e,t,n,r){const i=le.useMemo(()=>{const s=gH();return pH(s,t,mH(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};hH(s,e.style,e),i.style={...s,...i.style}}return i}const gce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a5(e){return typeof e!="string"||e.includes("-")?!1:!!(gce.indexOf(e)>-1||/[A-Z]/u.test(e))}function mce(e=!1){return(n,r,i,{latestValues:s},o)=>{const c=(a5(n)?pce:uce)(r,s,o,n),u=zae(r,typeof n=="string",e),d=n!==le.Fragment?{...u,...c,ref:i}:{},{children:h}=r,p=le.useMemo(()=>qs(h)?h.get():h,[h]);return le.createElement(n,{...d,children:p})}}function f9(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function c5(e,t,n,r){if(typeof t=="function"){const[i,s]=f9(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=f9(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function CE(e){return qs(e)?e.get():e}function yce({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:vce(n,r,i,e),renderState:t()}}const yH=e=>(t,n)=>{const r=le.useContext(JC),i=le.useContext(GC),s=()=>yce(e,t,r,i);return n?s():NR(s)};function vce(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=CE(s[p]);let{initial:o,animate:a}=e;const c=ZC(e),u=cH(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!YC(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const y=c5(e,p[m]);if(y){const{transitionEnd:v,transition:w,...C}=y;for(const _ in C){let O=C[_];if(Array.isArray(O)){const R=d?O.length-1:0;O=O[R]}O!==null&&(i[_]=O)}for(const _ in v)i[_]=v[_]}}}return i}function l5(e,t,n){const{style:r}=e,i={};for(const s in r)(qs(r[s])||t.style&&qs(t.style[s])||fH(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const wce={useVisualState:yH({scrapeMotionValuesFromProps:l5,createRenderState:o5})};function vH(e,t,n){const r=l5(e,t,n);for(const i in e)if(qs(e[i])||qs(t[i])){const s=vg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const bce={useVisualState:yH({scrapeMotionValuesFromProps:vH,createRenderState:gH})};function Ece(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...a5(r)?bce:wce,preloadedFeatures:e,useRender:mce(i),createVisualElement:t,Component:r};return ece(o)}}function Ov(e,t,n){const r=e.getProps();return c5(r,t,n!==void 0?n:r.custom,e)}const h3=e=>Array.isArray(e);function _ce(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,z0(n))}function Cce(e){return h3(e)?e[e.length-1]||0:e}function xce(e,t){const n=Ov(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Cce(s[o]);_ce(e,o,a)}}function Sce(e){return!!(qs(e)&&e.add)}function p3(e,t){const n=e.getValue("willChange");if(Sce(n))return n.add(t);if(!n&&Ql.WillChange){const r=new Ql.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function wH(e){return e.props[lH]}const Oce=e=>e!==null;function Ace(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Oce),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const Tce={type:"spring",stiffness:500,damping:25,restSpeed:10},Rce=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Nce={type:"keyframes",duration:.8},Pce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ice=(e,{keyframes:t})=>t.length>2?Nce:wg.has(e)?e.startsWith("scale")?Rce(t[1]):Tce:Pce;function Dce({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const u5=(e,t,n,r={},i,s)=>o=>{const a=JR(r,e)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Vc(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};Dce(a)||Object.assign(d,Ice(e,d)),d.duration&&(d.duration=Vc(d.duration)),d.repeatDelay&&(d.repeatDelay=Vc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Ql.instantAnimations||Ql.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&t.get()!==void 0){const p=Ace(d.keyframes,a);if(p!==void 0){ai.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new VR(d):new hae(d)};function kce({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function bH(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),p=a[d];if(p===void 0||u&&kce(u,d))continue;const m={delay:n,...JR(s||{},d)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const C=wH(e);if(C){const _=window.MotionHandoffAnimation(C,d,ai);_!==null&&(m.startTime=_,v=!0)}}p3(e,d),h.start(u5(d,h,p,e.shouldReduceMotion&&GW.has(d)?{type:!1}:m,e,v));const w=h.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{ai.update(()=>{o&&xce(e,o)})}),c}function g3(e,t,n={}){const r=Ov(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(bH(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return Mce(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Mce(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Lce).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(g3(u,t,{...s,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Lce(e,t){return e.sortNodePosition(t)}function Uce(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>g3(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=g3(e,t,n);else{const i=typeof t=="function"?Ov(e,t,n.custom):t;r=Promise.all(bH(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function EH(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Bce=r5.length;function _H(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?_H(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Bce;n++){const r=r5[n],i=e.props[r];(xv(i)||i===!1)&&(t[r]=i)}return t}const $ce=[...n5].reverse(),jce=n5.length;function Fce(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Uce(e,n,r)))}function Kce(e){let t=Fce(e),n=h9(),r=!0;const i=c=>(u,d)=>{const h=Ov(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:p,transitionEnd:m,...y}=h;u={...u,...y,...m}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=_H(e.parent)||{},h=[],p=new Set;let m={},y=1/0;for(let w=0;w<jce;w++){const C=$ce[w],_=n[C],O=u[C]!==void 0?u[C]:d[C],R=xv(O),S=C===c?_.isActive:null;S===!1&&(y=w);let E=O===d[C]&&O!==u[C]&&R;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...m},!_.isActive&&S===null||!O&&!_.prevProp||YC(O)||typeof O=="boolean")continue;const x=Wce(_.prevProp,O);let N=x||C===c&&_.isActive&&!E&&R||w>y&&R,A=!1;const D=Array.isArray(O)?O:[O];let k=D.reduce(i(C),{});S===!1&&(k={});const{prevResolvedValues:U={}}=_,H={...U,...k},F=$=>{N=!0,p.has($)&&(A=!0,p.delete($)),_.needsAnimating[$]=!0;const W=e.getValue($);W&&(W.liveStyle=!1)};for(const $ in H){const W=k[$],X=U[$];if(m.hasOwnProperty($))continue;let j=!1;h3(W)&&h3(X)?j=!EH(W,X):j=W!==X,j?W!=null?F($):p.add($):W!==void 0&&p.has($)?F($):_.protectedKeys[$]=!0}_.prevProp=O,_.prevResolvedValues=k,_.isActive&&(m={...m,...k}),r&&e.blockInitialAnimation&&(N=!1),N&&(!(E&&x)||A)&&h.push(...D.map($=>({animation:$,options:{type:C}})))}if(p.size){const w={};if(typeof u.initial!="boolean"){const C=Ov(e,Array.isArray(u.initial)?u.initial[0]:u.initial);C&&C.transition&&(w.transition=C.transition)}p.forEach(C=>{const _=e.getBaseTarget(C),O=e.getValue(C);O&&(O.liveStyle=!0),w[C]=_??null}),h.push({animation:w})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function a(c,u){if(n[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(c,u)),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=h9(),r=!0}}}function Wce(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EH(t,e):!1}function qd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h9(){return{animate:qd(!0),whileInView:qd(),whileHover:qd(),whileTap:qd(),whileDrag:qd(),whileFocus:qd(),exit:qd()}}class bd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hce extends bd{constructor(t){super(t),t.animationState||(t.animationState=Kce(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();YC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zce=0;class qce extends bd{constructor(){super(...arguments),this.id=zce++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Vce={animation:{Feature:Hce},exit:{Feature:qce}};function Av(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function B1(e){return{point:{x:e.pageX,y:e.pageY}}}const Xce=e=>t=>QR(t)&&e(t,B1(t));function Vy(e,t,n,r){return Av(e,t,Xce(n),r)}function CH({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Gce({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Jce(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const xH=1e-4,Yce=1-xH,Zce=1+xH,SH=.01,Qce=0-SH,ele=0+SH;function ao(e){return e.max-e.min}function tle(e,t,n){return Math.abs(e-t)<=n}function p9(e,t,n,r=.5){e.origin=r,e.originPoint=oi(t.min,t.max,e.origin),e.scale=ao(n)/ao(t),e.translate=oi(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Yce&&e.scale<=Zce||isNaN(e.scale))&&(e.scale=1),(e.translate>=Qce&&e.translate<=ele||isNaN(e.translate))&&(e.translate=0)}function Xy(e,t,n,r){p9(e.x,t.x,n.x,r?r.originX:void 0),p9(e.y,t.y,n.y,r?r.originY:void 0)}function g9(e,t,n){e.min=n.min+t.min,e.max=e.min+ao(t)}function nle(e,t,n){g9(e.x,t.x,n.x),g9(e.y,t.y,n.y)}function m9(e,t,n){e.min=t.min-n.min,e.max=e.min+ao(t)}function Gy(e,t,n){m9(e.x,t.x,n.x),m9(e.y,t.y,n.y)}const y9=()=>({translate:0,scale:1,origin:0,originPoint:0}),_0=()=>({x:y9(),y:y9()}),v9=()=>({min:0,max:0}),Ci=()=>({x:v9(),y:v9()});function Ia(e){return[e("x"),e("y")]}function bO(e){return e===void 0||e===1}function m3({scale:e,scaleX:t,scaleY:n}){return!bO(e)||!bO(t)||!bO(n)}function Ff(e){return m3(e)||OH(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OH(e){return w9(e.x)||w9(e.y)}function w9(e){return e&&e!=="0%"}function z_(e,t,n){const r=e-n,i=t*r;return n+i}function b9(e,t,n,r,i){return i!==void 0&&(e=z_(e,i,r)),z_(e,n,r)+t}function y3(e,t=0,n=1,r,i){e.min=b9(e.min,t,n,r,i),e.max=b9(e.max,t,n,r,i)}function AH(e,{x:t,y:n}){y3(e.x,t.translate,t.scale,t.originPoint),y3(e.y,n.translate,n.scale,n.originPoint)}const E9=.999999999999,_9=1.0000000000001;function rle(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&x0(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,AH(e,o)),r&&Ff(s.latestValues)&&x0(e,s.latestValues))}t.x<_9&&t.x>E9&&(t.x=1),t.y<_9&&t.y>E9&&(t.y=1)}function C0(e,t){e.min=e.min+t,e.max=e.max+t}function C9(e,t,n,r,i=.5){const s=oi(e.min,e.max,i);y3(e,t,n,s,r)}function x0(e,t){C9(e.x,t.x,t.scaleX,t.scale,t.originX),C9(e.y,t.y,t.scaleY,t.scale,t.originY)}function TH(e,t){return CH(Jce(e.getBoundingClientRect(),t))}function ile(e,t,n){const r=TH(e,n),{scroll:i}=t;return i&&(C0(r.x,i.offset.x),C0(r.y,i.offset.y)),r}const RH=({current:e})=>e?e.ownerDocument.defaultView:null,x9=(e,t)=>Math.abs(e-t);function sle(e,t){const n=x9(e.x,t.x),r=x9(e.y,t.y);return Math.sqrt(n**2+r**2)}class NH{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_O(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=sle(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:v}=vs;this.history.push({...y,timestamp:v});const{onStart:w,onMove:C}=this.handlers;p||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=EO(p,this.transformPagePoint),ai.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_O(h.type==="pointercancel"?this.lastMoveEventInfo:EO(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),y&&y(h,w)},!QR(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=B1(t),a=EO(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=vs;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,_O(a,this.history)),this.removeListeners=M1(Vy(this.contextWindow,"pointermove",this.handlePointerMove),Vy(this.contextWindow,"pointerup",this.handlePointerUp),Vy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pd(this.updatePoint)}}function EO(e,t){return t?{point:t(e.point)}:e}function S9(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _O({point:e},t){return{point:e,delta:S9(e,PH(t)),offset:S9(e,ole(t)),velocity:ale(t,.1)}}function ole(e){return e[0]}function PH(e){return e[e.length-1]}function ale(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=PH(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Vc(t)));)n--;if(!r)return{x:0,y:0};const s=Xc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cle(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?oi(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?oi(n,e,r.max):Math.min(e,n)),e}function O9(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lle(e,{top:t,left:n,bottom:r,right:i}){return{x:O9(e.x,n,i),y:O9(e.y,t,r)}}function A9(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ule(e,t){return{x:A9(e.x,t.x),y:A9(e.y,t.y)}}function dle(e,t){let n=.5;const r=ao(e),i=ao(t);return i>r?n=Ev(t.min,t.max-r,e.min):r>i&&(n=Ev(e.min,e.max-i,t.min)),Zl(0,1,n)}function fle(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const v3=.35;function hle(e=v3){return e===!1?e=0:e===!0&&(e=v3),{x:T9(e,"left","right"),y:T9(e,"top","bottom")}}function T9(e,t,n){return{min:R9(e,t),max:R9(e,n)}}function R9(e,t){return typeof e=="number"?e:e[t]||0}const ple=new WeakMap;class gle{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ci(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(B1(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rae(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ia(w=>{let C=this.getAxisMotionValue(w).get()||0;if(Gc.test(C)){const{projection:_}=this.visualElement;if(_&&_.layout){const O=_.layout.layoutBox[w];O&&(C=ao(O)*(parseFloat(C)/100))}}this.originPoint[w]=C}),y&&ai.postRender(()=>y(d,h)),p3(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=mle(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),c=()=>Ia(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new NH(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:RH(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ai.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Tb(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=cle(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&E0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=lle(r.layoutBox,t):this.constraints=!1,this.elastic=hle(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ia(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=fle(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!E0(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ile(r,i.root,this.visualElement.getTransformPagePoint());let o=ule(i.layout.layoutBox,s);if(n){const a=n(Gce(o));this.hasMutatedConstraints=!!a,a&&(o=CH(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Ia(d=>{if(!Tb(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return p3(this.visualElement,t),r.start(u5(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ia(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ia(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ia(n=>{const{drag:r}=this.getProps();if(!Tb(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-oi(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!E0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ia(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=dle({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ia(o=>{if(!Tb(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(oi(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;ple.set(this.visualElement,this);const t=this.visualElement.current,n=Vy(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();E0(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ai.read(r);const o=Av(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ia(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=v3,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Tb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mle(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class yle extends bd{constructor(t){super(t),this.removeGroupControls=Fa,this.removeListeners=Fa,this.controls=new gle(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const N9=e=>(t,n)=>{e&&ai.postRender(()=>e(t,n))};class vle extends bd{constructor(){super(...arguments),this.removePointerDownListener=Fa}onPointerDown(t){this.session=new NH(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:N9(t),onStart:N9(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ai.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Vy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function P9(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(yn.test(e))e=parseFloat(e);else return e;const n=P9(e,t.target.x),r=P9(e,t.target.y);return`${n}% ${r}%`}},wle={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=gd.parse(e);if(i.length>5)return r;const s=gd.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=c;const u=oi(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class ble extends le.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;ice(Ele),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xE.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||ai.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ZR.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function IH(e){const[t,n]=sH(),r=le.useContext(RR);return Le.jsx(ble,{...e,layoutGroup:r,switchLayoutGroup:le.useContext(uH),isPresent:t,safeToRemove:n})}const Ele={borderRadius:{...Fm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fm,borderTopRightRadius:Fm,borderBottomLeftRadius:Fm,borderBottomRightRadius:Fm,boxShadow:wle};function _le(e,t,n){const r=qs(e)?e:z0(e);return r.start(u5("",r,t,n)),r.animation}const Cle=(e,t)=>e.depth-t.depth;class xle{constructor(){this.children=[],this.isDirty=!1}add(t){IR(this.children,t),this.isDirty=!0}remove(t){DR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Cle),this.isDirty=!1,this.children.forEach(t)}}function Sle(e,t){const n=Ao.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(pd(r),e(s-t))};return ai.setup(r,!0),()=>pd(r)}const DH=["TopLeft","TopRight","BottomLeft","BottomRight"],Ole=DH.length,I9=e=>typeof e=="string"?parseFloat(e):e,D9=e=>typeof e=="number"||yn.test(e);function Ale(e,t,n,r,i,s){i?(e.opacity=oi(0,n.opacity??1,Tle(r)),e.opacityExit=oi(t.opacity??1,0,Rle(r))):s&&(e.opacity=oi(t.opacity??1,n.opacity??1,r));for(let o=0;o<Ole;o++){const a=`border${DH[o]}Radius`;let c=k9(t,a),u=k9(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||D9(c)===D9(u)?(e[a]=Math.max(oi(I9(c),I9(u),r),0),(Gc.test(u)||Gc.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=oi(t.rotate||0,n.rotate||0,r))}function k9(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Tle=kH(0,.5,OW),Rle=kH(.5,.95,Fa);function kH(e,t,n){return r=>r<e?0:r>t?1:n(Ev(e,t,r))}function M9(e,t){e.min=t.min,e.max=t.max}function xa(e,t){M9(e.x,t.x),M9(e.y,t.y)}function L9(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function U9(e,t,n,r,i){return e-=t,e=z_(e,1/n,r),i!==void 0&&(e=z_(e,1/i,r)),e}function Nle(e,t=0,n=1,r=.5,i,s=e,o=e){if(Gc.test(t)&&(t=parseFloat(t),t=oi(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=oi(s.min,s.max,r);e===s&&(a-=t),e.min=U9(e.min,t,n,a,i),e.max=U9(e.max,t,n,a,i)}function B9(e,t,[n,r,i],s,o){Nle(e,t[n],t[r],t[i],t.scale,s,o)}const Ple=["x","scaleX","originX"],Ile=["y","scaleY","originY"];function $9(e,t,n,r){B9(e.x,t,Ple,n?n.x:void 0,r?r.x:void 0),B9(e.y,t,Ile,n?n.y:void 0,r?r.y:void 0)}function j9(e){return e.translate===0&&e.scale===1}function MH(e){return j9(e.x)&&j9(e.y)}function F9(e,t){return e.min===t.min&&e.max===t.max}function Dle(e,t){return F9(e.x,t.x)&&F9(e.y,t.y)}function K9(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function LH(e,t){return K9(e.x,t.x)&&K9(e.y,t.y)}function W9(e){return ao(e.x)/ao(e.y)}function H9(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class kle{constructor(){this.members=[]}add(t){IR(this.members,t),t.scheduleRender()}remove(t){if(DR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mle(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const CO=["","X","Y","Z"],Lle={visibility:"hidden"},Ule=1e3;let Ble=0;function xO(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function UH(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=wH(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ai,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&UH(r)}function BH({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=Ble++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fle),this.nodes.forEach(qle),this.nodes.forEach(Vle),this.nodes.forEach(Kle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new xle)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=iH(o)&&!Mae(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Sle(h,250),xE.hasAnimatedSinceResize&&(xE.hasAnimatedSinceResize=!1,this.nodes.forEach(q9))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Zle,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=u.getProps(),C=!this.targetLayout||!LH(this.targetLayout,m),_=!h&&p;if(this.options.layoutRoot||this.resumeFrom||_||h&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const O={...JR(y,"layout"),onPlay:v,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else h||q9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xle),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z9);return}this.isUpdating||this.nodes.forEach(Hle),this.isUpdating=!1,this.nodes.forEach(zle),this.nodes.forEach($le),this.nodes.forEach(jle),this.clearAllSnapshots();const a=Ao.now();vs.delta=Zl(0,1e3/60,a-vs.timestamp),vs.timestamp=a,vs.isProcessing=!0,gO.update.process(vs),gO.preRender.process(vs),gO.render.process(vs),vs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wle),this.sharedNodes.forEach(Gle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ai.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ai.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ao(this.snapshot.measuredBox.x)&&!ao(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!MH(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ff(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),Qle(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ci();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eue))){const{scroll:u}=this.root;u&&(C0(a.x,u.offset.x),C0(a.y,u.offset.y))}return a}removeElementScroll(o){const a=Ci();if(xa(a,o),this.scroll?.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&xa(a,o),C0(a.x,d.offset.x),C0(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const c=Ci();xa(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&x0(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ff(d.latestValues)&&x0(c,d.latestValues)}return Ff(this.latestValues)&&x0(c,this.latestValues),c}removeTransform(o){const a=Ci();xa(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ff(u.latestValues))continue;m3(u.latestValues)&&u.updateSnapshot();const d=Ci(),h=u.measurePageBox();xa(d,h),$9(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ff(this.latestValues)&&$9(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=vs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Gy(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ci(),this.targetWithTransforms=Ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xa(this.target,this.layout.layoutBox),AH(this.target,this.targetDelta)):xa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Gy(this.relativeTargetOrigin,this.target,p.target),xa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||m3(this.parent.latestValues)||OH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vs.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;xa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;rle(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ci());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L9(this.prevProjectionDelta.x,this.projectionDelta.x),L9(this.prevProjectionDelta.y,this.projectionDelta.y)),Xy(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!H9(this.projectionDelta.x,this.prevProjectionDelta.x)||!H9(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_0(),this.projectionDelta=_0(),this.projectionDeltaWithTransform=_0()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=_0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ci(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,w=this.getStack(),C=!w||w.members.length<=1,_=!!(v&&!C&&this.options.crossfade===!0&&!this.path.some(Yle));this.animationProgress=0;let O;this.mixTargetDelta=R=>{const S=R/1e3;V9(h.x,o.x,S),V9(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jle(this.relativeTarget,this.relativeTargetOrigin,p,S),O&&Dle(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ci()),xa(O,this.relativeTarget)),v&&(this.animationValues=d,Ale(d,u,this.latestValues,S,_,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(pd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ai.update(()=>{xE.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=z0(0)),this.currentAnimation=_le(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ule),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&$H(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ci();const h=ao(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=ao(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}xa(a,c),x0(a,d),Xy(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kle),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&xO("z",o,u,this.animationValues);for(let d=0;d<CO.length;d++)xO(`rotate${CO[d]}`,o,u,this.animationValues),xO(`skew${CO[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Lle;const a={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=CE(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=CE(o?.pointerEvents)||""),this.hasProjected&&!Ff(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=Mle(this.projectionDeltaWithTransform,this.treeScale,d),c&&(a.transform=c(d,a.transform));const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Sv){if(d[m]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:w}=Sv[m],C=a.transform==="none"?d[m]:y(d[m],u);if(v){const _=v.length;for(let O=0;O<_;O++)a[v[O]]=C}else w?this.options.visualElement.renderState.vars[m]=C:a[m]=C}return this.options.layoutId&&(a.pointerEvents=u===this?CE(o?.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop(!1)),this.root.nodes.forEach(z9),this.root.sharedNodes.clear()}}}function $le(e){e.updateLayout()}function jle(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Ia(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ao(h);h.min=n[d].min,h.max=h.min+p}):$H(i,t.layoutBox,n)&&Ia(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ao(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=_0();Xy(o,n,t.layoutBox);const a=_0();s?Xy(a,e.applyTransform(r,!0),t.measuredBox):Xy(a,n,t.layoutBox);const c=!MH(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const m=Ci();Gy(m,t.layoutBox,h.layoutBox);const y=Ci();Gy(y,n,p.layoutBox),LH(m,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Fle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Kle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wle(e){e.clearSnapshot()}function z9(e){e.clearMeasurements()}function Hle(e){e.isLayoutDirty=!1}function zle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function q9(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qle(e){e.resolveTargetDelta()}function Vle(e){e.calcProjection()}function Xle(e){e.resetSkewAndRotation()}function Gle(e){e.removeLeadSnapshot()}function V9(e,t,n){e.translate=oi(t.translate,0,n),e.scale=oi(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function X9(e,t,n,r){e.min=oi(t.min,n.min,r),e.max=oi(t.max,n.max,r)}function Jle(e,t,n,r){X9(e.x,t.x,n.x,r),X9(e.y,t.y,n.y,r)}function Yle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Zle={duration:.45,ease:[.4,0,.1,1]},G9=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),J9=G9("applewebkit/")&&!G9("chrome/")?Math.round:Fa;function Y9(e){e.min=J9(e.min),e.max=J9(e.max)}function Qle(e){Y9(e.x),Y9(e.y)}function $H(e,t,n){return e==="position"||e==="preserve-aspect"&&!tle(W9(t),W9(n),.2)}function eue(e){return e!==e.root&&e.scroll?.wasRoot}const tue=BH({attachResizeListener:(e,t)=>Av(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),SO={current:void 0},jH=BH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!SO.current){const e=new tue({});e.mount(window),e.setOptions({layoutScroll:!0}),SO.current=e}return SO.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nue={pan:{Feature:vle},drag:{Feature:yle,ProjectionNode:jH,MeasureLayout:IH}};function Z9(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ai.postRender(()=>s(t,B1(t)))}class rue extends bd{mount(){const{current:t}=this.node;t&&(this.unmount=Nae(t,(n,r)=>(Z9(this.node,r,"Start"),i=>Z9(this.node,i,"End"))))}unmount(){}}class iue extends bd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=M1(Av(this.node.current,"focus",()=>this.onFocus()),Av(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Q9(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ai.postRender(()=>s(t,B1(t)))}class sue extends bd{mount(){const{current:t}=this.node;t&&(this.unmount=kae(t,(n,r)=>(Q9(this.node,r,"Start"),(i,{success:s})=>Q9(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const w3=new WeakMap,OO=new WeakMap,oue=e=>{const t=w3.get(e.target);t&&t(e)},aue=e=>{e.forEach(oue)};function cue({root:e,...t}){const n=e||document;OO.has(n)||OO.set(n,{});const r=OO.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(aue,{root:e,...t})),r[i]}function lue(e,t,n){const r=cue(t);return w3.set(e,n),r.observe(e),()=>{w3.delete(e),r.unobserve(e)}}const uue={some:0,all:1};class due extends bd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uue[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return lue(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fue(t,n))&&this.startObserver()}unmount(){}}function fue({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const hue={inView:{Feature:due},tap:{Feature:sue},focus:{Feature:iue},hover:{Feature:rue}},pue={layout:{ProjectionNode:jH,MeasureLayout:IH}},b3={current:null},FH={current:!1};function gue(){if(FH.current=!0,!!PR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>b3.current=e.matches;e.addListener(t),t()}else b3.current=!1}const mue=new WeakMap;function yue(e,t,n){for(const r in t){const i=t[r],s=n[r];if(qs(i))e.addValue(r,i);else if(qs(s))e.addValue(r,z0(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,z0(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const ek=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vue{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ao.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ai.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ZC(n),this.isVariantNode=cH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];c[p]!==void 0&&qs(m)&&m.set(c[p],!1)}}mount(t){this.current=t,mue.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FH.current||gue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:b3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pd(this.notifyUpdate),pd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wg.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ai.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in q0){const n=q0[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ci()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ek.length;r++){const i=ek[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=yue(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=z0(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mW(r)||vW(r))?r=parseFloat(r):!Uae(r)&&gd.test(n)&&(r=QW(t,n)),this.setBaseTarget(t,qs(r)?r.get():r)),qs(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=c5(this.props,n,this.presenceContext?.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!qs(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new LR),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class KH extends vue{constructor(){super(...arguments),this.KeyframeResolver=Sae}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WH(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}function wue(e){return window.getComputedStyle(e)}class bue extends KH{constructor(){super(...arguments),this.type="html",this.renderInstance=WH}readValueFromInstance(t,n){if(wg.has(n))return this.projection?.isProjecting?a3(n):Hoe(t,n);{const r=wue(t),i=($R(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return TH(t,n)}build(t,n,r){s5(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return l5(t,n,r)}}const HH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eue(e,t,n,r){WH(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(HH.has(i)?i:i5(i),t.attrs[i])}class _ue extends KH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ci}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wg.has(n)){const r=ZW(n);return r&&r.default||0}return n=HH.has(n)?n:i5(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return vH(t,n,r)}build(t,n,r){pH(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Eue(t,n,r,i)}mount(t){this.isSVGTag=mH(t.tagName),super.mount(t)}}const Cue=(e,t)=>a5(e)?new _ue(t):new bue(t,{allowProjection:e!==le.Fragment}),xue=Ece({...Vce,...hue,...nue,...pue},Cue),oo=qae(xue);function Sue(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var d5=!1;if(typeof window<"u"){var tk={get passive(){d5=!0}};window.addEventListener("testPassive",null,tk),window.removeEventListener("testPassive",null,tk)}var q_=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),ph=[],V_=!1,zH=-1,Jy=void 0,Vf=void 0,Yy=void 0,qH=function(t){return ph.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(t))})},X_=function(t){var n=t||window.event;return qH(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},Oue=function(t){if(Yy===void 0){var n=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);Yy=document.body.style.paddingRight,document.body.style.paddingRight=i+r+"px"}}Jy===void 0&&(Jy=document.body.style.overflow,document.body.style.overflow="hidden")},Aue=function(){Yy!==void 0&&(document.body.style.paddingRight=Yy,Yy=void 0),Jy!==void 0&&(document.body.style.overflow=Jy,Jy=void 0)},Tue=function(){return window.requestAnimationFrame(function(){if(Vf===void 0){Vf={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var t=window,n=t.scrollY,r=t.scrollX,i=t.innerHeight;document.body.style.position="fixed",document.body.style.top=-n,document.body.style.left=-r,setTimeout(function(){return window.requestAnimationFrame(function(){var s=i-window.innerHeight;s&&n>=i&&(document.body.style.top=-(n+s))})},300)}})},Rue=function(){if(Vf!==void 0){var t=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10);document.body.style.position=Vf.position,document.body.style.top=Vf.top,document.body.style.left=Vf.left,window.scrollTo(n,t),Vf=void 0}},Nue=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},Pue=function(t,n){var r=t.targetTouches[0].clientY-zH;return qH(t.target)?!1:n&&n.scrollTop===0&&r>0||Nue(n)&&r<0?X_(t):(t.stopPropagation(),!0)},Iue=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!ph.some(function(i){return i.targetElement===t})){var r={targetElement:t,options:n||{}};ph=[].concat(Sue(ph),[r]),q_?Tue():Oue(n),q_&&(t.ontouchstart=function(i){i.targetTouches.length===1&&(zH=i.targetTouches[0].clientY)},t.ontouchmove=function(i){i.targetTouches.length===1&&Pue(i,t)},V_||(document.addEventListener("touchmove",X_,d5?{passive:!1}:void 0),V_=!0))}},nk=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}ph=ph.filter(function(n){return n.targetElement!==t}),q_&&(t.ontouchstart=null,t.ontouchmove=null,V_&&ph.length===0&&(document.removeEventListener("touchmove",X_,d5?{passive:!1}:void 0),V_=!1)),q_?Rue():Aue()};const Due=e=>{let t=e;for(;t&&t!==document.body;){if(t.classList.contains("body-scroll-lock-ignore"))return!0;t=t.parentElement}return!1},VH=(e,t=document.documentElement,n)=>{const r=le.useRef(n),i=typeof t=="string"?document.querySelector(t):t;r.current=n,le.useEffect(()=>{if(i)return e?Iue(i,{allowTouchMove:Due,...r.current}):nk(i),()=>{nk(i)}},[i,e])},kue=e=>Le.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[Le.jsx("path",{d:"M7 7L23.0363 23.0363",stroke:"currentColor",strokeWidth:"1.7"}),Le.jsx("path",{d:"M23.0363 7L7 23.0363",stroke:"currentColor",strokeWidth:"1.7"})]}),Mue="_4763cccb",Lue="_7a11e1ab",rk={root:Mue,icon:Lue},Uue=({className:e,children:t=Le.jsx(kue,{className:rk.icon}),...n})=>{const{dismiss:r}=XC();return Le.jsx("button",{className:Gs(rk.root,e),color:"transparent",onClick:r,"aria-label":"close",...n,children:t})},Bue="_94ac84b3",$ue="a1309e42",Ul={root:Bue,close:$ue},jue={initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.15,stiffness:360,damping:55}},Fue=({children:e,closeButton:t,className:n,scrollRock:r=!0,...i})=>{const[s,o]=le.useState(!1),a=le.useMemo(()=>s?null:t===!0||t===void 0?Le.jsx(Uue,{className:Ul.close}):t,[s,t]);return VH(r),Le.jsxs(oo.div,{id:"popup",onAnimationStart:()=>o(!0),onAnimationComplete:()=>o(!1),className:Gs(Ul.root,n),...jue,...i,children:[a,e]})},Kue="_6c1bc23a",Wue="a3383709",ik={root:Kue,dismiss:Wue},Hue=({title:e,description:t,closeButton:n=!1,dismissButton:r,dismissText:i=Le.jsx(hd,{name:"DD_gnb_disconnect_cancel"}),confirmButton:s,confirmText:o=Le.jsx(hd,{name:"DD_gnb_disconnect_ok"}),children:a,className:c,...u})=>Le.jsxs(Fue,{className:Gs(ik.root,Ul.root,c),closeButton:n,...u,children:[Le.jsxs("div",{className:Ul.body,children:[e&&Le.jsx("h3",{className:Ul.title,"aria-label":"title",children:e}),t&&Le.jsx("p",{className:Ul.description,"aria-label":"description",children:t}),a]}),Le.jsxs("div",{className:Ul.footer,children:[r??Le.jsx(Fse,{className:Gs(Ul.button,ik.dismiss),children:i}),s??Le.jsx(Bse,{className:Ul.button,children:o})]})]}),Sy=k1(()=>({})),zue={get:e=>Sy.getState()[e],add:(e,t)=>Sy.setState({[e]:t}),remove:e=>Sy.setState(t=>{const{[e]:n,...r}=t;return r},!0),clear:()=>{Object.values(Sy.getState()).forEach(e=>e.api.dismiss())}},XH=()=>({data:AR(Sy),...zue});let que=0;const Vue=()=>`modal${que++}`,Xue=e=>{const{add:t,remove:n}=XH(),r=le.useRef({throwOnDismiss:!1,...e});return r.current={...r.current,...e},{open:le.useCallback((s,o)=>{const a={key:Vue(),...r.current,...o},{key:c,throwOnDismiss:u}=a;return new Promise((d,h)=>{const p=v=>{const w=new sk({detail:v});if(w.dismissed=!0,u){const C=new Error("DISMISSED");C.cause=v,h(C)}else d(w)},y={close:v=>{const w=new sk({detail:v});d(w)},dismiss:p,options:{onEscapeKeydown:p,...a}};t(c,{key:c,content:s,api:y})}).finally(()=>n(c))},[t,n])}};class sk extends CustomEvent{constructor(t){super("modal",t),this.dismissed=!1}}var Vd={},AO={},jo={},TO={},ok;function $1(){return ok||(ok=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorState=e.CONNECT_PROTOCOL_VER=e.CONNECT_JSONRPC_VER=e.OKXCONNECTOR_SESSION_LIVE_TTL=e.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL=e.OKXCONNECTOR_MESSAGE_TTL=e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=e.OKXCONNECTOR_WS_URL_LIST=e.OKXCONNECTOR_WS_URL_IDX_KEY=e.OKXCONNECTOR_WS_URL_3=e.OKXCONNECTOR_WS_URL_2=e.OKXCONNECTOR_WS_URL_1=e.EVENT_EMITTER_MAX_LISTENERS=e.OKXCONNECTOR_PROTOCOL_VERSION=void 0,e.OKXCONNECTOR_PROTOCOL_VERSION=2,e.EVENT_EMITTER_MAX_LISTENERS=10,e.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",e.OKXCONNECTOR_WS_URL_LIST=[e.OKXCONNECTOR_WS_URL_1,e.OKXCONNECTOR_WS_URL_2,e.OKXCONNECTOR_WS_URL_3],e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},e.OKXCONNECTOR_MESSAGE_TTL=3e5,e.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL=864e5,e.OKXCONNECTOR_SESSION_LIVE_TTL=864e5,e.CONNECT_JSONRPC_VER="2.0",e.CONNECT_PROTOCOL_VER=2,e.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}}(TO)),TO}var er={},ak;function j1(){return ak||(ak=1,Object.defineProperty(er,"__esModule",{value:!0}),er.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE=er.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE=er.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE=er.OKXCONNECTOR_STORAGE_CIPHER_METHOD=er.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=er.OKXCONNECTOR_STORAGER_CRYPTO_SALT=er.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=er.OKXCONNECTOR_TON_KEY=er.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=er.OKXCONNECTOR_TOKEN_CACHE=er.OKXCONNECTOR_JWT_KEY=er.OKXCONNECTOR_SESSION_PREFIX_KEY=er.OKXCONNECTOR_CRYPTO_KEY=er.OKXCONNECTOR_CACHE_KEY_DAPP=er.OKXCONNECTOR_CACHE_KEY=void 0,er.OKXCONNECTOR_CACHE_KEY="ck",er.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",er.OKXCONNECTOR_CRYPTO_KEY="cck_k",er.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",er.OKXCONNECTOR_JWT_KEY="cjk_k",er.OKXCONNECTOR_TOKEN_CACHE="ct",er.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",er.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",er.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",er.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",er.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",er.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc",er.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE="okx_connect_split_cache_key",er.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE="okx_connect_te_cache_key",er.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE="okx_connect_twe_cache_key"),er}var Fo={};function rh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var RO={exports:{}};const Gue={},Jue=Object.freeze(Object.defineProperty({__proto__:null,default:Gue},Symbol.toStringTag,{value:"Module"})),f5=LC(Jue);var ck;function bg(){return ck||(ck=1,function(e){(function(t){var n=function(K){var J,V=new Float64Array(16);if(K)for(J=0;J<K.length;J++)V[J]=K[J];return V},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),c=n([56129,1]),u=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(K,J,V,L){K[J]=V>>24&255,K[J+1]=V>>16&255,K[J+2]=V>>8&255,K[J+3]=V&255,K[J+4]=L>>24&255,K[J+5]=L>>16&255,K[J+6]=L>>8&255,K[J+7]=L&255}function v(K,J,V,L,Z){var fe,ye=0;for(fe=0;fe<Z;fe++)ye|=K[J+fe]^V[L+fe];return(1&ye-1>>>8)-1}function w(K,J,V,L){return v(K,J,V,L,16)}function C(K,J,V,L){return v(K,J,V,L,32)}function _(K,J,V,L){for(var Z=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,fe=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,ye=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,Ie=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,We=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,ut=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,rt=J[0]&255|(J[1]&255)<<8|(J[2]&255)<<16|(J[3]&255)<<24,sn=J[4]&255|(J[5]&255)<<8|(J[6]&255)<<16|(J[7]&255)<<24,Ze=J[8]&255|(J[9]&255)<<8|(J[10]&255)<<16|(J[11]&255)<<24,qt=J[12]&255|(J[13]&255)<<8|(J[14]&255)<<16|(J[15]&255)<<24,Ut=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,Xt=V[16]&255|(V[17]&255)<<8|(V[18]&255)<<16|(V[19]&255)<<24,Bt=V[20]&255|(V[21]&255)<<8|(V[22]&255)<<16|(V[23]&255)<<24,jt=V[24]&255|(V[25]&255)<<8|(V[26]&255)<<16|(V[27]&255)<<24,Ct=V[28]&255|(V[29]&255)<<8|(V[30]&255)<<16|(V[31]&255)<<24,Jt=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,dt=Z,At=fe,Ye=ye,st=Ie,xt=We,ft=ut,ke=rt,Re=sn,qe=Ze,q=qt,ne=Ut,Q=Xt,pe=Bt,ve=jt,ge=Ct,Pe=Jt,re,$e=0;$e<20;$e+=2)re=dt+pe|0,xt^=re<<7|re>>>25,re=xt+dt|0,qe^=re<<9|re>>>23,re=qe+xt|0,pe^=re<<13|re>>>19,re=pe+qe|0,dt^=re<<18|re>>>14,re=ft+At|0,q^=re<<7|re>>>25,re=q+ft|0,ve^=re<<9|re>>>23,re=ve+q|0,At^=re<<13|re>>>19,re=At+ve|0,ft^=re<<18|re>>>14,re=ne+ke|0,ge^=re<<7|re>>>25,re=ge+ne|0,Ye^=re<<9|re>>>23,re=Ye+ge|0,ke^=re<<13|re>>>19,re=ke+Ye|0,ne^=re<<18|re>>>14,re=Pe+Q|0,st^=re<<7|re>>>25,re=st+Pe|0,Re^=re<<9|re>>>23,re=Re+st|0,Q^=re<<13|re>>>19,re=Q+Re|0,Pe^=re<<18|re>>>14,re=dt+st|0,At^=re<<7|re>>>25,re=At+dt|0,Ye^=re<<9|re>>>23,re=Ye+At|0,st^=re<<13|re>>>19,re=st+Ye|0,dt^=re<<18|re>>>14,re=ft+xt|0,ke^=re<<7|re>>>25,re=ke+ft|0,Re^=re<<9|re>>>23,re=Re+ke|0,xt^=re<<13|re>>>19,re=xt+Re|0,ft^=re<<18|re>>>14,re=ne+q|0,Q^=re<<7|re>>>25,re=Q+ne|0,qe^=re<<9|re>>>23,re=qe+Q|0,q^=re<<13|re>>>19,re=q+qe|0,ne^=re<<18|re>>>14,re=Pe+ge|0,pe^=re<<7|re>>>25,re=pe+Pe|0,ve^=re<<9|re>>>23,re=ve+pe|0,ge^=re<<13|re>>>19,re=ge+ve|0,Pe^=re<<18|re>>>14;dt=dt+Z|0,At=At+fe|0,Ye=Ye+ye|0,st=st+Ie|0,xt=xt+We|0,ft=ft+ut|0,ke=ke+rt|0,Re=Re+sn|0,qe=qe+Ze|0,q=q+qt|0,ne=ne+Ut|0,Q=Q+Xt|0,pe=pe+Bt|0,ve=ve+jt|0,ge=ge+Ct|0,Pe=Pe+Jt|0,K[0]=dt>>>0&255,K[1]=dt>>>8&255,K[2]=dt>>>16&255,K[3]=dt>>>24&255,K[4]=At>>>0&255,K[5]=At>>>8&255,K[6]=At>>>16&255,K[7]=At>>>24&255,K[8]=Ye>>>0&255,K[9]=Ye>>>8&255,K[10]=Ye>>>16&255,K[11]=Ye>>>24&255,K[12]=st>>>0&255,K[13]=st>>>8&255,K[14]=st>>>16&255,K[15]=st>>>24&255,K[16]=xt>>>0&255,K[17]=xt>>>8&255,K[18]=xt>>>16&255,K[19]=xt>>>24&255,K[20]=ft>>>0&255,K[21]=ft>>>8&255,K[22]=ft>>>16&255,K[23]=ft>>>24&255,K[24]=ke>>>0&255,K[25]=ke>>>8&255,K[26]=ke>>>16&255,K[27]=ke>>>24&255,K[28]=Re>>>0&255,K[29]=Re>>>8&255,K[30]=Re>>>16&255,K[31]=Re>>>24&255,K[32]=qe>>>0&255,K[33]=qe>>>8&255,K[34]=qe>>>16&255,K[35]=qe>>>24&255,K[36]=q>>>0&255,K[37]=q>>>8&255,K[38]=q>>>16&255,K[39]=q>>>24&255,K[40]=ne>>>0&255,K[41]=ne>>>8&255,K[42]=ne>>>16&255,K[43]=ne>>>24&255,K[44]=Q>>>0&255,K[45]=Q>>>8&255,K[46]=Q>>>16&255,K[47]=Q>>>24&255,K[48]=pe>>>0&255,K[49]=pe>>>8&255,K[50]=pe>>>16&255,K[51]=pe>>>24&255,K[52]=ve>>>0&255,K[53]=ve>>>8&255,K[54]=ve>>>16&255,K[55]=ve>>>24&255,K[56]=ge>>>0&255,K[57]=ge>>>8&255,K[58]=ge>>>16&255,K[59]=ge>>>24&255,K[60]=Pe>>>0&255,K[61]=Pe>>>8&255,K[62]=Pe>>>16&255,K[63]=Pe>>>24&255}function O(K,J,V,L){for(var Z=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,fe=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,ye=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,Ie=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,We=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,ut=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,rt=J[0]&255|(J[1]&255)<<8|(J[2]&255)<<16|(J[3]&255)<<24,sn=J[4]&255|(J[5]&255)<<8|(J[6]&255)<<16|(J[7]&255)<<24,Ze=J[8]&255|(J[9]&255)<<8|(J[10]&255)<<16|(J[11]&255)<<24,qt=J[12]&255|(J[13]&255)<<8|(J[14]&255)<<16|(J[15]&255)<<24,Ut=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,Xt=V[16]&255|(V[17]&255)<<8|(V[18]&255)<<16|(V[19]&255)<<24,Bt=V[20]&255|(V[21]&255)<<8|(V[22]&255)<<16|(V[23]&255)<<24,jt=V[24]&255|(V[25]&255)<<8|(V[26]&255)<<16|(V[27]&255)<<24,Ct=V[28]&255|(V[29]&255)<<8|(V[30]&255)<<16|(V[31]&255)<<24,Jt=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,dt=Z,At=fe,Ye=ye,st=Ie,xt=We,ft=ut,ke=rt,Re=sn,qe=Ze,q=qt,ne=Ut,Q=Xt,pe=Bt,ve=jt,ge=Ct,Pe=Jt,re,$e=0;$e<20;$e+=2)re=dt+pe|0,xt^=re<<7|re>>>25,re=xt+dt|0,qe^=re<<9|re>>>23,re=qe+xt|0,pe^=re<<13|re>>>19,re=pe+qe|0,dt^=re<<18|re>>>14,re=ft+At|0,q^=re<<7|re>>>25,re=q+ft|0,ve^=re<<9|re>>>23,re=ve+q|0,At^=re<<13|re>>>19,re=At+ve|0,ft^=re<<18|re>>>14,re=ne+ke|0,ge^=re<<7|re>>>25,re=ge+ne|0,Ye^=re<<9|re>>>23,re=Ye+ge|0,ke^=re<<13|re>>>19,re=ke+Ye|0,ne^=re<<18|re>>>14,re=Pe+Q|0,st^=re<<7|re>>>25,re=st+Pe|0,Re^=re<<9|re>>>23,re=Re+st|0,Q^=re<<13|re>>>19,re=Q+Re|0,Pe^=re<<18|re>>>14,re=dt+st|0,At^=re<<7|re>>>25,re=At+dt|0,Ye^=re<<9|re>>>23,re=Ye+At|0,st^=re<<13|re>>>19,re=st+Ye|0,dt^=re<<18|re>>>14,re=ft+xt|0,ke^=re<<7|re>>>25,re=ke+ft|0,Re^=re<<9|re>>>23,re=Re+ke|0,xt^=re<<13|re>>>19,re=xt+Re|0,ft^=re<<18|re>>>14,re=ne+q|0,Q^=re<<7|re>>>25,re=Q+ne|0,qe^=re<<9|re>>>23,re=qe+Q|0,q^=re<<13|re>>>19,re=q+qe|0,ne^=re<<18|re>>>14,re=Pe+ge|0,pe^=re<<7|re>>>25,re=pe+Pe|0,ve^=re<<9|re>>>23,re=ve+pe|0,ge^=re<<13|re>>>19,re=ge+ve|0,Pe^=re<<18|re>>>14;K[0]=dt>>>0&255,K[1]=dt>>>8&255,K[2]=dt>>>16&255,K[3]=dt>>>24&255,K[4]=ft>>>0&255,K[5]=ft>>>8&255,K[6]=ft>>>16&255,K[7]=ft>>>24&255,K[8]=ne>>>0&255,K[9]=ne>>>8&255,K[10]=ne>>>16&255,K[11]=ne>>>24&255,K[12]=Pe>>>0&255,K[13]=Pe>>>8&255,K[14]=Pe>>>16&255,K[15]=Pe>>>24&255,K[16]=ke>>>0&255,K[17]=ke>>>8&255,K[18]=ke>>>16&255,K[19]=ke>>>24&255,K[20]=Re>>>0&255,K[21]=Re>>>8&255,K[22]=Re>>>16&255,K[23]=Re>>>24&255,K[24]=qe>>>0&255,K[25]=qe>>>8&255,K[26]=qe>>>16&255,K[27]=qe>>>24&255,K[28]=q>>>0&255,K[29]=q>>>8&255,K[30]=q>>>16&255,K[31]=q>>>24&255}function R(K,J,V,L){_(K,J,V,L)}function S(K,J,V,L){O(K,J,V,L)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(K,J,V,L,Z,fe,ye){var Ie=new Uint8Array(16),We=new Uint8Array(64),ut,rt;for(rt=0;rt<16;rt++)Ie[rt]=0;for(rt=0;rt<8;rt++)Ie[rt]=fe[rt];for(;Z>=64;){for(R(We,Ie,ye,E),rt=0;rt<64;rt++)K[J+rt]=V[L+rt]^We[rt];for(ut=1,rt=8;rt<16;rt++)ut=ut+(Ie[rt]&255)|0,Ie[rt]=ut&255,ut>>>=8;Z-=64,J+=64,L+=64}if(Z>0)for(R(We,Ie,ye,E),rt=0;rt<Z;rt++)K[J+rt]=V[L+rt]^We[rt];return 0}function N(K,J,V,L,Z){var fe=new Uint8Array(16),ye=new Uint8Array(64),Ie,We;for(We=0;We<16;We++)fe[We]=0;for(We=0;We<8;We++)fe[We]=L[We];for(;V>=64;){for(R(ye,fe,Z,E),We=0;We<64;We++)K[J+We]=ye[We];for(Ie=1,We=8;We<16;We++)Ie=Ie+(fe[We]&255)|0,fe[We]=Ie&255,Ie>>>=8;V-=64,J+=64}if(V>0)for(R(ye,fe,Z,E),We=0;We<V;We++)K[J+We]=ye[We];return 0}function A(K,J,V,L,Z){var fe=new Uint8Array(32);S(fe,L,Z,E);for(var ye=new Uint8Array(8),Ie=0;Ie<8;Ie++)ye[Ie]=L[Ie+16];return N(K,J,V,ye,fe)}function D(K,J,V,L,Z,fe,ye){var Ie=new Uint8Array(32);S(Ie,fe,ye,E);for(var We=new Uint8Array(8),ut=0;ut<8;ut++)We[ut]=fe[ut+16];return x(K,J,V,L,Z,We,Ie)}var k=function(K){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var J,V,L,Z,fe,ye,Ie,We;J=K[0]&255|(K[1]&255)<<8,this.r[0]=J&8191,V=K[2]&255|(K[3]&255)<<8,this.r[1]=(J>>>13|V<<3)&8191,L=K[4]&255|(K[5]&255)<<8,this.r[2]=(V>>>10|L<<6)&7939,Z=K[6]&255|(K[7]&255)<<8,this.r[3]=(L>>>7|Z<<9)&8191,fe=K[8]&255|(K[9]&255)<<8,this.r[4]=(Z>>>4|fe<<12)&255,this.r[5]=fe>>>1&8190,ye=K[10]&255|(K[11]&255)<<8,this.r[6]=(fe>>>14|ye<<2)&8191,Ie=K[12]&255|(K[13]&255)<<8,this.r[7]=(ye>>>11|Ie<<5)&8065,We=K[14]&255|(K[15]&255)<<8,this.r[8]=(Ie>>>8|We<<8)&8191,this.r[9]=We>>>5&127,this.pad[0]=K[16]&255|(K[17]&255)<<8,this.pad[1]=K[18]&255|(K[19]&255)<<8,this.pad[2]=K[20]&255|(K[21]&255)<<8,this.pad[3]=K[22]&255|(K[23]&255)<<8,this.pad[4]=K[24]&255|(K[25]&255)<<8,this.pad[5]=K[26]&255|(K[27]&255)<<8,this.pad[6]=K[28]&255|(K[29]&255)<<8,this.pad[7]=K[30]&255|(K[31]&255)<<8};k.prototype.blocks=function(K,J,V){for(var L=this.fin?0:2048,Z,fe,ye,Ie,We,ut,rt,sn,Ze,qt,Ut,Xt,Bt,jt,Ct,Jt,dt,At,Ye,st=this.h[0],xt=this.h[1],ft=this.h[2],ke=this.h[3],Re=this.h[4],qe=this.h[5],q=this.h[6],ne=this.h[7],Q=this.h[8],pe=this.h[9],ve=this.r[0],ge=this.r[1],Pe=this.r[2],re=this.r[3],$e=this.r[4],Ue=this.r[5],ze=this.r[6],Qe=this.r[7],wt=this.r[8],Tt=this.r[9];V>=16;)Z=K[J+0]&255|(K[J+1]&255)<<8,st+=Z&8191,fe=K[J+2]&255|(K[J+3]&255)<<8,xt+=(Z>>>13|fe<<3)&8191,ye=K[J+4]&255|(K[J+5]&255)<<8,ft+=(fe>>>10|ye<<6)&8191,Ie=K[J+6]&255|(K[J+7]&255)<<8,ke+=(ye>>>7|Ie<<9)&8191,We=K[J+8]&255|(K[J+9]&255)<<8,Re+=(Ie>>>4|We<<12)&8191,qe+=We>>>1&8191,ut=K[J+10]&255|(K[J+11]&255)<<8,q+=(We>>>14|ut<<2)&8191,rt=K[J+12]&255|(K[J+13]&255)<<8,ne+=(ut>>>11|rt<<5)&8191,sn=K[J+14]&255|(K[J+15]&255)<<8,Q+=(rt>>>8|sn<<8)&8191,pe+=sn>>>5|L,Ze=0,qt=Ze,qt+=st*ve,qt+=xt*(5*Tt),qt+=ft*(5*wt),qt+=ke*(5*Qe),qt+=Re*(5*ze),Ze=qt>>>13,qt&=8191,qt+=qe*(5*Ue),qt+=q*(5*$e),qt+=ne*(5*re),qt+=Q*(5*Pe),qt+=pe*(5*ge),Ze+=qt>>>13,qt&=8191,Ut=Ze,Ut+=st*ge,Ut+=xt*ve,Ut+=ft*(5*Tt),Ut+=ke*(5*wt),Ut+=Re*(5*Qe),Ze=Ut>>>13,Ut&=8191,Ut+=qe*(5*ze),Ut+=q*(5*Ue),Ut+=ne*(5*$e),Ut+=Q*(5*re),Ut+=pe*(5*Pe),Ze+=Ut>>>13,Ut&=8191,Xt=Ze,Xt+=st*Pe,Xt+=xt*ge,Xt+=ft*ve,Xt+=ke*(5*Tt),Xt+=Re*(5*wt),Ze=Xt>>>13,Xt&=8191,Xt+=qe*(5*Qe),Xt+=q*(5*ze),Xt+=ne*(5*Ue),Xt+=Q*(5*$e),Xt+=pe*(5*re),Ze+=Xt>>>13,Xt&=8191,Bt=Ze,Bt+=st*re,Bt+=xt*Pe,Bt+=ft*ge,Bt+=ke*ve,Bt+=Re*(5*Tt),Ze=Bt>>>13,Bt&=8191,Bt+=qe*(5*wt),Bt+=q*(5*Qe),Bt+=ne*(5*ze),Bt+=Q*(5*Ue),Bt+=pe*(5*$e),Ze+=Bt>>>13,Bt&=8191,jt=Ze,jt+=st*$e,jt+=xt*re,jt+=ft*Pe,jt+=ke*ge,jt+=Re*ve,Ze=jt>>>13,jt&=8191,jt+=qe*(5*Tt),jt+=q*(5*wt),jt+=ne*(5*Qe),jt+=Q*(5*ze),jt+=pe*(5*Ue),Ze+=jt>>>13,jt&=8191,Ct=Ze,Ct+=st*Ue,Ct+=xt*$e,Ct+=ft*re,Ct+=ke*Pe,Ct+=Re*ge,Ze=Ct>>>13,Ct&=8191,Ct+=qe*ve,Ct+=q*(5*Tt),Ct+=ne*(5*wt),Ct+=Q*(5*Qe),Ct+=pe*(5*ze),Ze+=Ct>>>13,Ct&=8191,Jt=Ze,Jt+=st*ze,Jt+=xt*Ue,Jt+=ft*$e,Jt+=ke*re,Jt+=Re*Pe,Ze=Jt>>>13,Jt&=8191,Jt+=qe*ge,Jt+=q*ve,Jt+=ne*(5*Tt),Jt+=Q*(5*wt),Jt+=pe*(5*Qe),Ze+=Jt>>>13,Jt&=8191,dt=Ze,dt+=st*Qe,dt+=xt*ze,dt+=ft*Ue,dt+=ke*$e,dt+=Re*re,Ze=dt>>>13,dt&=8191,dt+=qe*Pe,dt+=q*ge,dt+=ne*ve,dt+=Q*(5*Tt),dt+=pe*(5*wt),Ze+=dt>>>13,dt&=8191,At=Ze,At+=st*wt,At+=xt*Qe,At+=ft*ze,At+=ke*Ue,At+=Re*$e,Ze=At>>>13,At&=8191,At+=qe*re,At+=q*Pe,At+=ne*ge,At+=Q*ve,At+=pe*(5*Tt),Ze+=At>>>13,At&=8191,Ye=Ze,Ye+=st*Tt,Ye+=xt*wt,Ye+=ft*Qe,Ye+=ke*ze,Ye+=Re*Ue,Ze=Ye>>>13,Ye&=8191,Ye+=qe*$e,Ye+=q*re,Ye+=ne*Pe,Ye+=Q*ge,Ye+=pe*ve,Ze+=Ye>>>13,Ye&=8191,Ze=(Ze<<2)+Ze|0,Ze=Ze+qt|0,qt=Ze&8191,Ze=Ze>>>13,Ut+=Ze,st=qt,xt=Ut,ft=Xt,ke=Bt,Re=jt,qe=Ct,q=Jt,ne=dt,Q=At,pe=Ye,J+=16,V-=16;this.h[0]=st,this.h[1]=xt,this.h[2]=ft,this.h[3]=ke,this.h[4]=Re,this.h[5]=qe,this.h[6]=q,this.h[7]=ne,this.h[8]=Q,this.h[9]=pe},k.prototype.finish=function(K,J){var V=new Uint16Array(10),L,Z,fe,ye;if(this.leftover){for(ye=this.leftover,this.buffer[ye++]=1;ye<16;ye++)this.buffer[ye]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(L=this.h[1]>>>13,this.h[1]&=8191,ye=2;ye<10;ye++)this.h[ye]+=L,L=this.h[ye]>>>13,this.h[ye]&=8191;for(this.h[0]+=L*5,L=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=L,L=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=L,V[0]=this.h[0]+5,L=V[0]>>>13,V[0]&=8191,ye=1;ye<10;ye++)V[ye]=this.h[ye]+L,L=V[ye]>>>13,V[ye]&=8191;for(V[9]-=8192,Z=(L^1)-1,ye=0;ye<10;ye++)V[ye]&=Z;for(Z=~Z,ye=0;ye<10;ye++)this.h[ye]=this.h[ye]&Z|V[ye];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,fe=this.h[0]+this.pad[0],this.h[0]=fe&65535,ye=1;ye<8;ye++)fe=(this.h[ye]+this.pad[ye]|0)+(fe>>>16)|0,this.h[ye]=fe&65535;K[J+0]=this.h[0]>>>0&255,K[J+1]=this.h[0]>>>8&255,K[J+2]=this.h[1]>>>0&255,K[J+3]=this.h[1]>>>8&255,K[J+4]=this.h[2]>>>0&255,K[J+5]=this.h[2]>>>8&255,K[J+6]=this.h[3]>>>0&255,K[J+7]=this.h[3]>>>8&255,K[J+8]=this.h[4]>>>0&255,K[J+9]=this.h[4]>>>8&255,K[J+10]=this.h[5]>>>0&255,K[J+11]=this.h[5]>>>8&255,K[J+12]=this.h[6]>>>0&255,K[J+13]=this.h[6]>>>8&255,K[J+14]=this.h[7]>>>0&255,K[J+15]=this.h[7]>>>8&255},k.prototype.update=function(K,J,V){var L,Z;if(this.leftover){for(Z=16-this.leftover,Z>V&&(Z=V),L=0;L<Z;L++)this.buffer[this.leftover+L]=K[J+L];if(V-=Z,J+=Z,this.leftover+=Z,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(V>=16&&(Z=V-V%16,this.blocks(K,J,Z),J+=Z,V-=Z),V){for(L=0;L<V;L++)this.buffer[this.leftover+L]=K[J+L];this.leftover+=V}};function U(K,J,V,L,Z,fe){var ye=new k(fe);return ye.update(V,L,Z),ye.finish(K,J),0}function H(K,J,V,L,Z,fe){var ye=new Uint8Array(16);return U(ye,0,V,L,Z,fe),w(K,J,ye,0)}function F(K,J,V,L,Z){var fe;if(V<32)return-1;for(D(K,0,J,0,V,L,Z),U(K,16,K,32,V-32,K),fe=0;fe<16;fe++)K[fe]=0;return 0}function P(K,J,V,L,Z){var fe,ye=new Uint8Array(32);if(V<32||(A(ye,0,32,L,Z),H(J,16,J,32,V-32,ye)!==0))return-1;for(D(K,0,J,0,V,L,Z),fe=0;fe<32;fe++)K[fe]=0;return 0}function I(K,J){var V;for(V=0;V<16;V++)K[V]=J[V]|0}function $(K){var J,V,L=1;for(J=0;J<16;J++)V=K[J]+L+65535,L=Math.floor(V/65536),K[J]=V-L*65536;K[0]+=L-1+37*(L-1)}function W(K,J,V){for(var L,Z=~(V-1),fe=0;fe<16;fe++)L=Z&(K[fe]^J[fe]),K[fe]^=L,J[fe]^=L}function X(K,J){var V,L,Z,fe=n(),ye=n();for(V=0;V<16;V++)ye[V]=J[V];for($(ye),$(ye),$(ye),L=0;L<2;L++){for(fe[0]=ye[0]-65517,V=1;V<15;V++)fe[V]=ye[V]-65535-(fe[V-1]>>16&1),fe[V-1]&=65535;fe[15]=ye[15]-32767-(fe[14]>>16&1),Z=fe[15]>>16&1,fe[14]&=65535,W(ye,fe,1-Z)}for(V=0;V<16;V++)K[2*V]=ye[V]&255,K[2*V+1]=ye[V]>>8}function j(K,J){var V=new Uint8Array(32),L=new Uint8Array(32);return X(V,K),X(L,J),C(V,0,L,0)}function G(K){var J=new Uint8Array(32);return X(J,K),J[0]&1}function ae(K,J){var V;for(V=0;V<16;V++)K[V]=J[2*V]+(J[2*V+1]<<8);K[15]&=32767}function ce(K,J,V){for(var L=0;L<16;L++)K[L]=J[L]+V[L]}function oe(K,J,V){for(var L=0;L<16;L++)K[L]=J[L]-V[L]}function Ce(K,J,V){var L,Z,fe=0,ye=0,Ie=0,We=0,ut=0,rt=0,sn=0,Ze=0,qt=0,Ut=0,Xt=0,Bt=0,jt=0,Ct=0,Jt=0,dt=0,At=0,Ye=0,st=0,xt=0,ft=0,ke=0,Re=0,qe=0,q=0,ne=0,Q=0,pe=0,ve=0,ge=0,Pe=0,re=V[0],$e=V[1],Ue=V[2],ze=V[3],Qe=V[4],wt=V[5],Tt=V[6],tn=V[7],nn=V[8],dn=V[9],$n=V[10],pr=V[11],Fr=V[12],ci=V[13],li=V[14],ji=V[15];L=J[0],fe+=L*re,ye+=L*$e,Ie+=L*Ue,We+=L*ze,ut+=L*Qe,rt+=L*wt,sn+=L*Tt,Ze+=L*tn,qt+=L*nn,Ut+=L*dn,Xt+=L*$n,Bt+=L*pr,jt+=L*Fr,Ct+=L*ci,Jt+=L*li,dt+=L*ji,L=J[1],ye+=L*re,Ie+=L*$e,We+=L*Ue,ut+=L*ze,rt+=L*Qe,sn+=L*wt,Ze+=L*Tt,qt+=L*tn,Ut+=L*nn,Xt+=L*dn,Bt+=L*$n,jt+=L*pr,Ct+=L*Fr,Jt+=L*ci,dt+=L*li,At+=L*ji,L=J[2],Ie+=L*re,We+=L*$e,ut+=L*Ue,rt+=L*ze,sn+=L*Qe,Ze+=L*wt,qt+=L*Tt,Ut+=L*tn,Xt+=L*nn,Bt+=L*dn,jt+=L*$n,Ct+=L*pr,Jt+=L*Fr,dt+=L*ci,At+=L*li,Ye+=L*ji,L=J[3],We+=L*re,ut+=L*$e,rt+=L*Ue,sn+=L*ze,Ze+=L*Qe,qt+=L*wt,Ut+=L*Tt,Xt+=L*tn,Bt+=L*nn,jt+=L*dn,Ct+=L*$n,Jt+=L*pr,dt+=L*Fr,At+=L*ci,Ye+=L*li,st+=L*ji,L=J[4],ut+=L*re,rt+=L*$e,sn+=L*Ue,Ze+=L*ze,qt+=L*Qe,Ut+=L*wt,Xt+=L*Tt,Bt+=L*tn,jt+=L*nn,Ct+=L*dn,Jt+=L*$n,dt+=L*pr,At+=L*Fr,Ye+=L*ci,st+=L*li,xt+=L*ji,L=J[5],rt+=L*re,sn+=L*$e,Ze+=L*Ue,qt+=L*ze,Ut+=L*Qe,Xt+=L*wt,Bt+=L*Tt,jt+=L*tn,Ct+=L*nn,Jt+=L*dn,dt+=L*$n,At+=L*pr,Ye+=L*Fr,st+=L*ci,xt+=L*li,ft+=L*ji,L=J[6],sn+=L*re,Ze+=L*$e,qt+=L*Ue,Ut+=L*ze,Xt+=L*Qe,Bt+=L*wt,jt+=L*Tt,Ct+=L*tn,Jt+=L*nn,dt+=L*dn,At+=L*$n,Ye+=L*pr,st+=L*Fr,xt+=L*ci,ft+=L*li,ke+=L*ji,L=J[7],Ze+=L*re,qt+=L*$e,Ut+=L*Ue,Xt+=L*ze,Bt+=L*Qe,jt+=L*wt,Ct+=L*Tt,Jt+=L*tn,dt+=L*nn,At+=L*dn,Ye+=L*$n,st+=L*pr,xt+=L*Fr,ft+=L*ci,ke+=L*li,Re+=L*ji,L=J[8],qt+=L*re,Ut+=L*$e,Xt+=L*Ue,Bt+=L*ze,jt+=L*Qe,Ct+=L*wt,Jt+=L*Tt,dt+=L*tn,At+=L*nn,Ye+=L*dn,st+=L*$n,xt+=L*pr,ft+=L*Fr,ke+=L*ci,Re+=L*li,qe+=L*ji,L=J[9],Ut+=L*re,Xt+=L*$e,Bt+=L*Ue,jt+=L*ze,Ct+=L*Qe,Jt+=L*wt,dt+=L*Tt,At+=L*tn,Ye+=L*nn,st+=L*dn,xt+=L*$n,ft+=L*pr,ke+=L*Fr,Re+=L*ci,qe+=L*li,q+=L*ji,L=J[10],Xt+=L*re,Bt+=L*$e,jt+=L*Ue,Ct+=L*ze,Jt+=L*Qe,dt+=L*wt,At+=L*Tt,Ye+=L*tn,st+=L*nn,xt+=L*dn,ft+=L*$n,ke+=L*pr,Re+=L*Fr,qe+=L*ci,q+=L*li,ne+=L*ji,L=J[11],Bt+=L*re,jt+=L*$e,Ct+=L*Ue,Jt+=L*ze,dt+=L*Qe,At+=L*wt,Ye+=L*Tt,st+=L*tn,xt+=L*nn,ft+=L*dn,ke+=L*$n,Re+=L*pr,qe+=L*Fr,q+=L*ci,ne+=L*li,Q+=L*ji,L=J[12],jt+=L*re,Ct+=L*$e,Jt+=L*Ue,dt+=L*ze,At+=L*Qe,Ye+=L*wt,st+=L*Tt,xt+=L*tn,ft+=L*nn,ke+=L*dn,Re+=L*$n,qe+=L*pr,q+=L*Fr,ne+=L*ci,Q+=L*li,pe+=L*ji,L=J[13],Ct+=L*re,Jt+=L*$e,dt+=L*Ue,At+=L*ze,Ye+=L*Qe,st+=L*wt,xt+=L*Tt,ft+=L*tn,ke+=L*nn,Re+=L*dn,qe+=L*$n,q+=L*pr,ne+=L*Fr,Q+=L*ci,pe+=L*li,ve+=L*ji,L=J[14],Jt+=L*re,dt+=L*$e,At+=L*Ue,Ye+=L*ze,st+=L*Qe,xt+=L*wt,ft+=L*Tt,ke+=L*tn,Re+=L*nn,qe+=L*dn,q+=L*$n,ne+=L*pr,Q+=L*Fr,pe+=L*ci,ve+=L*li,ge+=L*ji,L=J[15],dt+=L*re,At+=L*$e,Ye+=L*Ue,st+=L*ze,xt+=L*Qe,ft+=L*wt,ke+=L*Tt,Re+=L*tn,qe+=L*nn,q+=L*dn,ne+=L*$n,Q+=L*pr,pe+=L*Fr,ve+=L*ci,ge+=L*li,Pe+=L*ji,fe+=38*At,ye+=38*Ye,Ie+=38*st,We+=38*xt,ut+=38*ft,rt+=38*ke,sn+=38*Re,Ze+=38*qe,qt+=38*q,Ut+=38*ne,Xt+=38*Q,Bt+=38*pe,jt+=38*ve,Ct+=38*ge,Jt+=38*Pe,Z=1,L=fe+Z+65535,Z=Math.floor(L/65536),fe=L-Z*65536,L=ye+Z+65535,Z=Math.floor(L/65536),ye=L-Z*65536,L=Ie+Z+65535,Z=Math.floor(L/65536),Ie=L-Z*65536,L=We+Z+65535,Z=Math.floor(L/65536),We=L-Z*65536,L=ut+Z+65535,Z=Math.floor(L/65536),ut=L-Z*65536,L=rt+Z+65535,Z=Math.floor(L/65536),rt=L-Z*65536,L=sn+Z+65535,Z=Math.floor(L/65536),sn=L-Z*65536,L=Ze+Z+65535,Z=Math.floor(L/65536),Ze=L-Z*65536,L=qt+Z+65535,Z=Math.floor(L/65536),qt=L-Z*65536,L=Ut+Z+65535,Z=Math.floor(L/65536),Ut=L-Z*65536,L=Xt+Z+65535,Z=Math.floor(L/65536),Xt=L-Z*65536,L=Bt+Z+65535,Z=Math.floor(L/65536),Bt=L-Z*65536,L=jt+Z+65535,Z=Math.floor(L/65536),jt=L-Z*65536,L=Ct+Z+65535,Z=Math.floor(L/65536),Ct=L-Z*65536,L=Jt+Z+65535,Z=Math.floor(L/65536),Jt=L-Z*65536,L=dt+Z+65535,Z=Math.floor(L/65536),dt=L-Z*65536,fe+=Z-1+37*(Z-1),Z=1,L=fe+Z+65535,Z=Math.floor(L/65536),fe=L-Z*65536,L=ye+Z+65535,Z=Math.floor(L/65536),ye=L-Z*65536,L=Ie+Z+65535,Z=Math.floor(L/65536),Ie=L-Z*65536,L=We+Z+65535,Z=Math.floor(L/65536),We=L-Z*65536,L=ut+Z+65535,Z=Math.floor(L/65536),ut=L-Z*65536,L=rt+Z+65535,Z=Math.floor(L/65536),rt=L-Z*65536,L=sn+Z+65535,Z=Math.floor(L/65536),sn=L-Z*65536,L=Ze+Z+65535,Z=Math.floor(L/65536),Ze=L-Z*65536,L=qt+Z+65535,Z=Math.floor(L/65536),qt=L-Z*65536,L=Ut+Z+65535,Z=Math.floor(L/65536),Ut=L-Z*65536,L=Xt+Z+65535,Z=Math.floor(L/65536),Xt=L-Z*65536,L=Bt+Z+65535,Z=Math.floor(L/65536),Bt=L-Z*65536,L=jt+Z+65535,Z=Math.floor(L/65536),jt=L-Z*65536,L=Ct+Z+65535,Z=Math.floor(L/65536),Ct=L-Z*65536,L=Jt+Z+65535,Z=Math.floor(L/65536),Jt=L-Z*65536,L=dt+Z+65535,Z=Math.floor(L/65536),dt=L-Z*65536,fe+=Z-1+37*(Z-1),K[0]=fe,K[1]=ye,K[2]=Ie,K[3]=We,K[4]=ut,K[5]=rt,K[6]=sn,K[7]=Ze,K[8]=qt,K[9]=Ut,K[10]=Xt,K[11]=Bt,K[12]=jt,K[13]=Ct,K[14]=Jt,K[15]=dt}function Ae(K,J){Ce(K,J,J)}function ue(K,J){var V=n(),L;for(L=0;L<16;L++)V[L]=J[L];for(L=253;L>=0;L--)Ae(V,V),L!==2&&L!==4&&Ce(V,V,J);for(L=0;L<16;L++)K[L]=V[L]}function Y(K,J){var V=n(),L;for(L=0;L<16;L++)V[L]=J[L];for(L=250;L>=0;L--)Ae(V,V),L!==1&&Ce(V,V,J);for(L=0;L<16;L++)K[L]=V[L]}function ee(K,J,V){var L=new Uint8Array(32),Z=new Float64Array(80),fe,ye,Ie=n(),We=n(),ut=n(),rt=n(),sn=n(),Ze=n();for(ye=0;ye<31;ye++)L[ye]=J[ye];for(L[31]=J[31]&127|64,L[0]&=248,ae(Z,V),ye=0;ye<16;ye++)We[ye]=Z[ye],rt[ye]=Ie[ye]=ut[ye]=0;for(Ie[0]=rt[0]=1,ye=254;ye>=0;--ye)fe=L[ye>>>3]>>>(ye&7)&1,W(Ie,We,fe),W(ut,rt,fe),ce(sn,Ie,ut),oe(Ie,Ie,ut),ce(ut,We,rt),oe(We,We,rt),Ae(rt,sn),Ae(Ze,Ie),Ce(Ie,ut,Ie),Ce(ut,We,sn),ce(sn,Ie,ut),oe(Ie,Ie,ut),Ae(We,Ie),oe(ut,rt,Ze),Ce(Ie,ut,c),ce(Ie,Ie,rt),Ce(ut,ut,Ie),Ce(Ie,rt,Ze),Ce(rt,We,Z),Ae(We,sn),W(Ie,We,fe),W(ut,rt,fe);for(ye=0;ye<16;ye++)Z[ye+16]=Ie[ye],Z[ye+32]=ut[ye],Z[ye+48]=We[ye],Z[ye+64]=rt[ye];var qt=Z.subarray(32),Ut=Z.subarray(16);return ue(qt,qt),Ce(Ut,Ut,qt),X(K,Ut),0}function B(K,J){return ee(K,J,s)}function te(K,J){return r(J,32),B(K,J)}function we(K,J,V){var L=new Uint8Array(32);return ee(L,V,J),S(K,i,L,E)}var Ne=F,Fe=P;function Ve(K,J,V,L,Z,fe){var ye=new Uint8Array(32);return we(ye,Z,fe),Ne(K,J,V,L,ye)}function Et(K,J,V,L,Z,fe){var ye=new Uint8Array(32);return we(ye,Z,fe),Fe(K,J,V,L,ye)}var Nt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function at(K,J,V,L){for(var Z=new Int32Array(16),fe=new Int32Array(16),ye,Ie,We,ut,rt,sn,Ze,qt,Ut,Xt,Bt,jt,Ct,Jt,dt,At,Ye,st,xt,ft,ke,Re,qe,q,ne,Q,pe=K[0],ve=K[1],ge=K[2],Pe=K[3],re=K[4],$e=K[5],Ue=K[6],ze=K[7],Qe=J[0],wt=J[1],Tt=J[2],tn=J[3],nn=J[4],dn=J[5],$n=J[6],pr=J[7],Fr=0;L>=128;){for(xt=0;xt<16;xt++)ft=8*xt+Fr,Z[xt]=V[ft+0]<<24|V[ft+1]<<16|V[ft+2]<<8|V[ft+3],fe[xt]=V[ft+4]<<24|V[ft+5]<<16|V[ft+6]<<8|V[ft+7];for(xt=0;xt<80;xt++)if(ye=pe,Ie=ve,We=ge,ut=Pe,rt=re,sn=$e,Ze=Ue,qt=ze,Ut=Qe,Xt=wt,Bt=Tt,jt=tn,Ct=nn,Jt=dn,dt=$n,At=pr,ke=ze,Re=pr,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=(re>>>14|nn<<18)^(re>>>18|nn<<14)^(nn>>>9|re<<23),Re=(nn>>>14|re<<18)^(nn>>>18|re<<14)^(re>>>9|nn<<23),qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,ke=re&$e^~re&Ue,Re=nn&dn^~nn&$n,qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,ke=Nt[xt*2],Re=Nt[xt*2+1],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,ke=Z[xt%16],Re=fe[xt%16],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,Ye=ne&65535|Q<<16,st=qe&65535|q<<16,ke=Ye,Re=st,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=(pe>>>28|Qe<<4)^(Qe>>>2|pe<<30)^(Qe>>>7|pe<<25),Re=(Qe>>>28|pe<<4)^(pe>>>2|Qe<<30)^(pe>>>7|Qe<<25),qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,ke=pe&ve^pe&ge^ve&ge,Re=Qe&wt^Qe&Tt^wt&Tt,qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,qt=ne&65535|Q<<16,At=qe&65535|q<<16,ke=ut,Re=jt,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=Ye,Re=st,qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,ut=ne&65535|Q<<16,jt=qe&65535|q<<16,ve=ye,ge=Ie,Pe=We,re=ut,$e=rt,Ue=sn,ze=Ze,pe=qt,wt=Ut,Tt=Xt,tn=Bt,nn=jt,dn=Ct,$n=Jt,pr=dt,Qe=At,xt%16===15)for(ft=0;ft<16;ft++)ke=Z[ft],Re=fe[ft],qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=Z[(ft+9)%16],Re=fe[(ft+9)%16],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,Ye=Z[(ft+1)%16],st=fe[(ft+1)%16],ke=(Ye>>>1|st<<31)^(Ye>>>8|st<<24)^Ye>>>7,Re=(st>>>1|Ye<<31)^(st>>>8|Ye<<24)^(st>>>7|Ye<<25),qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,Ye=Z[(ft+14)%16],st=fe[(ft+14)%16],ke=(Ye>>>19|st<<13)^(st>>>29|Ye<<3)^Ye>>>6,Re=(st>>>19|Ye<<13)^(Ye>>>29|st<<3)^(st>>>6|Ye<<26),qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,Z[ft]=ne&65535|Q<<16,fe[ft]=qe&65535|q<<16;ke=pe,Re=Qe,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[0],Re=J[0],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[0]=pe=ne&65535|Q<<16,J[0]=Qe=qe&65535|q<<16,ke=ve,Re=wt,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[1],Re=J[1],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[1]=ve=ne&65535|Q<<16,J[1]=wt=qe&65535|q<<16,ke=ge,Re=Tt,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[2],Re=J[2],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[2]=ge=ne&65535|Q<<16,J[2]=Tt=qe&65535|q<<16,ke=Pe,Re=tn,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[3],Re=J[3],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[3]=Pe=ne&65535|Q<<16,J[3]=tn=qe&65535|q<<16,ke=re,Re=nn,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[4],Re=J[4],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[4]=re=ne&65535|Q<<16,J[4]=nn=qe&65535|q<<16,ke=$e,Re=dn,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[5],Re=J[5],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[5]=$e=ne&65535|Q<<16,J[5]=dn=qe&65535|q<<16,ke=Ue,Re=$n,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[6],Re=J[6],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[6]=Ue=ne&65535|Q<<16,J[6]=$n=qe&65535|q<<16,ke=ze,Re=pr,qe=Re&65535,q=Re>>>16,ne=ke&65535,Q=ke>>>16,ke=K[7],Re=J[7],qe+=Re&65535,q+=Re>>>16,ne+=ke&65535,Q+=ke>>>16,q+=qe>>>16,ne+=q>>>16,Q+=ne>>>16,K[7]=ze=ne&65535|Q<<16,J[7]=pr=qe&65535|q<<16,Fr+=128,L-=128}return L}function Kt(K,J,V){var L=new Int32Array(8),Z=new Int32Array(8),fe=new Uint8Array(256),ye,Ie=V;for(L[0]=1779033703,L[1]=3144134277,L[2]=1013904242,L[3]=2773480762,L[4]=1359893119,L[5]=2600822924,L[6]=528734635,L[7]=1541459225,Z[0]=4089235720,Z[1]=2227873595,Z[2]=4271175723,Z[3]=1595750129,Z[4]=2917565137,Z[5]=725511199,Z[6]=4215389547,Z[7]=327033209,at(L,Z,J,V),V%=128,ye=0;ye<V;ye++)fe[ye]=J[Ie-V+ye];for(fe[V]=128,V=256-128*(V<112?1:0),fe[V-9]=0,y(fe,V-8,Ie/536870912|0,Ie<<3),at(L,Z,fe,V),ye=0;ye<8;ye++)y(K,8*ye,L[ye],Z[ye]);return 0}function en(K,J){var V=n(),L=n(),Z=n(),fe=n(),ye=n(),Ie=n(),We=n(),ut=n(),rt=n();oe(V,K[1],K[0]),oe(rt,J[1],J[0]),Ce(V,V,rt),ce(L,K[0],K[1]),ce(rt,J[0],J[1]),Ce(L,L,rt),Ce(Z,K[3],J[3]),Ce(Z,Z,d),Ce(fe,K[2],J[2]),ce(fe,fe,fe),oe(ye,L,V),oe(Ie,fe,Z),ce(We,fe,Z),ce(ut,L,V),Ce(K[0],ye,Ie),Ce(K[1],ut,We),Ce(K[2],We,Ie),Ce(K[3],ye,ut)}function ln(K,J,V){var L;for(L=0;L<4;L++)W(K[L],J[L],V)}function Gt(K,J){var V=n(),L=n(),Z=n();ue(Z,J[2]),Ce(V,J[0],Z),Ce(L,J[1],Z),X(K,L),K[31]^=G(V)<<7}function Wt(K,J,V){var L,Z;for(I(K[0],o),I(K[1],a),I(K[2],a),I(K[3],o),Z=255;Z>=0;--Z)L=V[Z/8|0]>>(Z&7)&1,ln(K,J,L),en(J,K),en(K,K),ln(K,J,L)}function Ht(K,J){var V=[n(),n(),n(),n()];I(V[0],h),I(V[1],p),I(V[2],a),Ce(V[3],h,p),Wt(K,V,J)}function pn(K,J,V){var L=new Uint8Array(64),Z=[n(),n(),n(),n()],fe;for(V||r(J,32),Kt(L,J,32),L[0]&=248,L[31]&=127,L[31]|=64,Ht(Z,L),Gt(K,Z),fe=0;fe<32;fe++)J[fe+32]=K[fe];return 0}var ct=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function yt(K,J){var V,L,Z,fe;for(L=63;L>=32;--L){for(V=0,Z=L-32,fe=L-12;Z<fe;++Z)J[Z]+=V-16*J[L]*ct[Z-(L-32)],V=Math.floor((J[Z]+128)/256),J[Z]-=V*256;J[Z]+=V,J[L]=0}for(V=0,Z=0;Z<32;Z++)J[Z]+=V-(J[31]>>4)*ct[Z],V=J[Z]>>8,J[Z]&=255;for(Z=0;Z<32;Z++)J[Z]-=V*ct[Z];for(L=0;L<32;L++)J[L+1]+=J[L]>>8,K[L]=J[L]&255}function vt(K){var J=new Float64Array(64),V;for(V=0;V<64;V++)J[V]=K[V];for(V=0;V<64;V++)K[V]=0;yt(K,J)}function zt(K,J,V,L){var Z=new Uint8Array(64),fe=new Uint8Array(64),ye=new Uint8Array(64),Ie,We,ut=new Float64Array(64),rt=[n(),n(),n(),n()];Kt(Z,L,32),Z[0]&=248,Z[31]&=127,Z[31]|=64;var sn=V+64;for(Ie=0;Ie<V;Ie++)K[64+Ie]=J[Ie];for(Ie=0;Ie<32;Ie++)K[32+Ie]=Z[32+Ie];for(Kt(ye,K.subarray(32),V+32),vt(ye),Ht(rt,ye),Gt(K,rt),Ie=32;Ie<64;Ie++)K[Ie]=L[Ie];for(Kt(fe,K,V+64),vt(fe),Ie=0;Ie<64;Ie++)ut[Ie]=0;for(Ie=0;Ie<32;Ie++)ut[Ie]=ye[Ie];for(Ie=0;Ie<32;Ie++)for(We=0;We<32;We++)ut[Ie+We]+=fe[Ie]*Z[We];return yt(K.subarray(32),ut),sn}function In(K,J){var V=n(),L=n(),Z=n(),fe=n(),ye=n(),Ie=n(),We=n();return I(K[2],a),ae(K[1],J),Ae(Z,K[1]),Ce(fe,Z,u),oe(Z,Z,K[2]),ce(fe,K[2],fe),Ae(ye,fe),Ae(Ie,ye),Ce(We,Ie,ye),Ce(V,We,Z),Ce(V,V,fe),Y(V,V),Ce(V,V,Z),Ce(V,V,fe),Ce(V,V,fe),Ce(K[0],V,fe),Ae(L,K[0]),Ce(L,L,fe),j(L,Z)&&Ce(K[0],K[0],m),Ae(L,K[0]),Ce(L,L,fe),j(L,Z)?-1:(G(K[0])===J[31]>>7&&oe(K[0],o,K[0]),Ce(K[3],K[0],K[1]),0)}function gn(K,J,V,L){var Z,fe=new Uint8Array(32),ye=new Uint8Array(64),Ie=[n(),n(),n(),n()],We=[n(),n(),n(),n()];if(V<64||In(We,L))return-1;for(Z=0;Z<V;Z++)K[Z]=J[Z];for(Z=0;Z<32;Z++)K[Z+32]=L[Z];if(Kt(ye,K,V),vt(ye),Wt(Ie,We,ye),Ht(We,J.subarray(32)),en(Ie,We),Gt(fe,Ie),V-=64,C(J,0,fe,0)){for(Z=0;Z<V;Z++)K[Z]=0;return-1}for(Z=0;Z<V;Z++)K[Z]=J[Z+64];return V}var Ft=32,_t=24,un=32,xr=16,Qn=32,Bn=32,ei=32,wi=32,Jr=32,Xi=_t,ks=un,Jn=xr,Rn=64,Dn=32,rr=64,Sr=32,me=64;t.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:D,crypto_stream:A,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:N,crypto_onetimeauth:U,crypto_onetimeauth_verify:H,crypto_verify_16:w,crypto_verify_32:C,crypto_secretbox:F,crypto_secretbox_open:P,crypto_scalarmult:ee,crypto_scalarmult_base:B,crypto_box_beforenm:we,crypto_box_afternm:Ne,crypto_box:Ve,crypto_box_open:Et,crypto_box_keypair:te,crypto_hash:Kt,crypto_sign:zt,crypto_sign_keypair:pn,crypto_sign_open:gn,crypto_secretbox_KEYBYTES:Ft,crypto_secretbox_NONCEBYTES:_t,crypto_secretbox_ZEROBYTES:un,crypto_secretbox_BOXZEROBYTES:xr,crypto_scalarmult_BYTES:Qn,crypto_scalarmult_SCALARBYTES:Bn,crypto_box_PUBLICKEYBYTES:ei,crypto_box_SECRETKEYBYTES:wi,crypto_box_BEFORENMBYTES:Jr,crypto_box_NONCEBYTES:Xi,crypto_box_ZEROBYTES:ks,crypto_box_BOXZEROBYTES:Jn,crypto_sign_BYTES:Rn,crypto_sign_PUBLICKEYBYTES:Dn,crypto_sign_SECRETKEYBYTES:rr,crypto_sign_SEEDBYTES:Sr,crypto_hash_BYTES:me,gf:n,D:u,L:ct,pack25519:X,unpack25519:ae,M:Ce,A:ce,S:Ae,Z:oe,pow2523:Y,add:en,set25519:I,modL:yt,scalarmult:Wt,scalarbase:Ht};function Ee(K,J){if(K.length!==Ft)throw new Error("bad key size");if(J.length!==_t)throw new Error("bad nonce size")}function Te(K,J){if(K.length!==ei)throw new Error("bad public key size");if(J.length!==wi)throw new Error("bad secret key size")}function je(){for(var K=0;K<arguments.length;K++)if(!(arguments[K]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ge(K){for(var J=0;J<K.length;J++)K[J]=0}t.randomBytes=function(K){var J=new Uint8Array(K);return r(J,K),J},t.secretbox=function(K,J,V){je(K,J,V),Ee(V,J);for(var L=new Uint8Array(un+K.length),Z=new Uint8Array(L.length),fe=0;fe<K.length;fe++)L[fe+un]=K[fe];return F(Z,L,L.length,J,V),Z.subarray(xr)},t.secretbox.open=function(K,J,V){je(K,J,V),Ee(V,J);for(var L=new Uint8Array(xr+K.length),Z=new Uint8Array(L.length),fe=0;fe<K.length;fe++)L[fe+xr]=K[fe];return L.length<32||P(Z,L,L.length,J,V)!==0?null:Z.subarray(un)},t.secretbox.keyLength=Ft,t.secretbox.nonceLength=_t,t.secretbox.overheadLength=xr,t.scalarMult=function(K,J){if(je(K,J),K.length!==Bn)throw new Error("bad n size");if(J.length!==Qn)throw new Error("bad p size");var V=new Uint8Array(Qn);return ee(V,K,J),V},t.scalarMult.base=function(K){if(je(K),K.length!==Bn)throw new Error("bad n size");var J=new Uint8Array(Qn);return B(J,K),J},t.scalarMult.scalarLength=Bn,t.scalarMult.groupElementLength=Qn,t.box=function(K,J,V,L){var Z=t.box.before(V,L);return t.secretbox(K,J,Z)},t.box.before=function(K,J){je(K,J),Te(K,J);var V=new Uint8Array(Jr);return we(V,K,J),V},t.box.after=t.secretbox,t.box.open=function(K,J,V,L){var Z=t.box.before(V,L);return t.secretbox.open(K,J,Z)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var K=new Uint8Array(ei),J=new Uint8Array(wi);return te(K,J),{publicKey:K,secretKey:J}},t.box.keyPair.fromSecretKey=function(K){if(je(K),K.length!==wi)throw new Error("bad secret key size");var J=new Uint8Array(ei);return B(J,K),{publicKey:J,secretKey:new Uint8Array(K)}},t.box.publicKeyLength=ei,t.box.secretKeyLength=wi,t.box.sharedKeyLength=Jr,t.box.nonceLength=Xi,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(K,J){if(je(K,J),J.length!==rr)throw new Error("bad secret key size");var V=new Uint8Array(Rn+K.length);return zt(V,K,K.length,J),V},t.sign.open=function(K,J){if(je(K,J),J.length!==Dn)throw new Error("bad public key size");var V=new Uint8Array(K.length),L=gn(V,K,K.length,J);if(L<0)return null;for(var Z=new Uint8Array(L),fe=0;fe<Z.length;fe++)Z[fe]=V[fe];return Z},t.sign.detached=function(K,J){for(var V=t.sign(K,J),L=new Uint8Array(Rn),Z=0;Z<L.length;Z++)L[Z]=V[Z];return L},t.sign.detached.verify=function(K,J,V){if(je(K,J,V),J.length!==Rn)throw new Error("bad signature size");if(V.length!==Dn)throw new Error("bad public key size");var L=new Uint8Array(Rn+K.length),Z=new Uint8Array(Rn+K.length),fe;for(fe=0;fe<Rn;fe++)L[fe]=J[fe];for(fe=0;fe<K.length;fe++)L[fe+Rn]=K[fe];return gn(Z,L,L.length,V)>=0},t.sign.keyPair=function(){var K=new Uint8Array(Dn),J=new Uint8Array(rr);return pn(K,J),{publicKey:K,secretKey:J}},t.sign.keyPair.fromSecretKey=function(K){if(je(K),K.length!==rr)throw new Error("bad secret key size");for(var J=new Uint8Array(Dn),V=0;V<J.length;V++)J[V]=K[32+V];return{publicKey:J,secretKey:new Uint8Array(K)}},t.sign.keyPair.fromSeed=function(K){if(je(K),K.length!==Sr)throw new Error("bad seed size");for(var J=new Uint8Array(Dn),V=new Uint8Array(rr),L=0;L<32;L++)V[L]=K[L];return pn(J,V,!0),{publicKey:J,secretKey:V}},t.sign.publicKeyLength=Dn,t.sign.secretKeyLength=rr,t.sign.seedLength=Sr,t.sign.signatureLength=Rn,t.hash=function(K){je(K);var J=new Uint8Array(me);return Kt(J,K,K.length),J},t.hash.hashLength=me,t.verify=function(K,J){return je(K,J),K.length===0||J.length===0||K.length!==J.length?!1:v(K,0,J,0,K.length)===0},t.setPRNG=function(K){r=K},function(){var K=typeof self<"u"?self.crypto||self.msCrypto:null;if(K&&K.getRandomValues){var J=65536;t.setPRNG(function(V,L){var Z,fe=new Uint8Array(L);for(Z=0;Z<L;Z+=J)K.getRandomValues(fe.subarray(Z,Z+Math.min(L-Z,J)));for(Z=0;Z<L;Z++)V[Z]=fe[Z];Ge(fe)})}else typeof rh<"u"&&(K=f5,K&&K.randomBytes&&t.setPRNG(function(V,L){var Z,fe=K.randomBytes(L);for(Z=0;Z<L;Z++)V[Z]=fe[Z];Ge(fe)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})}(RO)),RO.exports}var Km={},SE={exports:{}},Yue=SE.exports,lk;function Zue(){return lk||(lk=1,function(e){(function(t,n){e.exports?e.exports=n():(t.nacl||(t.nacl={}),t.nacl.util=n())})(Yue,function(){var t={};function n(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var i,s=unescape(encodeURIComponent(r)),o=new Uint8Array(s.length);for(i=0;i<s.length;i++)o[i]=s.charCodeAt(i);return o},t.encodeUTF8=function(r){var i,s=[];for(i=0;i<r.length;i++)s.push(String.fromCharCode(r[i]));return decodeURIComponent(escape(s.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(t.encodeBase64=function(r){return Buffer.from(r).toString("base64")},t.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(t.encodeBase64=function(r){return new Buffer(r).toString("base64")},t.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(t.encodeBase64=function(r){var i,s=[],o=r.length;for(i=0;i<o;i++)s.push(String.fromCharCode(r[i]));return btoa(s.join(""))},t.decodeBase64=function(r){n(r);var i,s=atob(r),o=new Uint8Array(s.length);for(i=0;i<s.length;i++)o[i]=s.charCodeAt(i);return o}),t})}(SE)),SE.exports}function Que(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,w=0,C=0,_=y.length;C!==_&&y[C]===0;)C++,v++;for(var O=(_-C)*d+1>>>0,R=new Uint8Array(O);C!==_;){for(var S=y[C],E=0,x=O-1;(S!==0||E<w)&&x!==-1;x--,E++)S+=256*R[x]>>>0,R[x]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");w=E,C++}for(var N=O-w;N!==O&&R[N]===0;)N++;for(var A=c.repeat(v);N<O;++N)A+=e.charAt(R[N]);return A}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var w=0,C=0;y[v]===c;)w++,v++;for(var _=(y.length-v)*u+1>>>0,O=new Uint8Array(_);y[v];){var R=n[y.charCodeAt(v)];if(R===255)return;for(var S=0,E=_-1;(R!==0||S<C)&&E!==-1;E--,S++)R+=a*O[E]>>>0,O[E]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");C=S,v++}if(y[v]!==" "){for(var x=_-C;x!==_&&O[x]===0;)x++;for(var N=new Uint8Array(w+(_-x)),A=w;x!==_;)N[A++]=O[x++];return N}}}function m(y){var v=p(y);if(v)return v;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:p,decode:m}}var ede=Que,tde=ede;const GH=new Uint8Array(0),nde=e=>e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),""),rde=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map(n=>parseInt(n,16))):GH},JH=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},Eg=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},ide=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),YH=e=>new TextEncoder().encode(e),ZH=e=>new TextDecoder().decode(e),sde=Object.freeze(Object.defineProperty({__proto__:null,coerce:Eg,empty:GH,equals:JH,fromHex:rde,fromString:YH,isBinary:ide,toHex:nde,toString:ZH},Symbol.toStringTag,{value:"Module"}));class ode{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ade{constructor(t,n,r){this.name=t,this.prefix=n,this.baseDecode=r}decode(t){if(typeof t=="string")switch(t[0]){case this.prefix:return this.baseDecode(t.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(t){const n={[this.prefix]:this,...t.decoders||{[t.prefix]:t}};return new h5(n)}}class h5{constructor(t){this.decoders=t}or(t){const n=t.decoders||{[t.prefix]:t};return new h5({...this.decoders,...n})}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class cde{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new ode(t,n,r),this.decoder=new ade(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const p5=({name:e,prefix:t,encode:n,decode:r})=>new cde(e,t,n,r),F1=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=tde(n,t);return p5({prefix:e,name:t,encode:r,decode:s=>Eg(i(s))})},lde=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let d=0;d<s;++d){const h=i[e[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},ude=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Rs=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>p5({prefix:t,name:e,encode(i){return ude(i,r,n)},decode(i){return lde(i,r,n,e)}}),dde=p5({prefix:"\0",name:"identity",encode:e=>ZH(e),decode:e=>YH(e)}),fde=Object.freeze(Object.defineProperty({__proto__:null,identity:dde},Symbol.toStringTag,{value:"Module"})),hde=Rs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),pde=Object.freeze(Object.defineProperty({__proto__:null,base2:hde},Symbol.toStringTag,{value:"Module"})),gde=Rs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),mde=Object.freeze(Object.defineProperty({__proto__:null,base8:gde},Symbol.toStringTag,{value:"Module"})),yde=F1({prefix:"9",name:"base10",alphabet:"0123456789"}),vde=Object.freeze(Object.defineProperty({__proto__:null,base10:yde},Symbol.toStringTag,{value:"Module"})),wde=Rs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bde=Rs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Ede=Object.freeze(Object.defineProperty({__proto__:null,base16:wde,base16upper:bde},Symbol.toStringTag,{value:"Module"})),Zy=Rs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_de=Rs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Cde=Rs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xde=Rs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Sde=Rs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ode=Rs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ade=Rs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Tde=Rs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Rde=Rs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Nde=Object.freeze(Object.defineProperty({__proto__:null,base32:Zy,base32hex:Sde,base32hexpad:Ade,base32hexpadupper:Tde,base32hexupper:Ode,base32pad:Cde,base32padupper:xde,base32upper:_de,base32z:Rde},Symbol.toStringTag,{value:"Module"})),Pde=F1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ide=F1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Dde=Object.freeze(Object.defineProperty({__proto__:null,base36:Pde,base36upper:Ide},Symbol.toStringTag,{value:"Module"})),Bl=F1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kde=F1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Mde=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Bl,base58flickr:kde},Symbol.toStringTag,{value:"Module"})),Lde=Rs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ude=Rs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Bde=Rs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$de=Rs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),jde=Object.freeze(Object.defineProperty({__proto__:null,base64:Lde,base64pad:Ude,base64url:Bde,base64urlpad:$de},Symbol.toStringTag,{value:"Module"}));var Fde=QH,uk=128,Kde=-128,Wde=Math.pow(2,31);function QH(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Wde;)t[n++]=e&255|uk,e/=128;for(;e&Kde;)t[n++]=e&255|uk,e>>>=7;return t[n]=e|0,QH.bytes=n-r+1,t}var Hde=E3,zde=128,dk=127;function E3(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw E3.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&dk)<<i:(o&dk)*Math.pow(2,i),i+=7}while(o>=zde);return E3.bytes=s-r,n}var qde=Math.pow(2,7),Vde=Math.pow(2,14),Xde=Math.pow(2,21),Gde=Math.pow(2,28),Jde=Math.pow(2,35),Yde=Math.pow(2,42),Zde=Math.pow(2,49),Qde=Math.pow(2,56),efe=Math.pow(2,63),tfe=function(e){return e<qde?1:e<Vde?2:e<Xde?3:e<Gde?4:e<Jde?5:e<Yde?6:e<Zde?7:e<Qde?8:e<efe?9:10},nfe={encode:Fde,decode:Hde,encodingLength:tfe},G_=nfe;const J_=e=>[G_.decode(e),G_.decode.bytes],Tv=(e,t,n=0)=>(G_.encode(e,t,n),t),Rv=e=>G_.encodingLength(e),rfe=Object.freeze(Object.defineProperty({__proto__:null,decode:J_,encodeTo:Tv,encodingLength:Rv},Symbol.toStringTag,{value:"Module"})),g5=(e,t)=>{const n=t.byteLength,r=Rv(e),i=r+Rv(n),s=new Uint8Array(i+n);return Tv(e,s,0),Tv(n,s,r),s.set(t,i),new QC(e,n,t,s)},ez=e=>{const t=Eg(e),[n,r]=J_(t),[i,s]=J_(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new QC(n,i,o,t)},tz=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&JH(e.bytes,t.bytes);class QC{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const ife=Object.freeze(Object.defineProperty({__proto__:null,Digest:QC,create:g5,decode:ez,equals:tz},Symbol.toStringTag,{value:"Module"})),e2=({name:e,code:t,encode:n})=>new nz(e,t,n);class nz{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}async digest(t){if(t instanceof Uint8Array){const n=await this.encode(t);return g5(this.code,n)}else throw Error("Unknown type, must be binary type")}}const sfe=Object.freeze(Object.defineProperty({__proto__:null,Hasher:nz,from:e2},Symbol.toStringTag,{value:"Module"})),rz=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ofe=e2({name:"sha2-256",code:18,encode:rz("SHA-256")}),afe=e2({name:"sha2-512",code:19,encode:rz("SHA-512")}),cfe=Object.freeze(Object.defineProperty({__proto__:null,sha256:ofe,sha512:afe},Symbol.toStringTag,{value:"Module"})),lfe=e2({name:"identity",code:0,encode:e=>Eg(e)}),ufe=Object.freeze(Object.defineProperty({__proto__:null,identity:lfe},Symbol.toStringTag,{value:"Module"})),fk=e=>Eg(e),{name:dfe,code:ffe,encode:hfe,decode:pfe}={name:"raw",code:85,decode:fk,encode:fk},gfe=Object.freeze(Object.defineProperty({__proto__:null,code:ffe,decode:pfe,encode:hfe,name:dfe},Symbol.toStringTag,{value:"Module"})),{name:mfe,code:yfe,encode:vfe,decode:wfe}={name:"json",code:512,encode:e=>new TextEncoder().encode(JSON.stringify(e)),decode:e=>JSON.parse(new TextDecoder().decode(e))},bfe=Object.freeze(Object.defineProperty({__proto__:null,code:yfe,decode:wfe,encode:vfe,name:mfe},Symbol.toStringTag,{value:"Module"}));class js{constructor(t,n,r,i){this.code=n,this.version=t,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Nb,byteLength:Nb,code:Rb,version:Rb,multihash:Rb,bytes:Rb,_baseCache:Nb,asCID:Nb})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:n}=this;if(t!==Wm)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==xfe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return js.createV0(n)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=g5(t,n);return js.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&tz(this.multihash,t.multihash)}toString(t){const{bytes:n,version:r,_baseCache:i}=this;switch(r){case 0:return _fe(n,i,t||Bl.encoder);default:return Cfe(n,i,t||Zy.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return Ofe(/^0\.0/,Afe),!!(t&&(t[pk]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof js)return t;if(t!=null&&t.asCID===t){const{version:n,code:r,multihash:i,bytes:s}=t;return new js(n,r,i,s||hk(n,r,i.bytes))}else if(t!=null&&t[pk]===!0){const{version:n,multihash:r,code:i}=t,s=ez(r);return js.create(n,i,s)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(n!==Wm)throw new Error(`Version 0 CID must use dag-pb (code: ${Wm}) block encoding`);return new js(t,n,r,r.bytes)}case 1:{const i=hk(t,n,r.bytes);return new js(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return js.create(0,Wm,t)}static createV1(t,n){return js.create(1,t,n)}static decode(t){const[n,r]=js.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=js.inspectBytes(t),r=n.size-n.multihashSize,i=Eg(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new QC(n.multihashCode,n.digestSize,s,i);return[n.version===0?js.createV0(o):js.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[h,p]=J_(t.subarray(n));return n+=p,h};let i=r(),s=Wm;if(i===18?(i=0,n=0):i===1&&(s=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),u=n+c,d=u-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:d,size:u}}static parse(t,n){const[r,i]=Efe(t,n),s=js.decode(i);return s._baseCache.set(r,t),s}}const Efe=(e,t)=>{switch(e[0]){case"Q":{const n=t||Bl;return[Bl.prefix,n.decode(`${Bl.prefix}${e}`)]}case Bl.prefix:{const n=t||Bl;return[Bl.prefix,n.decode(e)]}case Zy.prefix:{const n=t||Zy;return[Zy.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},_fe=(e,t,n)=>{const{prefix:r}=n;if(r!==Bl.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i},Cfe=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i},Wm=112,xfe=18,hk=(e,t,n)=>{const r=Rv(e),i=r+Rv(t),s=new Uint8Array(i+n.byteLength);return Tv(e,s,0),Tv(t,s,r),s.set(n,i),s},pk=Symbol.for("@ipld/js-cid/CID"),Rb={writable:!1,configurable:!1,enumerable:!0},Nb={writable:!1,enumerable:!1,configurable:!1},Sfe="0.0.0-dev",Ofe=(e,t)=>{if(e.test(Sfe))console.warn(t);else throw new Error(t)},Afe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,_3={...fde,...pde,...mde,...vde,...Ede,...Nde,...Dde,...Mde,...jde},Tfe={...cfe,...ufe},Rfe={raw:gfe,json:bfe},Nfe=Object.freeze(Object.defineProperty({__proto__:null,CID:js,bases:_3,bytes:sde,codecs:Rfe,digest:ife,hasher:sfe,hashes:Tfe,varint:rfe},Symbol.toStringTag,{value:"Module"}));function iz(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function sz(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const gk=sz("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),NO=sz("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=iz(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),oz={utf8:gk,"utf-8":gk,hex:_3.base16,latin1:NO,ascii:NO,binary:NO,..._3};function co(e,t="utf8"){const n=oz[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const Pfe=Object.freeze(Object.defineProperty({__proto__:null,toString:co},Symbol.toStringTag,{value:"Module"})),Ife=LC(Pfe);var PO={},Mn={},IO={},mk;function Dfe(){return mk||(mk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,c){var u=a>>>16&65535,d=a&65535,h=c>>>16&65535,p=c&65535;return d*p+(u*p+d*h<<16>>>0)|0}e.mul=Math.imul||t;function n(a,c){return a+c|0}e.add=n;function r(a,c){return a-c|0}e.sub=r;function i(a,c){return a<<c|a>>>32-c}e.rotl=i;function s(a,c){return a<<32-c|a>>>c}e.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}e.isInteger=Number.isInteger||o,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(a){return e.isInteger(a)&&a>=-e.MAX_SAFE_INTEGER&&a<=e.MAX_SAFE_INTEGER}}(IO)),IO}var yk;function m5(){if(yk)return Mn;yk=1,Object.defineProperty(Mn,"__esModule",{value:!0});var e=Dfe();function t(P,I){return I===void 0&&(I=0),(P[I+0]<<8|P[I+1])<<16>>16}Mn.readInt16BE=t;function n(P,I){return I===void 0&&(I=0),(P[I+0]<<8|P[I+1])>>>0}Mn.readUint16BE=n;function r(P,I){return I===void 0&&(I=0),(P[I+1]<<8|P[I])<<16>>16}Mn.readInt16LE=r;function i(P,I){return I===void 0&&(I=0),(P[I+1]<<8|P[I])>>>0}Mn.readUint16LE=i;function s(P,I,$){return I===void 0&&(I=new Uint8Array(2)),$===void 0&&($=0),I[$+0]=P>>>8,I[$+1]=P>>>0,I}Mn.writeUint16BE=s,Mn.writeInt16BE=s;function o(P,I,$){return I===void 0&&(I=new Uint8Array(2)),$===void 0&&($=0),I[$+0]=P>>>0,I[$+1]=P>>>8,I}Mn.writeUint16LE=o,Mn.writeInt16LE=o;function a(P,I){return I===void 0&&(I=0),P[I]<<24|P[I+1]<<16|P[I+2]<<8|P[I+3]}Mn.readInt32BE=a;function c(P,I){return I===void 0&&(I=0),(P[I]<<24|P[I+1]<<16|P[I+2]<<8|P[I+3])>>>0}Mn.readUint32BE=c;function u(P,I){return I===void 0&&(I=0),P[I+3]<<24|P[I+2]<<16|P[I+1]<<8|P[I]}Mn.readInt32LE=u;function d(P,I){return I===void 0&&(I=0),(P[I+3]<<24|P[I+2]<<16|P[I+1]<<8|P[I])>>>0}Mn.readUint32LE=d;function h(P,I,$){return I===void 0&&(I=new Uint8Array(4)),$===void 0&&($=0),I[$+0]=P>>>24,I[$+1]=P>>>16,I[$+2]=P>>>8,I[$+3]=P>>>0,I}Mn.writeUint32BE=h,Mn.writeInt32BE=h;function p(P,I,$){return I===void 0&&(I=new Uint8Array(4)),$===void 0&&($=0),I[$+0]=P>>>0,I[$+1]=P>>>8,I[$+2]=P>>>16,I[$+3]=P>>>24,I}Mn.writeUint32LE=p,Mn.writeInt32LE=p;function m(P,I){I===void 0&&(I=0);var $=a(P,I),W=a(P,I+4);return $*4294967296+W-(W>>31)*4294967296}Mn.readInt64BE=m;function y(P,I){I===void 0&&(I=0);var $=c(P,I),W=c(P,I+4);return $*4294967296+W}Mn.readUint64BE=y;function v(P,I){I===void 0&&(I=0);var $=u(P,I),W=u(P,I+4);return W*4294967296+$-($>>31)*4294967296}Mn.readInt64LE=v;function w(P,I){I===void 0&&(I=0);var $=d(P,I),W=d(P,I+4);return W*4294967296+$}Mn.readUint64LE=w;function C(P,I,$){return I===void 0&&(I=new Uint8Array(8)),$===void 0&&($=0),h(P/4294967296>>>0,I,$),h(P>>>0,I,$+4),I}Mn.writeUint64BE=C,Mn.writeInt64BE=C;function _(P,I,$){return I===void 0&&(I=new Uint8Array(8)),$===void 0&&($=0),p(P>>>0,I,$),p(P/4294967296>>>0,I,$+4),I}Mn.writeUint64LE=_,Mn.writeInt64LE=_;function O(P,I,$){if($===void 0&&($=0),P%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(P/8>I.length-$)throw new Error("readUintBE: array is too short for the given bitLength");for(var W=0,X=1,j=P/8+$-1;j>=$;j--)W+=I[j]*X,X*=256;return W}Mn.readUintBE=O;function R(P,I,$){if($===void 0&&($=0),P%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(P/8>I.length-$)throw new Error("readUintLE: array is too short for the given bitLength");for(var W=0,X=1,j=$;j<$+P/8;j++)W+=I[j]*X,X*=256;return W}Mn.readUintLE=R;function S(P,I,$,W){if($===void 0&&($=new Uint8Array(P/8)),W===void 0&&(W=0),P%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!e.isSafeInteger(I))throw new Error("writeUintBE value must be an integer");for(var X=1,j=P/8+W-1;j>=W;j--)$[j]=I/X&255,X*=256;return $}Mn.writeUintBE=S;function E(P,I,$,W){if($===void 0&&($=new Uint8Array(P/8)),W===void 0&&(W=0),P%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!e.isSafeInteger(I))throw new Error("writeUintLE value must be an integer");for(var X=1,j=W;j<W+P/8;j++)$[j]=I/X&255,X*=256;return $}Mn.writeUintLE=E;function x(P,I){I===void 0&&(I=0);var $=new DataView(P.buffer,P.byteOffset,P.byteLength);return $.getFloat32(I)}Mn.readFloat32BE=x;function N(P,I){I===void 0&&(I=0);var $=new DataView(P.buffer,P.byteOffset,P.byteLength);return $.getFloat32(I,!0)}Mn.readFloat32LE=N;function A(P,I){I===void 0&&(I=0);var $=new DataView(P.buffer,P.byteOffset,P.byteLength);return $.getFloat64(I)}Mn.readFloat64BE=A;function D(P,I){I===void 0&&(I=0);var $=new DataView(P.buffer,P.byteOffset,P.byteLength);return $.getFloat64(I,!0)}Mn.readFloat64LE=D;function k(P,I,$){I===void 0&&(I=new Uint8Array(4)),$===void 0&&($=0);var W=new DataView(I.buffer,I.byteOffset,I.byteLength);return W.setFloat32($,P),I}Mn.writeFloat32BE=k;function U(P,I,$){I===void 0&&(I=new Uint8Array(4)),$===void 0&&($=0);var W=new DataView(I.buffer,I.byteOffset,I.byteLength);return W.setFloat32($,P,!0),I}Mn.writeFloat32LE=U;function H(P,I,$){I===void 0&&(I=new Uint8Array(8)),$===void 0&&($=0);var W=new DataView(I.buffer,I.byteOffset,I.byteLength);return W.setFloat64($,P),I}Mn.writeFloat64BE=H;function F(P,I,$){I===void 0&&(I=new Uint8Array(8)),$===void 0&&($=0);var W=new DataView(I.buffer,I.byteOffset,I.byteLength);return W.setFloat64($,P,!0),I}return Mn.writeFloat64LE=F,Mn}var Pb={},vk;function K1(){if(vk)return Pb;vk=1,Object.defineProperty(Pb,"__esModule",{value:!0});function e(t){for(var n=0;n<t.length;n++)t[n]=0;return t}return Pb.wipe=e,Pb}var wk;function kfe(){return wk||(wk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=m5(),n=K1();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var r=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},a.prototype.update=function(c,u){if(u===void 0&&(u=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=u,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&u>0;)this._buffer[this._bufferLength++]=c[d++],u--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(u>=this.blockSize&&(d=s(this._temp,this._state,c,d,u),u%=this.blockSize);u>0;)this._buffer[this._bufferLength++]=c[d++],u--;return this},a.prototype.finish=function(c){if(!this._finished){var u=this._bytesHashed,d=this._bufferLength,h=u/536870912|0,p=u<<3,m=u%64<56?64:128;this._buffer[d]=128;for(var y=d+1;y<m-8;y++)this._buffer[y]=0;t.writeUint32BE(h,this._buffer,m-8),t.writeUint32BE(p,this._buffer,m-4),s(this._temp,this._state,this._buffer,0,m),this._finished=!0}for(var y=0;y<this.digestLength/4;y++)t.writeUint32BE(this._state[y],c,y*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){n.wipe(c.state),c.buffer&&n.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();e.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,u,d,h){for(;h>=64;){for(var p=c[0],m=c[1],y=c[2],v=c[3],w=c[4],C=c[5],_=c[6],O=c[7],R=0;R<16;R++){var S=d+R*4;a[R]=t.readUint32BE(u,S)}for(var R=16;R<64;R++){var E=a[R-2],x=(E>>>17|E<<15)^(E>>>19|E<<13)^E>>>10;E=a[R-15];var N=(E>>>7|E<<25)^(E>>>18|E<<14)^E>>>3;a[R]=(x+a[R-7]|0)+(N+a[R-16]|0)}for(var R=0;R<64;R++){var x=(((w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7))+(w&C^~w&_)|0)+(O+(i[R]+a[R]|0)|0)|0,N=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&y^m&y)|0;O=_,_=C,C=w,w=v+x|0,v=y,y=m,m=p,p=x+N|0}c[0]+=p,c[1]+=m,c[2]+=y,c[3]+=v,c[4]+=w,c[5]+=C,c[6]+=_,c[7]+=O,d+=64,h-=64}return d}function o(a){var c=new r;c.update(a);var u=c.digest();return c.clean(),u}e.hash=o}(PO)),PO}var Hm={},Ko={},Xd={},Ib={exports:{}},bk;function Mfe(){return bk||(bk=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof mr<"u"&&mr,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof mr<"u"&&mr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(P){return P&&DataView.prototype.isPrototypeOf(P)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(P){return P&&d.indexOf(Object.prototype.toString.call(P))>-1};function p(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function m(P){return typeof P!="string"&&(P=String(P)),P}function y(P){var I={next:function(){var $=P.shift();return{done:$===void 0,value:$}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function v(P){this.map={},P instanceof v?P.forEach(function(I,$){this.append($,I)},this):Array.isArray(P)?P.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(I){this.append(I,P[I])},this)}v.prototype.append=function(P,I){P=p(P),I=m(I);var $=this.map[P];this.map[P]=$?$+", "+I:I},v.prototype.delete=function(P){delete this.map[p(P)]},v.prototype.get=function(P){return P=p(P),this.has(P)?this.map[P]:null},v.prototype.has=function(P){return this.map.hasOwnProperty(p(P))},v.prototype.set=function(P,I){this.map[p(P)]=m(I)},v.prototype.forEach=function(P,I){for(var $ in this.map)this.map.hasOwnProperty($)&&P.call(I,this.map[$],$,this)},v.prototype.keys=function(){var P=[];return this.forEach(function(I,$){P.push($)}),y(P)},v.prototype.values=function(){var P=[];return this.forEach(function(I){P.push(I)}),y(P)},v.prototype.entries=function(){var P=[];return this.forEach(function(I,$){P.push([$,I])}),y(P)},c.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function w(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function C(P){return new Promise(function(I,$){P.onload=function(){I(P.result)},P.onerror=function(){$(P.error)}})}function _(P){var I=new FileReader,$=C(I);return I.readAsArrayBuffer(P),$}function O(P){var I=new FileReader,$=C(I),W=/charset=([A-Za-z0-9_-]+)/.exec(P.type),X=W?W[1]:"utf-8";return I.readAsText(P,X),$}function R(P){for(var I=new Uint8Array(P),$=new Array(I.length),W=0;W<I.length;W++)$[W]=String.fromCharCode(I[W]);return $.join("")}function S(P){if(P.slice)return P.slice(0);var I=new Uint8Array(P.byteLength);return I.set(new Uint8Array(P)),I.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:c.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:c.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():c.arrayBuffer&&c.blob&&u(P)?(this._bodyArrayBuffer=S(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||h(P))?this._bodyArrayBuffer=S(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=w(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(P){var I=P.toUpperCase();return x.indexOf(I)>-1?I:P}function A(P,I){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var $=I.body;if(P instanceof A){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,I.headers||(this.headers=new v(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!$&&P._bodyInit!=null&&($=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new v(I.headers)),this.method=N(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var W=/([?&])_=[^&]*/;if(W.test(this.url))this.url=this.url.replace(W,"$1_="+new Date().getTime());else{var X=/\?/;this.url+=(X.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function D(P){var I=new FormData;return P.trim().split("&").forEach(function($){if($){var W=$.split("="),X=W.shift().replace(/\+/g," "),j=W.join("=").replace(/\+/g," ");I.append(decodeURIComponent(X),decodeURIComponent(j))}}),I}function k(P){var I=new v,$=P.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W}).forEach(function(W){var X=W.split(":"),j=X.shift().trim();if(j){var G=X.join(":").trim();try{I.append(j,G)}catch(ae){console.warn("Response "+ae.message)}}}),I}E.call(A.prototype);function U(P,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new v(I.headers),this.url=I.url||"",this._initBody(P)}E.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},U.error=function(){var P=new U(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var H=[301,302,303,307,308];U.redirect=function(P,I){if(H.indexOf(I)===-1)throw new RangeError("Invalid status code");return new U(null,{status:I,headers:{location:P}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,$){this.message=I,this.name=$;var W=Error(I);this.stack=W.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function F(P,I){return new Promise(function($,W){var X=new A(P,I);if(X.signal&&X.signal.aborted)return W(new o.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function G(){j.abort()}j.onload=function(){var oe={statusText:j.statusText,headers:k(j.getAllResponseHeaders()||"")};X.url.indexOf("file://")===0&&(j.status<200||j.status>599)?oe.status=200:oe.status=j.status,oe.url="responseURL"in j?j.responseURL:oe.headers.get("X-Request-URL");var Ce="response"in j?j.response:j.responseText;setTimeout(function(){$(new U(Ce,oe))},0)},j.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){W(new o.DOMException("Aborted","AbortError"))},0)};function ae(oe){try{return oe===""&&a.location.href?a.location.href:oe}catch{return oe}}if(j.open(X.method,ae(X.url),!0),X.credentials==="include"?j.withCredentials=!0:X.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(c.blob?j.responseType="blob":c.arrayBuffer&&(j.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof v||a.Headers&&I.headers instanceof a.Headers)){var ce=[];Object.getOwnPropertyNames(I.headers).forEach(function(oe){ce.push(p(oe)),j.setRequestHeader(oe,m(I.headers[oe]))}),X.headers.forEach(function(oe,Ce){ce.indexOf(Ce)===-1&&j.setRequestHeader(Ce,oe)})}else X.headers.forEach(function(oe,Ce){j.setRequestHeader(Ce,oe)});X.signal&&(X.signal.addEventListener("abort",G),j.onreadystatechange=function(){j.readyState===4&&X.signal.removeEventListener("abort",G)}),j.send(typeof X._bodyInit>"u"?null:X._bodyInit)})}return F.polyfill=!0,a.fetch||(a.fetch=F,a.Headers=v,a.Request=A,a.Response=U),o.Headers=v,o.Request=A,o.Response=U,o.fetch=F,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Ib,Ib.exports)),Ib.exports}var Ii={},Gd={},DO={},kO={},Ek;function az(){return Ek||(Ek=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ERROR=e.STANDARD_ERROR_MAP=e.SERVER_ERROR_CODE_RANGE=e.RESERVED_ERROR_CODES=e.SERVER_ERROR=e.INTERNAL_ERROR=e.INVALID_PARAMS=e.METHOD_NOT_FOUND=e.INVALID_REQUEST=e.PARSE_ERROR=e.OKX_CONNECT_ERROR_CODES=e.OKXConnectError=void 0;class t extends Error{constructor(s,o){o==null&&(o=n(s)),super(o),this.code=s,this.message=`${t.prefix} ${o?`
`+o:""}`,Object.setPrototypeOf(this,t.prototype)}toJSON(){return{message:this.message,code:this.code}}}e.OKXConnectError=t,t.prefix="[OKX_CONNECT_SDK_ERROR]";function n(i){return i==r.UNKNOWN_ERROR?"unknown error":i==r.BAD_REQUEST_ERROR?"bad request error":i==r.ALREADY_CONNECTED_ERROR?"already connected error":i==r.NOT_CONNECTED_ERROR?"not connected error":i==r.UNKNOWN_APP_ERROR?"unknown app error":i==r.USER_REJECTS_ERROR?"user rejects error":i==r.USER_REJECTS_ERROR_CAUSE_REGISTER?"wallet address are registering":i==r.METHOD_NOT_SUPPORTED?"method not supported":i==r.CONNECTION_ERROR?"connect error":i==r.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}var r;(function(i){i[i.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",i[i.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",i[i.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",i[i.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",i[i.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",i[i.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",i[i.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",i[i.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",i[i.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",i[i.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",i[i.CONNECTION_ERROR=700]="CONNECTION_ERROR"})(r||(e.OKX_CONNECT_ERROR_CODES=r={})),e.PARSE_ERROR="PARSE_ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.METHOD_NOT_FOUND="METHOD_NOT_FOUND",e.INVALID_PARAMS="INVALID_PARAMS",e.INTERNAL_ERROR="INTERNAL_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],e.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],e.STANDARD_ERROR_MAP={[e.PARSE_ERROR]:{code:-32700,message:"Parse error"},[e.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[e.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[e.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[e.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[e.SERVER_ERROR]:{code:-32e3,message:"Server error"}},e.DEFAULT_ERROR=e.SERVER_ERROR}(kO)),kO}var _k;function Lfe(){return _k||(_k=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OKX_CONNECT_ERROR_CODES=e.OKXConnectError=void 0;var t=az();Object.defineProperty(e,"OKXConnectError",{enumerable:!0,get:function(){return t.OKXConnectError}}),Object.defineProperty(e,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return t.OKX_CONNECT_ERROR_CODES}})}(DO)),DO}var ri={},Ck;function cz(){if(Ck)return ri;Ck=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.NameSpaceKeyStarknet=ri.NameSpaceKeyTron=ri.NameSpaceKeyCosmos=ri.NameSpaceKeyAptos=ri.NameSpaceKeyBtc=ri.NameSpaceKeySui=ri.NameSpaceKeyTON=ri.NameSpaceKeySOL=ri.NameSpaceKeyEip155=ri.OpenAppLinkType=void 0;var e;return function(t){t.UniversalLink="universallink",t.DeepLink="deeplink"}(e||(ri.OpenAppLinkType=e={})),ri.NameSpaceKeyEip155="eip155",ri.NameSpaceKeySOL="solana",ri.NameSpaceKeyTON="ton",ri.NameSpaceKeySui="sui",ri.NameSpaceKeyBtc="btc",ri.NameSpaceKeyAptos="aptos",ri.NameSpaceKeyCosmos="cosmos",ri.NameSpaceKeyTron="tron",ri.NameSpaceKeyStarknet="starknet",ri}var MO={},xk;function y5(){return xk||(xk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OKX_MINI_WALLET_NAME=e.OKX_APP_WALLET_NAME=e.stackDeepLink=e.tgwalletAppName=e.tgwalletName=e.tonConnectSdkVersion=e.standardDeeplink=e.downloadUrl=e.shortUniversalLink=e.standardUniversalLink=e.okxDeeplink=void 0,e.getTestTwaUrl=t,e.getTestTgTwaUrl=n,e.getBotNameAndAppName=r,e.okxDeeplink="okx://web3",e.standardUniversalLink=typeof window<"u"&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",e.shortUniversalLink=typeof window<"u"&&window.location.hostname.includes("okx.com")?"https://link.okx.com/ul/connect":"https://www.okx.com/ul/connect",e.downloadUrl="https://www.okx.com/download",e.standardDeeplink=`${e.okxDeeplink}/wallet/connect`,e.tonConnectSdkVersion="1",e.tgwalletName="OKX_WALLET_BOT",e.tgwalletAppName="start",e.stackDeepLink="okx://web3?stack=true";function t(){return window.okxTesttwaUrl}function n(){return window.okxTestTgtwaUrl}function r(i){const o=new URL(i).pathname.split("/").filter(Boolean);if(o.length>=2){const a=o[0],c=o[1];return{botName:a,appName:c}}}e.OKX_APP_WALLET_NAME="OKX Wallet",e.OKX_MINI_WALLET_NAME="OKX Mini Wallet"}(MO)),MO}var Jd={},hi={},Sk;function Ufe(){if(Sk)return hi;Sk=1;var e=hi&&hi.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(hi,"__esModule",{value:!0}),hi.isJsonRpcPayload=t,hi.isJsonRpcRequest=n,hi.isJsonRpcResponse=r,hi.isJsonRpcResult=i,hi.isJsonRpcError=s,hi.payloadId=h,hi.getBigIntRpcId=p,hi.formatJsonRpcRequest=m,hi.formatJsonRpcResult=y,hi.formatJsonRpcError=v,hi.isReservedErrorCode=w,hi.getError=C,hi.getErrorByCode=_,hi.formatErrorMessage=O,hi.isHttpUrl=E,hi.isWsUrl=x,hi.parseConnectionError=N;function t(A){return typeof A=="object"&&"id"in A&&"jsonrpc"in A&&A.jsonrpc==="2.0"}function n(A){return t(A)&&"method"in A}function r(A){return t(A)&&(i(A)||s(A))}function i(A){return"result"in A}function s(A){return"error"in A}const o=az(),a=e(bg());class c{constructor(D){this.i=1,D?this.initialValue=a.default.randomBytes(D/8)[0]:this.initialValue=0}getNextValue(){return this.initialValue+this.i++}}const u=new c(8),d=new c(16);function h(){const A=Date.now()*1e3,D=u.getNextValue();return A+D}function p(){const A=BigInt(Date.now())*BigInt(1e6),D=BigInt(d.getNextValue());return A+D}function m(A,D,k){return{id:k||h(),jsonrpc:"2.0",method:A,params:D}}function y(A,D){return{id:A,jsonrpc:"2.0",result:D}}function v(A,D,k){return{id:A,jsonrpc:"2.0",error:O(D,k)}}function w(A){return o.RESERVED_ERROR_CODES.includes(A)}function C(A){return Object.keys(o.STANDARD_ERROR_MAP).includes(A)?o.STANDARD_ERROR_MAP[A]:o.STANDARD_ERROR_MAP[o.DEFAULT_ERROR]}function _(A){const D=Object.values(o.STANDARD_ERROR_MAP).find(k=>k.code===A);return D||o.STANDARD_ERROR_MAP[o.DEFAULT_ERROR]}function O(A,D){return typeof A>"u"?C(o.INTERNAL_ERROR):(typeof A=="string"&&(A=Object.assign(Object.assign({},C(o.SERVER_ERROR)),{message:A})),typeof D<"u"&&(A.data=D),w(A.code)&&(A=_(A.code)),A)}function R(A){const D=A.match(new RegExp(/^\w+:/,"gi"));if(!(!D||!D.length))return D[0]}function S(A,D){const k=R(A);return typeof k>"u"?!1:new RegExp(D).test(k)}function E(A){return S(A,"^https?:")}function x(A){return S(A,"^wss?:")}function N(A,D,k){return A.message.includes("getaddrinfo ENOTFOUND")||A.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${k} RPC url at ${D}`):A}return hi}var Wo={},LO={exports:{}},Ok;function Ed(){return Ok||(Ok=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||c,p),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,d,h,p,m,y){var v=n?n+u:u;if(!this._events[v])return!1;var w=this._events[v],C=arguments.length,_,O;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,h),!0;case 4:return w.fn.call(w.context,d,h,p),!0;case 5:return w.fn.call(w.context,d,h,p,m),!0;case 6:return w.fn.call(w.context,d,h,p,m,y),!0}for(O=1,_=new Array(C-1);O<C;O++)_[O-1]=arguments[O];w.fn.apply(w.context,_)}else{var R=w.length,S;for(O=0;O<R;O++)switch(w[O].once&&this.removeListener(u,w[O].fn,void 0,!0),C){case 1:w[O].fn.call(w[O].context);break;case 2:w[O].fn.call(w[O].context,d);break;case 3:w[O].fn.call(w[O].context,d,h);break;case 4:w[O].fn.call(w[O].context,d,h,p);break;default:if(!_)for(S=1,_=new Array(C-1);S<C;S++)_[S-1]=arguments[S];w[O].fn.apply(w[O].context,_)}}return!0},a.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},a.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},a.prototype.removeListener=function(u,d,h,p){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!h||y.context===h)&&o(this,m);else{for(var v=0,w=[],C=y.length;v<C;v++)(y[v].fn!==d||p&&!y[v].once||h&&y[v].context!==h)&&w.push(y[v]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(LO)),LO.exports}var Ak;function Bfe(){if(Ak)return Wo;Ak=1;var e=Wo&&Wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.IEngine=Wo.ISignClient=Wo.ISignClientEvents=Wo.IEngineEvents=void 0;const t=e(Ed());class n extends t.default{constructor(){super()}}Wo.IEngineEvents=n;class r extends t.default{constructor(){super()}}Wo.ISignClientEvents=r;class i{constructor(a){this.data=a}}Wo.ISignClient=i;class s{constructor(a){this.client=a}}return Wo.IEngine=s,Wo}var UO={},zm={},Tk;function $fe(){if(Tk)return zm;Tk=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.TONCHAIN=void 0;var e;return function(t){t.MAINNET="-239"}(e||(zm.TONCHAIN=e={})),zm}var qm={},Rk;function jfe(){if(Rk)return qm;Rk=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.CONNECT_ITEM_ERROR_CODES=void 0;var e;return function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(e||(qm.CONNECT_ITEM_ERROR_CODES=e={})),qm}var Nk;function Ffe(){return Nk||(Nk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_ITEM_ERROR_CODES=e.TONCHAIN=void 0;var t=$fe();Object.defineProperty(e,"TONCHAIN",{enumerable:!0,get:function(){return t.TONCHAIN}});var n=jfe();Object.defineProperty(e,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return n.CONNECT_ITEM_ERROR_CODES}})}(UO)),UO}var BO={},Pk;function t2(){return Pk||(Pk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OKXInjectWalletName=e.OKXMiniWalletName=e.OKXWalletName=void 0,e.creatOKXWalletInfo=t,e.creatOKXMiniAppWalletInfo=n,e.creatOKXInjectWalletInfo=r,e.OKXWalletName="OKX Wallet",e.OKXMiniWalletName="OKX Mini Wallet",e.OKXInjectWalletName="OKX Inject Wallet";function t(){return{appName:"okxAppWallet",name:e.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function n(){return{appName:"okxMiniApp",name:e.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function r(){return{appName:"okxInjectWallet",name:e.OKXInjectWalletName,imageUrl:""}}}(BO)),BO}var Ik;function Kfe(){return Ik||(Ik=1,function(e){var t=Jd&&Jd.__createBinding||(Object.create?function(o,a,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(a,c);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,d)}:function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]}),n=Jd&&Jd.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXWalletName=e.creatOKXInjectWalletInfo=e.creatOKXMiniAppWalletInfo=e.creatOKXWalletInfo=e.ISignClientEvents=e.IEngine=e.IEngineEvents=e.ISignClient=e.getBigIntRpcId=e.formatJsonRpcRequest=e.isJsonRpcError=e.isJsonRpcResponse=e.parseConnectionError=e.isHttpUrl=e.formatJsonRpcError=void 0;var r=Ufe();Object.defineProperty(e,"formatJsonRpcError",{enumerable:!0,get:function(){return r.formatJsonRpcError}}),Object.defineProperty(e,"isHttpUrl",{enumerable:!0,get:function(){return r.isHttpUrl}}),Object.defineProperty(e,"parseConnectionError",{enumerable:!0,get:function(){return r.parseConnectionError}}),Object.defineProperty(e,"isJsonRpcResponse",{enumerable:!0,get:function(){return r.isJsonRpcResponse}}),Object.defineProperty(e,"isJsonRpcError",{enumerable:!0,get:function(){return r.isJsonRpcError}}),Object.defineProperty(e,"formatJsonRpcRequest",{enumerable:!0,get:function(){return r.formatJsonRpcRequest}}),Object.defineProperty(e,"getBigIntRpcId",{enumerable:!0,get:function(){return r.getBigIntRpcId}});var i=Bfe();Object.defineProperty(e,"ISignClient",{enumerable:!0,get:function(){return i.ISignClient}}),Object.defineProperty(e,"IEngineEvents",{enumerable:!0,get:function(){return i.IEngineEvents}}),Object.defineProperty(e,"IEngine",{enumerable:!0,get:function(){return i.IEngine}}),Object.defineProperty(e,"ISignClientEvents",{enumerable:!0,get:function(){return i.ISignClientEvents}}),n(Ffe(),e);var s=t2();Object.defineProperty(e,"creatOKXWalletInfo",{enumerable:!0,get:function(){return s.creatOKXWalletInfo}}),Object.defineProperty(e,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return s.creatOKXMiniAppWalletInfo}}),Object.defineProperty(e,"creatOKXInjectWalletInfo",{enumerable:!0,get:function(){return s.creatOKXInjectWalletInfo}}),Object.defineProperty(e,"OKXWalletName",{enumerable:!0,get:function(){return s.OKXWalletName}})}(Jd)),Jd}var $O={},Dk;function Wfe(){return Dk||(Dk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NAMES_CHAINS=e.TON_CHAINS=e.COSMOS_CHAINS=e.APTOS_CHAINS=e.SUI_CHAINS=e.SOLANA_CHAINS=e.BTC_CHAINS=void 0;const t=cz();e.BTC_CHAINS={MAINNET:"btc:mainnet",FRACTAL:"fractal:mainnet"},e.SOLANA_CHAINS={MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",SONIC_TESTNET:"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"},e.SUI_CHAINS={MAINNET:"sui:mainnet"},e.APTOS_CHAINS={MAINNET:"aptos:mainnet",MOVEMENT_MAINNET:"movement:mainnet",MOVEMENT_TESTNET:"movement:testnet"},e.COSMOS_CHAINS={COSMOS_MAINNET:"cosmos:cosmoshub-4"},e.TON_CHAINS={MAINNET:"ton:-239"},e.NAMES_CHAINS={[t.NameSpaceKeyBtc]:Object.values(e.BTC_CHAINS),[t.NameSpaceKeySOL]:Object.values(e.SOLANA_CHAINS),[t.NameSpaceKeyTON]:Object.values(e.TON_CHAINS),[t.NameSpaceKeySui]:Object.values(e.SUI_CHAINS),[t.NameSpaceKeyAptos]:Object.values(e.APTOS_CHAINS),[t.NameSpaceKeyCosmos]:Object.values(e.COSMOS_CHAINS)}}($O)),$O}var kk;function Ns(){return kk||(kk=1,function(e){var t=Gd&&Gd.__createBinding||(Object.create?function(o,a,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(a,c);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,d)}:function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]}),n=Gd&&Gd.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.NAMES_CHAINS=e.TON_CHAINS=e.COSMOS_CHAINS=e.APTOS_CHAINS=e.SUI_CHAINS=e.SOLANA_CHAINS=e.BTC_CHAINS=e.shortUniversalLink=e.downloadUrl=e.okxDeeplink=e.tonConnectSdkVersion=e.standardDeeplink=e.standardUniversalLink=e.OpenAppLinkType=e.NameSpaceKeyStarknet=e.NameSpaceKeyTron=e.NameSpaceKeyCosmos=e.NameSpaceKeyAptos=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.NameSpaceKeyTON=e.NameSpaceKeySOL=e.NameSpaceKeyEip155=void 0,n(Lfe(),e);var r=cz();Object.defineProperty(e,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return r.NameSpaceKeyEip155}}),Object.defineProperty(e,"NameSpaceKeySOL",{enumerable:!0,get:function(){return r.NameSpaceKeySOL}}),Object.defineProperty(e,"NameSpaceKeyTON",{enumerable:!0,get:function(){return r.NameSpaceKeyTON}}),Object.defineProperty(e,"NameSpaceKeySui",{enumerable:!0,get:function(){return r.NameSpaceKeySui}}),Object.defineProperty(e,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return r.NameSpaceKeyBtc}}),Object.defineProperty(e,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return r.NameSpaceKeyAptos}}),Object.defineProperty(e,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return r.NameSpaceKeyCosmos}}),Object.defineProperty(e,"NameSpaceKeyTron",{enumerable:!0,get:function(){return r.NameSpaceKeyTron}}),Object.defineProperty(e,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return r.NameSpaceKeyStarknet}}),Object.defineProperty(e,"OpenAppLinkType",{enumerable:!0,get:function(){return r.OpenAppLinkType}});var i=y5();Object.defineProperty(e,"standardUniversalLink",{enumerable:!0,get:function(){return i.standardUniversalLink}}),Object.defineProperty(e,"standardDeeplink",{enumerable:!0,get:function(){return i.standardDeeplink}}),Object.defineProperty(e,"tonConnectSdkVersion",{enumerable:!0,get:function(){return i.tonConnectSdkVersion}}),Object.defineProperty(e,"okxDeeplink",{enumerable:!0,get:function(){return i.okxDeeplink}}),Object.defineProperty(e,"downloadUrl",{enumerable:!0,get:function(){return i.downloadUrl}}),Object.defineProperty(e,"shortUniversalLink",{enumerable:!0,get:function(){return i.shortUniversalLink}}),n(Kfe(),e);var s=Wfe();Object.defineProperty(e,"BTC_CHAINS",{enumerable:!0,get:function(){return s.BTC_CHAINS}}),Object.defineProperty(e,"SOLANA_CHAINS",{enumerable:!0,get:function(){return s.SOLANA_CHAINS}}),Object.defineProperty(e,"SUI_CHAINS",{enumerable:!0,get:function(){return s.SUI_CHAINS}}),Object.defineProperty(e,"APTOS_CHAINS",{enumerable:!0,get:function(){return s.APTOS_CHAINS}}),Object.defineProperty(e,"COSMOS_CHAINS",{enumerable:!0,get:function(){return s.COSMOS_CHAINS}}),Object.defineProperty(e,"TON_CHAINS",{enumerable:!0,get:function(){return s.TON_CHAINS}}),Object.defineProperty(e,"NAMES_CHAINS",{enumerable:!0,get:function(){return s.NAMES_CHAINS}})}(Gd)),Gd}var Pc={},Sa={},Oy={exports:{}},Hfe=Oy.exports,Mk;function lz(){return Mk||(Mk=1,function(e,t){(function(n,r){var i="1.0.40",s="",o="?",a="function",c="undefined",u="object",d="string",h="major",p="model",m="name",y="type",v="vendor",w="version",C="architecture",_="console",O="mobile",R="tablet",S="smarttv",E="wearable",x="embedded",N=500,A="Amazon",D="Apple",k="ASUS",U="BlackBerry",H="Browser",F="Chrome",P="Edge",I="Firefox",$="Google",W="Huawei",X="LG",j="Microsoft",G="Motorola",ae="Opera",ce="Samsung",oe="Sharp",Ce="Sony",Ae="Xiaomi",ue="Zebra",Y="Facebook",ee="Chromium OS",B="Mac OS",te=" Browser",we=function(ct,yt){var vt={};for(var zt in ct)yt[zt]&&yt[zt].length%2===0?vt[zt]=yt[zt].concat(ct[zt]):vt[zt]=ct[zt];return vt},Ne=function(ct){for(var yt={},vt=0;vt<ct.length;vt++)yt[ct[vt].toUpperCase()]=ct[vt];return yt},Fe=function(ct,yt){return typeof ct===d?Ve(yt).indexOf(Ve(ct))!==-1:!1},Ve=function(ct){return ct.toLowerCase()},Et=function(ct){return typeof ct===d?ct.replace(/[^\d\.]/g,s).split(".")[0]:r},Nt=function(ct,yt){if(typeof ct===d)return ct=ct.replace(/^\s\s*/,s),typeof yt===c?ct:ct.substring(0,N)},at=function(ct,yt){for(var vt=0,zt,In,gn,Ft,_t,un;vt<yt.length&&!_t;){var xr=yt[vt],Qn=yt[vt+1];for(zt=In=0;zt<xr.length&&!_t&&xr[zt];)if(_t=xr[zt++].exec(ct),_t)for(gn=0;gn<Qn.length;gn++)un=_t[++In],Ft=Qn[gn],typeof Ft===u&&Ft.length>0?Ft.length===2?typeof Ft[1]==a?this[Ft[0]]=Ft[1].call(this,un):this[Ft[0]]=Ft[1]:Ft.length===3?typeof Ft[1]===a&&!(Ft[1].exec&&Ft[1].test)?this[Ft[0]]=un?Ft[1].call(this,un,Ft[2]):r:this[Ft[0]]=un?un.replace(Ft[1],Ft[2]):r:Ft.length===4&&(this[Ft[0]]=un?Ft[3].call(this,un.replace(Ft[1],Ft[2])):r):this[Ft]=un||r;vt+=2}},Kt=function(ct,yt){for(var vt in yt)if(typeof yt[vt]===u&&yt[vt].length>0){for(var zt=0;zt<yt[vt].length;zt++)if(Fe(yt[vt][zt],ct))return vt===o?r:vt}else if(Fe(yt[vt],ct))return vt===o?r:vt;return yt.hasOwnProperty("*")?yt["*"]:ct},en={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ln={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Gt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,w],[/opios[\/ ]+([\w\.]+)/i],[w,[m,ae+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[m,ae+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[m,ae]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[m,"UC"+H]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[m,"Smart Lenovo "+H]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+H],w],[/\bfocus\/([\w\.]+)/i],[w,[m,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[m,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[m,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[m,"MIUI"+te]],[/fxios\/([\w\.-]+)/i],[w,[m,I]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+te],w],[/samsungbrowser\/([\w\.]+)/i],[w,[m,ce+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Y],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[m,F+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,F+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[m,"Android "+H]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[w,Kt,en]],[/(webkit|khtml)\/([\w\.]+)/i],[m,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[m,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[m,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[w,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,Ve]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,s,Ve]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,Ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[v,ce],[y,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[p,[v,ce],[y,O]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[v,D],[y,O]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[v,D],[y,R]],[/(macintosh);/i],[p,[v,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[v,oe],[y,O]],[/(?:honor)([-\w ]+)[;\)]/i],[p,[v,"Honor"],[y,O]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[v,W],[y,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[v,W],[y,O]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[p,/_/g," "],[v,Ae],[y,O]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[v,Ae],[y,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[v,"OPPO"],[y,O]],[/\b(opd2\d{3}a?) bui/i],[p,[v,"OPPO"],[y,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[v,"Vivo"],[y,O]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[v,"Realme"],[y,O]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[v,G],[y,O]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[v,G],[y,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[v,X],[y,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[v,X],[y,O]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[v,"Lenovo"],[y,R]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[v,"Nokia"],[y,O]],[/(pixel c)\b/i],[p,[v,$],[y,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[v,$],[y,O]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[v,Ce],[y,O]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[v,Ce],[y,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[v,"OnePlus"],[y,O]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[v,A],[y,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[v,A],[y,O]],[/(playbook);[-\w\),; ]+(rim)/i],[p,v,[y,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[v,U],[y,O]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[v,k],[y,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[v,k],[y,O]],[/(nexus 9)/i],[p,[v,"HTC"],[y,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[p,/_/g," "],[y,O]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[p,[v,"TCL"],[y,R]],[/(itel) ((\w+))/i],[[v,Ve],p,[y,Kt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[v,"Acer"],[y,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[v,"Meizu"],[y,O]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[v,"Ulefone"],[y,O]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[p,[v,"Energizer"],[y,O]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[p,[v,"Cat"],[y,O]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[p,[v,"Smartfren"],[y,O]],[/droid.+; (a(?:015|06[35]|142p?))/i],[p,[v,"Nothing"],[y,O]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,p,[y,O]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,p,[y,R]],[/(surface duo)/i],[p,[v,j],[y,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[v,"Fairphone"],[y,O]],[/(u304aa)/i],[p,[v,"AT&T"],[y,O]],[/\bsie-(\w*)/i],[p,[v,"Siemens"],[y,O]],[/\b(rct\w+) b/i],[p,[v,"RCA"],[y,R]],[/\b(venue[\d ]{2,7}) b/i],[p,[v,"Dell"],[y,R]],[/\b(q(?:mv|ta)\w+) b/i],[p,[v,"Verizon"],[y,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[v,"Barnes & Noble"],[y,R]],[/\b(tm\d{3}\w+) b/i],[p,[v,"NuVision"],[y,R]],[/\b(k88) b/i],[p,[v,"ZTE"],[y,R]],[/\b(nx\d{3}j) b/i],[p,[v,"ZTE"],[y,O]],[/\b(gen\d{3}) b.+49h/i],[p,[v,"Swiss"],[y,O]],[/\b(zur\d{3}) b/i],[p,[v,"Swiss"],[y,R]],[/\b((zeki)?tb.*\b) b/i],[p,[v,"Zeki"],[y,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],p,[y,R]],[/\b(ns-?\w{0,9}) b/i],[p,[v,"Insignia"],[y,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[v,"NextBook"],[y,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],p,[y,O]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],p,[y,O]],[/\b(ph-1) /i],[p,[v,"Essential"],[y,O]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[v,"Envizen"],[y,R]],[/\b(trio[-\w\. ]+) b/i],[p,[v,"MachSpeed"],[y,R]],[/\btu_(1491) b/i],[p,[v,"Rotor"],[y,R]],[/(shield[\w ]+) b/i],[p,[v,"Nvidia"],[y,R]],[/(sprint) (\w+)/i],[v,p,[y,O]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[v,j],[y,O]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[v,ue],[y,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[v,ue],[y,O]],[/smart-tv.+(samsung)/i],[v,[y,S]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[v,ce],[y,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,X],[y,S]],[/(apple) ?tv/i],[v,[p,D+" TV"],[y,S]],[/crkey/i],[[p,F+"cast"],[v,$],[y,S]],[/droid.+aft(\w+)( bui|\))/i],[p,[v,A],[y,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[v,oe],[y,S]],[/(bravia[\w ]+)( bui|\))/i],[p,[v,Ce],[y,S]],[/(mitv-\w{5}) bui/i],[p,[v,Ae],[y,S]],[/Hbbtv.*(technisat) (.*);/i],[v,p,[y,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Nt],[p,Nt],[y,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,p,[y,_]],[/droid.+; (shield) bui/i],[p,[v,"Nvidia"],[y,_]],[/(playstation [345portablevi]+)/i],[p,[v,Ce],[y,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[v,j],[y,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[p,[v,ce],[y,E]],[/((pebble))app/i],[v,p,[y,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[v,D],[y,E]],[/droid.+; (glass) \d/i],[p,[v,$],[y,E]],[/droid.+; (wt63?0{2,3})\)/i],[p,[v,ue],[y,E]],[/droid.+; (glass) \d/i],[p,[v,$],[y,E]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,p,[y,E]],[/; (quest( \d| pro)?)/i],[p,[v,Y],[y,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[y,x]],[/(aeobc)\b/i],[p,[v,A],[y,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[y,O]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[y,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,O]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[m,P+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,w],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[w,Kt,ln]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,Kt,ln],[m,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,B],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,w],[/\(bb(10);/i],[w,[m,U]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[m,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[m,F+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,ee],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,w],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,w]]},Wt=function(ct,yt){if(typeof ct===u&&(yt=ct,ct=r),!(this instanceof Wt))return new Wt(ct,yt).getResult();var vt=typeof n!==c&&n.navigator?n.navigator:r,zt=ct||(vt&&vt.userAgent?vt.userAgent:s),In=vt&&vt.userAgentData?vt.userAgentData:r,gn=yt?we(Gt,yt):Gt,Ft=vt&&vt.userAgent==zt;return this.getBrowser=function(){var _t={};return _t[m]=r,_t[w]=r,at.call(_t,zt,gn.browser),_t[h]=Et(_t[w]),Ft&&vt&&vt.brave&&typeof vt.brave.isBrave==a&&(_t[m]="Brave"),_t},this.getCPU=function(){var _t={};return _t[C]=r,at.call(_t,zt,gn.cpu),_t},this.getDevice=function(){var _t={};return _t[v]=r,_t[p]=r,_t[y]=r,at.call(_t,zt,gn.device),Ft&&!_t[y]&&In&&In.mobile&&(_t[y]=O),Ft&&_t[p]=="Macintosh"&&vt&&typeof vt.standalone!==c&&vt.maxTouchPoints&&vt.maxTouchPoints>2&&(_t[p]="iPad",_t[y]=R),_t},this.getEngine=function(){var _t={};return _t[m]=r,_t[w]=r,at.call(_t,zt,gn.engine),_t},this.getOS=function(){var _t={};return _t[m]=r,_t[w]=r,at.call(_t,zt,gn.os),Ft&&!_t[m]&&In&&In.platform&&In.platform!="Unknown"&&(_t[m]=In.platform.replace(/chrome os/i,ee).replace(/macos/i,B)),_t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return zt},this.setUA=function(_t){return zt=typeof _t===d&&_t.length>N?Nt(_t,N):_t,this},this.setUA(zt),this};Wt.VERSION=i,Wt.BROWSER=Ne([m,w,h]),Wt.CPU=Ne([C]),Wt.DEVICE=Ne([p,v,y,_,O,S,R,E,x]),Wt.ENGINE=Wt.OS=Ne([m,w]),e.exports&&(t=e.exports=Wt),t.UAParser=Wt;var Ht=typeof n!==c&&(n.jQuery||n.Zepto);if(Ht&&!Ht.ua){var pn=new Wt;Ht.ua=pn.getResult(),Ht.ua.get=function(){return pn.getUA()},Ht.ua.set=function(ct){pn.setUA(ct);var yt=pn.getResult();for(var vt in yt)Ht.ua[vt]=yt[vt]}}})(typeof window=="object"?window:Hfe)}(Oy,Oy.exports)),Oy.exports}var Lk;function v5(){if(Lk)return Sa;Lk=1;var e=Sa&&Sa.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.openLink=i,Sa.openLinkBlank=s,Sa.openDeeplinkWithFallback=o,Sa.isMobileUserAgent=a,Sa.getUserAgent=c,Sa.isOS=u,Sa.isBrowser=d;const t=e(lz()),n=Bi(),r=n2();function i(h,p="_self"){(0,n.logDebug)("openLink",h,p),window.open(h,p,"noopener noreferrer")}function s(h){i(h,"_blank")}function o(h,p){const m=()=>{d("safari")||u("android")&&d("firefox")||p()},y=setTimeout(()=>m(),500);window.addEventListener("blur",()=>clearTimeout(y),{once:!0}),u("android")&&(0,r.inTg)()?i(h,"_blank"):i(h,"_self")}function a(){let h=!1;return function(p){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(p)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(p.slice(0,4)))&&(h=!0)}(navigator.userAgent||navigator.vendor||window.opera),h}function c(){var h,p,m;const y=new t.default().getResult(),v=(h=y.os.name)===null||h===void 0?void 0:h.toLowerCase(),w=(p=y.device.model)===null||p===void 0?void 0:p.toLowerCase();let C;switch(!0){case w==="ipad":C="ipad";break;case v==="ios":C="ios";break;case v==="android":C="android";break;case v==="mac os":C="macos";break;case v==="linux":C="linux";break;case v?.includes("windows"):C="windows";break}const _=(m=y.browser.name)===null||m===void 0?void 0:m.toLowerCase();let O;switch(!0){case _==="chrome":O="chrome";break;case _==="firefox":O="firefox";break;case _?.includes("safari"):O="safari";break;case _?.includes("opera"):O="opera";break}return{os:C,browser:O}}function u(...h){return h.includes(c().os)}function d(...h){return h.includes(c().browser)}return Sa}var Uk;function n2(){if(Uk)return Pc;Uk=1;var e,t,n,r,i,s,o;Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.isTmaPlatform=y,Pc.isInTMA=v,Pc.inTg=w,Pc.isInTelegramBrowser=C,Pc.sendExpand=_,Pc.sendOpenTelegramLink=O,Pc.versionCompare=A;const a=W1(),c=Bi(),u=Ns(),d=v5();let h={};try{let k=location.hash.toString();h=E(k)}catch{}let p="unknown";if(h?.tgWebAppPlatform&&(p=(e=h.tgWebAppPlatform)!==null&&e!==void 0?e:"unknown"),p==="unknown"){const k=(0,a.getWindow)();p=(r=(n=(t=k?.Telegram)===null||t===void 0?void 0:t.WebApp)===null||n===void 0?void 0:n.platform)!==null&&r!==void 0?r:"unknown"}let m="6.0";if(h?.tgWebAppVersion&&(m=h.tgWebAppVersion),!m){const k=(0,a.getWindow)();m=(o=(s=(i=k?.Telegram)===null||i===void 0?void 0:i.WebApp)===null||s===void 0?void 0:s.version)!==null&&o!==void 0?o:"6.0"}function y(...k){return k.includes(p)}function v(){var k;return p!=="unknown"||!!(!((k=(0,a.getWindow)())===null||k===void 0)&&k.TelegramWebviewProxy)}function w(){return C()||v()}function C(){var k;const U=!!(!((k=(0,a.getWindow)())===null||k===void 0)&&k.TelegramWebview);return(v()||U)&&p==="unknown"}function _(){S("web_app_expand",{})}function O(k,U){const H=new URL(k);if(H.protocol!=="http:"&&H.protocol!=="https:"){if(U)return U();throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${H}`)}if(H.hostname!=="t.me"){if(U)return U();throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${H}`)}const F=H.pathname+H.search;R()||D("6.1")?S("web_app_open_tg_link",{path_full:F}):(0,d.openLinkBlank)("https://t.me"+F)}function R(){try{const k=(0,a.getWindow)();return k?k.parent!=null&&k!==k.parent:!1}catch{return!1}}function S(k,U){try{const H=(0,a.getWindow)();if(!H)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(H.TelegramWebviewProxy!==void 0)(0,c.logDebug)("postEvent",k,U),H.TelegramWebviewProxy.postEvent(k,JSON.stringify(U));else if(H.external&&"notify"in H.external)(0,c.logDebug)("postEvent",k,U),H.external.notify(JSON.stringify({eventType:k,eventData:U}));else if(R()){const F="*",P=JSON.stringify({eventType:k,eventData:U});(0,c.logDebug)("postEvent",k,U),H.parent.postMessage(P,F)}else throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA")}catch(H){(0,c.logError)(`Can't post event to parent window: ${H}`)}}function E(k){k=k.replace(/^#/,"");let U={};if(!k.length)return U;if(k.indexOf("=")<0&&k.indexOf("?")<0)return U._path=x(k),U;let H=k.indexOf("?");if(H>=0){let P=k.substr(0,H);U._path=x(P),k=k.substr(H+1)}let F=N(k);for(let P in F)U[P]=F[P];return U}function x(k){try{return k=k.replace(/\+/g,"%20"),decodeURIComponent(k)}catch{return k}}function N(k){let U={};if(!k.length)return U;let H=k.split("&"),F,P,I,$;for(F=0;F<H.length;F++)P=H[F].split("="),I=x(P[0]),$=P[1]==null?null:x(P[1]),U[I]=$;return U}function A(k,U){typeof k!="string"&&(k=""),typeof U!="string"&&(U="");let H=k.replace(/^\s+|\s+$/g,"").split("."),F=U.replace(/^\s+|\s+$/g,"").split("."),P,I,$,W;for(P=Math.max(H.length,F.length),I=0;I<P;I++)if($=parseInt(H[I])||0,W=parseInt(F[I])||0,$!==W)return $>W?1:-1;return 0}function D(k){return A(m,k)>=0}return Pc}var Bk;function W1(){if(Bk)return Ii;Bk=1;var e,t,n,r;Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.removeUrlLastSlash=d,Ii.addPathToUrl=h,Ii.getUniversalLink=p,Ii.openOKXDeeplink=m,Ii.openOKXDeeplinkWithFallback=y,Ii.getWindow=v,Ii.isTelegramUrl=w,Ii.encodeTelegramUrlParameters=C,Ii.encodeConnectParams=_,Ii.encodeTWAConnectURLParams=O,Ii.getAppWalletDeepLink=R,Ii.getAppWalletShortDeepLink=S,Ii.getTelegramWalletTWAUrl=E,Ii.openOKXTMAWalletlinkWithFallback=x,Ii.isInTMA=H,Ii.isInTelegramBrowser=F,Ii.getOKXLink=P;const i=Ns(),s=Bi(),o=y5(),a=mc(),c=n2(),u=$1();function d(I){return I.slice(-1)==="/"?I.slice(0,-1):I}function h(I,$){return d(I)+"/"+$}function p(I,$=!1){console.log("getUniversalLink deeplinkUrl:",I,", useStandardUniversalLink:",$);const W=encodeURIComponent(I);return console.log("getUniversalLink standardUniversalLink:",i.standardUniversalLink),console.log("getUniversalLink standardUniversalLink:",`${i.standardUniversalLink}?deeplink=${W}`),`${i.standardUniversalLink}?deeplink=${W}`}function m(I,$,W){y(I,$,W,!1)}function y(I,$,W,X=!0){var j;const G=!!(!((j=v())===null||j===void 0)&&j.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",$);let ae=!1;const ce=3e3;i.standardUniversalLink,console.log("openOKXDeeplinkWithFallback standardUniversalLink:",i.standardUniversalLink);let oe=null,Ce=()=>{console.log("fallbackToDownloadPage :empty")},Ae=!1;if(W===i.OpenAppLinkType.UniversalLink?Ae=(0,a.isInIOSChrome)()||(0,a.isInIOSLine)()||(0,a.isInIOSLark)()||(0,a.isInIOSWeChat)():Ae=G===!1&&(0,a.isIos)(),X&&((0,a.isIos)()?Ae&&(Ce=()=>{console.log("windowOpen --> fallbackToDownloadPage --",ae),ae||(console.log("windowOpen --> fallbackToDownloadPage universal link"),window.open($,"_self"))}):Ce=()=>{ae||(oe?oe.open($,"_self"):window.open($,"_blank"))}),!(0,a.isIos)()||Ae){if(G?oe=window.open(I,"_blank"):(console.log("windowOpen --> deeplinkUrl"),window.location.href=I),X){setTimeout(Ce,ce);let ue=0,Y=setInterval(()=>{ue++,console.log("windowOpen --> interval:",ue,document.hidden,document.visibilityState),document.hidden&&(ae=!0),(ue>10||document.hidden)&&(clearInterval(Y),console.log("windowOpen :cleat: ${count}"))},200);window.addEventListener("blur",()=>{console.log("windowOpen :blur"),ae=!0},{once:!0}),document.addEventListener("visibilitychange",()=>{console.log("windowOpen :visibilitychange:",document.visibilityState),document.visibilityState==="hidden"&&(ae=!0)})}}else G?window.open($,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window?.okxLogDebug?window.open($,"_blank"):window.open($,"_self"),console.log("windowOpen[after]: ",Date.now()))}function v(){if(typeof window<"u")return window}function w(I){if(!I)return!1;const $=new URL(I);return $.protocol==="tg:"||$.hostname==="t.me"}function C(I){let $=I;return $=$.replace(/\./g,"%2E"),$=$.replace(/-/g,"%2D"),$=$.replace(/_/g,"%5F"),$=$.replace(/&/g,"-"),$=$.replace(/=/g,"__"),$=$.replace(/%/g,"--"),$}function _(I){let $=Object.assign(Object.assign({},I),{protocolVersion:u.CONNECT_PROTOCOL_VER});const W=JSON.stringify($);(0,s.logDebug)("url encodeConnectParams connectRequestStr ",W);const X=new TextEncoder().encode(W),j=btoa(String.fromCharCode(...X));return(0,s.logDebug)("url encodeConnectParams base64Encoded ",j),j}function O(I){const $=JSON.stringify({topic:I.topic,clientId:I.clientId});(0,s.logDebug)("url encodeConnectParams connectRequestStr",$);const W=new TextEncoder().encode($);return btoa(String.fromCharCode(...W))}function R(I){return`${i.standardDeeplink}?param=${I}`}function S(I,$){return`${o.shortUniversalLink}?topic=${I}${(0,a.getLastSixMd5Hash)($)}`}function E(I,$){let W={okxconnect:"",redirect:"",extraparams:"",fromtg:!1};I&&(W.okxconnect=I),$&&(W.redirect=$),H()?W.fromtg=!0:W.fromtg=!1,(0,s.logDebug)("getTelegramWalletTWAUrl redirect:",W.redirect);let X=JSON.stringify(W);const j=new TextEncoder().encode(X),G=btoa(String.fromCharCode(...j)),ae=(0,a.toSafeBase64FromBase64)(G);if((0,s.logDebug)("[TWA] open link:",W,G),I||$){if(H())return(0,o.getTestTgTwaUrl)()?`${(0,o.getTestTgTwaUrl)()}?startapp=${ae}`:`https://t.me/${o.tgwalletName}/start?startapp=${ae}`;if((0,o.getTestTwaUrl)())return`${(0,o.getTestTwaUrl)()}?tgWebAppStartParam=${ae}`;if((0,o.getTestTgTwaUrl)()){let ce=(0,o.getBotNameAndAppName)((0,o.getTestTgTwaUrl)());if(ce){let{botName:oe,appName:Ce}=ce;return`tg://resolve?domain=${oe}&appname=${Ce}&startapp=${ae}`}return`tg://resolve?domain=${o.tgwalletName}&appname=${o.tgwalletAppName}&startapp=${ae}`}else return`tg://resolve?domain=${o.tgwalletName}&appname=${o.tgwalletAppName}&startapp=${ae}`}if(H())return(0,o.getTestTgTwaUrl)()?`${(0,o.getTestTgTwaUrl)()}`:`https://t.me/${o.tgwalletName}/start`;if((0,o.getTestTwaUrl)())return`${(0,o.getTestTwaUrl)()}`;if((0,o.getTestTgTwaUrl)()){let ce=(0,o.getBotNameAndAppName)((0,o.getTestTgTwaUrl)());if(ce){let{botName:oe,appName:Ce}=ce;return`tg://resolve?domain=${oe}&appname=${Ce}`}return`tg://resolve?domain=${o.tgwalletName}&appname=${o.tgwalletAppName}`}else return`tg://resolve?domain=${o.tgwalletName}&appname=${o.tgwalletAppName}`}function x(I){var $,W,X,j,G;(0,s.logDebug)("[TWA] open link:",I,"isInTMA ==> ",H()),H()?!((W=($=v())===null||$===void 0?void 0:$.Telegram)===null||W===void 0)&&W.WebApp?(G=(j=(X=v())===null||X===void 0?void 0:X.Telegram)===null||j===void 0?void 0:j.WebApp)===null||G===void 0||G.openTelegramLink(I):(0,c.sendOpenTelegramLink)(I):(0,o.getTestTwaUrl)()?window.open(I,"_blank"):window.open(I,"_self")}function N(I){try{return I=I.replace(/\+/g,"%20"),decodeURIComponent(I)}catch{return I}}function A(I){let $={};if(!I.length)return $;let W=I.split("&"),X,j,G,ae;for(X=0;X<W.length;X++)j=W[X].split("="),G=N(j[0]),ae=j[1]==null?null:N(j[1]),$[G]=ae;return $}function D(I){I=I.replace(/^#/,"");let $={};if(!I.length)return $;if(I.indexOf("=")<0&&I.indexOf("?")<0)return $._path=N(I),$;let W=I.indexOf("?");if(W>=0){let j=I.substr(0,W);$._path=N(j),I=I.substr(W+1)}let X=A(I);for(let j in X)$[j]=X[j];return $}let k={};try{let I=location.hash.toString();k=D(I)}catch{}let U="unknown";if(k?.tgWebAppPlatform&&(U=(e=k.tgWebAppPlatform)!==null&&e!==void 0?e:"unknown"),U==="unknown"){const I=v();U=(r=(n=(t=I?.Telegram)===null||t===void 0?void 0:t.WebApp)===null||n===void 0?void 0:n.platform)!==null&&r!==void 0?r:"unknown"}function H(){var I;return U!=="unknown"||!!(!((I=v())===null||I===void 0)&&I.TelegramWebviewProxy)}function F(){var I;const $=!!(!((I=v())===null||I===void 0)&&I.TelegramWebview);return(H()||$)&&U==="unknown"}function P(I,$=!1,W){if((0,s.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(I)}  useMini=> ${$}  tmaReturnUrl==> ${W}`),$)return I?{universalLink:E(O(I),W??"back")}:{universalLink:E(void 0,W??"back")};{let X=I?`${i.standardDeeplink}?param=${_(I)}`:i.standardDeeplink;return(0,a.useShortLink)()?{universalLink:I?S(I.topic,I.clientId):o.shortUniversalLink,deepLink:X}:{universalLink:p(X),deepLink:X}}}return Ii}var Yd={},Zd={},$k;function zfe(){if($k)return Zd;$k=1;var e=Zd&&Zd.__awaiter||function(r,i,s,o){function a(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function d(m){try{p(o.next(m))}catch(y){u(y)}}function h(m){try{p(o.throw(m))}catch(y){u(y)}}function p(m){m.done?c(m.value):a(m.value).then(d,h)}p((o=o.apply(r,i||[])).next())})};Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.callForSuccess=t,Zd.delay=n;function t(r,i){return e(this,void 0,void 0,function*(){var s,o;const a=(s=i?.attempts)!==null&&s!==void 0?s:3,c=(o=i?.delayMs)!==null&&o!==void 0?o:800;if(typeof r!="function")throw new Error(`Expected a function, got ${typeof r}`);let u=0,d;for(;u<a;)try{return yield r()}catch(h){d=h,u++,u<a&&(yield n(c))}throw d})}function n(r,i){return e(this,void 0,void 0,function*(){return new Promise((s,o)=>{var a,c;if(!((a=i?.signal)===null||a===void 0)&&a.aborted){o(new Error("Delay aborted"));return}const u=setTimeout(()=>s(),r);(c=i?.signal)===null||c===void 0||c.addEventListener("abort",()=>{clearTimeout(u),o(new Error("Delay aborted"))})})})}return Zd}var Fn={},jk;function qfe(){return jk||(jk=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.Report_WalletType_Key=Fn.Report_OKXConnectSDK_RequestError_Log=Fn.Report_OKXConnectSDK_RequestSuccess_Log=Fn.Report_OKXConnectSDK_RequestStart_Log=Fn.Report_OKXConnectSDKExtension_ConnectDapp_Button_Click=Fn.Report_OKXConnectSDKExtension_Module_Retry_Click=Fn.Report_ConnectDapp_ConnectAndSign_Click=Fn.Report_Proceed_QRCode_Click=Fn.Report_ChooseType_Download_Click=Fn.Report_ChooseType_ConnectWallet_Click=Fn.Report_Proceed_Retry_Click=Fn.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View=Fn.Report_OKXConnectSDKExtension_ConnectDapp_Page_View=Fn.Report_ChooseType_ConnectWallet_View=Fn.Report_Loading_ConnectWallet_View=Fn.Report_Proceed_QRCode_View=Fn.Report_Proceed_Proceed_View=void 0,Fn.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View",Fn.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View",Fn.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View",Fn.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View",Fn.Report_OKXConnectSDKExtension_ConnectDapp_Page_View="OKXConnectSDKExtension_ConnectDapp_Page_View",Fn.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View="OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View",Fn.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click",Fn.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click",Fn.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click",Fn.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click",Fn.Report_ConnectDapp_ConnectAndSign_Click="OKXConnectSDK_ConnectDapp_ConnectAndSign_Click",Fn.Report_OKXConnectSDKExtension_Module_Retry_Click="OKXConnectSDKExtension_Module_Retry_Click",Fn.Report_OKXConnectSDKExtension_ConnectDapp_Button_Click="OKXConnectSDKExtension_ConnectDapp_Button_Click",Fn.Report_OKXConnectSDK_RequestStart_Log="Report_OKXConnectSDK_RequestStart_View",Fn.Report_OKXConnectSDK_RequestSuccess_Log="Report_OKXConnectSDK_RequestSuccess_View",Fn.Report_OKXConnectSDK_RequestError_Log="Report_OKXConnectSDK_RequestError_View",Fn.Report_WalletType_Key="wallet_type"),Fn}var Db={},Fk;function Vfe(){if(Fk)return Db;Fk=1,Object.defineProperty(Db,"__esModule",{value:!0}),Db.checkMetaData=t;const e=Ns();function t(n){if(!n)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!n.name)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");return!0}return Db}var Kk;function As(){return Kk||(Kk=1,function(e){var t=Yd&&Yd.__createBinding||(Object.create?function(p,m,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(m,y);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(p,v,w)}:function(p,m,y,v){v===void 0&&(v=y),p[v]=m[y]}),n=Yd&&Yd.__exportStar||function(p,m){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&t(m,p,y)};Object.defineProperty(e,"__esModule",{value:!0}),e.getNamespaceKeyByChain=e.chainName2IdMap=e.replaceChainIdToChainName=e.replaceChainNameToChainId=e.checkMetaData=e.versionCompare=e.isBrowser=e.isOS=e.isMobileUserAgent=e.openDeeplinkWithFallback=e.openLinkBlank=e.openLink=e.getChainId=e.useShortLink=e.toSafeBase64FromBase64=e.isValidObject=e.isIos=e.base64decode=e.base64encode=e.splitToUint8Arrays=e.concatUint8Arrays=e.toHexString=e.hexToByteArray=e.getOKXLink=e.getAppWalletShortDeepLink=e.encodeTWAConnectURLParams=e.encodeConnectParams=e.openOKXTMAWalletlinkWithFallback=e.getTelegramWalletTWAUrl=e.getAppWalletDeepLink=e.encodeTelegramUrlParameters=e.isTelegramUrl=e.openOKXDeeplinkWithFallback=e.openOKXDeeplink=e.getUniversalLink=e.safeJsonStringify=e.safeJsonParse=e.getDefaultReporter=e.reportEvent=e.reportLog=e.logWarning=e.logError=e.logDebug=e.callForSuccess=void 0;var r=zfe();Object.defineProperty(e,"callForSuccess",{enumerable:!0,get:function(){return r.callForSuccess}});var i=Bi();Object.defineProperty(e,"logDebug",{enumerable:!0,get:function(){return i.logDebug}}),Object.defineProperty(e,"logError",{enumerable:!0,get:function(){return i.logError}}),Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return i.logWarning}}),Object.defineProperty(e,"reportLog",{enumerable:!0,get:function(){return i.reportLog}}),Object.defineProperty(e,"reportEvent",{enumerable:!0,get:function(){return i.reportEvent}}),Object.defineProperty(e,"getDefaultReporter",{enumerable:!0,get:function(){return i.getDefaultReporter}}),n(qfe(),e),n(r2(),e);var s=jh();Object.defineProperty(e,"safeJsonParse",{enumerable:!0,get:function(){return s.safeJsonParse}}),Object.defineProperty(e,"safeJsonStringify",{enumerable:!0,get:function(){return s.safeJsonStringify}});var o=W1();Object.defineProperty(e,"getUniversalLink",{enumerable:!0,get:function(){return o.getUniversalLink}}),Object.defineProperty(e,"openOKXDeeplink",{enumerable:!0,get:function(){return o.openOKXDeeplink}}),Object.defineProperty(e,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return o.openOKXDeeplinkWithFallback}}),Object.defineProperty(e,"isTelegramUrl",{enumerable:!0,get:function(){return o.isTelegramUrl}}),Object.defineProperty(e,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return o.encodeTelegramUrlParameters}}),Object.defineProperty(e,"getAppWalletDeepLink",{enumerable:!0,get:function(){return o.getAppWalletDeepLink}}),Object.defineProperty(e,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return o.getTelegramWalletTWAUrl}}),Object.defineProperty(e,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return o.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(e,"encodeConnectParams",{enumerable:!0,get:function(){return o.encodeConnectParams}}),Object.defineProperty(e,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return o.encodeTWAConnectURLParams}}),Object.defineProperty(e,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return o.getAppWalletShortDeepLink}}),Object.defineProperty(e,"getOKXLink",{enumerable:!0,get:function(){return o.getOKXLink}});var a=mc();Object.defineProperty(e,"hexToByteArray",{enumerable:!0,get:function(){return a.hexToByteArray}}),Object.defineProperty(e,"toHexString",{enumerable:!0,get:function(){return a.toHexString}}),Object.defineProperty(e,"concatUint8Arrays",{enumerable:!0,get:function(){return a.concatUint8Arrays}}),Object.defineProperty(e,"splitToUint8Arrays",{enumerable:!0,get:function(){return a.splitToUint8Arrays}}),Object.defineProperty(e,"base64encode",{enumerable:!0,get:function(){return a.base64encode}}),Object.defineProperty(e,"base64decode",{enumerable:!0,get:function(){return a.base64decode}}),Object.defineProperty(e,"isIos",{enumerable:!0,get:function(){return a.isIos}}),Object.defineProperty(e,"isValidObject",{enumerable:!0,get:function(){return a.isValidObject}}),Object.defineProperty(e,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return a.toSafeBase64FromBase64}}),Object.defineProperty(e,"useShortLink",{enumerable:!0,get:function(){return a.useShortLink}}),Object.defineProperty(e,"getChainId",{enumerable:!0,get:function(){return a.getChainId}});var c=v5();Object.defineProperty(e,"openLink",{enumerable:!0,get:function(){return c.openLink}}),Object.defineProperty(e,"openLinkBlank",{enumerable:!0,get:function(){return c.openLinkBlank}}),Object.defineProperty(e,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return c.openDeeplinkWithFallback}}),Object.defineProperty(e,"isMobileUserAgent",{enumerable:!0,get:function(){return c.isMobileUserAgent}}),Object.defineProperty(e,"isOS",{enumerable:!0,get:function(){return c.isOS}}),Object.defineProperty(e,"isBrowser",{enumerable:!0,get:function(){return c.isBrowser}});var u=n2();Object.defineProperty(e,"versionCompare",{enumerable:!0,get:function(){return u.versionCompare}});var d=Vfe();Object.defineProperty(e,"checkMetaData",{enumerable:!0,get:function(){return d.checkMetaData}});var h=mc();Object.defineProperty(e,"replaceChainNameToChainId",{enumerable:!0,get:function(){return h.replaceChainNameToChainId}}),Object.defineProperty(e,"replaceChainIdToChainName",{enumerable:!0,get:function(){return h.replaceChainIdToChainName}}),Object.defineProperty(e,"chainName2IdMap",{enumerable:!0,get:function(){return h.chainName2IdMap}}),Object.defineProperty(e,"getNamespaceKeyByChain",{enumerable:!0,get:function(){return h.getNamespaceKeyByChain}})}(Yd)),Yd}var jO={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Wk;function w5(){return Wk||(Wk=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,d){if(!i[u]){if(!r[u]){var h=typeof rh=="function"&&rh;if(!d&&h)return h(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(y){var v=r[u][1][y];return o(v||y)},m,m.exports,n,r,i,s)}return i[u].exports}for(var a=typeof rh=="function"&&rh,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var c=0,u=new o(y),d=s.document.createTextNode("");u.observe(d,{characterData:!0}),a=function(){d.data=c=++c%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var h=new s.MessageChannel;h.port1.onmessage=y,a=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var w=s.document.createElement("script");w.onreadystatechange=function(){y(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:a=function(){setTimeout(y,0)};var p,m=[];function y(){p=!0;for(var w,C,_=m.length;_;){for(C=m,m=[],w=-1;++w<_;)C[w]();_=m.length}p=!1}r.exports=v;function v(w){m.push(w)===1&&!p&&a()}}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];r.exports=h;function h(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,S!==o&&v(this,S)}h.prototype.catch=function(S){return this.then(null,S)},h.prototype.then=function(S,E){if(typeof S!="function"&&this.state===u||typeof E!="function"&&this.state===c)return this;var x=new this.constructor(o);if(this.state!==d){var N=this.state===u?S:E;m(x,N,this.outcome)}else this.queue.push(new p(x,S,E));return x};function p(S,E,x){this.promise=S,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},p.prototype.otherCallFulfilled=function(S){m(this.promise,this.onFulfilled,S)},p.prototype.callRejected=function(S){a.reject(this.promise,S)},p.prototype.otherCallRejected=function(S){m(this.promise,this.onRejected,S)};function m(S,E,x){s(function(){var N;try{N=E(x)}catch(A){return a.reject(S,A)}N===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,N)})}a.resolve=function(S,E){var x=w(y,E);if(x.status==="error")return a.reject(S,x.value);var N=x.value;if(N)v(S,N);else{S.state=u,S.outcome=E;for(var A=-1,D=S.queue.length;++A<D;)S.queue[A].callFulfilled(E)}return S},a.reject=function(S,E){S.state=c,S.outcome=E;for(var x=-1,N=S.queue.length;++x<N;)S.queue[x].callRejected(E);return S};function y(S){var E=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof E=="function")return function(){E.apply(S,arguments)}}function v(S,E){var x=!1;function N(U){x||(x=!0,a.reject(S,U))}function A(U){x||(x=!0,a.resolve(S,U))}function D(){E(A,N)}var k=w(D);k.status==="error"&&N(k.value)}function w(S,E){var x={};try{x.value=S(E),x.status="success"}catch(N){x.status="error",x.value=N}return x}h.resolve=C;function C(S){return S instanceof this?S:a.resolve(new this(o),S)}h.reject=_;function _(S){var E=new this(o);return a.reject(E,S)}h.all=O;function O(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,N=!1;if(!x)return this.resolve([]);for(var A=new Array(x),D=0,k=-1,U=new this(o);++k<x;)H(S[k],k);return U;function H(F,P){E.resolve(F).then(I,function($){N||(N=!0,a.reject(U,$))});function I($){A[P]=$,++D===x&&!N&&(N=!0,a.resolve(U,A))}}}h.race=R;function R(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,N=!1;if(!x)return this.resolve([]);for(var A=-1,D=new this(o);++A<x;)k(S[A]);return D;function k(U){E.resolve(U).then(function(H){N||(N=!0,a.resolve(D,H))},function(H){N||(N=!0,a.reject(D,H))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};function o(q,ne){if(!(q instanceof ne))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=a();function u(){try{if(!c||!c.open)return!1;var q=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ne=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!q||ne)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(q,ne){q=q||[],ne=ne||{};try{return new Blob(q,ne)}catch(ge){if(ge.name!=="TypeError")throw ge;for(var Q=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,pe=new Q,ve=0;ve<q.length;ve+=1)pe.append(q[ve]);return pe.getBlob(ne.type)}}typeof Promise>"u"&&n(3);var h=Promise;function p(q,ne){ne&&q.then(function(Q){ne(null,Q)},function(Q){ne(Q)})}function m(q,ne,Q){typeof ne=="function"&&q.then(ne),typeof Q=="function"&&q.catch(Q)}function y(q){return typeof q!="string"&&(console.warn(q+" used as a key, but it is not a string."),q=String(q)),q}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",C=void 0,_={},O=Object.prototype.toString,R="readonly",S="readwrite";function E(q){for(var ne=q.length,Q=new ArrayBuffer(ne),pe=new Uint8Array(Q),ve=0;ve<ne;ve++)pe[ve]=q.charCodeAt(ve);return Q}function x(q){return new h(function(ne){var Q=q.transaction(w,S),pe=d([""]);Q.objectStore(w).put(pe,"key"),Q.onabort=function(ve){ve.preventDefault(),ve.stopPropagation(),ne(!1)},Q.oncomplete=function(){var ve=navigator.userAgent.match(/Chrome\/(\d+)/),ge=navigator.userAgent.match(/Edge\//);ne(ge||!ve||parseInt(ve[1],10)>=43)}}).catch(function(){return!1})}function N(q){return typeof C=="boolean"?h.resolve(C):x(q).then(function(ne){return C=ne,C})}function A(q){var ne=_[q.name],Q={};Q.promise=new h(function(pe,ve){Q.resolve=pe,Q.reject=ve}),ne.deferredOperations.push(Q),ne.dbReady?ne.dbReady=ne.dbReady.then(function(){return Q.promise}):ne.dbReady=Q.promise}function D(q){var ne=_[q.name],Q=ne.deferredOperations.pop();if(Q)return Q.resolve(),Q.promise}function k(q,ne){var Q=_[q.name],pe=Q.deferredOperations.pop();if(pe)return pe.reject(ne),pe.promise}function U(q,ne){return new h(function(Q,pe){if(_[q.name]=_[q.name]||ae(),q.db)if(ne)A(q),q.db.close();else return Q(q.db);var ve=[q.name];ne&&ve.push(q.version);var ge=c.open.apply(c,ve);ne&&(ge.onupgradeneeded=function(Pe){var re=ge.result;try{re.createObjectStore(q.storeName),Pe.oldVersion<=1&&re.createObjectStore(w)}catch($e){if($e.name==="ConstraintError")console.warn('The database "'+q.name+'" has been upgraded from version '+Pe.oldVersion+" to version "+Pe.newVersion+', but the storage "'+q.storeName+'" already exists.');else throw $e}}),ge.onerror=function(Pe){Pe.preventDefault(),pe(ge.error)},ge.onsuccess=function(){var Pe=ge.result;Pe.onversionchange=function(re){re.target.close()},Q(Pe),D(q)}})}function H(q){return U(q,!1)}function F(q){return U(q,!0)}function P(q,ne){if(!q.db)return!0;var Q=!q.db.objectStoreNames.contains(q.storeName),pe=q.version<q.db.version,ve=q.version>q.db.version;if(pe&&(q.version!==ne&&console.warn('The database "'+q.name+`" can't be downgraded from version `+q.db.version+" to version "+q.version+"."),q.version=q.db.version),ve||Q){if(Q){var ge=q.db.version+1;ge>q.version&&(q.version=ge)}return!0}return!1}function I(q){return new h(function(ne,Q){var pe=new FileReader;pe.onerror=Q,pe.onloadend=function(ve){var ge=btoa(ve.target.result||"");ne({__local_forage_encoded_blob:!0,data:ge,type:q.type})},pe.readAsBinaryString(q)})}function $(q){var ne=E(atob(q.data));return d([ne],{type:q.type})}function W(q){return q&&q.__local_forage_encoded_blob}function X(q){var ne=this,Q=ne._initReady().then(function(){var pe=_[ne._dbInfo.name];if(pe&&pe.dbReady)return pe.dbReady});return m(Q,q,q),Q}function j(q){A(q);for(var ne=_[q.name],Q=ne.forages,pe=0;pe<Q.length;pe++){var ve=Q[pe];ve._dbInfo.db&&(ve._dbInfo.db.close(),ve._dbInfo.db=null)}return q.db=null,H(q).then(function(ge){return q.db=ge,P(q)?F(q):ge}).then(function(ge){q.db=ne.db=ge;for(var Pe=0;Pe<Q.length;Pe++)Q[Pe]._dbInfo.db=ge}).catch(function(ge){throw k(q,ge),ge})}function G(q,ne,Q,pe){pe===void 0&&(pe=1);try{var ve=q.db.transaction(q.storeName,ne);Q(null,ve)}catch(ge){if(pe>0&&(!q.db||ge.name==="InvalidStateError"||ge.name==="NotFoundError"))return h.resolve().then(function(){if(!q.db||ge.name==="NotFoundError"&&!q.db.objectStoreNames.contains(q.storeName)&&q.version<=q.db.version)return q.db&&(q.version=q.db.version+1),F(q)}).then(function(){return j(q).then(function(){G(q,ne,Q,pe-1)})}).catch(Q);Q(ge)}}function ae(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ce(q){var ne=this,Q={db:null};if(q)for(var pe in q)Q[pe]=q[pe];var ve=_[Q.name];ve||(ve=ae(),_[Q.name]=ve),ve.forages.push(ne),ne._initReady||(ne._initReady=ne.ready,ne.ready=X);var ge=[];function Pe(){return h.resolve()}for(var re=0;re<ve.forages.length;re++){var $e=ve.forages[re];$e!==ne&&ge.push($e._initReady().catch(Pe))}var Ue=ve.forages.slice(0);return h.all(ge).then(function(){return Q.db=ve.db,H(Q)}).then(function(ze){return Q.db=ze,P(Q,ne._defaultConfig.version)?F(Q):ze}).then(function(ze){Q.db=ve.db=ze,ne._dbInfo=Q;for(var Qe=0;Qe<Ue.length;Qe++){var wt=Ue[Qe];wt!==ne&&(wt._dbInfo.db=Q.db,wt._dbInfo.version=Q.version)}})}function oe(q,ne){var Q=this;q=y(q);var pe=new h(function(ve,ge){Q.ready().then(function(){G(Q._dbInfo,R,function(Pe,re){if(Pe)return ge(Pe);try{var $e=re.objectStore(Q._dbInfo.storeName),Ue=$e.get(q);Ue.onsuccess=function(){var ze=Ue.result;ze===void 0&&(ze=null),W(ze)&&(ze=$(ze)),ve(ze)},Ue.onerror=function(){ge(Ue.error)}}catch(ze){ge(ze)}})}).catch(ge)});return p(pe,ne),pe}function Ce(q,ne){var Q=this,pe=new h(function(ve,ge){Q.ready().then(function(){G(Q._dbInfo,R,function(Pe,re){if(Pe)return ge(Pe);try{var $e=re.objectStore(Q._dbInfo.storeName),Ue=$e.openCursor(),ze=1;Ue.onsuccess=function(){var Qe=Ue.result;if(Qe){var wt=Qe.value;W(wt)&&(wt=$(wt));var Tt=q(wt,Qe.key,ze++);Tt!==void 0?ve(Tt):Qe.continue()}else ve()},Ue.onerror=function(){ge(Ue.error)}}catch(Qe){ge(Qe)}})}).catch(ge)});return p(pe,ne),pe}function Ae(q,ne,Q){var pe=this;q=y(q);var ve=new h(function(ge,Pe){var re;pe.ready().then(function(){return re=pe._dbInfo,O.call(ne)==="[object Blob]"?N(re.db).then(function($e){return $e?ne:I(ne)}):ne}).then(function($e){G(pe._dbInfo,S,function(Ue,ze){if(Ue)return Pe(Ue);try{var Qe=ze.objectStore(pe._dbInfo.storeName);$e===null&&($e=void 0);var wt=Qe.put($e,q);ze.oncomplete=function(){$e===void 0&&($e=null),ge($e)},ze.onabort=ze.onerror=function(){var Tt=wt.error?wt.error:wt.transaction.error;Pe(Tt)}}catch(Tt){Pe(Tt)}})}).catch(Pe)});return p(ve,Q),ve}function ue(q,ne){var Q=this;q=y(q);var pe=new h(function(ve,ge){Q.ready().then(function(){G(Q._dbInfo,S,function(Pe,re){if(Pe)return ge(Pe);try{var $e=re.objectStore(Q._dbInfo.storeName),Ue=$e.delete(q);re.oncomplete=function(){ve()},re.onerror=function(){ge(Ue.error)},re.onabort=function(){var ze=Ue.error?Ue.error:Ue.transaction.error;ge(ze)}}catch(ze){ge(ze)}})}).catch(ge)});return p(pe,ne),pe}function Y(q){var ne=this,Q=new h(function(pe,ve){ne.ready().then(function(){G(ne._dbInfo,S,function(ge,Pe){if(ge)return ve(ge);try{var re=Pe.objectStore(ne._dbInfo.storeName),$e=re.clear();Pe.oncomplete=function(){pe()},Pe.onabort=Pe.onerror=function(){var Ue=$e.error?$e.error:$e.transaction.error;ve(Ue)}}catch(Ue){ve(Ue)}})}).catch(ve)});return p(Q,q),Q}function ee(q){var ne=this,Q=new h(function(pe,ve){ne.ready().then(function(){G(ne._dbInfo,R,function(ge,Pe){if(ge)return ve(ge);try{var re=Pe.objectStore(ne._dbInfo.storeName),$e=re.count();$e.onsuccess=function(){pe($e.result)},$e.onerror=function(){ve($e.error)}}catch(Ue){ve(Ue)}})}).catch(ve)});return p(Q,q),Q}function B(q,ne){var Q=this,pe=new h(function(ve,ge){if(q<0){ve(null);return}Q.ready().then(function(){G(Q._dbInfo,R,function(Pe,re){if(Pe)return ge(Pe);try{var $e=re.objectStore(Q._dbInfo.storeName),Ue=!1,ze=$e.openKeyCursor();ze.onsuccess=function(){var Qe=ze.result;if(!Qe){ve(null);return}q===0||Ue?ve(Qe.key):(Ue=!0,Qe.advance(q))},ze.onerror=function(){ge(ze.error)}}catch(Qe){ge(Qe)}})}).catch(ge)});return p(pe,ne),pe}function te(q){var ne=this,Q=new h(function(pe,ve){ne.ready().then(function(){G(ne._dbInfo,R,function(ge,Pe){if(ge)return ve(ge);try{var re=Pe.objectStore(ne._dbInfo.storeName),$e=re.openKeyCursor(),Ue=[];$e.onsuccess=function(){var ze=$e.result;if(!ze){pe(Ue);return}Ue.push(ze.key),ze.continue()},$e.onerror=function(){ve($e.error)}}catch(ze){ve(ze)}})}).catch(ve)});return p(Q,q),Q}function we(q,ne){ne=v.apply(this,arguments);var Q=this.config();q=typeof q!="function"&&q||{},q.name||(q.name=q.name||Q.name,q.storeName=q.storeName||Q.storeName);var pe=this,ve;if(!q.name)ve=h.reject("Invalid arguments");else{var ge=q.name===Q.name&&pe._dbInfo.db,Pe=ge?h.resolve(pe._dbInfo.db):H(q).then(function(re){var $e=_[q.name],Ue=$e.forages;$e.db=re;for(var ze=0;ze<Ue.length;ze++)Ue[ze]._dbInfo.db=re;return re});q.storeName?ve=Pe.then(function(re){if(re.objectStoreNames.contains(q.storeName)){var $e=re.version+1;A(q);var Ue=_[q.name],ze=Ue.forages;re.close();for(var Qe=0;Qe<ze.length;Qe++){var wt=ze[Qe];wt._dbInfo.db=null,wt._dbInfo.version=$e}var Tt=new h(function(tn,nn){var dn=c.open(q.name,$e);dn.onerror=function($n){var pr=dn.result;pr.close(),nn($n)},dn.onupgradeneeded=function(){var $n=dn.result;$n.deleteObjectStore(q.storeName)},dn.onsuccess=function(){var $n=dn.result;$n.close(),tn($n)}});return Tt.then(function(tn){Ue.db=tn;for(var nn=0;nn<ze.length;nn++){var dn=ze[nn];dn._dbInfo.db=tn,D(dn._dbInfo)}}).catch(function(tn){throw(k(q,tn)||h.resolve()).catch(function(){}),tn})}}):ve=Pe.then(function(re){A(q);var $e=_[q.name],Ue=$e.forages;re.close();for(var ze=0;ze<Ue.length;ze++){var Qe=Ue[ze];Qe._dbInfo.db=null}var wt=new h(function(Tt,tn){var nn=c.deleteDatabase(q.name);nn.onerror=function(){var dn=nn.result;dn&&dn.close(),tn(nn.error)},nn.onblocked=function(){console.warn('dropInstance blocked for database "'+q.name+'" until all open connections are closed')},nn.onsuccess=function(){var dn=nn.result;dn&&dn.close(),Tt(dn)}});return wt.then(function(Tt){$e.db=Tt;for(var tn=0;tn<Ue.length;tn++){var nn=Ue[tn];D(nn._dbInfo)}}).catch(function(Tt){throw(k(q,Tt)||h.resolve()).catch(function(){}),Tt})})}return p(ve,ne),ve}var Ne={_driver:"asyncStorage",_initStorage:ce,_support:u(),iterate:Ce,getItem:oe,setItem:Ae,removeItem:ue,clear:Y,length:ee,key:B,keys:te,dropInstance:we};function Fe(){return typeof openDatabase=="function"}var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Et="~~local_forage_type~",Nt=/^~~local_forage_type~([^~]+)~/,at="__lfsc__:",Kt=at.length,en="arbf",ln="blob",Gt="si08",Wt="ui08",Ht="uic8",pn="si16",ct="si32",yt="ur16",vt="ui32",zt="fl32",In="fl64",gn=Kt+en.length,Ft=Object.prototype.toString;function _t(q){var ne=q.length*.75,Q=q.length,pe,ve=0,ge,Pe,re,$e;q[q.length-1]==="="&&(ne--,q[q.length-2]==="="&&ne--);var Ue=new ArrayBuffer(ne),ze=new Uint8Array(Ue);for(pe=0;pe<Q;pe+=4)ge=Ve.indexOf(q[pe]),Pe=Ve.indexOf(q[pe+1]),re=Ve.indexOf(q[pe+2]),$e=Ve.indexOf(q[pe+3]),ze[ve++]=ge<<2|Pe>>4,ze[ve++]=(Pe&15)<<4|re>>2,ze[ve++]=(re&3)<<6|$e&63;return Ue}function un(q){var ne=new Uint8Array(q),Q="",pe;for(pe=0;pe<ne.length;pe+=3)Q+=Ve[ne[pe]>>2],Q+=Ve[(ne[pe]&3)<<4|ne[pe+1]>>4],Q+=Ve[(ne[pe+1]&15)<<2|ne[pe+2]>>6],Q+=Ve[ne[pe+2]&63];return ne.length%3===2?Q=Q.substring(0,Q.length-1)+"=":ne.length%3===1&&(Q=Q.substring(0,Q.length-2)+"=="),Q}function xr(q,ne){var Q="";if(q&&(Q=Ft.call(q)),q&&(Q==="[object ArrayBuffer]"||q.buffer&&Ft.call(q.buffer)==="[object ArrayBuffer]")){var pe,ve=at;q instanceof ArrayBuffer?(pe=q,ve+=en):(pe=q.buffer,Q==="[object Int8Array]"?ve+=Gt:Q==="[object Uint8Array]"?ve+=Wt:Q==="[object Uint8ClampedArray]"?ve+=Ht:Q==="[object Int16Array]"?ve+=pn:Q==="[object Uint16Array]"?ve+=yt:Q==="[object Int32Array]"?ve+=ct:Q==="[object Uint32Array]"?ve+=vt:Q==="[object Float32Array]"?ve+=zt:Q==="[object Float64Array]"?ve+=In:ne(new Error("Failed to get type for BinaryArray"))),ne(ve+un(pe))}else if(Q==="[object Blob]"){var ge=new FileReader;ge.onload=function(){var Pe=Et+q.type+"~"+un(this.result);ne(at+ln+Pe)},ge.readAsArrayBuffer(q)}else try{ne(JSON.stringify(q))}catch(Pe){console.error("Couldn't convert value into a JSON string: ",q),ne(null,Pe)}}function Qn(q){if(q.substring(0,Kt)!==at)return JSON.parse(q);var ne=q.substring(gn),Q=q.substring(Kt,gn),pe;if(Q===ln&&Nt.test(ne)){var ve=ne.match(Nt);pe=ve[1],ne=ne.substring(ve[0].length)}var ge=_t(ne);switch(Q){case en:return ge;case ln:return d([ge],{type:pe});case Gt:return new Int8Array(ge);case Wt:return new Uint8Array(ge);case Ht:return new Uint8ClampedArray(ge);case pn:return new Int16Array(ge);case yt:return new Uint16Array(ge);case ct:return new Int32Array(ge);case vt:return new Uint32Array(ge);case zt:return new Float32Array(ge);case In:return new Float64Array(ge);default:throw new Error("Unkown type: "+Q)}}var Bn={serialize:xr,deserialize:Qn,stringToBuffer:_t,bufferToString:un};function ei(q,ne,Q,pe){q.executeSql("CREATE TABLE IF NOT EXISTS "+ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Q,pe)}function wi(q){var ne=this,Q={db:null};if(q)for(var pe in q)Q[pe]=typeof q[pe]!="string"?q[pe].toString():q[pe];var ve=new h(function(ge,Pe){try{Q.db=openDatabase(Q.name,String(Q.version),Q.description,Q.size)}catch(re){return Pe(re)}Q.db.transaction(function(re){ei(re,Q,function(){ne._dbInfo=Q,ge()},function($e,Ue){Pe(Ue)})},Pe)});return Q.serializer=Bn,ve}function Jr(q,ne,Q,pe,ve,ge){q.executeSql(Q,pe,ve,function(Pe,re){re.code===re.SYNTAX_ERR?Pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ne.storeName],function($e,Ue){Ue.rows.length?ge($e,re):ei($e,ne,function(){$e.executeSql(Q,pe,ve,ge)},ge)},ge):ge(Pe,re)},ge)}function Xi(q,ne){var Q=this;q=y(q);var pe=new h(function(ve,ge){Q.ready().then(function(){var Pe=Q._dbInfo;Pe.db.transaction(function(re){Jr(re,Pe,"SELECT * FROM "+Pe.storeName+" WHERE key = ? LIMIT 1",[q],function($e,Ue){var ze=Ue.rows.length?Ue.rows.item(0).value:null;ze&&(ze=Pe.serializer.deserialize(ze)),ve(ze)},function($e,Ue){ge(Ue)})})}).catch(ge)});return p(pe,ne),pe}function ks(q,ne){var Q=this,pe=new h(function(ve,ge){Q.ready().then(function(){var Pe=Q._dbInfo;Pe.db.transaction(function(re){Jr(re,Pe,"SELECT * FROM "+Pe.storeName,[],function($e,Ue){for(var ze=Ue.rows,Qe=ze.length,wt=0;wt<Qe;wt++){var Tt=ze.item(wt),tn=Tt.value;if(tn&&(tn=Pe.serializer.deserialize(tn)),tn=q(tn,Tt.key,wt+1),tn!==void 0){ve(tn);return}}ve()},function($e,Ue){ge(Ue)})})}).catch(ge)});return p(pe,ne),pe}function Jn(q,ne,Q,pe){var ve=this;q=y(q);var ge=new h(function(Pe,re){ve.ready().then(function(){ne===void 0&&(ne=null);var $e=ne,Ue=ve._dbInfo;Ue.serializer.serialize(ne,function(ze,Qe){Qe?re(Qe):Ue.db.transaction(function(wt){Jr(wt,Ue,"INSERT OR REPLACE INTO "+Ue.storeName+" (key, value) VALUES (?, ?)",[q,ze],function(){Pe($e)},function(Tt,tn){re(tn)})},function(wt){if(wt.code===wt.QUOTA_ERR){if(pe>0){Pe(Jn.apply(ve,[q,$e,Q,pe-1]));return}re(wt)}})})}).catch(re)});return p(ge,Q),ge}function Rn(q,ne,Q){return Jn.apply(this,[q,ne,Q,1])}function Dn(q,ne){var Q=this;q=y(q);var pe=new h(function(ve,ge){Q.ready().then(function(){var Pe=Q._dbInfo;Pe.db.transaction(function(re){Jr(re,Pe,"DELETE FROM "+Pe.storeName+" WHERE key = ?",[q],function(){ve()},function($e,Ue){ge(Ue)})})}).catch(ge)});return p(pe,ne),pe}function rr(q){var ne=this,Q=new h(function(pe,ve){ne.ready().then(function(){var ge=ne._dbInfo;ge.db.transaction(function(Pe){Jr(Pe,ge,"DELETE FROM "+ge.storeName,[],function(){pe()},function(re,$e){ve($e)})})}).catch(ve)});return p(Q,q),Q}function Sr(q){var ne=this,Q=new h(function(pe,ve){ne.ready().then(function(){var ge=ne._dbInfo;ge.db.transaction(function(Pe){Jr(Pe,ge,"SELECT COUNT(key) as c FROM "+ge.storeName,[],function(re,$e){var Ue=$e.rows.item(0).c;pe(Ue)},function(re,$e){ve($e)})})}).catch(ve)});return p(Q,q),Q}function me(q,ne){var Q=this,pe=new h(function(ve,ge){Q.ready().then(function(){var Pe=Q._dbInfo;Pe.db.transaction(function(re){Jr(re,Pe,"SELECT key FROM "+Pe.storeName+" WHERE id = ? LIMIT 1",[q+1],function($e,Ue){var ze=Ue.rows.length?Ue.rows.item(0).key:null;ve(ze)},function($e,Ue){ge(Ue)})})}).catch(ge)});return p(pe,ne),pe}function Ee(q){var ne=this,Q=new h(function(pe,ve){ne.ready().then(function(){var ge=ne._dbInfo;ge.db.transaction(function(Pe){Jr(Pe,ge,"SELECT key FROM "+ge.storeName,[],function(re,$e){for(var Ue=[],ze=0;ze<$e.rows.length;ze++)Ue.push($e.rows.item(ze).key);pe(Ue)},function(re,$e){ve($e)})})}).catch(ve)});return p(Q,q),Q}function Te(q){return new h(function(ne,Q){q.transaction(function(pe){pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ve,ge){for(var Pe=[],re=0;re<ge.rows.length;re++)Pe.push(ge.rows.item(re).name);ne({db:q,storeNames:Pe})},function(ve,ge){Q(ge)})},function(pe){Q(pe)})})}function je(q,ne){ne=v.apply(this,arguments);var Q=this.config();q=typeof q!="function"&&q||{},q.name||(q.name=q.name||Q.name,q.storeName=q.storeName||Q.storeName);var pe=this,ve;return q.name?ve=new h(function(ge){var Pe;q.name===Q.name?Pe=pe._dbInfo.db:Pe=openDatabase(q.name,"","",0),q.storeName?ge({db:Pe,storeNames:[q.storeName]}):ge(Te(Pe))}).then(function(ge){return new h(function(Pe,re){ge.db.transaction(function($e){function Ue(Tt){return new h(function(tn,nn){$e.executeSql("DROP TABLE IF EXISTS "+Tt,[],function(){tn()},function(dn,$n){nn($n)})})}for(var ze=[],Qe=0,wt=ge.storeNames.length;Qe<wt;Qe++)ze.push(Ue(ge.storeNames[Qe]));h.all(ze).then(function(){Pe()}).catch(function(Tt){re(Tt)})},function($e){re($e)})})}):ve=h.reject("Invalid arguments"),p(ve,ne),ve}var Ge={_driver:"webSQLStorage",_initStorage:wi,_support:Fe(),iterate:ks,getItem:Xi,setItem:Rn,removeItem:Dn,clear:rr,length:Sr,key:me,keys:Ee,dropInstance:je};function K(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function J(q,ne){var Q=q.name+"/";return q.storeName!==ne.storeName&&(Q+=q.storeName+"/"),Q}function V(){var q="_localforage_support_test";try{return localStorage.setItem(q,!0),localStorage.removeItem(q),!1}catch{return!0}}function L(){return!V()||localStorage.length>0}function Z(q){var ne=this,Q={};if(q)for(var pe in q)Q[pe]=q[pe];return Q.keyPrefix=J(q,ne._defaultConfig),L()?(ne._dbInfo=Q,Q.serializer=Bn,h.resolve()):h.reject()}function fe(q){var ne=this,Q=ne.ready().then(function(){for(var pe=ne._dbInfo.keyPrefix,ve=localStorage.length-1;ve>=0;ve--){var ge=localStorage.key(ve);ge.indexOf(pe)===0&&localStorage.removeItem(ge)}});return p(Q,q),Q}function ye(q,ne){var Q=this;q=y(q);var pe=Q.ready().then(function(){var ve=Q._dbInfo,ge=localStorage.getItem(ve.keyPrefix+q);return ge&&(ge=ve.serializer.deserialize(ge)),ge});return p(pe,ne),pe}function Ie(q,ne){var Q=this,pe=Q.ready().then(function(){for(var ve=Q._dbInfo,ge=ve.keyPrefix,Pe=ge.length,re=localStorage.length,$e=1,Ue=0;Ue<re;Ue++){var ze=localStorage.key(Ue);if(ze.indexOf(ge)===0){var Qe=localStorage.getItem(ze);if(Qe&&(Qe=ve.serializer.deserialize(Qe)),Qe=q(Qe,ze.substring(Pe),$e++),Qe!==void 0)return Qe}}});return p(pe,ne),pe}function We(q,ne){var Q=this,pe=Q.ready().then(function(){var ve=Q._dbInfo,ge;try{ge=localStorage.key(q)}catch{ge=null}return ge&&(ge=ge.substring(ve.keyPrefix.length)),ge});return p(pe,ne),pe}function ut(q){var ne=this,Q=ne.ready().then(function(){for(var pe=ne._dbInfo,ve=localStorage.length,ge=[],Pe=0;Pe<ve;Pe++){var re=localStorage.key(Pe);re.indexOf(pe.keyPrefix)===0&&ge.push(re.substring(pe.keyPrefix.length))}return ge});return p(Q,q),Q}function rt(q){var ne=this,Q=ne.keys().then(function(pe){return pe.length});return p(Q,q),Q}function sn(q,ne){var Q=this;q=y(q);var pe=Q.ready().then(function(){var ve=Q._dbInfo;localStorage.removeItem(ve.keyPrefix+q)});return p(pe,ne),pe}function Ze(q,ne,Q){var pe=this;q=y(q);var ve=pe.ready().then(function(){ne===void 0&&(ne=null);var ge=ne;return new h(function(Pe,re){var $e=pe._dbInfo;$e.serializer.serialize(ne,function(Ue,ze){if(ze)re(ze);else try{localStorage.setItem($e.keyPrefix+q,Ue),Pe(ge)}catch(Qe){(Qe.name==="QuotaExceededError"||Qe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&re(Qe),re(Qe)}})})});return p(ve,Q),ve}function qt(q,ne){if(ne=v.apply(this,arguments),q=typeof q!="function"&&q||{},!q.name){var Q=this.config();q.name=q.name||Q.name,q.storeName=q.storeName||Q.storeName}var pe=this,ve;return q.name?ve=new h(function(ge){q.storeName?ge(J(q,pe._defaultConfig)):ge(q.name+"/")}).then(function(ge){for(var Pe=localStorage.length-1;Pe>=0;Pe--){var re=localStorage.key(Pe);re.indexOf(ge)===0&&localStorage.removeItem(re)}}):ve=h.reject("Invalid arguments"),p(ve,ne),ve}var Ut={_driver:"localStorageWrapper",_initStorage:Z,_support:K(),iterate:Ie,getItem:ye,setItem:Ze,removeItem:sn,clear:fe,length:rt,key:We,keys:ut,dropInstance:qt},Xt=function(ne,Q){return ne===Q||typeof ne=="number"&&typeof Q=="number"&&isNaN(ne)&&isNaN(Q)},Bt=function(ne,Q){for(var pe=ne.length,ve=0;ve<pe;){if(Xt(ne[ve],Q))return!0;ve++}return!1},jt=Array.isArray||function(q){return Object.prototype.toString.call(q)==="[object Array]"},Ct={},Jt={},dt={INDEXEDDB:Ne,WEBSQL:Ge,LOCALSTORAGE:Ut},At=[dt.INDEXEDDB._driver,dt.WEBSQL._driver,dt.LOCALSTORAGE._driver],Ye=["dropInstance"],st=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ye),xt={description:"",driver:At.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(q,ne){q[ne]=function(){var Q=arguments;return q.ready().then(function(){return q[ne].apply(q,Q)})}}function ke(){for(var q=1;q<arguments.length;q++){var ne=arguments[q];if(ne)for(var Q in ne)ne.hasOwnProperty(Q)&&(jt(ne[Q])?arguments[0][Q]=ne[Q].slice():arguments[0][Q]=ne[Q])}return arguments[0]}var Re=function(){function q(ne){o(this,q);for(var Q in dt)if(dt.hasOwnProperty(Q)){var pe=dt[Q],ve=pe._driver;this[Q]=ve,Ct[ve]||this.defineDriver(pe)}this._defaultConfig=ke({},xt),this._config=ke({},this._defaultConfig,ne),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return q.prototype.config=function(Q){if((typeof Q>"u"?"undefined":s(Q))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var pe in Q){if(pe==="storeName"&&(Q[pe]=Q[pe].replace(/\W/g,"_")),pe==="version"&&typeof Q[pe]!="number")return new Error("Database version must be a number.");this._config[pe]=Q[pe]}return"driver"in Q&&Q.driver?this.setDriver(this._config.driver):!0}else return typeof Q=="string"?this._config[Q]:this._config},q.prototype.defineDriver=function(Q,pe,ve){var ge=new h(function(Pe,re){try{var $e=Q._driver,Ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Q._driver){re(Ue);return}for(var ze=st.concat("_initStorage"),Qe=0,wt=ze.length;Qe<wt;Qe++){var Tt=ze[Qe],tn=!Bt(Ye,Tt);if((tn||Q[Tt])&&typeof Q[Tt]!="function"){re(Ue);return}}var nn=function(){for(var pr=function(ip){return function(){var jg=new Error("Method "+ip+" is not implemented by the current driver"),sp=h.reject(jg);return p(sp,arguments[arguments.length-1]),sp}},Fr=0,ci=Ye.length;Fr<ci;Fr++){var li=Ye[Fr];Q[li]||(Q[li]=pr(li))}};nn();var dn=function(pr){Ct[$e]&&console.info("Redefining LocalForage driver: "+$e),Ct[$e]=Q,Jt[$e]=pr,Pe()};"_support"in Q?Q._support&&typeof Q._support=="function"?Q._support().then(dn,re):dn(!!Q._support):dn(!0)}catch($n){re($n)}});return m(ge,pe,ve),ge},q.prototype.driver=function(){return this._driver||null},q.prototype.getDriver=function(Q,pe,ve){var ge=Ct[Q]?h.resolve(Ct[Q]):h.reject(new Error("Driver not found."));return m(ge,pe,ve),ge},q.prototype.getSerializer=function(Q){var pe=h.resolve(Bn);return m(pe,Q),pe},q.prototype.ready=function(Q){var pe=this,ve=pe._driverSet.then(function(){return pe._ready===null&&(pe._ready=pe._initDriver()),pe._ready});return m(ve,Q,Q),ve},q.prototype.setDriver=function(Q,pe,ve){var ge=this;jt(Q)||(Q=[Q]);var Pe=this._getSupportedDrivers(Q);function re(){ge._config.driver=ge.driver()}function $e(Qe){return ge._extend(Qe),re(),ge._ready=ge._initStorage(ge._config),ge._ready}function Ue(Qe){return function(){var wt=0;function Tt(){for(;wt<Qe.length;){var tn=Qe[wt];return wt++,ge._dbInfo=null,ge._ready=null,ge.getDriver(tn).then($e).catch(Tt)}re();var nn=new Error("No available storage method found.");return ge._driverSet=h.reject(nn),ge._driverSet}return Tt()}}var ze=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=ze.then(function(){var Qe=Pe[0];return ge._dbInfo=null,ge._ready=null,ge.getDriver(Qe).then(function(wt){ge._driver=wt._driver,re(),ge._wrapLibraryMethodsWithReady(),ge._initDriver=Ue(Pe)})}).catch(function(){re();var Qe=new Error("No available storage method found.");return ge._driverSet=h.reject(Qe),ge._driverSet}),m(this._driverSet,pe,ve),this._driverSet},q.prototype.supports=function(Q){return!!Jt[Q]},q.prototype._extend=function(Q){ke(this,Q)},q.prototype._getSupportedDrivers=function(Q){for(var pe=[],ve=0,ge=Q.length;ve<ge;ve++){var Pe=Q[ve];this.supports(Pe)&&pe.push(Pe)}return pe},q.prototype._wrapLibraryMethodsWithReady=function(){for(var Q=0,pe=st.length;Q<pe;Q++)ft(this,st[Q])},q.prototype.createInstance=function(Q){return new q(Q)},q}(),qe=new Re;r.exports=qe},{3:3}]},{},[4])(4)})}(jO)),jO.exports}var Hk;function r2(){return Hk||(Hk=1,function(e){var t=Xd&&Xd.__awaiter||function(_,O,R,S){function E(x){return x instanceof R?x:new R(function(N){N(x)})}return new(R||(R=Promise))(function(x,N){function A(U){try{k(S.next(U))}catch(H){N(H)}}function D(U){try{k(S.throw(U))}catch(H){N(H)}}function k(U){U.done?x(U.value):E(U.value).then(A,D)}k((S=S.apply(_,O||[])).next())})},n=Xd&&Xd.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXReporter=e.OKXReportSide=e.OKXReportType=e.versionStr=void 0;const r=n(Mfe()),i=Bi(),s=W1(),o=As(),a=n(w5()),c=n(bg());e.versionStr="1.8.5";const u=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],d="OKX_RP_CK",h="OKX_RP_UUID_CK",p=100,v={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};e.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},e.OKXReportSide={DAPP:"dapp",WALLET:"wallet"};const w=(_,...O)=>t(void 0,[_,...O],void 0,function*(R,S={},E=5e3){for(const x of R)try{const N=new AbortController,A=N.signal,D=(0,r.default)(x,Object.assign(Object.assign({},S),{signal:A})),k=new Promise((H,F)=>setTimeout(()=>{N.abort(),F(new Error("Request timed out"))},E)),U=yield Promise.race([D,k]);if(U.ok)return U;if(U.status==502)return console.error("Fetch error status 502",x),U}catch(N){console.error(`Fetch error for ${x}:`,N)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")});class C{constructor(){this.currentSide=e.OKXReportSide.DAPP,this.currentVersion=e.versionStr,this.storage=a.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID=(0,o.toHexString)(c.default.randomBytes(16))}configVersionAndSide(O,R,S){this.currentVersion=O+i.logVersion,this.currentSide=R,this.appName=S}get recordCacheKey(){return d+"@"+this.appName}get reportPlatform(){return(0,o.isMobileUserAgent)()?(0,o.isIos)()?"iOS":"android":"pc"}beginReport(){return t(this,void 0,void 0,function*(){this.startErrorCatching();let O=yield this.storage.getItem(this.recordCacheKey),R=yield this.storage.getItem(h);R?this.currentUUID=R:this.storage.setItem(h,this.currentUUID),O&&(this.recordList=O,(0,i.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())})}startErrorCatching(){(0,s.getWindow)()&&(0,i.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(O){return t(this,void 0,void 0,function*(){return new Promise((R,S)=>t(this,void 0,void 0,function*(){try{const E=JSON.stringify(O);(0,i.logDebug)("[REPORT] record: ",E);const x=yield w(u,Object.assign(Object.assign({},v),{body:E}));(0,i.logDebug)("[REPORT] get rsp:",x),x&&x.status&&x.status==200?(this.recordList=this.recordList.filter(N=>N.timestamp!=O.timestamp||N.content!=O.content),yield this.storage.setItem(this.recordCacheKey,this.recordList),R(!0)):S(!1)}catch(E){(0,i.logDebug)("send record error:",E),R(!0)}}))})}sendRecordContent(O,R,S){return t(this,arguments,void 0,function*(E,x,N,A=void 0,D=void 0,k=void 0,U=void 0,H=void 0,F=void 0){var P,I,$,W;let X=(P=(0,s.getWindow)())===null||P===void 0?void 0:P.location.pathname,j=(I=(0,s.getWindow)())===null||I===void 0?void 0:I.location.origin;X&&j&&(j=j+X);let G=($=(0,s.getWindow)())===null||$===void 0?void 0:$.navigator.language,ae=(W=(0,s.getWindow)())===null||W===void 0?void 0:W.navigator.userAgent,ce=this.reportPlatform,oe={uuid:this.currentUUID,version:this.currentVersion,content:E,action:N,side:this.currentSide,timestamp:new Date().getTime(),url:j,lang:G,type:x,platform:ce,"user-agent":ae,reverved1:A,reverved2:D,reverved3:k,reverved4:U,reverved5:H,reverved6:F};yield this.markRecordItem(oe),yield this.sendRecord(oe)})}sendCachedRecords(){return t(this,void 0,void 0,function*(){return new Promise((O,R)=>t(this,void 0,void 0,function*(){let S=this.recordList.map(E=>this.sendRecord(E));(0,i.logDebug)("[REPORT] submit & clean recorded caches begin @",new Date().toUTCString()),Promise.allSettled(S).then(E=>{(0,i.logDebug)("[REPORT] submit & clean recorded caches ends @",new Date().toUTCString());let x=[];E.forEach((N,A)=>{N.status=="rejected"&&x.push(A)}),this.recordList=this.recordList.filter((N,A)=>!x.includes(A)),this.storage.setItem(this.recordCacheKey,this.recordList).then(function(N){O()}).catch(function(N){R(N)})})}))})}markRecordItem(O){return t(this,void 0,void 0,function*(){if(this.recordList.push(O),this.recordList.length>p){let R=this.recordList.length-p;this.recordList.splice(0,R)}return new Promise((R,S)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then(function(E){R(O)}).catch(function(E){S(E)})})})}}e.OKXReporter=C}(Xd)),Xd}const Xfe="1.8.5",Gfe={version:Xfe};var zk;function Bi(){if(zk)return Ko;zk=1;var e=Ko&&Ko.__awaiter||function(m,y,v,w){function C(_){return _ instanceof v?_:new v(function(O){O(_)})}return new(v||(v=Promise))(function(_,O){function R(x){try{E(w.next(x))}catch(N){O(N)}}function S(x){try{E(w.throw(x))}catch(N){O(N)}}function E(x){x.done?_(x.value):C(x.value).then(R,S)}E((w=w.apply(m,y||[])).next())})};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.logVersion=void 0,Ko.getDefaultReporter=s,Ko.logDebug=c,Ko.logError=u,Ko.logWarning=d,Ko.reportEvent=h,Ko.reportLog=p;const t=!1,n=!1,r=r2(),i=new r.OKXReporter;function s(){return i}const a=Gfe.version;function c(...m){if(typeof console<"u")try{(t||window?.okxLogDebug)&&console.log(`[OKX_CONNECT_SDK] ${a} `,...m)}catch{}}function u(...m){if(typeof console<"u")try{if((t||window?.okxLogDebug)&&console.error(`[OKX_CONNECT_SDK] ${a} `,...m),n||!t){let y="";y+=[...m].reduce((v,w)=>{typeof w=="string"?v+=","+w:typeof w=="object"&&(v+=JSON.stringify(w))}),i.sendRecordContent(y,r.OKXReportType.LOG,"")}}catch{}}function d(...m){if(typeof console<"u")try{(t||window?.okxLogDebug)&&console.warn(`[OKX_CONNECT_SDK] ${a} `,...m)}catch{}}function h(m,y,v){return e(this,arguments,void 0,function*(w,C,_,O=void 0,R=void 0,S=void 0,E=void 0,x=void 0,N=void 0){try{yield i.sendRecordContent(_,w,C,O,R,S,E,x,N)}catch{}})}function p(m){return e(this,arguments,void 0,function*(y,v="default"){})}return Ko.logVersion=a,Ko}var qk;function jh(){if(qk)return Hm;qk=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.safeJsonParse=r,Hm.safeJsonStringify=i;const e=Bi(),t=s=>JSON.stringify(s,(o,a)=>typeof a=="bigint"?a.toString()+"n":a),n=s=>{const o=/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,a=s.replace(o,(c,u)=>`:"${u}n"`);try{return JSON.parse(a,(c,u)=>typeof u=="string"&&u.match(/^\d+n$/)?BigInt(u.substring(0,u.length-1)):u)}catch{return JSON.parse(s)}};function r(s){if(typeof s!="string")throw(0,e.logDebug)(s),new Error(`Cannot safe json parse value of type ${typeof s}`);try{return n(s)}catch(o){return console.error("safeJsonParse error:",o),s}}function i(s){return typeof s=="string"?s:t(s)||""}return Hm}var Qd={};const Jfe=LC(Nfe);var Vk;function uz(){if(Vk)return Qd;Vk=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.okxfromString=n,Qd.okxtoString=r,Qd.alloc=i,Qd.allocUnsafe=s;const e=Jfe,t=Bi();function n(d,h="utf8"){const p=u[h];if((0,t.logDebug)("okxfromstring ====> "),!p)throw new Error(`Unsupported encoding "${h}"`);return p.decoder.decode(`${p.prefix}${d}`)}function r(d,h="utf8"){const p=u[h];if((0,t.logDebug)("okxtoString ====> "),!p)throw new Error(`Unsupported encoding "${h}"`);return p.encoder.encode(d).substring(1)}function i(d=0){return new Uint8Array(d)}function s(d=0){return new Uint8Array(d)}function o(d,h,p,m){return{name:d,prefix:h,encoder:{name:d,prefix:h,encode:p},decoder:{decode:m}}}const a=o("utf8","u",d=>"u"+new TextDecoder("utf8").decode(d),d=>new TextEncoder().encode(d.substring(1))),c=o("ascii","a",d=>{let h="a";for(let p=0;p<d.length;p++){let m=d[p];m&&String.fromCharCode(m)&&(h+=String.fromCharCode(m))}return h},d=>{d=d.substring(1);const h=s(d.length);for(let p=0;p<d.length;p++)h[p]=d.charCodeAt(p);return h}),u=Object.assign({utf8:a,"utf-8":a,hex:e.bases.base16,latin1:c,ascii:c,binary:c},e.bases);return Qd}var OE={exports:{}},AE={exports:{}},Yfe=AE.exports,Xk;function Gn(){return Xk||(Xk=1,function(e,t){(function(n,r){e.exports=r()})(Yfe,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof mr<"u"&&mr.crypto&&(s=mr.crypto),!s&&typeof rh=="function")try{s=f5}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(O){var R;return _.prototype=O,R=new _,_.prototype=null,R}}(),c={},u=c.lib={},d=u.Base=function(){return{extend:function(_){var O=a(this);return _&&O.mixIn(_),(!O.hasOwnProperty("init")||this.init===O.init)&&(O.init=function(){O.$super.init.apply(this,arguments)}),O.init.prototype=O,O.$super=this,O},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var O in _)_.hasOwnProperty(O)&&(this[O]=_[O]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=d.extend({init:function(_,O){_=this.words=_||[],O!=i?this.sigBytes=O:this.sigBytes=_.length*4},toString:function(_){return(_||m).stringify(this)},concat:function(_){var O=this.words,R=_.words,S=this.sigBytes,E=_.sigBytes;if(this.clamp(),S%4)for(var x=0;x<E;x++){var N=R[x>>>2]>>>24-x%4*8&255;O[S+x>>>2]|=N<<24-(S+x)%4*8}else for(var A=0;A<E;A+=4)O[S+A>>>2]=R[A>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,O=this.sigBytes;_[O>>>2]&=4294967295<<32-O%4*8,_.length=r.ceil(O/4)},clone:function(){var _=d.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var O=[],R=0;R<_;R+=4)O.push(o());return new h.init(O,_)}}),p=c.enc={},m=p.Hex={stringify:function(_){for(var O=_.words,R=_.sigBytes,S=[],E=0;E<R;E++){var x=O[E>>>2]>>>24-E%4*8&255;S.push((x>>>4).toString(16)),S.push((x&15).toString(16))}return S.join("")},parse:function(_){for(var O=_.length,R=[],S=0;S<O;S+=2)R[S>>>3]|=parseInt(_.substr(S,2),16)<<24-S%8*4;return new h.init(R,O/2)}},y=p.Latin1={stringify:function(_){for(var O=_.words,R=_.sigBytes,S=[],E=0;E<R;E++){var x=O[E>>>2]>>>24-E%4*8&255;S.push(String.fromCharCode(x))}return S.join("")},parse:function(_){for(var O=_.length,R=[],S=0;S<O;S++)R[S>>>2]|=(_.charCodeAt(S)&255)<<24-S%4*8;return new h.init(R,O)}},v=p.Utf8={stringify:function(_){try{return decodeURIComponent(escape(y.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return y.parse(unescape(encodeURIComponent(_)))}},w=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=v.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var O,R=this._data,S=R.words,E=R.sigBytes,x=this.blockSize,N=x*4,A=E/N;_?A=r.ceil(A):A=r.max((A|0)-this._minBufferSize,0);var D=A*x,k=r.min(D*4,E);if(D){for(var U=0;U<D;U+=x)this._doProcessBlock(S,U);O=S.splice(0,D),R.sigBytes-=k}return new h.init(O,k)},clone:function(){var _=d.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});u.Hasher=w.extend({cfg:d.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var O=this._doFinalize();return O},blockSize:16,_createHelper:function(_){return function(O,R){return new _.init(R).finalize(O)}},_createHmacHelper:function(_){return function(O,R){return new C.HMAC.init(_,R).finalize(O)}}});var C=c.algo={};return c}(Math);return n})}(AE)),AE.exports}var TE={exports:{}},Zfe=TE.exports,Gk;function i2(){return Gk||(Gk=1,function(e,t){(function(n,r){e.exports=r(Gn())})(Zfe,function(n){return function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,c=i.x64={};c.Word=o.extend({init:function(u,d){this.high=u,this.low=d}}),c.WordArray=o.extend({init:function(u,d){u=this.words=u||[],d!=r?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],p=0;p<d;p++){var m=u[p];h.push(m.high),h.push(m.low)}return a.create(h,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),d=u.words=this.words.slice(0),h=d.length,p=0;p<h;p++)d[p]=d[p].clone();return u}})}(),n})}(TE)),TE.exports}var RE={exports:{}},Qfe=RE.exports,Jk;function ehe(){return Jk||(Jk=1,function(e,t){(function(n,r){e.exports=r(Gn())})(Qfe,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,d=[],h=0;h<u;h++)d[h>>>2]|=c[h]<<24-h%4*8;o.call(this,d,u)}else o.apply(this,arguments)};a.prototype=s}}(),n.lib.WordArray})}(RE)),RE.exports}var NE={exports:{}},the=NE.exports,Yk;function nhe(){return Yk||(Yk=1,function(e,t){(function(n,r){e.exports=r(Gn())})(the,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,d=c.sigBytes,h=[],p=0;p<d;p+=2){var m=u[p>>>2]>>>16-p%4*8&65535;h.push(String.fromCharCode(m))}return h.join("")},parse:function(c){for(var u=c.length,d=[],h=0;h<u;h++)d[h>>>1]|=c.charCodeAt(h)<<16-h%2*16;return s.create(d,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,d=c.sigBytes,h=[],p=0;p<d;p+=2){var m=a(u[p>>>2]>>>16-p%4*8&65535);h.push(String.fromCharCode(m))}return h.join("")},parse:function(c){for(var u=c.length,d=[],h=0;h<u;h++)d[h>>>1]|=a(c.charCodeAt(h)<<16-h%2*16);return s.create(d,u*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),n.enc.Utf16})}(NE)),NE.exports}var PE={exports:{}},rhe=PE.exports,Zk;function Fh(){return Zk||(Zk=1,function(e,t){(function(n,r){e.exports=r(Gn())})(rhe,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(c){var u=c.words,d=c.sigBytes,h=this._map;c.clamp();for(var p=[],m=0;m<d;m+=3)for(var y=u[m>>>2]>>>24-m%4*8&255,v=u[m+1>>>2]>>>24-(m+1)%4*8&255,w=u[m+2>>>2]>>>24-(m+2)%4*8&255,C=y<<16|v<<8|w,_=0;_<4&&m+_*.75<d;_++)p.push(h.charAt(C>>>6*(3-_)&63));var O=h.charAt(64);if(O)for(;p.length%4;)p.push(O);return p.join("")},parse:function(c){var u=c.length,d=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<d.length;p++)h[d.charCodeAt(p)]=p}var m=d.charAt(64);if(m){var y=c.indexOf(m);y!==-1&&(u=y)}return a(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,d){for(var h=[],p=0,m=0;m<u;m++)if(m%4){var y=d[c.charCodeAt(m-1)]<<m%4*2,v=d[c.charCodeAt(m)]>>>6-m%4*2,w=y|v;h[p>>>2]|=w<<24-p%4*8,p++}return s.create(h,p)}}(),n.enc.Base64})}(PE)),PE.exports}var IE={exports:{}},ihe=IE.exports,Qk;function she(){return Qk||(Qk=1,function(e,t){(function(n,r){e.exports=r(Gn())})(ihe,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var d=c.words,h=c.sigBytes,p=u?this._safe_map:this._map;c.clamp();for(var m=[],y=0;y<h;y+=3)for(var v=d[y>>>2]>>>24-y%4*8&255,w=d[y+1>>>2]>>>24-(y+1)%4*8&255,C=d[y+2>>>2]>>>24-(y+2)%4*8&255,_=v<<16|w<<8|C,O=0;O<4&&y+O*.75<h;O++)m.push(p.charAt(_>>>6*(3-O)&63));var R=p.charAt(64);if(R)for(;m.length%4;)m.push(R);return m.join("")},parse:function(c,u){u===void 0&&(u=!0);var d=c.length,h=u?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var m=0;m<h.length;m++)p[h.charCodeAt(m)]=m}var y=h.charAt(64);if(y){var v=c.indexOf(y);v!==-1&&(d=v)}return a(c,d,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,u,d){for(var h=[],p=0,m=0;m<u;m++)if(m%4){var y=d[c.charCodeAt(m-1)]<<m%4*2,v=d[c.charCodeAt(m)]>>>6-m%4*2,w=y|v;h[p>>>2]|=w<<24-p%4*8,p++}return s.create(h,p)}}(),n.enc.Base64url})}(IE)),IE.exports}var DE={exports:{}},ohe=DE.exports,e7;function Kh(){return e7||(e7=1,function(e,t){(function(n,r){e.exports=r(Gn())})(ohe,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,u=[];(function(){for(var v=0;v<64;v++)u[v]=r.abs(r.sin(v+1))*4294967296|0})();var d=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,w){for(var C=0;C<16;C++){var _=w+C,O=v[_];v[_]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}var R=this._hash.words,S=v[w+0],E=v[w+1],x=v[w+2],N=v[w+3],A=v[w+4],D=v[w+5],k=v[w+6],U=v[w+7],H=v[w+8],F=v[w+9],P=v[w+10],I=v[w+11],$=v[w+12],W=v[w+13],X=v[w+14],j=v[w+15],G=R[0],ae=R[1],ce=R[2],oe=R[3];G=h(G,ae,ce,oe,S,7,u[0]),oe=h(oe,G,ae,ce,E,12,u[1]),ce=h(ce,oe,G,ae,x,17,u[2]),ae=h(ae,ce,oe,G,N,22,u[3]),G=h(G,ae,ce,oe,A,7,u[4]),oe=h(oe,G,ae,ce,D,12,u[5]),ce=h(ce,oe,G,ae,k,17,u[6]),ae=h(ae,ce,oe,G,U,22,u[7]),G=h(G,ae,ce,oe,H,7,u[8]),oe=h(oe,G,ae,ce,F,12,u[9]),ce=h(ce,oe,G,ae,P,17,u[10]),ae=h(ae,ce,oe,G,I,22,u[11]),G=h(G,ae,ce,oe,$,7,u[12]),oe=h(oe,G,ae,ce,W,12,u[13]),ce=h(ce,oe,G,ae,X,17,u[14]),ae=h(ae,ce,oe,G,j,22,u[15]),G=p(G,ae,ce,oe,E,5,u[16]),oe=p(oe,G,ae,ce,k,9,u[17]),ce=p(ce,oe,G,ae,I,14,u[18]),ae=p(ae,ce,oe,G,S,20,u[19]),G=p(G,ae,ce,oe,D,5,u[20]),oe=p(oe,G,ae,ce,P,9,u[21]),ce=p(ce,oe,G,ae,j,14,u[22]),ae=p(ae,ce,oe,G,A,20,u[23]),G=p(G,ae,ce,oe,F,5,u[24]),oe=p(oe,G,ae,ce,X,9,u[25]),ce=p(ce,oe,G,ae,N,14,u[26]),ae=p(ae,ce,oe,G,H,20,u[27]),G=p(G,ae,ce,oe,W,5,u[28]),oe=p(oe,G,ae,ce,x,9,u[29]),ce=p(ce,oe,G,ae,U,14,u[30]),ae=p(ae,ce,oe,G,$,20,u[31]),G=m(G,ae,ce,oe,D,4,u[32]),oe=m(oe,G,ae,ce,H,11,u[33]),ce=m(ce,oe,G,ae,I,16,u[34]),ae=m(ae,ce,oe,G,X,23,u[35]),G=m(G,ae,ce,oe,E,4,u[36]),oe=m(oe,G,ae,ce,A,11,u[37]),ce=m(ce,oe,G,ae,U,16,u[38]),ae=m(ae,ce,oe,G,P,23,u[39]),G=m(G,ae,ce,oe,W,4,u[40]),oe=m(oe,G,ae,ce,S,11,u[41]),ce=m(ce,oe,G,ae,N,16,u[42]),ae=m(ae,ce,oe,G,k,23,u[43]),G=m(G,ae,ce,oe,F,4,u[44]),oe=m(oe,G,ae,ce,$,11,u[45]),ce=m(ce,oe,G,ae,j,16,u[46]),ae=m(ae,ce,oe,G,x,23,u[47]),G=y(G,ae,ce,oe,S,6,u[48]),oe=y(oe,G,ae,ce,U,10,u[49]),ce=y(ce,oe,G,ae,X,15,u[50]),ae=y(ae,ce,oe,G,D,21,u[51]),G=y(G,ae,ce,oe,$,6,u[52]),oe=y(oe,G,ae,ce,N,10,u[53]),ce=y(ce,oe,G,ae,P,15,u[54]),ae=y(ae,ce,oe,G,E,21,u[55]),G=y(G,ae,ce,oe,H,6,u[56]),oe=y(oe,G,ae,ce,j,10,u[57]),ce=y(ce,oe,G,ae,k,15,u[58]),ae=y(ae,ce,oe,G,W,21,u[59]),G=y(G,ae,ce,oe,A,6,u[60]),oe=y(oe,G,ae,ce,I,10,u[61]),ce=y(ce,oe,G,ae,x,15,u[62]),ae=y(ae,ce,oe,G,F,21,u[63]),R[0]=R[0]+G|0,R[1]=R[1]+ae|0,R[2]=R[2]+ce|0,R[3]=R[3]+oe|0},_doFinalize:function(){var v=this._data,w=v.words,C=this._nDataBytes*8,_=v.sigBytes*8;w[_>>>5]|=128<<24-_%32;var O=r.floor(C/4294967296),R=C;w[(_+64>>>9<<4)+15]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,w[(_+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,v.sigBytes=(w.length+1)*4,this._process();for(var S=this._hash,E=S.words,x=0;x<4;x++){var N=E[x];E[x]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return S},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});function h(v,w,C,_,O,R,S){var E=v+(w&C|~w&_)+O+S;return(E<<R|E>>>32-R)+w}function p(v,w,C,_,O,R,S){var E=v+(w&_|C&~_)+O+S;return(E<<R|E>>>32-R)+w}function m(v,w,C,_,O,R,S){var E=v+(w^C^_)+O+S;return(E<<R|E>>>32-R)+w}function y(v,w,C,_,O,R,S){var E=v+(C^(w|~_))+O+S;return(E<<R|E>>>32-R)+w}i.MD5=a._createHelper(d),i.HmacMD5=a._createHmacHelper(d)}(Math),n.MD5})}(DE)),DE.exports}var kE={exports:{}},ahe=kE.exports,t7;function dz(){return t7||(t7=1,function(e,t){(function(n,r){e.exports=r(Gn())})(ahe,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,h){for(var p=this._hash.words,m=p[0],y=p[1],v=p[2],w=p[3],C=p[4],_=0;_<80;_++){if(_<16)c[_]=d[h+_]|0;else{var O=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=O<<1|O>>>31}var R=(m<<5|m>>>27)+C+c[_];_<20?R+=(y&v|~y&w)+1518500249:_<40?R+=(y^v^w)+1859775393:_<60?R+=(y&v|y&w|v&w)-1894007588:R+=(y^v^w)-899497514,C=w,w=v,v=y<<30|y>>>2,y=m,m=R}p[0]=p[0]+m|0,p[1]=p[1]+y|0,p[2]=p[2]+v|0,p[3]=p[3]+w|0,p[4]=p[4]+C|0},_doFinalize:function(){var d=this._data,h=d.words,p=this._nDataBytes*8,m=d.sigBytes*8;return h[m>>>5]|=128<<24-m%32,h[(m+64>>>9<<4)+14]=Math.floor(p/4294967296),h[(m+64>>>9<<4)+15]=p,d.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),n.SHA1})}(kE)),kE.exports}var ME={exports:{}},che=ME.exports,n7;function b5(){return n7||(n7=1,function(e,t){(function(n,r){e.exports=r(Gn())})(che,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,u=[],d=[];(function(){function m(C){for(var _=r.sqrt(C),O=2;O<=_;O++)if(!(C%O))return!1;return!0}function y(C){return(C-(C|0))*4294967296|0}for(var v=2,w=0;w<64;)m(v)&&(w<8&&(u[w]=y(r.pow(v,1/2))),d[w]=y(r.pow(v,1/3)),w++),v++})();var h=[],p=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(m,y){for(var v=this._hash.words,w=v[0],C=v[1],_=v[2],O=v[3],R=v[4],S=v[5],E=v[6],x=v[7],N=0;N<64;N++){if(N<16)h[N]=m[y+N]|0;else{var A=h[N-15],D=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,k=h[N-2],U=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;h[N]=D+h[N-7]+U+h[N-16]}var H=R&S^~R&E,F=w&C^w&_^C&_,P=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),I=(R<<26|R>>>6)^(R<<21|R>>>11)^(R<<7|R>>>25),$=x+I+H+d[N]+h[N],W=P+F;x=E,E=S,S=R,R=O+$|0,O=_,_=C,C=w,w=$+W|0}v[0]=v[0]+w|0,v[1]=v[1]+C|0,v[2]=v[2]+_|0,v[3]=v[3]+O|0,v[4]=v[4]+R|0,v[5]=v[5]+S|0,v[6]=v[6]+E|0,v[7]=v[7]+x|0},_doFinalize:function(){var m=this._data,y=m.words,v=this._nDataBytes*8,w=m.sigBytes*8;return y[w>>>5]|=128<<24-w%32,y[(w+64>>>9<<4)+14]=r.floor(v/4294967296),y[(w+64>>>9<<4)+15]=v,m.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=a._createHelper(p),i.HmacSHA256=a._createHmacHelper(p)}(Math),n.SHA256})}(ME)),ME.exports}var LE={exports:{}},lhe=LE.exports,r7;function uhe(){return r7||(r7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),b5())})(lhe,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c)}(),n.SHA224})}(LE)),LE.exports}var UE={exports:{}},dhe=UE.exports,i7;function fz(){return i7||(i7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),i2())})(dhe,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,c=o.WordArray,u=r.algo;function d(){return a.create.apply(a,arguments)}var h=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],p=[];(function(){for(var y=0;y<80;y++)p[y]=d()})();var m=u.SHA512=s.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(y,v){for(var w=this._hash.words,C=w[0],_=w[1],O=w[2],R=w[3],S=w[4],E=w[5],x=w[6],N=w[7],A=C.high,D=C.low,k=_.high,U=_.low,H=O.high,F=O.low,P=R.high,I=R.low,$=S.high,W=S.low,X=E.high,j=E.low,G=x.high,ae=x.low,ce=N.high,oe=N.low,Ce=A,Ae=D,ue=k,Y=U,ee=H,B=F,te=P,we=I,Ne=$,Fe=W,Ve=X,Et=j,Nt=G,at=ae,Kt=ce,en=oe,ln=0;ln<80;ln++){var Gt,Wt,Ht=p[ln];if(ln<16)Wt=Ht.high=y[v+ln*2]|0,Gt=Ht.low=y[v+ln*2+1]|0;else{var pn=p[ln-15],ct=pn.high,yt=pn.low,vt=(ct>>>1|yt<<31)^(ct>>>8|yt<<24)^ct>>>7,zt=(yt>>>1|ct<<31)^(yt>>>8|ct<<24)^(yt>>>7|ct<<25),In=p[ln-2],gn=In.high,Ft=In.low,_t=(gn>>>19|Ft<<13)^(gn<<3|Ft>>>29)^gn>>>6,un=(Ft>>>19|gn<<13)^(Ft<<3|gn>>>29)^(Ft>>>6|gn<<26),xr=p[ln-7],Qn=xr.high,Bn=xr.low,ei=p[ln-16],wi=ei.high,Jr=ei.low;Gt=zt+Bn,Wt=vt+Qn+(Gt>>>0<zt>>>0?1:0),Gt=Gt+un,Wt=Wt+_t+(Gt>>>0<un>>>0?1:0),Gt=Gt+Jr,Wt=Wt+wi+(Gt>>>0<Jr>>>0?1:0),Ht.high=Wt,Ht.low=Gt}var Xi=Ne&Ve^~Ne&Nt,ks=Fe&Et^~Fe&at,Jn=Ce&ue^Ce&ee^ue&ee,Rn=Ae&Y^Ae&B^Y&B,Dn=(Ce>>>28|Ae<<4)^(Ce<<30|Ae>>>2)^(Ce<<25|Ae>>>7),rr=(Ae>>>28|Ce<<4)^(Ae<<30|Ce>>>2)^(Ae<<25|Ce>>>7),Sr=(Ne>>>14|Fe<<18)^(Ne>>>18|Fe<<14)^(Ne<<23|Fe>>>9),me=(Fe>>>14|Ne<<18)^(Fe>>>18|Ne<<14)^(Fe<<23|Ne>>>9),Ee=h[ln],Te=Ee.high,je=Ee.low,Ge=en+me,K=Kt+Sr+(Ge>>>0<en>>>0?1:0),Ge=Ge+ks,K=K+Xi+(Ge>>>0<ks>>>0?1:0),Ge=Ge+je,K=K+Te+(Ge>>>0<je>>>0?1:0),Ge=Ge+Gt,K=K+Wt+(Ge>>>0<Gt>>>0?1:0),J=rr+Rn,V=Dn+Jn+(J>>>0<rr>>>0?1:0);Kt=Nt,en=at,Nt=Ve,at=Et,Ve=Ne,Et=Fe,Fe=we+Ge|0,Ne=te+K+(Fe>>>0<we>>>0?1:0)|0,te=ee,we=B,ee=ue,B=Y,ue=Ce,Y=Ae,Ae=Ge+J|0,Ce=K+V+(Ae>>>0<Ge>>>0?1:0)|0}D=C.low=D+Ae,C.high=A+Ce+(D>>>0<Ae>>>0?1:0),U=_.low=U+Y,_.high=k+ue+(U>>>0<Y>>>0?1:0),F=O.low=F+B,O.high=H+ee+(F>>>0<B>>>0?1:0),I=R.low=I+we,R.high=P+te+(I>>>0<we>>>0?1:0),W=S.low=W+Fe,S.high=$+Ne+(W>>>0<Fe>>>0?1:0),j=E.low=j+Et,E.high=X+Ve+(j>>>0<Et>>>0?1:0),ae=x.low=ae+at,x.high=G+Nt+(ae>>>0<at>>>0?1:0),oe=N.low=oe+en,N.high=ce+Kt+(oe>>>0<en>>>0?1:0)},_doFinalize:function(){var y=this._data,v=y.words,w=this._nDataBytes*8,C=y.sigBytes*8;v[C>>>5]|=128<<24-C%32,v[(C+128>>>10<<5)+30]=Math.floor(w/4294967296),v[(C+128>>>10<<5)+31]=w,y.sigBytes=v.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var y=s.clone.call(this);return y._hash=this._hash.clone(),y},blockSize:1024/32});r.SHA512=s._createHelper(m),r.HmacSHA512=s._createHmacHelper(m)}(),n.SHA512})}(UE)),UE.exports}var BE={exports:{}},fhe=BE.exports,s7;function hhe(){return s7||(s7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),i2(),fz())})(fhe,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var d=c._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),n.SHA384})}(BE)),BE.exports}var $E={exports:{}},phe=$E.exports,o7;function ghe(){return o7||(o7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),i2())})(phe,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.x64,u=c.Word,d=i.algo,h=[],p=[],m=[];(function(){for(var w=1,C=0,_=0;_<24;_++){h[w+5*C]=(_+1)*(_+2)/2%64;var O=C%5,R=(2*w+3*C)%5;w=O,C=R}for(var w=0;w<5;w++)for(var C=0;C<5;C++)p[w+5*C]=C+(2*w+3*C)%5*5;for(var S=1,E=0;E<24;E++){for(var x=0,N=0,A=0;A<7;A++){if(S&1){var D=(1<<A)-1;D<32?N^=1<<D:x^=1<<D-32}S&128?S=S<<1^113:S<<=1}m[E]=u.create(x,N)}})();var y=[];(function(){for(var w=0;w<25;w++)y[w]=u.create()})();var v=d.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],C=0;C<25;C++)w[C]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,C){for(var _=this._state,O=this.blockSize/2,R=0;R<O;R++){var S=w[C+2*R],E=w[C+2*R+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var x=_[R];x.high^=E,x.low^=S}for(var N=0;N<24;N++){for(var A=0;A<5;A++){for(var D=0,k=0,U=0;U<5;U++){var x=_[A+5*U];D^=x.high,k^=x.low}var H=y[A];H.high=D,H.low=k}for(var A=0;A<5;A++)for(var F=y[(A+4)%5],P=y[(A+1)%5],I=P.high,$=P.low,D=F.high^(I<<1|$>>>31),k=F.low^($<<1|I>>>31),U=0;U<5;U++){var x=_[A+5*U];x.high^=D,x.low^=k}for(var W=1;W<25;W++){var D,k,x=_[W],X=x.high,j=x.low,G=h[W];G<32?(D=X<<G|j>>>32-G,k=j<<G|X>>>32-G):(D=j<<G-32|X>>>64-G,k=X<<G-32|j>>>64-G);var ae=y[p[W]];ae.high=D,ae.low=k}var ce=y[0],oe=_[0];ce.high=oe.high,ce.low=oe.low;for(var A=0;A<5;A++)for(var U=0;U<5;U++){var W=A+5*U,x=_[W],Ce=y[W],Ae=y[(A+1)%5+5*U],ue=y[(A+2)%5+5*U];x.high=Ce.high^~Ae.high&ue.high,x.low=Ce.low^~Ae.low&ue.low}var x=_[0],Y=m[N];x.high^=Y.high,x.low^=Y.low}},_doFinalize:function(){var w=this._data,C=w.words;this._nDataBytes*8;var _=w.sigBytes*8,O=this.blockSize*32;C[_>>>5]|=1<<24-_%32,C[(r.ceil((_+1)/O)*O>>>5)-1]|=128,w.sigBytes=C.length*4,this._process();for(var R=this._state,S=this.cfg.outputLength/8,E=S/8,x=[],N=0;N<E;N++){var A=R[N],D=A.high,k=A.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,x.push(k),x.push(D)}return new o.init(x,S)},clone:function(){for(var w=a.clone.call(this),C=w._state=this._state.slice(0),_=0;_<25;_++)C[_]=C[_].clone();return w}});i.SHA3=a._createHelper(v),i.HmacSHA3=a._createHmacHelper(v)}(Math),n.SHA3})}($E)),$E.exports}var jE={exports:{}},mhe=jE.exports,a7;function yhe(){return a7||(a7=1,function(e,t){(function(n,r){e.exports=r(Gn())})(mhe,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),y=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,x){for(var N=0;N<16;N++){var A=x+N,D=E[A];E[A]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var k=this._hash.words,U=m.words,H=y.words,F=u.words,P=d.words,I=h.words,$=p.words,W,X,j,G,ae,ce,oe,Ce,Ae,ue;ce=W=k[0],oe=X=k[1],Ce=j=k[2],Ae=G=k[3],ue=ae=k[4];for(var Y,N=0;N<80;N+=1)Y=W+E[x+F[N]]|0,N<16?Y+=w(X,j,G)+U[0]:N<32?Y+=C(X,j,G)+U[1]:N<48?Y+=_(X,j,G)+U[2]:N<64?Y+=O(X,j,G)+U[3]:Y+=R(X,j,G)+U[4],Y=Y|0,Y=S(Y,I[N]),Y=Y+ae|0,W=ae,ae=G,G=S(j,10),j=X,X=Y,Y=ce+E[x+P[N]]|0,N<16?Y+=R(oe,Ce,Ae)+H[0]:N<32?Y+=O(oe,Ce,Ae)+H[1]:N<48?Y+=_(oe,Ce,Ae)+H[2]:N<64?Y+=C(oe,Ce,Ae)+H[3]:Y+=w(oe,Ce,Ae)+H[4],Y=Y|0,Y=S(Y,$[N]),Y=Y+ue|0,ce=ue,ue=Ae,Ae=S(Ce,10),Ce=oe,oe=Y;Y=k[1]+j+Ae|0,k[1]=k[2]+G+ue|0,k[2]=k[3]+ae+ce|0,k[3]=k[4]+W+oe|0,k[4]=k[0]+X+Ce|0,k[0]=Y},_doFinalize:function(){var E=this._data,x=E.words,N=this._nDataBytes*8,A=E.sigBytes*8;x[A>>>5]|=128<<24-A%32,x[(A+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,E.sigBytes=(x.length+1)*4,this._process();for(var D=this._hash,k=D.words,U=0;U<5;U++){var H=k[U];k[U]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}return D},clone:function(){var E=a.clone.call(this);return E._hash=this._hash.clone(),E}});function w(E,x,N){return E^x^N}function C(E,x,N){return E&x|~E&N}function _(E,x,N){return(E|~x)^N}function O(E,x,N){return E&N|x&~N}function R(E,x,N){return E^(x|~N)}function S(E,x){return E<<x|E>>>32-x}i.RIPEMD160=a._createHelper(v),i.HmacRIPEMD160=a._createHmacHelper(v)}(),n.RIPEMD160})}(jE)),jE.exports}var FE={exports:{}},vhe=FE.exports,c7;function E5(){return c7||(c7=1,function(e,t){(function(n,r){e.exports=r(Gn())})(vhe,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,c=r.algo;c.HMAC=s.extend({init:function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=a.parse(d));var h=u.blockSize,p=h*4;d.sigBytes>p&&(d=u.finalize(d)),d.clamp();for(var m=this._oKey=d.clone(),y=this._iKey=d.clone(),v=m.words,w=y.words,C=0;C<h;C++)v[C]^=1549556828,w[C]^=909522486;m.sigBytes=y.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var d=this._hasher,h=d.finalize(u);d.reset();var p=d.finalize(this._oKey.clone().concat(h));return p}})})()})}(FE)),FE.exports}var KE={exports:{}},whe=KE.exports,l7;function bhe(){return l7||(l7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),b5(),E5())})(whe,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,c=a.SHA256,u=a.HMAC,d=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,p){for(var m=this.cfg,y=u.create(m.hasher,h),v=o.create(),w=o.create([1]),C=v.words,_=w.words,O=m.keySize,R=m.iterations;C.length<O;){var S=y.update(p).finalize(w);y.reset();for(var E=S.words,x=E.length,N=S,A=1;A<R;A++){N=y.finalize(N),y.reset();for(var D=N.words,k=0;k<x;k++)E[k]^=D[k]}v.concat(S),_[0]++}return v.sigBytes=O*4,v}});r.PBKDF2=function(h,p,m){return d.create(m).compute(h,p)}}(),n.PBKDF2})}(KE)),KE.exports}var WE={exports:{}},Ehe=WE.exports,u7;function _d(){return u7||(u7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),dz(),E5())})(Ehe,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,c=a.MD5,u=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var p,m=this.cfg,y=m.hasher.create(),v=o.create(),w=v.words,C=m.keySize,_=m.iterations;w.length<C;){p&&y.update(p),p=y.update(d).finalize(h),y.reset();for(var O=1;O<_;O++)p=y.finalize(p),y.reset();v.concat(p)}return v.sigBytes=C*4,v}});r.EvpKDF=function(d,h,p){return u.create(p).compute(d,h)}}(),n.EvpKDF})}(WE)),WE.exports}var HE={exports:{}},_he=HE.exports,d7;function cs(){return d7||(d7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),_d())})(_he,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,c=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var d=u.Base64,h=i.algo,p=h.EvpKDF,m=s.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(D,k){return this.create(this._ENC_XFORM_MODE,D,k)},createDecryptor:function(D,k){return this.create(this._DEC_XFORM_MODE,D,k)},init:function(D,k,U){this.cfg=this.cfg.extend(U),this._xformMode=D,this._key=k,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(k){return typeof k=="string"?A:E}return function(k){return{encrypt:function(U,H,F){return D(H).encrypt(k,U,H,F)},decrypt:function(U,H,F){return D(H).decrypt(k,U,H,F)}}}}()});s.StreamCipher=m.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var y=i.mode={},v=s.BlockCipherMode=o.extend({createEncryptor:function(D,k){return this.Encryptor.create(D,k)},createDecryptor:function(D,k){return this.Decryptor.create(D,k)},init:function(D,k){this._cipher=D,this._iv=k}}),w=y.CBC=function(){var D=v.extend();D.Encryptor=D.extend({processBlock:function(U,H){var F=this._cipher,P=F.blockSize;k.call(this,U,H,P),F.encryptBlock(U,H),this._prevBlock=U.slice(H,H+P)}}),D.Decryptor=D.extend({processBlock:function(U,H){var F=this._cipher,P=F.blockSize,I=U.slice(H,H+P);F.decryptBlock(U,H),k.call(this,U,H,P),this._prevBlock=I}});function k(U,H,F){var P,I=this._iv;I?(P=I,this._iv=r):P=this._prevBlock;for(var $=0;$<F;$++)U[H+$]^=P[$]}return D}(),C=i.pad={},_=C.Pkcs7={pad:function(D,k){for(var U=k*4,H=U-D.sigBytes%U,F=H<<24|H<<16|H<<8|H,P=[],I=0;I<H;I+=4)P.push(F);var $=a.create(P,H);D.concat($)},unpad:function(D){var k=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=k}};s.BlockCipher=m.extend({cfg:m.cfg.extend({mode:w,padding:_}),reset:function(){var D;m.reset.call(this);var k=this.cfg,U=k.iv,H=k.mode;this._xformMode==this._ENC_XFORM_MODE?D=H.createEncryptor:(D=H.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,U&&U.words):(this._mode=D.call(H,this,U&&U.words),this._mode.__creator=D)},_doProcessBlock:function(D,k){this._mode.processBlock(D,k)},_doFinalize:function(){var D,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),k.unpad(D)),D},blockSize:128/32});var O=s.CipherParams=o.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),R=i.format={},S=R.OpenSSL={stringify:function(D){var k,U=D.ciphertext,H=D.salt;return H?k=a.create([1398893684,1701076831]).concat(H).concat(U):k=U,k.toString(d)},parse:function(D){var k,U=d.parse(D),H=U.words;return H[0]==1398893684&&H[1]==1701076831&&(k=a.create(H.slice(2,4)),H.splice(0,4),U.sigBytes-=16),O.create({ciphertext:U,salt:k})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:S}),encrypt:function(D,k,U,H){H=this.cfg.extend(H);var F=D.createEncryptor(U,H),P=F.finalize(k),I=F.cfg;return O.create({ciphertext:P,key:U,iv:I.iv,algorithm:D,mode:I.mode,padding:I.padding,blockSize:D.blockSize,formatter:H.format})},decrypt:function(D,k,U,H){H=this.cfg.extend(H),k=this._parse(k,H.format);var F=D.createDecryptor(U,H).finalize(k.ciphertext);return F},_parse:function(D,k){return typeof D=="string"?k.parse(D,this):D}}),x=i.kdf={},N=x.OpenSSL={execute:function(D,k,U,H,F){if(H||(H=a.random(64/8)),F)var P=p.create({keySize:k+U,hasher:F}).compute(D,H);else var P=p.create({keySize:k+U}).compute(D,H);var I=a.create(P.words.slice(k),U*4);return P.sigBytes=k*4,O.create({key:P,iv:I,salt:H})}},A=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:N}),encrypt:function(D,k,U,H){H=this.cfg.extend(H);var F=H.kdf.execute(U,D.keySize,D.ivSize,H.salt,H.hasher);H.iv=F.iv;var P=E.encrypt.call(this,D,k,F.key,H);return P.mixIn(F),P},decrypt:function(D,k,U,H){H=this.cfg.extend(H),k=this._parse(k,H.format);var F=H.kdf.execute(U,D.keySize,D.ivSize,k.salt,H.hasher);H.iv=F.iv;var P=E.decrypt.call(this,D,k,F.key,H);return P}})}()})}(HE)),HE.exports}var zE={exports:{}},Che=zE.exports,f7;function xhe(){return f7||(f7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Che,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize;i.call(this,s,o,c,a),this._prevBlock=s.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,u=s.slice(o,o+c);i.call(this,s,o,c,a),this._prevBlock=u}});function i(s,o,a,c){var u,d=this._iv;d?(u=d.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var h=0;h<a;h++)s[o+h]^=u[h]}return r}(),n.mode.CFB})}(zE)),zE.exports}var qE={exports:{}},She=qE.exports,h7;function Ohe(){return h7||(h7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(She,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0);var h=d.slice(0);a.encryptBlock(h,0),d[c-1]=d[c-1]+1|0;for(var p=0;p<c;p++)s[o+p]^=h[p]}});return r.Decryptor=i,r}(),n.mode.CTR})}(qE)),qE.exports}var VE={exports:{}},Ahe=VE.exports,p7;function The(){return p7||(p7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Ahe,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var c=a>>16&255,u=a>>8&255,d=a&255;c===255?(c=0,u===255?(u=0,d===255?d=0:++d):++u):++c,a=0,a+=c<<16,a+=u<<8,a+=d}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,c){var u=this._cipher,d=u.blockSize,h=this._iv,p=this._counter;h&&(p=this._counter=h.slice(0),this._iv=void 0),s(p);var m=p.slice(0);u.encryptBlock(m,0);for(var y=0;y<d;y++)a[c+y]^=m[y]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(VE)),VE.exports}var XE={exports:{}},Rhe=XE.exports,g7;function Nhe(){return g7||(g7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Rhe,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,u=this._iv,d=this._keystream;u&&(d=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(d,0);for(var h=0;h<c;h++)s[o+h]^=d[h]}});return r.Decryptor=i,r}(),n.mode.OFB})}(XE)),XE.exports}var GE={exports:{}},Phe=GE.exports,m7;function Ihe(){return m7||(m7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Phe,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(GE)),GE.exports}var JE={exports:{}},Dhe=JE.exports,y7;function khe(){return y7||(y7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Dhe,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,c=s+a-1;r.clamp(),r.words[c>>>2]|=a<<24-c%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(JE)),JE.exports}var YE={exports:{}},Mhe=YE.exports,v7;function Lhe(){return v7||(v7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Mhe,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(YE)),YE.exports}var ZE={exports:{}},Uhe=ZE.exports,w7;function Bhe(){return w7||(w7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Uhe,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(ZE)),ZE.exports}var QE={exports:{}},$he=QE.exports,b7;function jhe(){return b7||(b7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})($he,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(QE)),QE.exports}var e_={exports:{}},Fhe=e_.exports,E7;function Khe(){return E7||(E7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Fhe,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(e_)),e_.exports}var t_={exports:{}},Whe=t_.exports,_7;function Hhe(){return _7||(_7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),cs())})(Whe,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,c=a.Hex,u=i.format;u.Hex={stringify:function(d){return d.ciphertext.toString(c)},parse:function(d){var h=c.parse(d);return o.create({ciphertext:h})}}}(),n.format.Hex})}(t_)),t_.exports}var n_={exports:{}},zhe=n_.exports,C7;function qhe(){return C7||(C7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),Fh(),Kh(),_d(),cs())})(zhe,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],c=[],u=[],d=[],h=[],p=[],m=[],y=[],v=[],w=[];(function(){for(var O=[],R=0;R<256;R++)R<128?O[R]=R<<1:O[R]=R<<1^283;for(var S=0,E=0,R=0;R<256;R++){var x=E^E<<1^E<<2^E<<3^E<<4;x=x>>>8^x&255^99,a[S]=x,c[x]=S;var N=O[S],A=O[N],D=O[A],k=O[x]*257^x*16843008;u[S]=k<<24|k>>>8,d[S]=k<<16|k>>>16,h[S]=k<<8|k>>>24,p[S]=k;var k=D*16843009^A*65537^N*257^S*16843008;m[x]=k<<24|k>>>8,y[x]=k<<16|k>>>16,v[x]=k<<8|k>>>24,w[x]=k,S?(S=N^O[O[O[D^N]]],E^=O[O[E]]):S=E=1}})();var C=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=s.extend({_doReset:function(){var O;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var R=this._keyPriorReset=this._key,S=R.words,E=R.sigBytes/4,x=this._nRounds=E+6,N=(x+1)*4,A=this._keySchedule=[],D=0;D<N;D++)D<E?A[D]=S[D]:(O=A[D-1],D%E?E>6&&D%E==4&&(O=a[O>>>24]<<24|a[O>>>16&255]<<16|a[O>>>8&255]<<8|a[O&255]):(O=O<<8|O>>>24,O=a[O>>>24]<<24|a[O>>>16&255]<<16|a[O>>>8&255]<<8|a[O&255],O^=C[D/E|0]<<24),A[D]=A[D-E]^O);for(var k=this._invKeySchedule=[],U=0;U<N;U++){var D=N-U;if(U%4)var O=A[D];else var O=A[D-4];U<4||D<=4?k[U]=O:k[U]=m[a[O>>>24]]^y[a[O>>>16&255]]^v[a[O>>>8&255]]^w[a[O&255]]}}},encryptBlock:function(O,R){this._doCryptBlock(O,R,this._keySchedule,u,d,h,p,a)},decryptBlock:function(O,R){var S=O[R+1];O[R+1]=O[R+3],O[R+3]=S,this._doCryptBlock(O,R,this._invKeySchedule,m,y,v,w,c);var S=O[R+1];O[R+1]=O[R+3],O[R+3]=S},_doCryptBlock:function(O,R,S,E,x,N,A,D){for(var k=this._nRounds,U=O[R]^S[0],H=O[R+1]^S[1],F=O[R+2]^S[2],P=O[R+3]^S[3],I=4,$=1;$<k;$++){var W=E[U>>>24]^x[H>>>16&255]^N[F>>>8&255]^A[P&255]^S[I++],X=E[H>>>24]^x[F>>>16&255]^N[P>>>8&255]^A[U&255]^S[I++],j=E[F>>>24]^x[P>>>16&255]^N[U>>>8&255]^A[H&255]^S[I++],G=E[P>>>24]^x[U>>>16&255]^N[H>>>8&255]^A[F&255]^S[I++];U=W,H=X,F=j,P=G}var W=(D[U>>>24]<<24|D[H>>>16&255]<<16|D[F>>>8&255]<<8|D[P&255])^S[I++],X=(D[H>>>24]<<24|D[F>>>16&255]<<16|D[P>>>8&255]<<8|D[U&255])^S[I++],j=(D[F>>>24]<<24|D[P>>>16&255]<<16|D[U>>>8&255]<<8|D[H&255])^S[I++],G=(D[P>>>24]<<24|D[U>>>16&255]<<16|D[H>>>8&255]<<8|D[F&255])^S[I++];O[R]=W,O[R+1]=X,O[R+2]=j,O[R+3]=G},keySize:256/32});r.AES=s._createHelper(_)}(),n.AES})}(n_)),n_.exports}var r_={exports:{}},Vhe=r_.exports,x7;function Xhe(){return x7||(x7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),Fh(),Kh(),_d(),cs())})(Vhe,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=a.DES=o.extend({_doReset:function(){for(var C=this._key,_=C.words,O=[],R=0;R<56;R++){var S=c[R]-1;O[R]=_[S>>>5]>>>31-S%32&1}for(var E=this._subKeys=[],x=0;x<16;x++){for(var N=E[x]=[],A=d[x],R=0;R<24;R++)N[R/6|0]|=O[(u[R]-1+A)%28]<<31-R%6,N[4+(R/6|0)]|=O[28+(u[R+24]-1+A)%28]<<31-R%6;N[0]=N[0]<<1|N[0]>>>31;for(var R=1;R<7;R++)N[R]=N[R]>>>(R-1)*4+3;N[7]=N[7]<<5|N[7]>>>27}for(var D=this._invSubKeys=[],R=0;R<16;R++)D[R]=E[15-R]},encryptBlock:function(C,_){this._doCryptBlock(C,_,this._subKeys)},decryptBlock:function(C,_){this._doCryptBlock(C,_,this._invSubKeys)},_doCryptBlock:function(C,_,O){this._lBlock=C[_],this._rBlock=C[_+1],y.call(this,4,252645135),y.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),y.call(this,1,1431655765);for(var R=0;R<16;R++){for(var S=O[R],E=this._lBlock,x=this._rBlock,N=0,A=0;A<8;A++)N|=h[A][((x^S[A])&p[A])>>>0];this._lBlock=x,this._rBlock=E^N}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,y.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),y.call(this,16,65535),y.call(this,4,252645135),C[_]=this._lBlock,C[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function y(C,_){var O=(this._lBlock>>>C^this._rBlock)&_;this._rBlock^=O,this._lBlock^=O<<C}function v(C,_){var O=(this._rBlock>>>C^this._lBlock)&_;this._lBlock^=O,this._rBlock^=O<<C}r.DES=o._createHelper(m);var w=a.TripleDES=o.extend({_doReset:function(){var C=this._key,_=C.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var O=_.slice(0,2),R=_.length<4?_.slice(0,2):_.slice(2,4),S=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=m.createEncryptor(s.create(O)),this._des2=m.createEncryptor(s.create(R)),this._des3=m.createEncryptor(s.create(S))},encryptBlock:function(C,_){this._des1.encryptBlock(C,_),this._des2.decryptBlock(C,_),this._des3.encryptBlock(C,_)},decryptBlock:function(C,_){this._des3.decryptBlock(C,_),this._des2.encryptBlock(C,_),this._des1.decryptBlock(C,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(w)}(),n.TripleDES})}(r_)),r_.exports}var i_={exports:{}},Ghe=i_.exports,S7;function Jhe(){return S7||(S7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),Fh(),Kh(),_d(),cs())})(Ghe,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var d=this._key,h=d.words,p=d.sigBytes,m=this._S=[],y=0;y<256;y++)m[y]=y;for(var y=0,v=0;y<256;y++){var w=y%p,C=h[w>>>2]>>>24-w%4*8&255;v=(v+m[y]+C)%256;var _=m[y];m[y]=m[v],m[v]=_}this._i=this._j=0},_doProcessBlock:function(d,h){d[h]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var d=this._S,h=this._i,p=this._j,m=0,y=0;y<4;y++){h=(h+1)%256,p=(p+d[h])%256;var v=d[h];d[h]=d[p],d[p]=v,m|=d[(d[h]+d[p])%256]<<24-y*8}return this._i=h,this._j=p,m}r.RC4=s._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)c.call(this)}});r.RC4Drop=s._createHelper(u)}(),n.RC4})}(i_)),i_.exports}var s_={exports:{}},Yhe=s_.exports,O7;function Zhe(){return O7||(O7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),Fh(),Kh(),_d(),cs())})(Yhe,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],c=[],u=[],d=o.Rabbit=s.extend({_doReset:function(){for(var p=this._key.words,m=this.cfg.iv,y=0;y<4;y++)p[y]=(p[y]<<8|p[y]>>>24)&16711935|(p[y]<<24|p[y]>>>8)&4278255360;var v=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],w=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var y=0;y<4;y++)h.call(this);for(var y=0;y<8;y++)w[y]^=v[y+4&7];if(m){var C=m.words,_=C[0],O=C[1],R=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,E=R>>>16|S&4294901760,x=S<<16|R&65535;w[0]^=R,w[1]^=E,w[2]^=S,w[3]^=x,w[4]^=R,w[5]^=E,w[6]^=S,w[7]^=x;for(var y=0;y<4;y++)h.call(this)}},_doProcessBlock:function(p,m){var y=this._X;h.call(this),a[0]=y[0]^y[5]>>>16^y[3]<<16,a[1]=y[2]^y[7]>>>16^y[5]<<16,a[2]=y[4]^y[1]>>>16^y[7]<<16,a[3]=y[6]^y[3]>>>16^y[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,p[m+v]^=a[v]},blockSize:128/32,ivSize:64/32});function h(){for(var p=this._X,m=this._C,y=0;y<8;y++)c[y]=m[y];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var y=0;y<8;y++){var v=p[y]+m[y],w=v&65535,C=v>>>16,_=((w*w>>>17)+w*C>>>15)+C*C,O=((v&4294901760)*v|0)+((v&65535)*v|0);u[y]=_^O}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=s._createHelper(d)}(),n.Rabbit})}(s_)),s_.exports}var o_={exports:{}},Qhe=o_.exports,A7;function epe(){return A7||(A7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),Fh(),Kh(),_d(),cs())})(Qhe,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],c=[],u=[],d=o.RabbitLegacy=s.extend({_doReset:function(){var p=this._key.words,m=this.cfg.iv,y=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],v=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var w=0;w<4;w++)h.call(this);for(var w=0;w<8;w++)v[w]^=y[w+4&7];if(m){var C=m.words,_=C[0],O=C[1],R=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,E=R>>>16|S&4294901760,x=S<<16|R&65535;v[0]^=R,v[1]^=E,v[2]^=S,v[3]^=x,v[4]^=R,v[5]^=E,v[6]^=S,v[7]^=x;for(var w=0;w<4;w++)h.call(this)}},_doProcessBlock:function(p,m){var y=this._X;h.call(this),a[0]=y[0]^y[5]>>>16^y[3]<<16,a[1]=y[2]^y[7]>>>16^y[5]<<16,a[2]=y[4]^y[1]>>>16^y[7]<<16,a[3]=y[6]^y[3]>>>16^y[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,p[m+v]^=a[v]},blockSize:128/32,ivSize:64/32});function h(){for(var p=this._X,m=this._C,y=0;y<8;y++)c[y]=m[y];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var y=0;y<8;y++){var v=p[y]+m[y],w=v&65535,C=v>>>16,_=((w*w>>>17)+w*C>>>15)+C*C,O=((v&4294901760)*v|0)+((v&65535)*v|0);u[y]=_^O}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=s._createHelper(d)}(),n.RabbitLegacy})}(o_)),o_.exports}var a_={exports:{}},tpe=a_.exports,T7;function npe(){return T7||(T7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),Fh(),Kh(),_d(),cs())})(tpe,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function h(w,C){let _=C>>24&255,O=C>>16&255,R=C>>8&255,S=C&255,E=w.sbox[0][_]+w.sbox[1][O];return E=E^w.sbox[2][R],E=E+w.sbox[3][S],E}function p(w,C,_){let O=C,R=_,S;for(let E=0;E<a;++E)O=O^w.pbox[E],R=h(w,O)^R,S=O,O=R,R=S;return S=O,O=R,R=S,R=R^w.pbox[a],O=O^w.pbox[a+1],{left:O,right:R}}function m(w,C,_){let O=C,R=_,S;for(let E=a+1;E>1;--E)O=O^w.pbox[E],R=h(w,O)^R,S=O,O=R,R=S;return S=O,O=R,R=S,R=R^w.pbox[1],O=O^w.pbox[0],{left:O,right:R}}function y(w,C,_){for(let x=0;x<4;x++){w.sbox[x]=[];for(let N=0;N<256;N++)w.sbox[x][N]=u[x][N]}let O=0;for(let x=0;x<a+2;x++)w.pbox[x]=c[x]^C[O],O++,O>=_&&(O=0);let R=0,S=0,E=0;for(let x=0;x<a+2;x+=2)E=p(w,R,S),R=E.left,S=E.right,w.pbox[x]=R,w.pbox[x+1]=S;for(let x=0;x<4;x++)for(let N=0;N<256;N+=2)E=p(w,R,S),R=E.left,S=E.right,w.sbox[x][N]=R,w.sbox[x][N+1]=S;return!0}var v=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,C=w.words,_=w.sigBytes/4;y(d,C,_)}},encryptBlock:function(w,C){var _=p(d,w[C],w[C+1]);w[C]=_.left,w[C+1]=_.right},decryptBlock:function(w,C){var _=m(d,w[C],w[C+1]);w[C]=_.left,w[C+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(v)}(),n.Blowfish})}(a_)),a_.exports}var rpe=OE.exports,R7;function hz(){return R7||(R7=1,function(e,t){(function(n,r,i){e.exports=r(Gn(),i2(),ehe(),nhe(),Fh(),she(),Kh(),dz(),b5(),uhe(),fz(),hhe(),ghe(),yhe(),E5(),bhe(),_d(),cs(),xhe(),Ohe(),The(),Nhe(),Ihe(),khe(),Lhe(),Bhe(),jhe(),Khe(),Hhe(),qhe(),Xhe(),Jhe(),Zhe(),epe(),npe())})(rpe,function(n){return n})}(OE)),OE.exports}var N7;function mc(){return N7||(N7=1,function(e){var t=Km&&Km.__importDefault||function(ue){return ue&&ue.__esModule?ue:{default:ue}};Object.defineProperty(e,"__esModule",{value:!0}),e.chainName2IdMap=e.isValidObject=e.RANDOM_LENGTH=e.isBrowser=e.resolveLocalStorage=e.hasLocalStorage=e.hasBuiltInWebSocket=e.resolveWebSocketImplementation=void 0,e.hexToByteArray=p,e.getChainId=m,e.toHexString=y,e.concatUint8Arrays=v,e.splitToUint8Arrays=w,e.base64encode=O,e.base64decode=R,e.checkWSUrl=S,e.hashKey=k,e.generateRandomBytes32=U,e.generateTopic=H,e.generateGroupId=F,e.isInIOSLine=I,e.isInIOSLark=$,e.isInIOSChrome=W,e.isInIOSWeChat=X,e.isIos=j,e.getLastSixMd5Hash=G,e.toSafeBase64FromBase64=ae,e.useShortLink=ce,e.replaceChainNameToChainId=oe,e.replaceChainIdToChainName=Ce,e.getNamespaceKeyByChain=Ae;const n=t(bg()),r=t(Zue()),i=Ife,s=kfe(),o=jh(),a=Bi(),c=uz(),u=t(hz()),d=Ns(),h="base16";function p(ue){if(ue.length%2!==0)throw new Error(`Cannot convert ${ue} to bytesArray`);const Y=new Uint8Array(ue.length/2);for(let ee=0;ee<ue.length;ee+=2)Y[ee/2]=parseInt(ue.slice(ee,ee+2),16);return Y}function m(ue){return ue.includes(":")?ue.split(":")[1]:ue}function y(ue){let Y="";return ue.forEach(ee=>{Y+=("0"+(ee&255).toString(16)).slice(-2)}),Y}function v(ue,Y){const ee=new Uint8Array(ue.length+Y.length);return ee.set(ue),ee.set(Y,ue.length),ee}function w(ue,Y){if(Y>=ue.length)throw new Error("Index is out of buffer");const ee=ue.slice(0,Y),B=ue.slice(Y);return[ee,B]}function C(ue,Y){const ee=r.default.encodeBase64(ue);return Y?encodeURIComponent(ee):ee}function _(ue,Y){return Y&&(ue=decodeURIComponent(ue)),r.default.decodeBase64(ue)}function O(ue,Y){let ee;return ue instanceof Uint8Array?ee=ue:(typeof ue!="string"&&(ue=(0,o.safeJsonStringify)(ue)),ee=r.default.decodeUTF8(ue)),C(ee,Y)}function R(ue,Y){const ee=_(ue,Y);return{toString(){return r.default.encodeUTF8(ee)},toObject(){try{return(0,o.safeJsonParse)(r.default.encodeUTF8(ee))}catch{return null}},toUint8Array(){return ee}}}function S(ue){const Y=ue.match(new RegExp(/^\w+:/,"gi"));if(!Y||!Y.length)return!1;let ee=Y[0];return ee===void 0?!1:new RegExp("^wss?:").test(ee)}const E=()=>typeof WebSocket<"u"?WebSocket:typeof mr<"u"&&typeof mr.WebSocket<"u"?mr.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:WebSocket;e.resolveWebSocketImplementation=E;const x=()=>typeof WebSocket<"u"||typeof mr<"u"&&typeof mr.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u";e.hasBuiltInWebSocket=x;const N=()=>typeof mr<"u"&&typeof mr.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u";e.hasLocalStorage=N;const A=()=>typeof mr<"u"&&typeof mr.localStorage<"u"?mr.localStorage:typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:localStorage;e.resolveLocalStorage=A;const D=()=>typeof window<"u";e.isBrowser=D,e.RANDOM_LENGTH=32;function k(ue,Y=h){(0,a.logDebug)(`hash key called ${ue}`);const ee=(0,s.hash)((0,c.okxfromString)(ue,Y));return(0,i.toString)(ee,Y)}function U(){return n.default.randomBytes(e.RANDOM_LENGTH)}function H(){let ue=U();return(0,a.logDebug)(`generate topic called ${ue}`),k((0,i.toString)(ue,h))}function F(){let ue=n.default.randomBytes(16);return(0,a.logDebug)(`generate groupid called ${ue}`),k((0,i.toString)(ue,h))}const P=ue=>Object.getPrototypeOf(ue)===Object.prototype&&Object.keys(ue).length;e.isValidObject=P;function I(){return navigator.userAgent.includes("Safari Line/")&&j()}function $(){return navigator.userAgent.includes("Lark/")&&j()}function W(){return navigator.userAgent.includes("CriOS/")&&j()}function X(){return navigator.userAgent.includes("MicroMessenger/")&&j()}function j(){const ue=navigator.userAgent,Y=navigator.maxTouchPoints||0,ee=/iPad|iPhone|iPod/.test(ue)&&!window.MSStream,B=ue.includes("Mac")&&Y>1;return(0,a.logDebug)(`utils isIos >>>isIOSDevice: ${ee}    >> isIPadOS: ${B}`),ee||B}function G(ue){return u.default.MD5(ue).toString().slice(-6)}function ae(ue){return ue.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ce(){return!0}e.chainName2IdMap=new Map,e.chainName2IdMap.set("aptos:mainnet","aptos:637"),e.chainName2IdMap.set("movement:testnet","aptos:70000060"),e.chainName2IdMap.set("movement:mainnet","aptos:70000066"),e.chainName2IdMap.set("soon:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000069"),e.chainName2IdMap.set("soon:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","svm:70000067"),e.chainName2IdMap.set("eclipse:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000068"),e.chainName2IdMap.set("sonic:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000073");function oe(ue){return e.chainName2IdMap.forEach((Y,ee)=>{ue.includes(ee)&&(ue=ue.replace(ee,Y))}),ue}function Ce(ue){return e.chainName2IdMap.forEach((Y,ee)=>{ue.includes(Y)&&(ue=ue.replace(Y,ee))}),ue}function Ae(ue){for(const[Y,ee]of Object.entries(d.NAMES_CHAINS))if(Object.values(ee).includes(ue))return Y;return ue}}(Km)),Km}var P7;function s2(){if(P7)return Fo;P7=1;var e=Fo&&Fo.__createBinding||(Object.create?function(p,m,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(m,y);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(p,v,w)}:function(p,m,y,v){v===void 0&&(v=y),p[v]=m[y]}),t=Fo&&Fo.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),n=Fo&&Fo.__importStar||function(){var p=function(m){return p=Object.getOwnPropertyNames||function(y){var v=[];for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(v[v.length]=w);return v},p(m)};return function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var v=p(m),w=0;w<v.length;w++)v[w]!=="default"&&e(y,m,v[w]);return t(y,m),y}}(),r=Fo&&Fo.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.Storage=void 0;const i=j1(),s=r(bg()),o=mc(),a=As(),c=n(Bi()),u=As(),d=hz();class h{constructor(m,y=void 0){const v=(0,o.resolveLocalStorage)();this.storeKey="",this.cipherIV="",this.subKey=m,c.logDebug("--------get current local storage --------"),c.logDebug(v),this.synchronizedCache()}checkAndUpgradeCache(m,y){if(m&&m.length>0&&y&&y.length>0){c.logDebug("--------get current local storage --------"),c.logDebug(localStorage);const v=localStorage.getItem(h.cacheKey+m);if(typeof v>"u"||v===null){c.logDebug("no pre cache content");return}c.logDebug(v),v?.length>0&&(c.logDebug("write in cache content: ",m,"->",y),localStorage.setItem(h.cacheKey+y,v),c.logDebug("clean in cache content: ",m),localStorage.removeItem(h.cacheKey+m))}else c.logDebug("no pre cache key:",m)}saveContent(m,y,v="-"){let w={id:v,timestamp:Date.now().toString(),content:m};this.saveItem(w,y)}saveItem(m,y){let v=h.cacheKey+this.subKey;const w=(0,o.resolveLocalStorage)();c.logDebug(this.cache),c.logDebug(`get cache obj: ${this.cache}, ${y}, ${m}`),this.cache[y]=m;let C=(0,a.safeJsonStringify)(this.cache);c.logDebug(`STORAGE: ${y} @ ${this.cache}`),w.setItem(v,C)}getItem(m){return c.logDebug(`STORAGE >> getItem: ${m} @ ${this.cache}`),this.cache[m]}synchronizedCache(){const m=localStorage.getItem(h.cacheKey+this.subKey);if(typeof m>"u"||m===null){c.logDebug("with no cache"),this.cache={};return}if(c.logDebug(m),m?.length>0){var y=(0,a.safeJsonParse)(m);this.cache=y}c.logDebug(`get cache obj: ${this.cache}`),(typeof this.cache>"u"||this.cache==null)&&(this.cache={})}getCachedPBKDF2InfoKey(){var m,y,v,w;if(this.storeKey.length>0&&((m=this.cipherIV)===null||m===void 0?void 0:m.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let O=(y=this.getItem(i.OKXCONNECTOR_STORAGER_CRYPTO_SALT))===null||y===void 0?void 0:y.content;O||(O=(0,o.toHexString)(s.default.randomBytes(24)),this.saveContent(O,i.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let R=(v=this.getItem(i.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))===null||v===void 0?void 0:v.content;R||(R=(0,o.toHexString)(s.default.randomBytes(32)),this.saveContent(R,i.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let S=(w=this.getItem(i.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))===null||w===void 0?void 0:w.content;if(!S){let E=s.default.randomBytes(16);S=(0,o.toHexString)(E),this.saveContent(S,i.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=S,this.storeKey=(0,d.PBKDF2)(R,O,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(m,y){(0,u.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let v=this.getCachedPBKDF2InfoKey();(0,u.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var w=d.AES.encrypt(m,v.pw).toString();this.saveContent(w,y),(0,u.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(m){(0,u.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let y=this.getItem(m);if(y&&y.content){let v=this.getCachedPBKDF2InfoKey();(0,u.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let w=d.AES.decrypt(y.content,v.pw).toString(d.enc.Utf8);return(0,u.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),w}return null}clearCache(m=void 0){if(m===void 0){const y=(0,o.resolveLocalStorage)();this.cache={};let v=h.cacheKey+this.subKey;y.setItem(v,"")}else{let y=h.cacheKey+this.subKey;const v=(0,o.resolveLocalStorage)();c.logDebug(this.cache),this.cache[m]=null;let w=(0,a.safeJsonStringify)(this.cache);c.logDebug(`STORAGE: clean key ${m} @ ${this.cache}`),v.setItem(y,w)}}}return Fo.Storage=h,h.cacheKey="OKXStorageKey",Fo}var I7;function _5(){if(I7)return jo;I7=1;var e=jo&&jo.__createBinding||(Object.create?function(v,w,C,_){_===void 0&&(_=C);var O=Object.getOwnPropertyDescriptor(w,C);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[C]}}),Object.defineProperty(v,_,O)}:function(v,w,C,_){_===void 0&&(_=C),v[_]=w[C]}),t=jo&&jo.__setModuleDefault||(Object.create?function(v,w){Object.defineProperty(v,"default",{enumerable:!0,value:w})}:function(v,w){v.default=w}),n=jo&&jo.__importStar||function(){var v=function(w){return v=Object.getOwnPropertyNames||function(C){var _=[];for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(_[_.length]=O);return _},v(w)};return function(w){if(w&&w.__esModule)return w;var C={};if(w!=null)for(var _=v(w),O=0;O<_.length;O++)_[O]!=="default"&&e(C,w,_[O]);return t(C,w),C}}(),r=jo&&jo.__awaiter||function(v,w,C,_){function O(R){return R instanceof C?R:new C(function(S){S(R)})}return new(C||(C=Promise))(function(R,S){function E(A){try{N(_.next(A))}catch(D){S(D)}}function x(A){try{N(_.throw(A))}catch(D){S(D)}}function N(A){A.done?R(A.value):O(A.value).then(E,x)}N((_=_.apply(v,w||[])).next())})};Object.defineProperty(jo,"__esModule",{value:!0}),jo.OKXWalletConnector=void 0;const i=$1(),s=j1(),o=s2(),a=As(),c=mc(),u=Ed(),d=n(Bi()),h=Ns(),p=r2(),m=(0,c.resolveWebSocketImplementation)();class y{constructor(w){if(this.events=new u.EventEmitter,this.state=i.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,c.checkWSUrl)(w))throw new Error(`CONNECTOR: invalid url ${w}`);this.url=w,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new o.Storage(s.OKXCONNECTOR_CACHE_KEY+s.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==i.ConnectorState.Connecting}onPayload(w){if(!(typeof w.data>"u")){if(d.logDebug("get received data"),d.logDebug(w),typeof w.data=="string"&&w.data==="pong"){d.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);return}this.events.emit("payload",w.data)}}onClose(w){var C;d.logDebug("socket get closed: ",(C=this.socket)===null||C===void 0?void 0:C.url,w.code),this.socket=void 0,this.events.emit("close",w)}onError(w,C){const _={id:w,msg:C.toString()};this.events.emit("payload",_)}onopen(w){w.onmessage=C=>this.onPayload(C),w.onclose=C=>this.onClose(C),this.socket=w,this.state=i.ConnectorState.Connected,this.events.emit("open")}emitError(w){this.events.emit("fail",w)}heartbeat(){return r(this,void 0,void 0,function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state!=i.ConnectorState.Connected&&this.state!=i.ConnectorState.OnError){d.logDebug("heart beat close");return}if(!this.socket){if(d.logDebug("socket not exist"),this.state==i.ConnectorState.Connected||this.state==i.ConnectorState.OnError){d.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch{d.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}if(this.socket.readyState!==WebSocket.OPEN){if(d.logDebug("socket not ready"),this.state==i.ConnectorState.Connected||this.state==i.ConnectorState.OnError){d.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch{d.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}d.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)})}registOpen(w=this.url,C=!1){if(!(0,c.checkWSUrl)(w))throw new Error(`CONNECTOR: invalid url ${w}`);return this.url=w,C||d.logDebug("Connection connect:",this.url,new Date().toUTCString()),this.state=i.ConnectorState.Connecting,new URLSearchParams(w).get("origin"),new Promise((_,O)=>{const R=new m(w,[]);d.logDebug("Connection connect Begin:",this.url,new Date().toUTCString()),this.startTimeOutTimer(R),(0,c.hasBuiltInWebSocket)()?(d.logDebug("Add socket error handler"),R.onerror=()=>{O(new Error("socket error")),R.close()}):(d.logDebug("Add socket error handler"),R.on("error",()=>{O(new Error("socket error")),R.close()})),R.onopen=()=>{d.logDebug("socket opened"),this.resetTimeOutTimer(i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(R),this.heartbeat(),_(R)}})}checkMaxRetry(){return d.logDebug("current retry count:",this.retryCount,"of",i.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>i.OKXCONNECTOR_WS_URL_LIST.length*3}connectionTryNext(){return r(this,void 0,void 0,function*(){if(this.checkMaxRetry())d.logDebug("Max Connection retry ",this.retryCount,new Date().toUTCString());else{this.retryCount+=1;let w=this.getNextSelectUrl();return d.logDebug("Connection retry:",w,new Date().toUTCString()),this.registOpen(w,!0)}})}startTimeOutTimer(w){this.connectionTimeoutTimer&&this.resetTimeOutTimer(i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=w,this.connectionTimeoutTimer=setTimeout(()=>{this.pendingSocket&&this.resetTimeOutTimer(i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)},this.timeOutLimit)}resetTimeOutTimer(w){var C;if(w==i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),(C=this.pendingSocket)===null||C===void 0||C.close(),this.pendingSocket=void 0,d.reportEvent(p.OKXReportType.LOG,"timeout",this.retryCount.toString()),new Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),s.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%i.OKXCONNECTOR_WS_URL_LIST.length,i.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return r(this,void 0,void 0,function*(){if(document.visibilityState==="visible"&&(d.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==i.ConnectorState.Connected&&typeof this.socket>"u")){d.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch{d.logError("regist open failed")}return}})}tryRegistOpen(){return r(this,arguments,void 0,function*(w=this.url){if(this.connecting)return d.logDebug("tryRegistOpen => connecting state"),new Promise((_,O)=>{this.events.once("fail",R=>(d.logDebug("tryRegistOpen => connecting fail listener",R),O(R))),this.events.once("open",()=>typeof this.socket>"u"?O(new Error("Connect lost")):_(this.socket))});d.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let C=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{d.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,C),yield this.registOpen(w,C)}catch(_){d.logDebug("tryRegistOpen => registOpen failed",_),this.retryCount+=1,w=this.getNextSelectUrl(),C=!0}if(d.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw d.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=i.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")})}connect(){return r(this,void 0,void 0,function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(w){throw d.logDebug("connect => failed to connect",w),w}})}disconnect(){return r(this,void 0,void 0,function*(){return this.state=i.ConnectorState.Disconnected,new Promise((w,C)=>{if(typeof this.socket>"u"){w();return}this.socket.onclose=_=>{this.onClose(_),w()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)})})}currentStatus(){return{state:this.state,url:this.url}}addListener(w,C,_,O,R){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=S=>r(this,void 0,void 0,function*(){var E;d.logDebug(`<<< get payload ${S}`);let x=(0,a.safeJsonParse)(S);if(x.params&&x.params.data){let N=(E=x.params.data)===null||E===void 0?void 0:E.message,A=!1;if(N&&R){let D=yield R(x.params.data);A=D.isSplitPackage&&!D.finalMessage,D.isSplitPackage&&(D.finalMessage&&D.finalMessage.length>0?(d.logDebug("CONNECT: update raw msg content"),N=D.finalMessage):(d.logDebug("CONNECT: skip raw msg content"),A=!0))}if(!A)try{let D=C(N);D===void 0?(d.logDebug("CONNECT: decrypt undefined"),O(w,"Decrypt undefined")):_(w,D)}catch(D){d.logDebug(`CONNECT: decrypt failed: ${D}`),O(w,D.message)}}}),this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=S=>{S?(d.logDebug(`CONNECT failed: ${S}`),O(w,S.message)):O(w,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(w){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=C=>r(this,void 0,void 0,function*(){d.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${C}`);let _=(0,a.safeJsonParse)(C);yield w(_)}),this.events.on("payload",this.payloadHandler)}once(w,C){this.events.once(w,C)}off(w,C){this.events.off(w,C)}removeListener(w,C){this.events.removeListener(w,C)}send(w,C){return r(this,void 0,void 0,function*(){try{typeof this.socket>"u"&&(d.logDebug(`>>> send payload undefined ${C}`),yield w()),d.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0,a.safeJsonStringify)(C)}`),this.socket&&this.socket.send((0,a.safeJsonStringify)(C))}catch(_){this.onError(C.id,_)}})}getMsgPayloadFromHistory(w){return r(this,void 0,void 0,function*(){if(typeof w>"u")return;let C={params:{data:w}},_=(0,a.safeJsonStringify)(w);d.logDebug("get received data from history"),d.logDebug(_),_=(0,a.safeJsonStringify)(C),this.events.emit("payload",_)})}onOpen(w){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>r(this,void 0,void 0,function*(){d.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `),yield w()}),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}return jo.OKXWalletConnector=y,jo}var Ho={},ii={},D7;function pz(){return D7||(D7=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.CONNECT_METHOD_RECV_DISCONNECT=ii.CONNECT_METHOD_DISCONNECT=ii.CONNECT_METHOD_BATCH_FETCHMSG=ii.CONNECT_METHOD_FETCHMSG=ii.CONNECT_METHOD_RECEIVE=ii.CONNECT_METHOD_UNSUB=ii.CONNECT_METHOD_SUB=ii.CONNECT_METHOD_PUBLISH=ii.CONNECT_METHOD_LOGIN=ii.CONNECT_METHOD_PUSH=void 0,ii.CONNECT_METHOD_PUSH="push",ii.CONNECT_METHOD_LOGIN="login",ii.CONNECT_METHOD_PUBLISH="publish",ii.CONNECT_METHOD_SUB="subscribe",ii.CONNECT_METHOD_UNSUB="unsubscribe",ii.CONNECT_METHOD_RECEIVE="receive",ii.CONNECT_METHOD_FETCHMSG="fetchMessages",ii.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages",ii.CONNECT_METHOD_DISCONNECT="disconnect",ii.CONNECT_METHOD_RECV_DISCONNECT="receiveDisconnect"),ii}var _l={},k7;function gz(){return k7||(k7=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.OKXCONNECTOR_JWT_TTL=_l.OKXCONNECTOR_JWT_WALLET_SIDE=_l.OKXCONNECTOR_JWT_SIDE=void 0,_l.OKXCONNECTOR_JWT_SIDE="wallet",_l.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",_l.OKXCONNECTOR_JWT_TTL=864e5),_l}var ef={},M7;function mz(){if(M7)return ef;M7=1;var e=ef&&ef.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ef,"__esModule",{value:!0}),ef.SessionCrypto=void 0;const t=e(bg()),n=mc();class r{constructor(s=void 0){this.nonceLength=24,this.sessionKeyPair=s?this.createKeypairFromString(s):this.createKeypair()}createKeypair(){return t.default.box.keyPair()}createKeypairFromString(s){return{publicKey:(0,n.hexToByteArray)(s.publicKey),secretKey:(0,n.hexToByteArray)(s.secretKey)}}createNonce(){return t.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(s,o){const a=new TextEncoder().encode(s),c=this.createNonce(),u=t.default.box(a,c,(0,n.hexToByteArray)(o),this.keyPair.secretKey);let d=(0,n.concatUint8Arrays)(c,u);var h=(0,n.toHexString)(d),p=new TextEncoder().encode(h);return(0,n.base64encode)(p,!1)}encryptWallet(s,o){const a=new TextEncoder().encode(s),c=this.createNonce(),u=t.default.box(a,c,(0,n.hexToByteArray)(o),this.keyPair.secretKey);let d=(0,n.concatUint8Arrays)(c,u);return(0,n.base64encode)(d,!1)}decrypt(s,o){let c=(0,n.base64decode)(s,!0).toUint8Array();const[u,d]=(0,n.splitToUint8Arrays)(c,this.nonceLength),h=t.default.box.open(d,u,(0,n.hexToByteArray)(o),this.keyPair.secretKey);if(!h)throw new Error(`Decryption error: 
 message: ${s.toString()} 
 sender pubkey: ${o.toString()} 
 keypair pubkey: ${(0,n.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,n.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(h)}decryptWallet(s,o){let a=(0,n.base64decode)(s,!0),c=(0,n.hexToByteArray)(a.toString());const[u,d]=(0,n.splitToUint8Arrays)(c,this.nonceLength),h=t.default.box.open(d,u,(0,n.hexToByteArray)(o),this.keyPair.secretKey);if(!h)throw new Error(`Decryption error: 
 message: ${s.toString()} 
 sender pubkey: ${o.toString()} 
 keypair pubkey: ${(0,n.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,n.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(h)}stringifyKeypair(){return{publicKey:(0,n.toHexString)(this.keyPair.publicKey),secretKey:(0,n.toHexString)(this.keyPair.secretKey)}}}return ef.SessionCrypto=r,ef}var zo={},FO={},KO={},Vm={},Xm={},L7;function ipe(){if(L7)return Xm;L7=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.BrowserRandomSource=void 0;const e=65536;class t{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const r=typeof self<"u"?self.crypto||self.msCrypto:null;r&&r.getRandomValues!==void 0&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const i=new Uint8Array(r);for(let s=0;s<i.length;s+=e)this._crypto.getRandomValues(i.subarray(s,s+Math.min(i.length-s,e)));return i}}return Xm.BrowserRandomSource=t,Xm}var Gm={},U7;function spe(){if(U7)return Gm;U7=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.NodeRandomSource=void 0;const e=K1();class t{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof rh<"u"){const r=f5;r&&r.randomBytes&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let i=this._crypto.randomBytes(r);if(i.length!==r)throw new Error("NodeRandomSource: got fewer bytes than requested");const s=new Uint8Array(r);for(let o=0;o<s.length;o++)s[o]=i[o];return(0,e.wipe)(i),s}}return Gm.NodeRandomSource=t,Gm}var B7;function ope(){if(B7)return Vm;B7=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.SystemRandomSource=void 0;const e=ipe(),t=spe();class n{constructor(){if(this.isAvailable=!1,this.name="",this._source=new e.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new t.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(i){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(i)}}return Vm.SystemRandomSource=n,Vm}var $7;function ape(){return $7||($7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=ope(),n=m5(),r=K1();e.defaultRandomSource=new t.SystemRandomSource;function i(u,d=e.defaultRandomSource){return d.randomBytes(u)}e.randomBytes=i;function s(u=e.defaultRandomSource){const d=i(4,u),h=(0,n.readUint32LE)(d);return(0,r.wipe)(d),h}e.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(u,d=o,h=e.defaultRandomSource){if(d.length<2)throw new Error("randomString charset is too short");if(d.length>256)throw new Error("randomString charset is too long");let p="";const m=d.length,y=256-256%m;for(;u>0;){const v=i(Math.ceil(u*256/y),h);for(let w=0;w<v.length&&u>0;w++){const C=v[w];C<y&&(p+=d.charAt(C%m),u--)}(0,r.wipe)(v)}return p}e.randomString=a;function c(u,d=o,h=e.defaultRandomSource){const p=Math.ceil(u/(Math.log(d.length)/Math.LN2));return a(p,d,h)}e.randomStringForEntropy=c}(KO)),KO}var WO={},j7;function cpe(){return j7||(j7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=m5(),n=K1();e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var r=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,u){if(u===void 0&&(u=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var d=0;if(this._bytesHashed+=u,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&u>0;)this._buffer[this._bufferLength++]=c[d++],u--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(u>=this.blockSize&&(d=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,d,u),u%=this.blockSize);u>0;)this._buffer[this._bufferLength++]=c[d++],u--;return this},a.prototype.finish=function(c){if(!this._finished){var u=this._bytesHashed,d=this._bufferLength,h=u/536870912|0,p=u<<3,m=u%128<112?128:256;this._buffer[d]=128;for(var y=d+1;y<m-8;y++)this._buffer[y]=0;t.writeUint32BE(h,this._buffer,m-8),t.writeUint32BE(p,this._buffer,m-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,m),this._finished=!0}for(var y=0;y<this.digestLength/8;y++)t.writeUint32BE(this._stateHi[y],c,y*8),t.writeUint32BE(this._stateLo[y],c,y*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){n.wipe(c.stateHi),n.wipe(c.stateLo),c.buffer&&n.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();e.SHA512=r;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,u,d,h,p,m){for(var y=u[0],v=u[1],w=u[2],C=u[3],_=u[4],O=u[5],R=u[6],S=u[7],E=d[0],x=d[1],N=d[2],A=d[3],D=d[4],k=d[5],U=d[6],H=d[7],F,P,I,$,W,X,j,G;m>=128;){for(var ae=0;ae<16;ae++){var ce=8*ae+p;a[ae]=t.readUint32BE(h,ce),c[ae]=t.readUint32BE(h,ce+4)}for(var ae=0;ae<80;ae++){var oe=y,Ce=v,Ae=w,ue=C,Y=_,ee=O,B=R,te=S,we=E,Ne=x,Fe=N,Ve=A,Et=D,Nt=k,at=U,Kt=H;if(F=S,P=H,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=(_>>>14|D<<18)^(_>>>18|D<<14)^(D>>>9|_<<23),P=(D>>>14|_<<18)^(D>>>18|_<<14)^(_>>>9|D<<23),W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,F=_&O^~_&R,P=D&k^~D&U,W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,F=i[ae*2],P=i[ae*2+1],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,F=a[ae%16],P=c[ae%16],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,I=j&65535|G<<16,$=W&65535|X<<16,F=I,P=$,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=(y>>>28|E<<4)^(E>>>2|y<<30)^(E>>>7|y<<25),P=(E>>>28|y<<4)^(y>>>2|E<<30)^(y>>>7|E<<25),W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,F=y&v^y&w^v&w,P=E&x^E&N^x&N,W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,te=j&65535|G<<16,Kt=W&65535|X<<16,F=ue,P=Ve,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=I,P=$,W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,ue=j&65535|G<<16,Ve=W&65535|X<<16,v=oe,w=Ce,C=Ae,_=ue,O=Y,R=ee,S=B,y=te,x=we,N=Ne,A=Fe,D=Ve,k=Et,U=Nt,H=at,E=Kt,ae%16===15)for(var ce=0;ce<16;ce++)F=a[ce],P=c[ce],W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=a[(ce+9)%16],P=c[(ce+9)%16],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,I=a[(ce+1)%16],$=c[(ce+1)%16],F=(I>>>1|$<<31)^(I>>>8|$<<24)^I>>>7,P=($>>>1|I<<31)^($>>>8|I<<24)^($>>>7|I<<25),W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,I=a[(ce+14)%16],$=c[(ce+14)%16],F=(I>>>19|$<<13)^($>>>29|I<<3)^I>>>6,P=($>>>19|I<<13)^(I>>>29|$<<3)^($>>>6|I<<26),W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,a[ce]=j&65535|G<<16,c[ce]=W&65535|X<<16}F=y,P=E,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[0],P=d[0],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[0]=y=j&65535|G<<16,d[0]=E=W&65535|X<<16,F=v,P=x,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[1],P=d[1],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[1]=v=j&65535|G<<16,d[1]=x=W&65535|X<<16,F=w,P=N,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[2],P=d[2],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[2]=w=j&65535|G<<16,d[2]=N=W&65535|X<<16,F=C,P=A,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[3],P=d[3],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[3]=C=j&65535|G<<16,d[3]=A=W&65535|X<<16,F=_,P=D,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[4],P=d[4],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[4]=_=j&65535|G<<16,d[4]=D=W&65535|X<<16,F=O,P=k,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[5],P=d[5],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[5]=O=j&65535|G<<16,d[5]=k=W&65535|X<<16,F=R,P=U,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[6],P=d[6],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[6]=R=j&65535|G<<16,d[6]=U=W&65535|X<<16,F=S,P=H,W=P&65535,X=P>>>16,j=F&65535,G=F>>>16,F=u[7],P=d[7],W+=P&65535,X+=P>>>16,j+=F&65535,G+=F>>>16,X+=W>>>16,j+=X>>>16,G+=j>>>16,u[7]=S=j&65535|G<<16,d[7]=H=W&65535|X<<16,p+=128,m-=128}return p}function o(a){var c=new r;c.update(a);var u=c.digest();return c.clean(),u}e.hash=o}(WO)),WO}var F7;function lpe(){return F7||(F7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=ape(),n=cpe(),r=K1();e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function i(ue){const Y=new Float64Array(16);if(ue)for(let ee=0;ee<ue.length;ee++)Y[ee]=ue[ee];return Y}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(ue,Y){for(let ee=0;ee<16;ee++)ue[ee]=Y[ee]|0}function y(ue){let Y=1;for(let ee=0;ee<16;ee++){let B=ue[ee]+Y+65535;Y=Math.floor(B/65536),ue[ee]=B-Y*65536}ue[0]+=Y-1+37*(Y-1)}function v(ue,Y,ee){const B=~(ee-1);for(let te=0;te<16;te++){const we=B&(ue[te]^Y[te]);ue[te]^=we,Y[te]^=we}}function w(ue,Y){const ee=i(),B=i();for(let te=0;te<16;te++)B[te]=Y[te];y(B),y(B),y(B);for(let te=0;te<2;te++){ee[0]=B[0]-65517;for(let Ne=1;Ne<15;Ne++)ee[Ne]=B[Ne]-65535-(ee[Ne-1]>>16&1),ee[Ne-1]&=65535;ee[15]=B[15]-32767-(ee[14]>>16&1);const we=ee[15]>>16&1;ee[14]&=65535,v(B,ee,1-we)}for(let te=0;te<16;te++)ue[2*te]=B[te]&255,ue[2*te+1]=B[te]>>8}function C(ue,Y){let ee=0;for(let B=0;B<32;B++)ee|=ue[B]^Y[B];return(1&ee-1>>>8)-1}function _(ue,Y){const ee=new Uint8Array(32),B=new Uint8Array(32);return w(ee,ue),w(B,Y),C(ee,B)}function O(ue){const Y=new Uint8Array(32);return w(Y,ue),Y[0]&1}function R(ue,Y){for(let ee=0;ee<16;ee++)ue[ee]=Y[2*ee]+(Y[2*ee+1]<<8);ue[15]&=32767}function S(ue,Y,ee){for(let B=0;B<16;B++)ue[B]=Y[B]+ee[B]}function E(ue,Y,ee){for(let B=0;B<16;B++)ue[B]=Y[B]-ee[B]}function x(ue,Y,ee){let B,te,we=0,Ne=0,Fe=0,Ve=0,Et=0,Nt=0,at=0,Kt=0,en=0,ln=0,Gt=0,Wt=0,Ht=0,pn=0,ct=0,yt=0,vt=0,zt=0,In=0,gn=0,Ft=0,_t=0,un=0,xr=0,Qn=0,Bn=0,ei=0,wi=0,Jr=0,Xi=0,ks=0,Jn=ee[0],Rn=ee[1],Dn=ee[2],rr=ee[3],Sr=ee[4],me=ee[5],Ee=ee[6],Te=ee[7],je=ee[8],Ge=ee[9],K=ee[10],J=ee[11],V=ee[12],L=ee[13],Z=ee[14],fe=ee[15];B=Y[0],we+=B*Jn,Ne+=B*Rn,Fe+=B*Dn,Ve+=B*rr,Et+=B*Sr,Nt+=B*me,at+=B*Ee,Kt+=B*Te,en+=B*je,ln+=B*Ge,Gt+=B*K,Wt+=B*J,Ht+=B*V,pn+=B*L,ct+=B*Z,yt+=B*fe,B=Y[1],Ne+=B*Jn,Fe+=B*Rn,Ve+=B*Dn,Et+=B*rr,Nt+=B*Sr,at+=B*me,Kt+=B*Ee,en+=B*Te,ln+=B*je,Gt+=B*Ge,Wt+=B*K,Ht+=B*J,pn+=B*V,ct+=B*L,yt+=B*Z,vt+=B*fe,B=Y[2],Fe+=B*Jn,Ve+=B*Rn,Et+=B*Dn,Nt+=B*rr,at+=B*Sr,Kt+=B*me,en+=B*Ee,ln+=B*Te,Gt+=B*je,Wt+=B*Ge,Ht+=B*K,pn+=B*J,ct+=B*V,yt+=B*L,vt+=B*Z,zt+=B*fe,B=Y[3],Ve+=B*Jn,Et+=B*Rn,Nt+=B*Dn,at+=B*rr,Kt+=B*Sr,en+=B*me,ln+=B*Ee,Gt+=B*Te,Wt+=B*je,Ht+=B*Ge,pn+=B*K,ct+=B*J,yt+=B*V,vt+=B*L,zt+=B*Z,In+=B*fe,B=Y[4],Et+=B*Jn,Nt+=B*Rn,at+=B*Dn,Kt+=B*rr,en+=B*Sr,ln+=B*me,Gt+=B*Ee,Wt+=B*Te,Ht+=B*je,pn+=B*Ge,ct+=B*K,yt+=B*J,vt+=B*V,zt+=B*L,In+=B*Z,gn+=B*fe,B=Y[5],Nt+=B*Jn,at+=B*Rn,Kt+=B*Dn,en+=B*rr,ln+=B*Sr,Gt+=B*me,Wt+=B*Ee,Ht+=B*Te,pn+=B*je,ct+=B*Ge,yt+=B*K,vt+=B*J,zt+=B*V,In+=B*L,gn+=B*Z,Ft+=B*fe,B=Y[6],at+=B*Jn,Kt+=B*Rn,en+=B*Dn,ln+=B*rr,Gt+=B*Sr,Wt+=B*me,Ht+=B*Ee,pn+=B*Te,ct+=B*je,yt+=B*Ge,vt+=B*K,zt+=B*J,In+=B*V,gn+=B*L,Ft+=B*Z,_t+=B*fe,B=Y[7],Kt+=B*Jn,en+=B*Rn,ln+=B*Dn,Gt+=B*rr,Wt+=B*Sr,Ht+=B*me,pn+=B*Ee,ct+=B*Te,yt+=B*je,vt+=B*Ge,zt+=B*K,In+=B*J,gn+=B*V,Ft+=B*L,_t+=B*Z,un+=B*fe,B=Y[8],en+=B*Jn,ln+=B*Rn,Gt+=B*Dn,Wt+=B*rr,Ht+=B*Sr,pn+=B*me,ct+=B*Ee,yt+=B*Te,vt+=B*je,zt+=B*Ge,In+=B*K,gn+=B*J,Ft+=B*V,_t+=B*L,un+=B*Z,xr+=B*fe,B=Y[9],ln+=B*Jn,Gt+=B*Rn,Wt+=B*Dn,Ht+=B*rr,pn+=B*Sr,ct+=B*me,yt+=B*Ee,vt+=B*Te,zt+=B*je,In+=B*Ge,gn+=B*K,Ft+=B*J,_t+=B*V,un+=B*L,xr+=B*Z,Qn+=B*fe,B=Y[10],Gt+=B*Jn,Wt+=B*Rn,Ht+=B*Dn,pn+=B*rr,ct+=B*Sr,yt+=B*me,vt+=B*Ee,zt+=B*Te,In+=B*je,gn+=B*Ge,Ft+=B*K,_t+=B*J,un+=B*V,xr+=B*L,Qn+=B*Z,Bn+=B*fe,B=Y[11],Wt+=B*Jn,Ht+=B*Rn,pn+=B*Dn,ct+=B*rr,yt+=B*Sr,vt+=B*me,zt+=B*Ee,In+=B*Te,gn+=B*je,Ft+=B*Ge,_t+=B*K,un+=B*J,xr+=B*V,Qn+=B*L,Bn+=B*Z,ei+=B*fe,B=Y[12],Ht+=B*Jn,pn+=B*Rn,ct+=B*Dn,yt+=B*rr,vt+=B*Sr,zt+=B*me,In+=B*Ee,gn+=B*Te,Ft+=B*je,_t+=B*Ge,un+=B*K,xr+=B*J,Qn+=B*V,Bn+=B*L,ei+=B*Z,wi+=B*fe,B=Y[13],pn+=B*Jn,ct+=B*Rn,yt+=B*Dn,vt+=B*rr,zt+=B*Sr,In+=B*me,gn+=B*Ee,Ft+=B*Te,_t+=B*je,un+=B*Ge,xr+=B*K,Qn+=B*J,Bn+=B*V,ei+=B*L,wi+=B*Z,Jr+=B*fe,B=Y[14],ct+=B*Jn,yt+=B*Rn,vt+=B*Dn,zt+=B*rr,In+=B*Sr,gn+=B*me,Ft+=B*Ee,_t+=B*Te,un+=B*je,xr+=B*Ge,Qn+=B*K,Bn+=B*J,ei+=B*V,wi+=B*L,Jr+=B*Z,Xi+=B*fe,B=Y[15],yt+=B*Jn,vt+=B*Rn,zt+=B*Dn,In+=B*rr,gn+=B*Sr,Ft+=B*me,_t+=B*Ee,un+=B*Te,xr+=B*je,Qn+=B*Ge,Bn+=B*K,ei+=B*J,wi+=B*V,Jr+=B*L,Xi+=B*Z,ks+=B*fe,we+=38*vt,Ne+=38*zt,Fe+=38*In,Ve+=38*gn,Et+=38*Ft,Nt+=38*_t,at+=38*un,Kt+=38*xr,en+=38*Qn,ln+=38*Bn,Gt+=38*ei,Wt+=38*wi,Ht+=38*Jr,pn+=38*Xi,ct+=38*ks,te=1,B=we+te+65535,te=Math.floor(B/65536),we=B-te*65536,B=Ne+te+65535,te=Math.floor(B/65536),Ne=B-te*65536,B=Fe+te+65535,te=Math.floor(B/65536),Fe=B-te*65536,B=Ve+te+65535,te=Math.floor(B/65536),Ve=B-te*65536,B=Et+te+65535,te=Math.floor(B/65536),Et=B-te*65536,B=Nt+te+65535,te=Math.floor(B/65536),Nt=B-te*65536,B=at+te+65535,te=Math.floor(B/65536),at=B-te*65536,B=Kt+te+65535,te=Math.floor(B/65536),Kt=B-te*65536,B=en+te+65535,te=Math.floor(B/65536),en=B-te*65536,B=ln+te+65535,te=Math.floor(B/65536),ln=B-te*65536,B=Gt+te+65535,te=Math.floor(B/65536),Gt=B-te*65536,B=Wt+te+65535,te=Math.floor(B/65536),Wt=B-te*65536,B=Ht+te+65535,te=Math.floor(B/65536),Ht=B-te*65536,B=pn+te+65535,te=Math.floor(B/65536),pn=B-te*65536,B=ct+te+65535,te=Math.floor(B/65536),ct=B-te*65536,B=yt+te+65535,te=Math.floor(B/65536),yt=B-te*65536,we+=te-1+37*(te-1),te=1,B=we+te+65535,te=Math.floor(B/65536),we=B-te*65536,B=Ne+te+65535,te=Math.floor(B/65536),Ne=B-te*65536,B=Fe+te+65535,te=Math.floor(B/65536),Fe=B-te*65536,B=Ve+te+65535,te=Math.floor(B/65536),Ve=B-te*65536,B=Et+te+65535,te=Math.floor(B/65536),Et=B-te*65536,B=Nt+te+65535,te=Math.floor(B/65536),Nt=B-te*65536,B=at+te+65535,te=Math.floor(B/65536),at=B-te*65536,B=Kt+te+65535,te=Math.floor(B/65536),Kt=B-te*65536,B=en+te+65535,te=Math.floor(B/65536),en=B-te*65536,B=ln+te+65535,te=Math.floor(B/65536),ln=B-te*65536,B=Gt+te+65535,te=Math.floor(B/65536),Gt=B-te*65536,B=Wt+te+65535,te=Math.floor(B/65536),Wt=B-te*65536,B=Ht+te+65535,te=Math.floor(B/65536),Ht=B-te*65536,B=pn+te+65535,te=Math.floor(B/65536),pn=B-te*65536,B=ct+te+65535,te=Math.floor(B/65536),ct=B-te*65536,B=yt+te+65535,te=Math.floor(B/65536),yt=B-te*65536,we+=te-1+37*(te-1),ue[0]=we,ue[1]=Ne,ue[2]=Fe,ue[3]=Ve,ue[4]=Et,ue[5]=Nt,ue[6]=at,ue[7]=Kt,ue[8]=en,ue[9]=ln,ue[10]=Gt,ue[11]=Wt,ue[12]=Ht,ue[13]=pn,ue[14]=ct,ue[15]=yt}function N(ue,Y){x(ue,Y,Y)}function A(ue,Y){const ee=i();let B;for(B=0;B<16;B++)ee[B]=Y[B];for(B=253;B>=0;B--)N(ee,ee),B!==2&&B!==4&&x(ee,ee,Y);for(B=0;B<16;B++)ue[B]=ee[B]}function D(ue,Y){const ee=i();let B;for(B=0;B<16;B++)ee[B]=Y[B];for(B=250;B>=0;B--)N(ee,ee),B!==1&&x(ee,ee,Y);for(B=0;B<16;B++)ue[B]=ee[B]}function k(ue,Y){const ee=i(),B=i(),te=i(),we=i(),Ne=i(),Fe=i(),Ve=i(),Et=i(),Nt=i();E(ee,ue[1],ue[0]),E(Nt,Y[1],Y[0]),x(ee,ee,Nt),S(B,ue[0],ue[1]),S(Nt,Y[0],Y[1]),x(B,B,Nt),x(te,ue[3],Y[3]),x(te,te,u),x(we,ue[2],Y[2]),S(we,we,we),E(Ne,B,ee),E(Fe,we,te),S(Ve,we,te),S(Et,B,ee),x(ue[0],Ne,Fe),x(ue[1],Et,Ve),x(ue[2],Ve,Fe),x(ue[3],Ne,Et)}function U(ue,Y,ee){for(let B=0;B<4;B++)v(ue[B],Y[B],ee)}function H(ue,Y){const ee=i(),B=i(),te=i();A(te,Y[2]),x(ee,Y[0],te),x(B,Y[1],te),w(ue,B),ue[31]^=O(ee)<<7}function F(ue,Y,ee){m(ue[0],o),m(ue[1],a),m(ue[2],a),m(ue[3],o);for(let B=255;B>=0;--B){const te=ee[B/8|0]>>(B&7)&1;U(ue,Y,te),k(Y,ue),k(ue,ue),U(ue,Y,te)}}function P(ue,Y){const ee=[i(),i(),i(),i()];m(ee[0],d),m(ee[1],h),m(ee[2],a),x(ee[3],d,h),F(ue,ee,Y)}function I(ue){if(ue.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const Y=(0,n.hash)(ue);Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(32),B=[i(),i(),i(),i()];P(B,Y),H(ee,B);const te=new Uint8Array(64);return te.set(ue),te.set(ee,32),{publicKey:ee,secretKey:te}}e.generateKeyPairFromSeed=I;function $(ue){const Y=(0,t.randomBytes)(32,ue),ee=I(Y);return(0,r.wipe)(Y),ee}e.generateKeyPair=$;function W(ue){if(ue.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(ue.subarray(32))}e.extractPublicKeyFromSecretKey=W;const X=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function j(ue,Y){let ee,B,te,we;for(B=63;B>=32;--B){for(ee=0,te=B-32,we=B-12;te<we;++te)Y[te]+=ee-16*Y[B]*X[te-(B-32)],ee=Math.floor((Y[te]+128)/256),Y[te]-=ee*256;Y[te]+=ee,Y[B]=0}for(ee=0,te=0;te<32;te++)Y[te]+=ee-(Y[31]>>4)*X[te],ee=Y[te]>>8,Y[te]&=255;for(te=0;te<32;te++)Y[te]-=ee*X[te];for(B=0;B<32;B++)Y[B+1]+=Y[B]>>8,ue[B]=Y[B]&255}function G(ue){const Y=new Float64Array(64);for(let ee=0;ee<64;ee++)Y[ee]=ue[ee];for(let ee=0;ee<64;ee++)ue[ee]=0;j(ue,Y)}function ae(ue,Y){const ee=new Float64Array(64),B=[i(),i(),i(),i()],te=(0,n.hash)(ue.subarray(0,32));te[0]&=248,te[31]&=127,te[31]|=64;const we=new Uint8Array(64);we.set(te.subarray(32),32);const Ne=new n.SHA512;Ne.update(we.subarray(32)),Ne.update(Y);const Fe=Ne.digest();Ne.clean(),G(Fe),P(B,Fe),H(we,B),Ne.reset(),Ne.update(we.subarray(0,32)),Ne.update(ue.subarray(32)),Ne.update(Y);const Ve=Ne.digest();G(Ve);for(let Et=0;Et<32;Et++)ee[Et]=Fe[Et];for(let Et=0;Et<32;Et++)for(let Nt=0;Nt<32;Nt++)ee[Et+Nt]+=Ve[Et]*te[Nt];return j(we.subarray(32),ee),we}e.sign=ae;function ce(ue,Y){const ee=i(),B=i(),te=i(),we=i(),Ne=i(),Fe=i(),Ve=i();return m(ue[2],a),R(ue[1],Y),N(te,ue[1]),x(we,te,c),E(te,te,ue[2]),S(we,ue[2],we),N(Ne,we),N(Fe,Ne),x(Ve,Fe,Ne),x(ee,Ve,te),x(ee,ee,we),D(ee,ee),x(ee,ee,te),x(ee,ee,we),x(ee,ee,we),x(ue[0],ee,we),N(B,ue[0]),x(B,B,we),_(B,te)&&x(ue[0],ue[0],p),N(B,ue[0]),x(B,B,we),_(B,te)?-1:(O(ue[0])===Y[31]>>7&&E(ue[0],o,ue[0]),x(ue[3],ue[0],ue[1]),0)}function oe(ue,Y,ee){const B=new Uint8Array(32),te=[i(),i(),i(),i()],we=[i(),i(),i(),i()];if(ee.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(ce(we,ue))return!1;const Ne=new n.SHA512;Ne.update(ee.subarray(0,32)),Ne.update(ue),Ne.update(Y);const Fe=Ne.digest();return G(Fe),F(te,we,Fe),P(we,ee.subarray(32)),k(te,we),H(B,te),!C(ee,B)}e.verify=oe;function Ce(ue){let Y=[i(),i(),i(),i()];if(ce(Y,ue))throw new Error("Ed25519: invalid public key");let ee=i(),B=i(),te=Y[1];S(ee,a,te),E(B,a,te),A(B,B),x(ee,ee,B);let we=new Uint8Array(32);return w(we,ee),we}e.convertPublicKeyToX25519=Ce;function Ae(ue){const Y=(0,n.hash)(ue.subarray(0,32));Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(Y.subarray(0,32));return(0,r.wipe)(Y),ee}e.convertSecretKeyToX25519=Ae}(FO)),FO}var K7;function yz(){return K7||(K7=1,function(e){var t=zo&&zo.__createBinding||(Object.create?function(A,D,k,U){U===void 0&&(U=k);var H=Object.getOwnPropertyDescriptor(D,k);(!H||("get"in H?!D.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return D[k]}}),Object.defineProperty(A,U,H)}:function(A,D,k,U){U===void 0&&(U=k),A[U]=D[k]}),n=zo&&zo.__setModuleDefault||(Object.create?function(A,D){Object.defineProperty(A,"default",{enumerable:!0,value:D})}:function(A,D){A.default=D}),r=zo&&zo.__importStar||function(){var A=function(D){return A=Object.getOwnPropertyNames||function(k){var U=[];for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&(U[U.length]=H);return U},A(D)};return function(D){if(D&&D.__esModule)return D;var k={};if(D!=null)for(var U=A(D),H=0;H<U.length;H++)U[H]!=="default"&&t(k,D,U[H]);return n(k,D),k}}(),i=zo&&zo.__awaiter||function(A,D,k,U){function H(F){return F instanceof k?F:new k(function(P){P(F)})}return new(k||(k=Promise))(function(F,P){function I(X){try{W(U.next(X))}catch(j){P(j)}}function $(X){try{W(U.throw(X))}catch(j){P(j)}}function W(X){X.done?F(X.value):H(X.value).then(I,$)}W((U=U.apply(A,D||[])).next())})},s=zo&&zo.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.MULTICODEC_ED25519_LENGTH=e.MULTICODEC_ED25519_HEADER=e.MULTICODEC_ED25519_BASE=e.MULTICODEC_ED25519_ENCODING=e.DID_METHOD=e.DID_PREFIX=e.DID_DELIMITER=e.KEY_PAIR_SEED_LENGTH=e.DATA_ENCODING=e.JSON_ENCODING=e.JWT_ENCODING=e.JWT_DELIMITER=e.JWT_IRIDIUM_TYP=e.JWT_IRIDIUM_ALG=e.JWTHeaderType=void 0,e.generateKeyPair=p,e.decodeJSON=m,e.encodeJSON=y,e.encodeIss=v,e.decodeIss=w,e.encodeSig=C,e.decodeSig=_,e.encodeData=O,e.decodeData=R,e.encodeJWT=S,e.decodeJWT=E,e.signJWT=x,e.verifyJWT=N;const o=r(lpe()),a=jh(),c=mc(),u=s(bg()),d=r(Bi()),h=uz();e.JWTHeaderType="dapp",e.JWT_IRIDIUM_ALG="EdDSA",e.JWT_IRIDIUM_TYP="JWT",e.JWT_DELIMITER=".",e.JWT_ENCODING="base64url",e.JSON_ENCODING="utf8",e.DATA_ENCODING="utf8",e.KEY_PAIR_SEED_LENGTH=32,e.DID_DELIMITER=":",e.DID_PREFIX="did",e.DID_METHOD="key",e.MULTICODEC_ED25519_ENCODING="base58btc",e.MULTICODEC_ED25519_BASE="z",e.MULTICODEC_ED25519_HEADER="K36",e.MULTICODEC_ED25519_LENGTH=32;function p(){return u.default.sign.keyPair()}function m(A){return(0,a.safeJsonParse)((0,h.okxtoString)((0,h.okxfromString)(A,e.JWT_ENCODING),e.JSON_ENCODING))}function y(A){return(0,h.okxtoString)((0,h.okxfromString)((0,a.safeJsonStringify)(A),e.JSON_ENCODING),e.JWT_ENCODING)}function v(A){d.logDebug(`publicKey: ${(0,c.toHexString)(A)}`);var D=(0,h.okxtoString)(A,e.MULTICODEC_ED25519_ENCODING);return[e.DID_PREFIX,e.DID_METHOD,D].join(e.DID_DELIMITER)}function w(A){const[D,k,U]=A.split(e.DID_DELIMITER);if(D!==e.DID_PREFIX||k!==e.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(U===void 0)throw new Error("multicodec is undefined");const H=(0,h.okxfromString)(U,e.MULTICODEC_ED25519_ENCODING);if(H===void 0||H.length!==e.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return H}function C(A){return(0,h.okxtoString)(A,e.JWT_ENCODING)}function _(A){return(0,h.okxfromString)(A,e.JWT_ENCODING)}function O(A){return(0,h.okxfromString)([y(A.header),y(A.payload)].join(e.JWT_DELIMITER),e.DATA_ENCODING)}function R(A){var D,k;const U=(0,h.okxtoString)(A,e.DATA_ENCODING).split(e.JWT_DELIMITER),H=m((D=U[0])!==null&&D!==void 0?D:"{}"),F=m((k=U[1])!==null&&k!==void 0?k:"{}");return{header:H,payload:F}}function S(A){return[y(A.header),y(A.payload),C(A.signature)].join(e.JWT_DELIMITER)}function E(A){var D,k,U;const H=A.split(e.JWT_DELIMITER),F=m((D=H[0])!==null&&D!==void 0?D:"{}"),P=m((k=H[1])!==null&&k!==void 0?k:"{}"),I=_((U=H[2])!==null&&U!==void 0?U:"{}"),$=(0,h.okxfromString)(H.slice(0,2).join(e.JWT_DELIMITER),e.DATA_ENCODING);return{header:F,payload:P,signature:I,data:$}}function x(A,D,k,U){return i(this,arguments,void 0,function*(H,F,P,I,$=Math.floor(Date.now())){const W={alg:e.JWT_IRIDIUM_ALG,typ:e.JWT_IRIDIUM_TYP},X=v(I.publicKey),j=$+P,ae={iss:X,sub:H,aud:F,act:"authenticate user",iat:$,exp:j},ce=O({header:W,payload:ae});d.logDebug(`get sec kp: ${I.secretKey} {${I.secretKey.length}}`);const oe=u.default.sign.detached(ce,I.secretKey);return S({header:W,payload:ae,signature:oe})})}function N(A){return i(this,void 0,void 0,function*(){const{header:D,payload:k,data:U,signature:H}=E(A);if(D.alg!==e.JWT_IRIDIUM_ALG||D.typ!==e.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const F=w(k.iss);return o.verify(F,U,H)})}}(zo)),zo}var no={},W7;function vz(){if(W7)return no;W7=1;var e=no&&no.__createBinding||(Object.create?function(C,_,O,R){R===void 0&&(R=O);var S=Object.getOwnPropertyDescriptor(_,O);(!S||("get"in S?!_.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return _[O]}}),Object.defineProperty(C,R,S)}:function(C,_,O,R){R===void 0&&(R=O),C[R]=_[O]}),t=no&&no.__setModuleDefault||(Object.create?function(C,_){Object.defineProperty(C,"default",{enumerable:!0,value:_})}:function(C,_){C.default=_}),n=no&&no.__importStar||function(){var C=function(_){return C=Object.getOwnPropertyNames||function(O){var R=[];for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(R[R.length]=S);return R},C(_)};return function(_){if(_&&_.__esModule)return _;var O={};if(_!=null)for(var R=C(_),S=0;S<R.length;S++)R[S]!=="default"&&e(O,_,R[S]);return t(O,_),O}}(),r=no&&no.__awaiter||function(C,_,O,R){function S(E){return E instanceof O?E:new O(function(x){x(E)})}return new(O||(O=Promise))(function(E,x){function N(k){try{D(R.next(k))}catch(U){x(U)}}function A(k){try{D(R.throw(k))}catch(U){x(U)}}function D(k){k.done?E(k.value):S(k.value).then(N,A)}D((R=R.apply(C,_||[])).next())})},i=no&&no.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(no,"__esModule",{value:!0}),no.ConnectionSplitPackages=void 0;const s=j1(),o=i(w5()),a=mc(),c=jh(),u=n(Bi()),d=Bi(),h=2,p=63e3,m="ConnectionReceiveKey",y="ConnectionSendKey",v="ConnectionSenderVersionKey";class w{constructor(_){this.splitMessageSendArray=new Map,this.splitMessageReceivedArray=new Map,this.splitMessageSenderVersionMap=new Map,this.splitPackageCache=o.default.createInstance({name:s.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE+_})}init(_){return r(this,void 0,void 0,function*(){if(yield this.recoverFromCache(),this.splitMessageSendArray.size>0){for(const[O,R]of this.splitMessageSendArray.entries())for(let S=0;S<R.length;){const E=R[S];try{yield _((0,c.safeJsonStringify)(E),O),u.logDebug(`Successfully sent payload: ${(0,c.safeJsonStringify)(E)} to topic: ${O}`),R.splice(S,1)}catch(x){u.logError(`Failed to send payload: ${(0,c.safeJsonStringify)(E)} to topic: ${O}`,x),E.retryCount=(E.retryCount||0)+1,E.retryCount>3?(u.logError(`Payload failed after 3 retries: ${(0,c.safeJsonStringify)(E)}`),R.splice(S,1)):S++}}yield this.syncCache()}})}tryParseMessageSplitPayload(_){var O;let R;try{if(_.trimStart().startsWith("{")){let S=(0,c.safeJsonParse)(_);if(S&&S.protocol_version&&S.protocol_version>=2){let E=S;E.package_group_id&&((O=E.package_group_id)===null||O===void 0?void 0:O.length)>0&&(R=S)}}else(0,d.logDebug)("not split packages")}catch{(0,d.logDebug)("not split packages")}return R}updateTopicSenderVersion(_,O){return r(this,void 0,void 0,function*(){this.splitMessageSenderVersionMap.set(_,O),yield this.syncCache(),(0,d.logDebug)("get update topic sender version: ",_,O)})}sendSplitPackages(_,O,R,S){return r(this,void 0,void 0,function*(){if(!_){u.logError("sendSplitPackages invalid topic");return}let E=this.splitMessageSenderVersionMap.get(_),x=O.length;try{if(x<p)throw new Error(`no need to split (size:${x})`);if(!E||E&&E<h)throw new Error(`version not support split (version: ${E})`);const N=[];let A=p;for(let U=0;U<O.length;U+=A)U+A<O.length?N.push(O.slice(U,U+A)):N.push(O.slice(U));let D=(0,a.generateGroupId)(),k=N.map((U,H)=>({topicId:_,protocol_version:h,total_count:N.length,package_index:H,package_group_id:D,content:U}));this.mergePackageArray(!0,k);for(let U=0;U<k.length;){const H=k[U],F=(0,c.safeJsonStringify)(H);try{yield S(F,_),u.logDebug(`Successfully sent payload: ${F} to topic: ${_}`),k.splice(U,1)}catch(P){u.logError(`Failed to send payload: ${F} to topic: ${_}`,P),H.retryCount=(H.retryCount||0)+1,H.retryCount>3?(u.logError(`Payload failed after 3 retries: ${F}`),k.splice(U,1)):U++}}this.splitMessageSendArray.set(_,[]),yield this.syncCache()}catch(N){(0,d.logDebug)("send split packages no split"),(0,d.logDebug)(N),yield R(_,O)}})}onReceivedPackageCheck(_){return r(this,void 0,void 0,function*(){this.mergePackageArray(!1,[_]);let O=new Map,R=_.topicId;this.splitMessageReceivedArray.forEach((E,x)=>{x==_.topicId&&E.forEach(N=>{if(N.messageObject.package_group_id){let A=O.get(N.messageObject.package_group_id);A||(A=new Array),A.push(N),O.set(N.messageObject.package_group_id,A)}})}),(0,d.logDebug)("on received message, check message cache");let S={isSplitPackage:!1};if(_.messageObject.package_group_id){S.isSplitPackage=!0;let E=O.get(_.messageObject.package_group_id);if(E?.length){let x=new Set;if(E.forEach(N=>{N.messageObject.package_index!==void 0&&x.add(N.messageObject.package_index)}),x.size==_.messageObject.total_count){E.sort((k,U)=>(k.messageObject.package_index||k.messageObject.package_index===0)&&(U.messageObject.package_index||U.messageObject.package_index===0)?k.messageObject.package_index-U.messageObject.package_index:0);let N=E.reduce((k,U)=>(k.push(U.messageObject.content),k),[]),A=E.reduce((k,U)=>(k.push(U.messageId),k),[]);S.isSplitPackage=!0,S.finalMessage=N.join(""),S.completeMessageIdList=A;let D=this.splitMessageReceivedArray.get(R);D&&(D=D.filter(k=>!A.includes(k.messageId)),this.splitMessageReceivedArray.set(R,D)),yield this.syncCache()}}}return S})}mergePackageArray(_,O){return r(this,void 0,void 0,function*(){if((0,d.logDebug)("append sending array"),_){let S=O.filter(E=>{let x=E.topicId,N=!0,A=this.splitMessageSendArray.get(x);return A?.forEach(D=>{D.package_group_id==E.package_group_id&&D.total_count==E.total_count&&D.package_index==E.package_index&&(N=!1)}),N});if(S.length>0){let E=S[0].topicId,x=this.splitMessageSendArray.get(E);x||(x=new Array),x=x.concat(S),this.splitMessageSendArray.set(E,x),(0,d.logDebug)("append sending array (after filted): ",x)}}else{let S=O.filter(E=>{let x=E.topicId,N=!0,A=this.splitMessageReceivedArray.get(x);return A?.forEach(D=>{D.messageId==E.messageId&&(N=!1)}),N});if(S.length>0){let E=S[0].topicId,x=this.splitMessageReceivedArray.get(E);x||(x=new Array),x=x.concat(S),this.splitMessageReceivedArray.set(E,x),(0,d.logDebug)("append received array (after filted): ",x)}}})}syncCache(){return r(this,void 0,void 0,function*(){(0,d.logDebug)("sync split message cache"),yield this.splitPackageCache.setItem(m,this.splitMessageReceivedArray),yield this.splitPackageCache.setItem(y,this.splitMessageSendArray),yield this.splitPackageCache.setItem(v,this.splitMessageSenderVersionMap)})}recoverFromCache(){return r(this,void 0,void 0,function*(){let _=yield this.splitPackageCache.getItem(m);_?this.splitMessageReceivedArray=_:this.splitMessageReceivedArray=new Map;let O=yield this.splitPackageCache.getItem(y);O?this.splitMessageSendArray=O:this.splitMessageSendArray=new Map;let R=yield this.splitPackageCache.getItem(v);R?this.splitMessageSenderVersionMap=R:this.splitMessageSenderVersionMap=new Map})}}return no.ConnectionSplitPackages=w,no}var H7;function wz(){if(H7)return Ho;H7=1;var e=Ho&&Ho.__createBinding||(Object.create?function(S,E,x,N){N===void 0&&(N=x);var A=Object.getOwnPropertyDescriptor(E,x);(!A||("get"in A?!E.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return E[x]}}),Object.defineProperty(S,N,A)}:function(S,E,x,N){N===void 0&&(N=x),S[N]=E[x]}),t=Ho&&Ho.__setModuleDefault||(Object.create?function(S,E){Object.defineProperty(S,"default",{enumerable:!0,value:E})}:function(S,E){S.default=E}),n=Ho&&Ho.__importStar||function(){var S=function(E){return S=Object.getOwnPropertyNames||function(x){var N=[];for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(N[N.length]=A);return N},S(E)};return function(E){if(E&&E.__esModule)return E;var x={};if(E!=null)for(var N=S(E),A=0;A<N.length;A++)N[A]!=="default"&&e(x,E,N[A]);return t(x,E),x}}(),r=Ho&&Ho.__awaiter||function(S,E,x,N){function A(D){return D instanceof x?D:new x(function(k){k(D)})}return new(x||(x=Promise))(function(D,k){function U(P){try{F(N.next(P))}catch(I){k(I)}}function H(P){try{F(N.throw(P))}catch(I){k(I)}}function F(P){P.done?D(P.value):A(P.value).then(U,H)}F((N=N.apply(S,E||[])).next())})};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.ConnectionManager=void 0;const i=_5(),s=pz(),o=j1(),a=gz(),c=$1(),u=Ed(),d=s2(),h=mc(),p=mz(),m=yz(),y=jh(),v=n(Bi()),w=Bi(),C=r2(),_=W1(),O=vz();class R{constructor(E=void 0){this.events=new u.EventEmitter,this.splitManager=new O.ConnectionSplitPackages("dapp"),this.connectorEnable=!1,this.connectStorage=new d.Storage(o.OKXCONNECTOR_CACHE_KEY_DAPP+E,o.OKXCONNECTOR_CACHE_KEY_DAPP),this.tonsdkConnectStorage=new d.Storage(o.OKXCONNECTOR_TON_KEY+E,o.OKXCONNECTOR_TON_KEY),this.crypto=new p.SessionCrypto;let x=(0,_.isInTMA)();if((0,w.logDebug)("do init:",x),v.reportLog("connection manager do init"),x)try{const N=this.getCachedCryptoKeyPair();(0,w.logDebug)("use same pk:",N),this.crypto=new p.SessionCrypto(N)}catch{this.connectStorage.clearCache(),v.reportEvent(C.OKXReportType.LOG,"cache_fail","cache failed")}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new i.OKXWalletConnector(c.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",v.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){let E=Date.now();E==this.packageId&&(this.packageId=E+1),this.packageId=E}saveCryptoKeyPair(E){let x=(0,y.safeJsonStringify)(E);this.connectStorage.encryptStoreMsg(x,o.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const x=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_CRYPTO_KEY);return typeof x=="string"?(v.logDebug("get cached crypto key:"),v.logDebug(x),(0,y.safeJsonParse)(x)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(E){var x={publicKey:(0,h.toHexString)(E.publicKey),secretKey:(0,h.toHexString)(E.secretKey)};v.logDebug("save jwt kp");let N=(0,y.safeJsonStringify)(x);v.logDebug(N),this.connectStorage.encryptStoreMsg(N,o.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){try{const N=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_JWT_KEY);if(typeof N=="string"){v.logDebug("get cached jwt kp:"),v.logDebug(N);let A=(0,y.safeJsonParse)(N);v.logDebug("save jwt kp"),v.logDebug(A);var E={publicKey:(0,h.hexToByteArray)(A.publicKey),secretKey:(0,h.hexToByteArray)(A.secretKey)};return E}else return(0,m.generateKeyPair)()}catch{return v.reportEvent(C.OKXReportType.LOG,"cache_fail","cache failed"),(0,m.generateKeyPair)()}}isWalletPKReady(){return v.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(E){return r(this,void 0,void 0,function*(){return yield(0,m.signJWT)(E,a.OKXCONNECTOR_JWT_SIDE,a.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parsePackage(E){return r(this,arguments,void 0,function*(x,N=!1){var A,D,k,U,H,F,P,I,$,W,X,j,G;if(this.events.emit(x.id,x),!N){yield this.sendACK(x.id,!0);let ae=(A=this.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE))===null||A===void 0?void 0:A.content;if(ae){let ce=x;if(!((k=(D=ce.params)===null||D===void 0?void 0:D.data)===null||k===void 0)&&k.messageId){ce.method&&ce.method===s.CONNECT_METHOD_PUSH&&((0,w.logDebug)("checkExpire: update expire when get push"),this.updateExpireLimit(ae));let oe=this.splitManager.tryParseMessageSplitPayload((H=(U=ce.params)===null||U===void 0?void 0:U.data)===null||H===void 0?void 0:H.message);if(oe){let Ce={topicId:(P=(F=ce.params)===null||F===void 0?void 0:F.data)===null||P===void 0?void 0:P.topic,messageId:($=(I=ce.params)===null||I===void 0?void 0:I.data)===null||$===void 0?void 0:$.messageId,messageObject:oe,publishedAt:(X=(W=ce.params)===null||W===void 0?void 0:W.data)===null||X===void 0?void 0:X.publishedAt},Ae=yield this.splitManager.onReceivedPackageCheck(Ce);Ae.completeMessageIdList&&Ae.completeMessageIdList.forEach(ue=>r(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),ue,ae)}))}else this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(G=(j=ce.params)===null||j===void 0?void 0:j.data)===null||G===void 0?void 0:G.messageId,ae)}}}})}restoreConnect(E){return r(this,void 0,void 0,function*(){if(v.reportLog("connection manager restore connection"),v.logDebug(`connectionManager  restoreConenct   ${E}`),typeof E!="string"||E.length===0)throw new Error("CONNECTION: invalid topic");v.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(E,o.OKXCONNECTOR_TOKEN_CACHE),v.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)})}getConnectInfo(){var E=(0,h.generateTopic)();return v.logDebug(`generate topic token: ${E}`),v.reportLog("connection manager generate connection info"),this.currentTopic=E,{channelId:E,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return r(this,arguments,void 0,function*(E=!1){this.timeLog=new Date().getTime(),(0,w.logDebug)("ConnectTime---enter->",this.timeLog),v.reportLog("connection manager begin connect");let x=this.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE);var N=this.currentTopic;if(v.logDebug(`generate topic token: ${N}`),E){typeof x<"u"&&x!==null&&(v.logDebug(`read last connect id: ${x}`),N=x.content);var A=this.connectStorage.getItem(o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);A&&(this.connectedWalletPK=A.content,(0,w.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),v.reportLog("connection manager do restore connection")}if(E)try{const k=this.getCachedCryptoKeyPair();k&&(this.crypto=new p.SessionCrypto(k))}catch{throw v.logError("get crypto key pair from cache failed"),v.reportEvent(C.OKXReportType.LOG,"cache_fail","cache failed"),this.connectStorage.clearCache(),new Error("crypto cache failed")}v.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(N,o.OKXCONNECTOR_TOKEN_CACHE);var D=yield this.makeJWT(N);return v.logDebug(`generate jwt token: ${D}`),this.connectStorage.saveContent(D,"jwt"),new Promise((k,U)=>{this.connector.onOpen(()=>r(this,void 0,void 0,function*(){v.logDebug("1. connector on open"),v.reportLog("1. connect ws open");const H=new Date().getTime();(0,w.logDebug)("ConnectTime---open->",H-this.timeLog),this.events.once(this.packageId.toString(),F=>r(this,void 0,void 0,function*(){if(F&&F.error){v.logError("failed when login"),v.reportLog("2. connect login failed"),yield this.connector.disconnect();var P=new Error;P.message=F.error.message,P.name=F.error.code.toString(),U(P)}this.refreshPackageId(),this.events.once(this.packageId.toString(),$=>r(this,void 0,void 0,function*(){if($&&$.error){v.logError("failed when subscribe"),v.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var W=new Error;W.message=$.error.message,W.name=$.error.code.toString(),U(W)}this.refreshPackageId(),v.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),v.reportLog("4. subscribe callback then send fetch");const X=new Date().getTime();(0,w.logDebug)("ConnectTime--subscribe callback->",X-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),N),v.logDebug(`5. splitmanager init: ${this.packageId}`),v.reportLog("5. splitmanager init"),yield this.splitManager.init(this.sendRaw.bind(this)),E&&(this.checkExpire(N)?((0,w.logDebug)("disconnect From topic expire"),setTimeout(()=>{this.activateDisconnect()},1e3)):((0,w.logDebug)("extends expire check"),this.updateExpireLimit(N))),k()})),v.logDebug(`3. login callback then send subscribe: ${this.packageId}`),v.reportLog("3. connect subscribe failed");const I=new Date().getTime();(0,w.logDebug)("ConnectTime---login callback->",I-this.timeLog),yield this.connector.send(()=>r(this,void 0,void 0,function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch($=>{(0,w.logDebug)("ConnectionManager connect error",$),U($)})}),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_SUB,params:{topic:N}})})),v.logDebug("2. login called"),v.reportLog("2. connection manager connect call login"),yield this.connector.send(()=>r(this,void 0,void 0,function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(F=>{(0,w.logDebug)("ConnectionManager connect error",F),U(F)})}),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_LOGIN,params:{token:D}}),this.connector.addPackageParse(F=>{var P;if(v.logDebug("connect: parse package"),v.logDebug(F),!("params"in F)||!("data"in F.params)){this.parsePackage(F,!0);return}let I=(P=F.params.data)===null||P===void 0?void 0:P.message;if(typeof I<"u"&&I.length>0){I=I.replace(/'/g,'"');let $=(0,y.safeJsonParse)(I);typeof $!="string"&&"clientId"in $&&$.clientId&&$.clientId.length>0&&(this.connectedWalletPK=$.clientId,v.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(F,F.method===s.CONNECT_METHOD_RECEIVE)})})),this.connector.connect().catch(H=>{(0,w.logDebug)("ConnectionManager connect error",H),U(H)}),this.connectorEnable=!0})})}sendSubscribe(E){return r(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.connector.send(()=>r(this,void 0,void 0,function*(){}),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_SUB,params:{topic:E}})})}sendDisconnect(E){return r(this,void 0,void 0,function*(){return new Promise((x,N)=>r(this,void 0,void 0,function*(){if(this.refreshPackageId(),!this.connectorEnable){v.logDebug("skip disconnect before connected relay"),x();return}this.events.once(this.packageId.toString(),D=>r(this,void 0,void 0,function*(){v.logDebug("CONNECT: disconnect command send"),this.connectorEnable=!1,x()}));const A={id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_DISCONNECT,params:{message:{topic:E,ttl:c.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL}}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){v.logDebug("CONNECT: skip reconnect send")}),A)}))})}sendRecvDisconnect(E){return r(this,void 0,void 0,function*(){this.refreshPackageId();const x={id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_RECV_DISCONNECT,params:{topic:E}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),x)})}disconnect(){return r(this,arguments,void 0,function*(E=!1){try{yield this.sendDisconnect(this.currentTopic)}catch(x){v.logError("send disconnect command failed",x)}yield this.connector.disconnect(),v.reportLog("connect disconnect"),this.connectStorage.clearCache(o.OKXCONNECTOR_TOKEN_CACHE),E||(this.connectStorage.clearCache(o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,w.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))})}updateProtocolVersion(E,x){this.splitManager.updateTopicSenderVersion(E,x)}addListener(E,x,N){this.connector.addListener((0,y.safeJsonStringify)(E),A=>{if(A=A.replace(/'/g,'"'),v.logDebug(`addListener ===> ${A}`),typeof A<"u"&&A.length>0){var D=(0,y.safeJsonParse)(A),k=D.message;let U;return k.trimStart().startsWith("{")?U=k:(D.clientId&&D.clientId.length>0&&(this.connectedWalletPK=D.clientId,this.connectStorage.saveContent(this.connectedWalletPK,o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),v.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),v.logDebug(`this.cryptoKey  addListener   ${(0,h.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),U=this.crypto.decrypt(k,this.connectedWalletPK)),v.logDebug(`addListener ===> ${U}`),U}},x,N,A=>new Promise((D,k)=>r(this,void 0,void 0,function*(){let U=this.splitManager.tryParseMessageSplitPayload(A.message);if(U){let H={topicId:A.topic,messageId:A?.messageId,messageObject:U,publishedAt:A?.publishedAt},F=yield this.splitManager.onReceivedPackageCheck(H);D(F)}else D({isSplitPackage:!1})})))}sendRaw(E){return r(this,void 0,void 0,function*(){v.logDebug(`message send =====> ${E}`),v.reportLog("connect send raw msg");let x=E;v.logDebug(`message send =====encrypt message.length>>>> ${x.length}`);let N=this.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE);v.logDebug(`message send =====topic>>>> ${N?.content}`),this.refreshPackageId();const A={id:this.packageId.toString(),method:s.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:N?.content,message:x,ttl:c.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),D=>r(this,void 0,void 0,function*(){D&&D.error?v.logError(`@${new Date().toUTCString()} >>> failed when send msg`):D&&!D.error&&v.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>r(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),A),this.packageId})}sendEncryptedMsg(E,x){return r(this,arguments,void 0,function*(N,A,D=c.OKXCONNECTOR_MESSAGE_TTL){this.refreshPackageId();const k={id:this.packageId.toString(),method:s.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:N,message:A,ttl:D}}};this.events.once(this.packageId.toString(),U=>r(this,void 0,void 0,function*(){U&&U.error?v.logError(`@${new Date().toUTCString()} >>> failed when send msg`):U&&!U.error&&v.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>r(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),k)})}send(E){return r(this,arguments,void 0,function*(x,N=c.OKXCONNECTOR_MESSAGE_TTL){if(v.logDebug(`message send =====> ${x}`),v.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let A=this.crypto.encrypt(x,this.connectedWalletPK);v.logDebug(`message send =====encrypt message.length>>>> ${A.length}`),v.reportEvent(C.OKXReportType.LOG,"msg_size",A.length.toString());let D=this.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE);return v.logDebug(`message send =====topic>>>> ${D?.content}`),yield this.splitManager.sendSplitPackages(D?.content,A,this.sendEncryptedMsg.bind(this),this.sendRaw.bind(this)),this.packageId})}sendACK(E,x){return r(this,arguments,void 0,function*(N,A,D=void 0){if(A===!0){const k={id:N,jsonrpc:c.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),k)}else if(D){const k={id:N,jsonrpc:c.CONNECT_JSONRPC_VER,error:{code:D.code,message:D.message}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),k)}})}sendReceive(E,x,N){return r(this,void 0,void 0,function*(){const A={id:E,jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_RECEIVE,params:{data:{messageId:x,topic:N}}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),A)})}sendFetchAndConsumeMessages(E,x){return r(this,void 0,void 0,function*(){this.events.once(E,D=>r(this,void 0,void 0,function*(){var k,U;if(D.result){var H=D.result.hasMore,F=D.result.data;const P=D.result.disconnectedTopics;if(P)try{for(let I=0;I<P.length;I++){const $=P[I];if($.topic){(0,w.logDebug)("send receive disconnect:",$.topic),yield this.sendRecvDisconnect($.topic);let W=(0,y.safeJsonStringify)({requestId:$.publishedAt.toString(),method:"disconnect"}),X={messageId:$.publishedAt.toString(),message:(0,y.safeJsonStringify)({message:W}),topic:$.topic,publishedAt:$.publishedAt};yield this.connector.getMsgPayloadFromHistory(X)}}}catch(I){v.logError("disconnect topic fails",I)}if(F)for(let I=0;I<F.length;I++){let $=F[I];if($&&$.topic==x){let W=$.messageId;v.reportLog("5. get fetch result"),this.splitManager.tryParseMessageSplitPayload($.message)?(yield this.connector.getMsgPayloadFromHistory($),v.logDebug("skip receive")):(yield this.connector.getMsgPayloadFromHistory($),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),W,x))}}H&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),x))}else v.logDebug(`CONNECT: get error rsp ${(k=D.error)===null||k===void 0?void 0:k.code} : ${(U=D.error)===null||U===void 0?void 0:U.message}`)})),v.logDebug("5. send fetch more"),v.reportLog("5. send fetch more");const N=new Date().getTime();(0,w.logDebug)("ConnectTime---5->",N-this.timeLog);const A={id:E,jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_FETCHMSG,params:{data:{topic:x}}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),A)})}cleanCache(){v.reportLog("connection cache clean called"),this.connectStorage.clearCache()}saveSessionContent(E,x){x||this.connectStorage.clearCache(o.OKXCONNECTOR_SESSION_PREFIX_KEY+E);let N=(0,y.safeJsonStringify)(x);this.connectStorage.encryptStoreMsg(N,o.OKXCONNECTOR_SESSION_PREFIX_KEY+E)}getSessionContent(E){try{let x=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_SESSION_PREFIX_KEY+E);if(x)return(0,y.safeJsonParse)(x)}catch{this.connectStorage.clearCache(o.OKXCONNECTOR_SESSION_PREFIX_KEY+E)}}getCurrentConnectionReady(){let E=!1;try{this.getCachedCryptoKeyPair()&&(E=!0)}catch{v.logError("check connection ready failed")}return this.isWalletPKReady()&&E}getCryptoKeyEnable(){let E=!1;try{this.getCachedCryptoKeyPair()&&(E=!0)}catch{v.logError("check connection ready failed")}return E}checkExpire(E){let x=!1;if(E.length==0)return(0,w.logDebug)("checkExpire: invalid topic"),x;let N=this.getSessionContent(o.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE);return N&&N.topic?N.topic==E?Date.now()>N.timestamp&&((0,w.logDebug)("checkExpire: connection is Expired"),x=!0):((0,w.logDebug)("checkExpire: not same connection"),x=!1):((0,w.logDebug)("checkExpire: not topic records"),this.updateExpireLimit(E),x=!1),x}updateExpireLimit(E){(0,w.logDebug)(`update expire limit for topic: ${E}`);let x={topic:E,timestamp:Date.now()+c.OKXCONNECTOR_SESSION_LIVE_TTL};this.saveSessionContent(o.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE,x)}activateDisconnect(){return r(this,void 0,void 0,function*(){let E=(0,y.safeJsonStringify)({requestId:"",method:"disconnect"}),x={messageId:"",message:(0,y.safeJsonStringify)({message:E}),topic:this.currentTopic,publishedAt:0};yield this.connector.getMsgPayloadFromHistory(x)})}}return Ho.ConnectionManager=R,Ho}var qo={},tf={},z7;function upe(){return z7||(z7=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.WalletConnectionManagerEvent=tf.WalletConnectionManagerTopicInfoCacheKey=void 0,tf.WalletConnectionManagerTopicInfoCacheKey="wcmtic",tf.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}),tf}var q7;function dpe(){if(q7)return qo;q7=1;var e=qo&&qo.__createBinding||(Object.create?function(S,E,x,N){N===void 0&&(N=x);var A=Object.getOwnPropertyDescriptor(E,x);(!A||("get"in A?!E.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return E[x]}}),Object.defineProperty(S,N,A)}:function(S,E,x,N){N===void 0&&(N=x),S[N]=E[x]}),t=qo&&qo.__setModuleDefault||(Object.create?function(S,E){Object.defineProperty(S,"default",{enumerable:!0,value:E})}:function(S,E){S.default=E}),n=qo&&qo.__importStar||function(){var S=function(E){return S=Object.getOwnPropertyNames||function(x){var N=[];for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(N[N.length]=A);return N},S(E)};return function(E){if(E&&E.__esModule)return E;var x={};if(E!=null)for(var N=S(E),A=0;A<N.length;A++)N[A]!=="default"&&e(x,E,N[A]);return t(x,E),x}}(),r=qo&&qo.__awaiter||function(S,E,x,N){function A(D){return D instanceof x?D:new x(function(k){k(D)})}return new(x||(x=Promise))(function(D,k){function U(P){try{F(N.next(P))}catch(I){k(I)}}function H(P){try{F(N.throw(P))}catch(I){k(I)}}function F(P){P.done?D(P.value):A(P.value).then(U,H)}F((N=N.apply(S,E||[])).next())})};Object.defineProperty(qo,"__esModule",{value:!0}),qo.WalletConnectionManager=void 0;const i=_5(),s=pz(),o=j1(),a=gz(),c=$1(),u=upe(),d=vz(),h=Ed(),p=s2(),m=mc(),y=mz(),v=yz(),w=jh(),C=n(Bi()),_=Bi(),O=As();class R{constructor(){this.events=new h.EventEmitter,this.communicateEvents=new h.EventEmitter,this.splitManager=new d.ConnectionSplitPackages("wallet"),C.logDebug("connect manager construct"),this.connectStorage=new p.Storage(o.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new i.OKXWalletConnector(c.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(E=0){let x=Date.now()+E;x==this.packageId&&(this.packageId=x+1),this.packageId=x}saveCryptoKeyPair(E,x){let N=(0,w.safeJsonStringify)(x);this.connectStorage.encryptStoreMsg(N,o.OKXCONNECTOR_CRYPTO_KEY+E)}getCachedCryptoKeyPair(E){const N=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_CRYPTO_KEY+E);return typeof N=="string"?(C.logDebug("get cached crypto key:"),C.logDebug(N),(0,w.safeJsonParse)(N)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(E){var x={publicKey:(0,m.toHexString)(E.publicKey),secretKey:(0,m.toHexString)(E.secretKey)};C.logDebug("save jwt kp");let N=(0,w.safeJsonStringify)(x);C.logDebug(N),this.connectStorage.encryptStoreMsg(N,o.OKXCONNECTOR_JWT_KEY),C.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const x=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_JWT_KEY);if(typeof x=="string"){C.logDebug("get cached jwt kp:"),C.logDebug(x);let A=(0,w.safeJsonParse)(x);C.logDebug("save jwt kp"),C.logDebug(A);var N={publicKey:(0,m.hexToByteArray)(A.publicKey),secretKey:(0,m.hexToByteArray)(A.secretKey)};return N}else return(0,v.generateKeyPair)()}isTopicPublicKeyExist(E){return C.logDebug(`isTopicPublicKeyExist  ===> ${E}`),this.sessionCryptoInfoMap.get(E)}makeJWT(E){return r(this,void 0,void 0,function*(){return yield(0,v.signJWT)(E,a.OKXCONNECTOR_JWT_WALLET_SIDE,a.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parseInternalMsg(E){try{let N=(0,w.safeJsonParse)(E)["ivur-igbfft-ptjip"];if(N&&N.length>0)return(0,O.base64decode)(N,!0).toString()}catch(x){C.logError("parse internal msg",x)}}updateClientId(E,x){let N=this.sessionCryptoInfoMap.get(E);if((0,_.logDebug)("updateClientId",N,E,x),N&&x&&x.length>0){if(N.cid){let A=(0,m.getLastSixMd5Hash)(x);N.cid==A?N.dappPublicKey=x:C.logError("cid check failed",N,E,x)}else N.dappPublicKey=x;this.syncCacheSessionInfo()}return!1}parsePackage(E,x){return r(this,arguments,void 0,function*(N,A,D=!1){var k,U,H,F,P,I,$,W,X,j,G,ae,ce,oe,Ce,Ae,ue;this.events.emit(A.id,A);let Y=this.sessionCryptoInfoMap.get(N);C.logDebug("get sessionInfo for decrypt topic:",N),C.logDebug("get sessionInfo for decrypt:",A.id,N,Y,this.sessionCryptoInfoMap);let ee=!1;if(Y&&A.params.data&&!((k=A.params.data)===null||k===void 0)&&k.message)if(!((U=A.params.data)===null||U===void 0)&&U.isInternalData){let B=(H=A.params.data)===null||H===void 0?void 0:H.message,te=(F=A.params.data)===null||F===void 0?void 0:F.topic,we=this.parseInternalMsg(B);(0,_.logDebug)("parse internal origin: ",we),we&&we.length>0&&this.communicateEvents.emit("origin",we,te)}else try{let B=(P=A.params.data)===null||P===void 0?void 0:P.message;if(A.method&&A.method===s.CONNECT_METHOD_PUSH&&((0,_.logDebug)("checkExpire: update expire when get push"),this.updateExpireLimit(N)),B.trimStart().startsWith("{")){let te=this.splitManager.tryParseMessageSplitPayload(B);if(te){(0,_.logDebug)("parse split msg object: ",te),ee=!0;let we={topicId:($=(I=A.params)===null||I===void 0?void 0:I.data)===null||$===void 0?void 0:$.topic,messageId:(X=(W=A.params)===null||W===void 0?void 0:W.data)===null||X===void 0?void 0:X.messageId,messageObject:te,publishedAt:(G=(j=A.params)===null||j===void 0?void 0:j.data)===null||G===void 0?void 0:G.publishedAt},Ne=yield this.splitManager.onReceivedPackageCheck(we);if(Ne.completeMessageIdList&&Ne.completeMessageIdList.forEach(Fe=>r(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),Fe,N)})),Ne.finalMessage){let Fe=Y.crypto.decryptWallet(Ne.finalMessage,Y.dappPublicKey);(0,_.logDebug)("<<< receive msg from split:",N,Fe),this.communicateEvents.emit(N,Fe)}}else{let we=(0,w.safeJsonParse)(B);if(we.method){if(we.method=="session_info"){let Ne=we.params.sessionInfo,Fe=(0,O.base64decode)(Ne,!1);(0,_.logDebug)("wallet connection manager requset base64Content:",Fe),(0,_.logDebug)("base64Content:"+Fe);let Ve=Fe.toObject();this.updateClientId(N,Ve.clientId)}(0,_.logDebug)("<<< parse raw msg:",N,we),this.communicateEvents.emit(N,B)}}}else{let te=Y.crypto.decryptWallet((ae=A.params.data)===null||ae===void 0?void 0:ae.message,Y.dappPublicKey);(0,_.logDebug)("<<< receive msg:",N,te),this.communicateEvents.emit(N,te)}}catch{let te=Y.crypto.decryptWallet((ce=A.params.data)===null||ce===void 0?void 0:ce.message,Y.dappPublicKey);(0,_.logDebug)("<<< receive msg:",N,te),this.communicateEvents.emit(N,te)}if(!D&&(yield this.sendACK(A.id,!0),N&&!ee)){let B=A;!((Ce=(oe=B.params)===null||oe===void 0?void 0:oe.data)===null||Ce===void 0)&&Ce.messageId&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(ue=(Ae=B.params)===null||Ae===void 0?void 0:Ae.data)===null||ue===void 0?void 0:ue.messageId,N))}})}recovrySessionInfoFromCache(){let E=this.connectStorage.getAndDecrypt(u.WalletConnectionManagerTopicInfoCacheKey);if(C.logDebug("get cached sessionInfos:",E),E){let x=(0,w.safeJsonParse)(E);for(let N in x){let A=x[N];C.logDebug("make topicItem:",A);let D={topic:N,crypto:new y.SessionCrypto({publicKey:A.cryptoKeyPair.publicKey,secretKey:A.cryptoKeyPair.secretKey}),dappPublicKey:A.dappPublicKey,cid:A.cid};this.sessionCryptoInfoMap.set(N,D)}}C.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let E={};for(let[N,A]of this.sessionCryptoInfoMap)C.logDebug("for each Keys",N),A&&(E[N]={cryptoKeyPair:A.crypto.stringifyKeypair(),dappPublicKey:A.dappPublicKey,cid:A.cid});let x=(0,w.safeJsonStringify)(E);C.logDebug("sync cache sessionInfos:",x),this.connectStorage.encryptStoreMsg(x,u.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(E,x,N=!0){let A=x.dappPublicKey,D=[];for(let[k,U]of this.sessionCryptoInfoMap)C.logDebug("for each Keys",k),U.dappPublicKey==A&&(C.logDebug("duplicated dapp public key:",k,A),D.push(k));for(let[k,U]of this.sessionCryptoInfoMap)D.includes(k)&&this.sessionCryptoInfoMap.delete(k);return C.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(E,x),C.logDebug("cache sessionInfo:",E,x,this.sessionCryptoInfoMap),N&&this.syncCacheSessionInfo(),D}updateProtocolVersion(E,x){this.splitManager.updateTopicSenderVersion(E,x)}appendTopic(E,x,N){return r(this,void 0,void 0,function*(){return(0,_.logDebug)("4.1. get append Topic:",E),new Promise((A,D)=>r(this,void 0,void 0,function*(){if(!this.isLogined){var k=new Error;k.message="connection is not logined",k.name="append error",D(k);return}let U={topic:E,crypto:new y.SessionCrypto,dappPublicKey:x||"",cid:N},H=this.cacheSessionInfo(E,U,!1);yield this.subscribeTopics(Array.from([E])),this.refreshPackageId(),C.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${E}`),C.reportLog("5. subscribe callback then fetch append message");const F=new Date().getTime();(0,_.logDebug)("Append --subscribe callback->",F-this.timeLog),A(H)}))})}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return r(this,void 0,void 0,function*(){this.timeLog=new Date().getTime(),(0,_.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),C.reportLog("wallet connect connect called");let E=Date.now().toString();var x=yield this.makeJWT(E);return C.logDebug(`generate jwt token: ${x}`),this.connectStorage.saveContent(x,"jwt"),this.recovrySessionInfoFromCache(),new Promise((N,A)=>{this.inLogin=!0,this.connector.onOpen(()=>r(this,void 0,void 0,function*(){C.logDebug("1. connector on open"),C.reportLog("1. wallet connect connect on open");const D=new Date().getTime();(0,_.logDebug)("ConnectTime---open->",D-this.timeLog),this.events.once(this.packageId.toString(),k=>r(this,void 0,void 0,function*(){if(k&&k.error){C.logError("failed when login"),yield this.connector.disconnect();var U=new Error;U.message=k.error.message,U.name=k.error.code.toString(),A(U)}else this.isLogined=!0,N(),C.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),C.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})),C.logDebug("2. login called"),C.reportLog("2. wallet connect login called"),yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_LOGIN,params:{token:x}})})),this.connector.connect().catch(D=>{(0,_.logDebug)("WalletConnectionManager connect error",D),A(D)}),this.connector.addPackageParse(D=>{var k,U;if(C.logDebug("connect: parse package"),C.logDebug(D),!("params"in D)||!("data"in D.params)){this.parsePackage("",D,!0);return}!((k=D.params.data)===null||k===void 0)&&k.topic&&this.parsePackage((U=D.params.data)===null||U===void 0?void 0:U.topic,D,D.method===s.CONNECT_METHOD_RECEIVE)})})})}getSessionPublicKey(E){if(this.isTopicPublicKeyExist(E)){let x=this.sessionCryptoInfoMap.get(E);if(x)return(0,m.toHexString)(x.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}sendDisconnect(E){return r(this,void 0,void 0,function*(){this.refreshPackageId();const x={id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_DISCONNECT,params:{message:{topic:E,ttl:c.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL}}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),x)})}sendRecvDisconnect(E){return r(this,void 0,void 0,function*(){this.refreshPackageId();const x={id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_RECV_DISCONNECT,params:{topic:E}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),x)})}disconnect(){return r(this,arguments,void 0,function*(E=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(o.OKXCONNECTOR_TOKEN_CACHE),E||this.connectStorage.clearCache(o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)})}sendRaw(E,x){return r(this,void 0,void 0,function*(){x&&(yield this.sendMsg(x,E,c.OKXCONNECTOR_MESSAGE_TTL))})}sendMsg(E,x,N){return r(this,void 0,void 0,function*(){if(x){this.refreshPackageId();const A={id:this.packageId.toString(),method:s.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:E,message:x,ttl:N}}};this.events.once(this.packageId.toString(),D=>r(this,void 0,void 0,function*(){D&&D.error?C.logError(`@${new Date().toUTCString()} >>> failed when send msg`):D&&!D.error&&C.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),A)}})}send(E,x){return r(this,arguments,void 0,function*(N,A,D=!1,k=c.OKXCONNECTOR_MESSAGE_TTL,U=!1){var H,F;if(C.logDebug(`message send =====> ${A}`),!this.isTopicPublicKeyExist(N))throw new Error("connection not finish");let P=(H=this.sessionCryptoInfoMap.get(N))===null||H===void 0?void 0:H.dappPublicKey,I=(F=this.sessionCryptoInfoMap.get(N))===null||F===void 0?void 0:F.crypto,$;U&&($={message:A});let W=!1;if(I&&P&&!U){let X=I.encryptWallet(A,P);W=!0,$={message:X}}if($){D&&I&&($.clientId=(0,m.toHexString)(I.keyPair.publicKey));let X=(0,w.safeJsonStringify)($);!U&&W?yield this.splitManager.sendSplitPackages(N,X,this.sendMsg.bind(this),this.sendRaw.bind(this)):yield this.sendMsg(N,X,k)}})}sendACK(E,x){return r(this,arguments,void 0,function*(N,A,D=void 0){if(A===!0){const k={id:N,jsonrpc:c.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),k)}else if(D){const k={id:N,jsonrpc:c.CONNECT_JSONRPC_VER,error:{code:D.code,message:D.message}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),k)}})}sendReceive(E,x,N){return r(this,void 0,void 0,function*(){const A={id:E,jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_RECEIVE,params:{data:{messageId:x,topic:N}}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),A)})}sendUnsubscribe(E){return r(this,void 0,void 0,function*(){yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_UNSUB,params:{topic:E}});try{yield this.sendDisconnect(E)}catch(x){C.logError("send disconnect command failed",x)}this.sessionCryptoInfoMap.delete(E),this.syncCacheSessionInfo()})}sendFetchAndConsumeMessages(E,x){return r(this,void 0,void 0,function*(){this.events.once(E,D=>r(this,void 0,void 0,function*(){var k,U;if(D.result){var H=D.result.hasMore,F=D.result.data;if(F)for(let P=0;P<F.length;P++){let I=F[P];if(I&&I.topic==x){let $=I.messageId;yield this.connector.getMsgPayloadFromHistory(I),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),$,x)}}H&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),x))}else C.logDebug(`CONNECT: get error rsp ${(k=D.error)===null||k===void 0?void 0:k.code} : ${(U=D.error)===null||U===void 0?void 0:U.message}`)})),C.logDebug("5. send fetch more");const N=new Date().getTime();(0,_.logDebug)("ConnectTime---5->",N-this.timeLog);const A={id:E,jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_FETCHMSG,params:{data:{topic:x}}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),A)})}sendBatchFetchAndConsumeMessages(E,x){return r(this,void 0,void 0,function*(){this.events.once(E,D=>r(this,void 0,void 0,function*(){var k,U;if(D.result){var H=D.result.hasMore,F=D.result.data;const P=D.result.disconnectedTopics;if(P)try{for(let I=0;I<P.length;I++){const $=P[I];if($.topic){(0,_.logDebug)("send receive disconnect:",$.topic),yield this.sendRecvDisconnect($.topic);let W=(0,w.safeJsonStringify)({requestId:$.publishedAt.toString(),method:s.CONNECT_METHOD_DISCONNECT}),X={messageId:$.publishedAt.toString(),message:(0,w.safeJsonStringify)({message:W}),topic:$.topic,publishedAt:$.publishedAt};yield this.connector.getMsgPayloadFromHistory(X)}}}catch(I){C.logError("disconnect topic fails",I)}if(F)for(let I=0;I<F.length;I++){let $=F[I];if($&&$.topic)if(this.splitManager.tryParseMessageSplitPayload($.message))yield this.connector.getMsgPayloadFromHistory($);else{let X=$.messageId;yield this.connector.getMsgPayloadFromHistory($),this.refreshPackageId(I),yield this.sendReceive(this.packageId.toString(),X,$.topic)}}H&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),x))}else C.logDebug(`CONNECT: get error rsp ${(k=D.error)===null||k===void 0?void 0:k.code} : ${(U=D.error)===null||U===void 0?void 0:U.message}`)})),C.logDebug("5. send fetch more"),C.reportLog("5. send fetch more");const N=new Date().getTime();(0,_.logDebug)("ConnectTime---5->",N-this.timeLog);const A={id:E,jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:x,withInternalData:!0}};yield this.connector.send(()=>r(this,void 0,void 0,function*(){C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),A)})}cleanCache(){return r(this,void 0,void 0,function*(){this.connectStorage.clearCache()})}saveSessionContent(E,x){x||this.connectStorage.clearCache(o.OKXCONNECTOR_SESSION_PREFIX_KEY+E);let N=(0,w.safeJsonStringify)(x);this.connectStorage.encryptStoreMsg(N,o.OKXCONNECTOR_SESSION_PREFIX_KEY+E)}getSessionContent(E){let x=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_SESSION_PREFIX_KEY+E);if(x)return(0,w.safeJsonParse)(x)}subscribeTopics(E){return r(this,void 0,void 0,function*(){(0,_.logDebug)("4. topicid list",E),C.reportLog("4. topicid list"),this.refreshPackageId();const x=new Date().getTime();return(0,_.logDebug)("ConnectTime--subscribe callback->",x-this.timeLog),new Promise((N,A)=>r(this,void 0,void 0,function*(){let D=0;for(let k=0;k<E.length;++k){let U=E[k];this.refreshPackageId(k),this.events.once(this.packageId.toString(),F=>r(this,void 0,void 0,function*(){if(F&&F.error){C.logError("failed when subscribe"),yield this.connector.disconnect();var P=new Error;P.message=F.error.message,P.name=F.error.code.toString(),D+=1,D==E.length&&N()}this.refreshPackageId(k);const I=new Date().getTime();(0,_.logDebug)("ConnectTime--subscribe callback->",I-this.timeLog),D+=1,D==E.length&&(C.logDebug(`5. send fetch msg: ${this.packageId}, ${U}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),E),yield this.splitManager.init(this.sendRaw.bind(this)),this.checkExpire(U)?((0,_.logDebug)("disconnect From topic expire"),yield this.activateDisconnect(U)):((0,_.logDebug)("extends expire check"),this.updateExpireLimit(U)),N())})),C.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${U}`),C.reportLog("3. login callback then send subscribe");const H=new Date().getTime();(0,_.logDebug)("ConnectTime---login callback->",H-this.timeLog),yield this.connector.send(()=>r(this,void 0,void 0,function*(){return C.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:s.CONNECT_METHOD_SUB,params:{topic:U}})}}))})}checkExpire(E){let x=!1;if(E.length==0)return(0,_.logDebug)("checkExpire: invalid topic"),x;let N=this.getSessionContent(o.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE);if(N&&N instanceof Object)try{let D=new Map(Object.entries(N)).get(E);D?Date.now()>D&&((0,_.logDebug)("checkExpire: connection is Expired"),x=!0):((0,_.logDebug)("checkExpire: not same connection"),x=!1)}catch{(0,_.logDebug)("checkExpire: cache error"),x=!1}else(0,_.logDebug)("checkExpire: not topic records"),this.updateExpireLimit(E),x=!1;return x}updateExpireLimit(E){(0,_.logDebug)(`update expire limit for topic: ${E}`);try{let x=this.getSessionContent(o.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE),N=new Map;x&&(N=new Map(Object.entries(x)));let A=Date.now()+c.OKXCONNECTOR_SESSION_LIVE_TTL;N.set(E,A),this.saveSessionContent(o.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE,Object.fromEntries(N))}catch{(0,_.logDebug)("update cache failed")}}activateDisconnect(E){return r(this,void 0,void 0,function*(){let x=(0,w.safeJsonStringify)({requestId:"",method:s.CONNECT_METHOD_DISCONNECT}),N={messageId:"",message:(0,w.safeJsonStringify)({message:x}),topic:E,publishedAt:0};yield this.connector.getMsgPayloadFromHistory(N)})}}return qo.WalletConnectionManager=R,qo}var nf={},HO={},V7;function H1(){return V7||(V7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OKX_TG_WALLET=e.OKX_APP_WALLET=e.OKX_INJECT_WALLET=void 0,e.getTagByappName=r;const t=Ns(),n=t2();e.OKX_INJECT_WALLET="okx_inject_wallet",e.OKX_APP_WALLET="okx_app_wallet",e.OKX_TG_WALLET="okx_tg_wallet";function r(i){var s="";if(i)switch(i){case t.OKXWalletName:s=e.OKX_APP_WALLET;break;case n.OKXMiniWalletName:s=e.OKX_TG_WALLET;break;case n.OKXInjectWalletName:s=e.OKX_INJECT_WALLET}return s}}(HO)),HO}var Up={},X7;function bz(){if(X7)return Up;X7=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.buildNameSpacesByConnectResponse=t,Up.buildRequestAccountNameSpacesByConnectResponse=n,Up.buildAccountNameSpaces=r;const e=Bi();function t(i){return n(i)}function n(i){let s={};(0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(i));let o=i.payload.responses.find(u=>u.name==="requestAccounts");if(o&&o.accounts){let u=[];for(const d of o.accounts)d.namespace==="ton"?d.data&&d.data.ton_addr&&d.data.ton_addr.address&&d.data.ton_addr.address.length>0&&((0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(d)),u.push(d)):((0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(d)),u.push(d));o.accounts=u}const a=i.payload.responses.find(u=>u.name==="ton_addr"),c=i.payload.responses.find(u=>u.name==="ton_proof");if(a&&!o){(0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let u=a.address;u="ton:"+a.network+":"+u;let d={ton_addr:a};c&&(d.ton_proof=c),o={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[u],methods:["ton_sendTransaction"],extra:{},data:d}]}}return(0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(o)),r(o.accounts,s),s}function r(i,s){i.forEach(o=>{var a=[],c=[];o.addresses.forEach(u=>{var d=u.split(":");if((0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",d.length),d.length>=3){let h=d.slice(0,2).join(":");a.push(h),c.push(u),(0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",h,"addressItem:",u)}}),o.data&&o.data.ton_addr&&(o.data.ton_addr.name="ton_addr"),o.data&&o.data.ton_proof&&(o.data.ton_proof.name="ton_proof"),s[o.namespace]={chains:a,accounts:c,methods:o.methods,extra:o.extra,payload:o.data},(0,e.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(s))})}return Up}var G7;function fpe(){if(G7)return nf;G7=1;var e=nf&&nf.__awaiter||function(u,d,h,p){function m(y){return y instanceof h?y:new h(function(v){v(y)})}return new(h||(h=Promise))(function(y,v){function w(O){try{_(p.next(O))}catch(R){v(R)}}function C(O){try{_(p.throw(O))}catch(R){v(R)}}function _(O){O.done?y(O.value):m(O.value).then(w,C)}_((p=p.apply(u,d||[])).next())})};Object.defineProperty(nf,"__esModule",{value:!0}),nf.Engine=void 0;const t=Ns(),n=$1(),r=As(),i=H1(),s=wz(),o=bz(),a=t2();class c{constructor(d){this.connectors=[],this.useConnector=void 0,this.sessionRetryTimer=null,this.connectionManager=new s.ConnectionManager(d),this.addConnectionListener()}getConnector(){if(this.useConnector)return this.useConnector}setAccountChangeListener(d){this.accountChangeListener=d,(0,r.logDebug)("setAccountChangeListener: engine",d);for(const h of this.connectors)h.setAccountChangeListener(d)}registerConnector(d){this.connectors=d;for(const h of d)h.setConnectionManager(this.connectionManager)}hasWsConnector(){for(const d of this.connectors)if(this.isWsConnector(d))return!0;return!1}isWsConnector(d){return d?d.getTag()===i.OKX_TG_WALLET||d.getTag()===i.OKX_APP_WALLET:!1}isInjectedConnector(d){return d?d.getTag()===i.OKX_INJECT_WALLET:!1}universalConnect(d,h,p){return e(this,void 0,void 0,function*(){return this.addConnectionListener(),new Promise((m,y)=>e(this,void 0,void 0,function*(){var v,w,C,_,O;try{(0,r.logDebug)("engine universalConnect request :",JSON.stringify(d)),(0,r.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(h));let R=[];d.forEach(P=>{let I=P.name;(I.startsWith("requestAccounts")||I.startsWith("ton"))&&R.push(P)}),(0,r.logDebug)("engine universalConnect universalRequest :",JSON.stringify(R));const S=this.connectionManager.getConnectInfo(),E=Date.now().toString();let x=(v=h.openUniversalUrl)!==null&&v!==void 0?v:!1,N=(w=h.openAppLinkType)!==null&&w!==void 0?w:t.OpenAppLinkType.UniversalLink;const A={protocolVer:Number(t.tonConnectSdkVersion),topic:S.channelId,clientId:S.clientId,requestId:E,dAppInfo:this.fixDappName(h.dappInfo),requests:R,redirect:(C=h?.redirect)!==null&&C!==void 0?C:"none"},D=(0,r.encodeConnectParams)(A);A.redirect=(_=h?.redirect)!==null&&_!==void 0?_:"none",(0,r.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify(A));let k="",U="";if(x){let P=(0,r.getOKXLink)(A,h.useMini,h.tmaReturnUrl);k=P.universalLink,U=P.deepLink||"",(0,r.logDebug)("engine universalConnect ==>>openOKXLink:",k)}const H=()=>this.connectors.length==1&&this.connectors[0].getTag()===i.OKX_INJECT_WALLET?this.connectors[0].openWallet({connectRequest:A},N):h.useMini?(0,r.openOKXTMAWalletlinkWithFallback)(k):(0,r.openOKXDeeplinkWithFallback)(U,k,N);(0,r.logDebug)("engine universalConnect ==>>openOKXLink:",k);const F=(0,r.isIos)();if(F&&x&&((0,r.logDebug)(`engine universalConnect ==>>isIOS: ${F}   openUniversalLink: ${x}`),H()),this.addOnConnectResultListener(P=>{var I,$,W,X;try{this.stopSendSessionRetry(),this.addOnConnectResultListener(void 0);let ae=P;if(ae.method=="connect"){(0,r.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(ae));let ce=(0,o.buildNameSpacesByConnectResponse)(ae);if(ce){let oe;!(($=(I=ae.payload)===null||I===void 0?void 0:I.responses)===null||$===void 0)&&$[0]&&"walletName"in ae.payload.responses[0]&&(oe=ae.payload.responses[0].walletName);let Ce=(W=ae.payload)===null||W===void 0?void 0:W.wallet.appName;var j="";switch(Ce){case a.OKXWalletName:j=i.OKX_APP_WALLET;break;case a.OKXMiniWalletName:j=i.OKX_TG_WALLET;break;case a.OKXInjectWalletName:j=i.OKX_INJECT_WALLET;break}var G=this.connectors.find(Y=>Y.getTag()===j);if(!G)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);let Ae=Object.assign({topic:S.channelId,sessionConfig:h,namespaces:ce},ae.payload&&{wallet:Object.assign(Object.assign({},ae.payload.wallet),{walletName:oe})}),ue=ae.payload.responses.find(Y=>Y.name==="requestAccounts");ue&&ue.connectRequestMethods&&(Ae.signResponse=ue.connectRequestMethods),(0,r.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(Ae)),this.isWsConnector(G)&&((0,r.logDebug)("engine update protocol version"),this.connectionManager.updateProtocolVersion(S.channelId,ae.payload.wallet.maxProtocolVersion)),this.deviceInfo=Object.assign({},Ae.wallet),m(Ae),this.setUseConnector(G),(0,r.reportEvent)(r.OKXReportType.PAGE_IN,r.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,j)}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}else if(ae.method=="connect_error"&&((X=ae.payload)===null||X===void 0?void 0:X.code)!=null)throw new t.OKXConnectError(ae.payload.code)}catch(ae){y(ae)}}),this.hasWsConnector()){yield(O=this.connectionManager)===null||O===void 0?void 0:O.disconnect(!1);try{yield this.connectionManager.connect()}catch(P){throw(0,r.logDebug)("Engine universalConnect error",P),P}(0,r.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",p),this.sendSession(D,A.topic,x)}if(!F&&x&&H(),(0,r.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",p),p){const P={connectRequest:A,redirect:h.redirect,tmaReturnUrl:h.tmaReturnUrl};(0,r.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(P)),p(P)}}catch(R){(0,r.logDebug)("Engine universalConnect catch error",R),y(R)}}))})}fixDappName(d){try{if(d.name.toLowerCase()==="dapp portal"){let h=document.title;if(h||(h=this.getOGSiteName()),h)return Object.assign(Object.assign({},d),{name:d.name+" - "+h})}return d}catch{return d}}getOGSiteName(){let d=document.getElementsByTagName("meta"),h=["og:site_name","og:title","twitter:title"];for(let p of d){let m=p.getAttribute("property");for(let y of h)if(m==y)return p.getAttribute("content")}}addOnConnectResultListener(d){for(const h of this.connectors)this.isInjectedConnector(h)&&h.setOnConnectResultListener(d);this.connectResultListener=d}openWallet(d,h,p){var m;h?h.openWallet(d,p):(m=this.getConnector())===null||m===void 0||m.openWallet(d,p)}send(d,h,p){return e(this,void 0,void 0,function*(){var m,y,v,w,C,_,O,R,S;let E;"chainId"in d&&d.chainId!=null&&(E=d.chainId.toString());try{if((0,r.reportEvent)(r.OKXReportType.LOG,r.Report_OKXConnectSDK_RequestStart_Log,"",(y=(m=this.getConnector())===null||m===void 0?void 0:m.getTag())!==null&&y!==void 0?y:"",d.method,(w=(v=this.deviceInfo)===null||v===void 0?void 0:v.platform)!==null&&w!==void 0?w:"",E),!this.getConnector())throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);(C=this.getConnector())===null||C===void 0||C.send(d,{resolve:x=>{var N,A,D,k,U,H,F,P,I;(N=h?.resolve)===null||N===void 0||N.call(h,x),"error"in x&&x.error?(0,r.reportEvent)(r.OKXReportType.LOG,r.Report_OKXConnectSDK_RequestError_Log,"",(D=(A=this.getConnector())===null||A===void 0?void 0:A.getTag())!==null&&D!==void 0?D:"",d.method,(U=(k=this.deviceInfo)===null||k===void 0?void 0:k.platform)!==null&&U!==void 0?U:"",E):(0,r.reportEvent)(r.OKXReportType.LOG,r.Report_OKXConnectSDK_RequestSuccess_Log,"",(F=(H=this.getConnector())===null||H===void 0?void 0:H.getTag())!==null&&F!==void 0?F:"",d.method,(I=(P=this.deviceInfo)===null||P===void 0?void 0:P.platform)!==null&&I!==void 0?I:"",E)},onAck:()=>{var x;(x=h?.onAck)===null||x===void 0||x.call(h)}})}catch(x){throw(0,r.reportEvent)(r.OKXReportType.LOG,r.Report_OKXConnectSDK_RequestError_Log,"",(O=(_=this.getConnector())===null||_===void 0?void 0:_.getTag())!==null&&O!==void 0?O:"",d.method,(S=(R=this.deviceInfo)===null||R===void 0?void 0:R.platform)!==null&&S!==void 0?S:"",E),x}})}clearData(){var d;(d=this.getConnector())===null||d===void 0||d.clearData()}addDisconnectListener(d){var h;(h=this.getConnector())===null||h===void 0||h.addDisconnectListener(d)}saveSessionContent(d,h){this.connectionManager.saveSessionContent(d,h)}getSessionContent(d){var h,p=this.connectionManager.getSessionContent(d);if(p){var m="";if(typeof p=="object"&&(m=(0,i.getTagByappName)((h=p.wallet)===null||h===void 0?void 0:h.appName)),this.connectors.find(y=>y.getTag()===m))return p}}setConnectConnector(d){var h=(0,i.getTagByappName)(d?.appName);h&&this.setUseConnector(this.connectors.find(p=>p.getTag()===h))}setUseConnector(d){this.useConnector=d,this.isWsConnector(d)&&d.addConnectionListener()}setSessionConnectingListener(d){this.sessionConnectingListener=d}restoreconnect(d,h){return e(this,void 0,void 0,function*(){var p;yield(p=this.getConnector())===null||p===void 0?void 0:p.restoreconnect(d,m=>{var y,v;h(m),m&&(this.deviceInfo=Object.assign({},m.wallet),(0,r.reportEvent)(r.OKXReportType.PAGE_IN,r.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,(v=(y=this.getConnector())===null||y===void 0?void 0:y.getTag())!==null&&v!==void 0?v:""))})})}restoreconnectFromTopic(d){return e(this,void 0,void 0,function*(){this.isWsConnector(this.getConnector())&&(yield this.getConnector().restoreconnectFromTopic(d))})}getCurrentConnectionReady(d){var h;return!!(!((h=this.getConnector())===null||h===void 0)&&h.getCurrentConnectionReady(d))}connectManagerDisconnect(){return e(this,arguments,void 0,function*(d=!1){var h,p;this.getConnector()?(h=this.getConnector())===null||h===void 0||h.connectManagerDisconnect(d):yield(p=this.connectors.find(m=>this.isWsConnector(m)))===null||p===void 0?void 0:p.connectManagerDisconnect(d),this.stopSendSessionRetry(),this.setUseConnector(void 0)})}sendSession(d,h,p){return e(this,void 0,void 0,function*(){(0,r.logDebug)("[Connect] sendSession called:",d);const m=Date.now().toString();let y={method:"session_info",params:{protocolVersion:n.CONNECT_PROTOCOL_VER,sessionInfo:d}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},y),{requestId:m}))),this.sessionRetryTimer&&clearInterval(this.sessionRetryTimer),p||(this.sessionRetryTimer=setInterval(()=>e(this,void 0,void 0,function*(){const v=Date.now().toString();(0,r.logDebug)("[Connect] Retrying sendSession..."),yield this.connectionManager.sendSubscribe(h),yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},y),{requestId:v})))}),n.OKXCONNECTOR_MESSAGE_TTL))})}stopSendSessionRetry(){this.sessionRetryTimer&&(clearInterval(this.sessionRetryTimer),this.sessionRetryTimer=null,(0,r.logDebug)("[Connect] Stopped retry for session"))}addConnectionListener(){var d;(d=this.connectionManager)===null||d===void 0||d.addListener("sdk_response",(h,p)=>{var m=(0,r.safeJsonParse)(p);(0,r.logDebug)(`Engine ==>> addListener ==> success ==> ${m}`),m.method==="connect"?this.connectResultListener&&this.connectResultListener(m):m.method==="connect_error"?this.connectManagerDisconnect(!1).catch(()=>{}).finally(()=>{this.connectResultListener&&this.connectResultListener(m)}):m.method==="session_connecting"&&((0,r.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,r.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0))},function(){})}}return nf.Engine=c,nf}var J7;function hpe(){return J7||(J7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Engine=e.WalletConnectionManager=e.ConnectionManager=e.OKXWalletConnector=void 0;var t=_5();Object.defineProperty(e,"OKXWalletConnector",{enumerable:!0,get:function(){return t.OKXWalletConnector}});var n=wz();Object.defineProperty(e,"ConnectionManager",{enumerable:!0,get:function(){return n.ConnectionManager}});var r=dpe();Object.defineProperty(e,"WalletConnectionManager",{enumerable:!0,get:function(){return r.WalletConnectionManager}});var i=fpe();Object.defineProperty(e,"Engine",{enumerable:!0,get:function(){return i.Engine}});var s=s2();Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return s.Storage}})}(AO)),AO}var rf={},Us={},Y7;function Wh(){if(Y7)return Us;Y7=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.BtcMethods=Us.SuiMethods=Us.TONMethods=Us.AptosMethods=Us.SOLANAMethods=Us.Eip55Methods=void 0,Us.hasOKXInjectedProvider=e;function e(){return typeof t("okxwallet")<"u"}function t(n){const r=(i,s)=>{const[o,...a]=s.split("."),c=i[o];if(c)return a.length===0?c:r(c,a.join("."))};if(typeof window<"u")return r(window,n)}return Us.Eip55Methods=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","wallet_addEthereumChain","wallet_watchAsset","wallet_switchEthereumChain","eth_requestAccounts","eth_accounts","eth_chainId"],Us.SOLANAMethods=["solana_signTransaction","solana_signMessage","solana_signAllTransactions","solana_signAndSendTransaction"],Us.AptosMethods=["aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction"],Us.TONMethods=["ton_sendTransaction"],Us.SuiMethods=["sui_signMessage","sui_signPersonalMessage","sui_signTransactionBlock","sui_signAndExecuteTransactionBlock"],Us.BtcMethods=["btc_signMessage","btc_signPsbts","btc_send","btc_sendInscription","btc_signAndPushPsbt","btc_inscribeTransfer","btc_sendRunes"],Us}var sf={},of={},zO={},Z7;function Cd(){return Z7||(Z7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mediaNotTouch=e.mediaTouch=e.maxWidth=void 0,e.isDevice=s,e.media=o,e.mediaMin=a,e.mediaMax=c,e.mediaMinMax=u;const t=v5(),n=n2(),r=W1(),i=Bi();e.maxWidth={mobile:440,tablet:1020};function s(d){var h;const p=(0,r.getWindow)();if(!p)return d==="desktop";if((0,n.isTmaPlatform)("weba"))return!0;const m=p.innerWidth;switch(d){case"desktop":return m>e.maxWidth.tablet;case"tablet":return m>e.maxWidth.mobile;default:case"mobile":let y=m<=e.maxWidth.mobile||(0,t.isOS)("ios","android","ipad");if(y){const v=!!(!((h=(0,r.getWindow)())===null||h===void 0)&&h.TelegramWebviewProxy),w=navigator.maxTouchPoints||0;v&&w===0&&(y=!1),(0,i.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",y,v,w)}return y}}function o(d){switch(d){case"mobile":return`@media (max-width: ${e.maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${e.maxWidth.tablet}px) (min-width: ${e.maxWidth.mobile}px)`;default:case"desktop":return`@media (min-width: ${e.maxWidth.tablet}px)`}}function a(d){return`@media (min-width: ${d}px)`}function c(d){return`@media (max-width: ${d}px)`}function u(d,h){return`@media (min-width: ${d}px) and (max-width: ${h}px)`}e.mediaTouch="@media (hover: none)",e.mediaNotTouch="@media not all and (hover: none)"}(zO)),zO}var Q7;function ppe(){if(Q7)return of;Q7=1;var e=of&&of.__awaiter||function(o,a,c,u){function d(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(w){try{v(u.next(w))}catch(C){p(C)}}function y(w){try{v(u.throw(w))}catch(C){p(C)}}function v(w){w.done?h(w.value):d(w.value).then(m,y)}v((u=u.apply(o,a||[])).next())})};Object.defineProperty(of,"__esModule",{value:!0}),of.Eip155Provider=void 0;const t=Ns(),n=As(),r=Cd(),i=Wh();class s{constructor(){this.accountChangedEVMHandler=null}send(a){return e(this,void 0,void 0,function*(){var c;try{(0,n.logDebug)("Eip155Provider send request:",(0,n.safeJsonStringify)(a)),yield this.restoreConnect();let u=null;switch(a.method){case"personal_sign":a.params&&"message"in a.params&&(u={method:a.method,params:[a.params.message,a.address]});break;case"eth_sendTransaction":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":a.params&&(u={method:a.method,params:[a.params]});break;case"eth_signTypedData_v4":a.params&&"typedDataJson"in a.params&&(!((c=a.params)===null||c===void 0)&&c.typedDataJson)&&typeof a.params.typedDataJson=="string"&&(u={method:a.method,params:[a.address,a.params.typedDataJson]});break;case"wallet_watchAsset":a.params&&(u={method:a.method,params:a.params});break;default:u={method:a.method,params:a.injectParams}}if(u)if((a.method==="wallet_switchEthereumChain"||a.method==="wallet_addEthereumChain")&&a.params&&"chainId"in a.params){(0,n.logDebug)("Eip155Provider send request switch requestParams:",(0,n.safeJsonStringify)(u));const d=parseInt(a.params.chainId,16).toString();yield window.okxwallet.request(u);const h=`eip155:${d}:${a.address}`;return(0,n.logDebug)("Eip155Provider send request switch result:",h),{result:h,method:a.method}}else{const d=(0,n.getChainId)(a.chainId),h=`0x${Number(d).toString(16)}`;if((0,n.logDebug)("Eip155Provider current chainId:",d,h),h){yield window.okxwallet.request({method:"wallet_switchEthereumChain",params:[{chainId:h}]}),(0,n.logDebug)("Eip155Provider send request requestParams:",h,(0,n.safeJsonStringify)(u));const p=yield window.okxwallet.request(u);return(0,n.logDebug)("Eip155Provider send request result:",(0,n.safeJsonStringify)(p)),{result:p,method:a.method}}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(u){throw(0,n.logDebug)("Eip155Provider encountered an error:",u),u}})}connectReady(){return!0}restoreConnect(){return(0,r.isDevice)("mobile")?window.okxwallet.request({method:"eth_requestAccounts"}):Promise.resolve()}parseConnectResponse(a,c,u,d,h,p){return e(this,void 0,void 0,function*(){try{let m=[];d.forEach(w=>{w.namespace===t.NameSpaceKeyEip155&&m.push(...w.chains)});let y=[],v={};return m.forEach(w=>{let C=(0,n.getChainId)(w),_=h.address.find(O=>O.chainId===C&&O.coinType===60||O.namespaceChainId===w);_&&(y.push(w+":"+_.address),v[w]={publicKey:_.publicKey})}),y&&y.length>0?{namespace:t.NameSpaceKeyEip155,addresses:y,methods:[...i.Eip55Methods],extra:v}:void 0}catch(m){throw m}})}connect(){return e(this,void 0,void 0,function*(){return window.okxwallet.request({method:"eth_requestAccounts"})})}singleConnect(){return this.connect()}addListener(a){console.log("window.okxwallet configEventWithKey: eip155"),this.accountChangedEVMHandler=c=>{console.log("window.okxwallet configEventWithKey_evm:",Date.now(),"eip155",c),c&&c.length>0&&a()},window.okxwallet.on("accountsChanged",this.accountChangedEVMHandler)}removeListener(){this.accountChangedEVMHandler&&window.okxwallet.removeListener("accountsChanged",this.accountChangedEVMHandler)}}return of.Eip155Provider=s,of}var eM;function gpe(){return eM||(eM=1,function(e){var t=sf&&sf.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=sf&&sf.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(ppe(),e)}(sf)),sf}var tM;function Ez(){return tM||(tM=1,function(e){var t=rf&&rf.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=rf&&rf.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Wh(),e),n(gpe(),e)}(rf)),rf}var qO={},Jm={},af={},nM;function C5(){if(nM)return af;nM=1;var e=af&&af.__awaiter||function(i,s,o,a){function c(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function h(y){try{m(a.next(y))}catch(v){d(v)}}function p(y){try{m(a.throw(y))}catch(v){d(v)}}function m(y){y.done?u(y.value):c(y.value).then(h,p)}m((a=a.apply(i,s||[])).next())})};Object.defineProperty(af,"__esModule",{value:!0}),af.WsConnector=void 0;const t=jh(),n=Bi();class r{constructor(){this.disconnectListener=[],this.walletName="",this.walletNameKey="",this.enable=!0,this.pendingRequests=new Map,(0,n.getDefaultReporter)().beginReport()}setAccountChangeListener(s){this.accountChangeListener=s}setConnectionManager(s){this.connectionManager=s}addConnectionListener(){var s;(s=this.connectionManager)===null||s===void 0||s.addListener("sdk_response",(o,a)=>{var c=(0,t.safeJsonParse)(a);(0,n.logDebug)(`Engine ==>> addListener ==> success ==> ${c}`),this.handleResponse(o,c)},function(){})}addDisconnectListener(s){this.disconnectListener.push(s)}connectManagerDisconnect(){return e(this,arguments,void 0,function*(s=!1){var o;yield(o=this.connectionManager)===null||o===void 0?void 0:o.disconnect(s)})}openWallet(s,o){}bindRequestForPromise(s,o){this.pendingRequests.set(s,o)}send(s,o,a){return e(this,void 0,void 0,function*(){var c,u;try{delete s.injectParams}catch{}(0,n.logDebug)("Engine ==>> send  request==>",JSON.stringify(s));const d=this.getRequestId();try{let h=yield(c=this.connectionManager)===null||c===void 0?void 0:c.send(JSON.stringify(Object.assign(Object.assign({},s),{requestId:d})),a);h&&((u=this.connectionManager)===null||u===void 0||u.events.once(h.toString(),p=>{var m;(0,n.logDebug)(`Engine ==> send => onAck => ${(0,t.safeJsonStringify)(p)}`),p&&p.result&&((m=o.onAck)===null||m===void 0||m.call(o))})),o.resolve&&this.bindRequestForPromise(d,o.resolve)}catch(h){return Promise.reject(h)}})}restoreconnect(s,o){return e(this,void 0,void 0,function*(){var a;yield(a=this.connectionManager)===null||a===void 0?void 0:a.restoreConnect(s.topic),o(s)})}restoreconnectFromTopic(s){return e(this,void 0,void 0,function*(){var o;yield(o=this.connectionManager)===null||o===void 0?void 0:o.restoreConnect(s)})}getRequestId(){const s=Date.now().toString();return(0,n.logDebug)("Engine ==>> getRequestId ==>",s),s}handleResponse(s,o){if((0,n.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,t.safeJsonStringify)(o)}`,s),"requestId"in o){(0,n.logDebug)("Engine ==>> handleResponse_2  ===> in response");let a=o.requestId;const c=this.pendingRequests.get(a);c?((0,n.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",c),c(o),this.pendingRequests.delete(a)):((0,n.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),o.method==="disconnect"&&(this.disconnectListener.forEach(u=>u()),this.disconnectListener=[],this.clearData()))}}getCurrentConnectionReady(){var s;return!!(!((s=this.connectionManager)===null||s===void 0)&&s.getCurrentConnectionReady())}saveSessionContent(s,o){var a;(a=this.connectionManager)===null||a===void 0||a.saveSessionContent(s,o)}getSessionContent(s){var o;return(o=this.connectionManager)===null||o===void 0?void 0:o.getSessionContent(s)}setOnConnectResultListener(s){this.connectResultListener=s}getTag(){return""}toJSON(){return"ws-connector"}clearData(){this.pendingRequests.clear()}}return af.WsConnector=r,af}var rM;function mpe(){if(rM)return Jm;rM=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.AppwalletConnector=void 0;const e=C5(),t=H1(),n=As(),r=y5(),i=Ns();class s extends e.WsConnector{constructor(){super(),this.walletName="OKX App",this.walletNameKey=""}getTag(){return t.OKX_APP_WALLET}openWallet(a,c){var u;let d=c??i.OpenAppLinkType.UniversalLink;if(a&&a.connectRequest){(0,n.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(a)}`);let h=a.connectRequest;(0,n.useShortLink)()||(h=Object.assign(Object.assign({},a.connectRequest),{redirect:(u=a.redirect)!==null&&u!==void 0?u:"none"}));let{universalLink:p,deepLink:m}=(0,n.getOKXLink)(h);(0,n.openOKXDeeplinkWithFallback)(m,p,d)}else(0,n.isOS)("android")?(0,n.openDeeplinkWithFallback)(r.stackDeepLink,()=>{}):(0,n.openOKXDeeplinkWithFallback)(r.standardDeeplink,r.shortUniversalLink,d)}}return Jm.AppwalletConnector=s,Jm}var cf={},Cl={},VO,iM;function ype(){if(iM)return VO;iM=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,w=0,C=0,_=y.length;C!==_&&y[C]===0;)C++,v++;for(var O=(_-C)*d+1>>>0,R=new Uint8Array(O);C!==_;){for(var S=y[C],E=0,x=O-1;(S!==0||E<w)&&x!==-1;x--,E++)S+=256*R[x]>>>0,R[x]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");w=E,C++}for(var N=O-w;N!==O&&R[N]===0;)N++;for(var A=c.repeat(v);N<O;++N)A+=t.charAt(R[N]);return A}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var v=0,w=0,C=0;y[v]===c;)w++,v++;for(var _=(y.length-v)*u+1>>>0,O=new Uint8Array(_);y[v];){var R=y.charCodeAt(v);if(R>255)return;var S=n[R];if(S===255)return;for(var E=0,x=_-1;(S!==0||E<C)&&x!==-1;x--,E++)S+=a*O[x]>>>0,O[x]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");C=E,v++}for(var N=_-C;N!==_&&O[N]===0;)N++;for(var A=new Uint8Array(w+(_-N)),D=w;N!==_;)A[D++]=O[N++];return A}function m(y){var v=p(y);if(v)return v;throw new Error("Non-base"+a+" character")}return{encode:h,decodeUnsafe:p,decode:m}}return VO=e,VO}var XO,sM;function _z(){return sM||(sM=1,XO=ype()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),XO}var oM;function vpe(){if(oM)return Cl;oM=1;var e=Cl&&Cl.__awaiter||function(c,u,d,h){function p(m){return m instanceof d?m:new d(function(y){y(m)})}return new(d||(d=Promise))(function(m,y){function v(_){try{C(h.next(_))}catch(O){y(O)}}function w(_){try{C(h.throw(_))}catch(O){y(O)}}function C(_){_.done?m(_.value):p(_.value).then(v,w)}C((h=h.apply(c,u||[])).next())})},t=Cl&&Cl.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.SolProvider=void 0;const n=Ns(),r=As(),i=t(_z()),s=Cd(),o=Wh();let a=class{constructor(){this.accountChangedSolanaPublicKeyHandler=null}send(u){return e(this,void 0,void 0,function*(){var d;try{yield this.restoreConnect(),(0,r.logDebug)("SolProvider send request:",JSON.stringify(u));const m=u.method;let y;if(u.injectParams)switch(m){case"solana_signMessage":if(u.injectParams&&typeof u.injectParams=="object"&&"message"in u.injectParams){var h=(d=u.injectParams)===null||d===void 0?void 0:d.message;const v=new TextEncoder().encode(h),w=yield window.okxwallet.solana.signMessage(v,"utf8");return y={method:u.method,result:i.default.encode(w.signature)},(0,r.logDebug)("SolProvider send result:",JSON.stringify(w)),y}else throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${m}'`);break;case"solana_signTransaction":{let v=yield window.okxwallet.solana.signTransaction(u.injectParams);return(0,r.logDebug)("SolProvider send bufferResult:",JSON.stringify(v)),y={method:u.method,injectResult:v},(0,r.logDebug)("SolProvider send result:",(0,r.safeJsonStringify)(y)),y}break;case"solana_signAllTransactions":{let v=yield window.okxwallet.solana.signAllTransactions(u.injectParams);return(0,r.logDebug)("SolProvider send result:",(0,r.safeJsonStringify)(v)),y={method:u.method,injectResult:v},y}break;case"solana_signAndSendTransaction":{var p=yield window.okxwallet.solana.signAndSendTransaction(u.injectParams);return(0,r.logDebug)("SolProvider send result:",(0,r.safeJsonStringify)(p)),y={method:u.method,injectResult:p},y}break;default:throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${m}'`)}else throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${m}'`)}catch(m){throw(0,r.logDebug)("SolProvider send error:",m),m}})}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,s.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(u,d,h,p,m,y){return e(this,void 0,void 0,function*(){let v=[];p.forEach(O=>{O.namespace===n.NameSpaceKeySOL&&v.push(...O.chains)});let w=[],C={},_={};if(v.forEach(O=>{let R=m.address.find(S=>S.chainId==="501"&&S.coinType===501||S.namespaceChainId===O);R&&(w.push(O+":"+R.address),_&&"publicKey"in _?C[O]=_:C[O]={publicKey:R.publicKey})}),w&&w.length>0){let O={namespace:n.NameSpaceKeySOL,addresses:w,methods:[...o.SOLANAMethods],extra:C};return(0,r.logDebug)("parseConnectResponse nameSpaceResponse :",JSON.stringify(O)),O}})}connect(){return e(this,void 0,void 0,function*(){return window.okxwallet.solana.connect()})}singleConnect(){return this.connect()}addListener(u){console.log("window.okxwallet configEventWithKey:","sol"),this.accountChangedSolanaPublicKeyHandler=d=>{console.log("window.okxwallet configEventWithKey_solana:",Date.now(),"sol",d),d&&u()},window.okxwallet.solana.on("accountChanged",this.accountChangedSolanaPublicKeyHandler)}removeListener(){this.accountChangedSolanaPublicKeyHandler&&window.okxwallet.solana.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler)}};return Cl.SolProvider=a,Cl}var lf={},aM;function wpe(){if(aM)return lf;aM=1;var e=lf&&lf.__awaiter||function(u,d,h,p){function m(y){return y instanceof h?y:new h(function(v){v(y)})}return new(h||(h=Promise))(function(y,v){function w(O){try{_(p.next(O))}catch(R){v(R)}}function C(O){try{_(p.throw(O))}catch(R){v(R)}}function _(O){O.done?y(O.value):m(O.value).then(w,C)}_((p=p.apply(u,d||[])).next())})};Object.defineProperty(lf,"__esModule",{value:!0}),lf.AptosProvider=void 0;const t=Ns(),n=As(),r=Wh(),i=Cd(),s=w5(),o=Object.freeze(["637","70000060","70000066"]),a=new Map;a.set("aptos:637","Mainnet"),a.set("aptos:70000060","Movement Testnet"),a.set("aptos:70000066","Movement Mainnet");let c=class{send(d){return e(this,void 0,void 0,function*(){try{(0,n.logDebug)("AptosProvider send request:",(0,n.safeJsonStringify)(d)),yield this.restoreConnect();let h=yield window.okxwallet.aptos.network(),p=this.searchChainIdToInjectChainName(d.chainId);if((0,n.logDebug)("AptosProvider send network and searchNetwork:",h,"-----",p),!(h&&p&&h.toLowerCase()===p.toLowerCase()))throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Please switch your wallet link to '${p}'`);const m=d.method;let y;switch(m){case"aptos_signMessage":if(d.injectParams){let v=yield window.okxwallet.aptos.signMessage(d.injectParams);return y={method:d.method,result:v.signature,injectResult:v},(0,n.logDebug)("AptosProvider send result:",(0,n.safeJsonStringify)(y)),y}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${m}'`);break;case"aptos_signTransaction":{(0,n.logDebug)("AptosProvider Method>>>> :",m);let v=yield window.okxwallet.aptos.signTransaction(d.params);return y={method:d.method,result:v},(0,n.logDebug)("AptosProvider send result:",(0,n.safeJsonStringify)(y)),y}break;case"aptos_signAndSubmitTransaction":{(0,n.logDebug)("AptosProvider Method>>>> :",m);let v=yield window.okxwallet.aptos.signAndSubmitTransaction(d.params);return y={method:d.method,result:v.hash},(0,n.logDebug)("AptosProvider send result:",(0,n.safeJsonStringify)(y)),y}break;default:throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,` method: '${m}'`)}}catch(h){throw(0,n.logDebug)("AptosProvider send error:",h),h}})}searchChainIdToInjectChainName(d){let h=d;return a.forEach((p,m)=>{d.includes(m)&&(h=p)}),h}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,i.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(d,h,p,m,y,v){return e(this,void 0,void 0,function*(){let w=[];m.forEach(R=>{R.namespace===t.NameSpaceKeyAptos&&w.push(...R.chains)});let C=[],_={};(0,n.logDebug)("AptosProvider parseConnectResponse connectChain",JSON.stringify(w));let O;if(!(0,i.isDevice)("mobile")&&w&&w.length>0&&(O=(yield window.okxwallet.aptos.connect()).publicKey),w.forEach(R=>{let S=y.address.find(E=>o.includes(E.chainId)&&E.coinType===637||E.namespaceChainId===R);S&&(C.push(R+":"+S.address),_[R]={publicKey:S.publicKey?S.publicKey:O})}),(0,n.logDebug)("AptosProvider parseConnectResponse addresses",JSON.stringify(C)),C&&C.length>0)return{namespace:t.NameSpaceKeyAptos,addresses:C,methods:[...r.AptosMethods],extra:_}})}connect(){return e(this,void 0,void 0,function*(){return window.okxwallet.aptos.connect()})}singleConnect(){return this.connect()}addListener(d){window.okxwallet.aptos.onAccountChange(h=>{console.log("window.okxwallet configEventWithKey_aptos:",Date.now(),s.key,JSON.stringify(h)),h&&d()})}removeListener(){}};return lf.AptosProvider=c,lf}var uf={},cM;function bpe(){if(cM)return uf;cM=1;var e=uf&&uf.__awaiter||function(o,a,c,u){function d(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(w){try{v(u.next(w))}catch(C){p(C)}}function y(w){try{v(u.throw(w))}catch(C){p(C)}}function v(w){w.done?h(w.value):d(w.value).then(m,y)}v((u=u.apply(o,a||[])).next())})};Object.defineProperty(uf,"__esModule",{value:!0}),uf.TONProvider=void 0;const t=Ns(),n=As(),r=Cd(),i=Wh();let s=class{constructor(){this.signalChainConnectResult=void 0,this.accountChangedTONHandler=null}send(a){return e(this,void 0,void 0,function*(){try{(0,n.logDebug)("TONProvider send request:",(0,n.safeJsonStringify)(a));let c=null;switch(a.method){case"ton_sendTransaction":a.params&&(c={method:"sendTransaction",params:[JSON.stringify(a.params)],id:Date.now().toString()},(0,n.logDebug)("TONProvider tonParams first:",JSON.stringify(c)));break;default:throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if(c){const u=yield window.okxTonWallet.tonconnect.send(c);if((0,n.logDebug)("TONProvider send request result:",(0,n.safeJsonStringify)(u)),u.error)throw new t.OKXConnectError(u.error.code,u.error.message);return{result:u.result,method:a.method}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(c){throw(0,n.logDebug)("TONProvider encountered an error:",c),c}})}connectReady(){return!0}restoreConnect(){return Promise.resolve()}parseConnectResponse(a,c,u,d,h,p){return e(this,void 0,void 0,function*(){try{let m=[];d.forEach(w=>{w.namespace===t.NameSpaceKeyTON&&m.push(...w.chains)});let y=[],v={};if(m.forEach(w=>{let C=(0,n.getChainId)(w),_=h.address.find(O=>O.chainId==="607"&&O.coinType===607||O.namespaceChainId===w);_&&(y.push(w+":"+_.address),v[w]={publicKey:_.publicKey})}),(0,n.logDebug)("tonprovider parseConnectResponse needPop and addresses: ",a,JSON.stringify(y)),y&&y.length>0){let w=d.find(_=>_.namespace===t.NameSpaceKeyTON);(0,n.logDebug)("tonprovider parseConnectResponse ton: ",JSON.stringify(w));let C;if(w&&w.params&&p&&p.manifestUrl){this.dappInfo=p;let _=[w.params.ton_addr],O={manifestUrl:p.manifestUrl,items:_};(a||c)&&w.params.ton_proof&&_.push(w.params.ton_proof),(0,n.logDebug)("parseConnectResponse ton connect params: ",JSON.stringify(O)),(0,r.isDevice)("mobile")?C=yield window.okxTonWallet.tonconnect.connect(2,O):a||c?C=yield window.okxTonWallet.tonconnect.connect(2,O):C=yield window.okxTonWallet.tonconnect.restoreConnection()}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl is nil");if(u&&this.signalChainConnectResult&&(C=this.signalChainConnectResult,this.signalChainConnectResult=void 0),(0,n.logDebug)("parseConnectResponse ton connect result: ",JSON.stringify(C)),C&&w){if(C.event==="connect_error")throw new t.OKXConnectError(C.payload.code,C.payload.message);{let _=C.payload.items.find(S=>S.name==="ton_addr"),O=C.payload.items.find(S=>S.name==="ton_proof");return(0,n.logDebug)("tonprovider connect isSignalChain: ",u),{namespace:t.NameSpaceKeyTON,addresses:y,methods:[...i.TONMethods],extra:v,data:{ton_addr:_,ton_proof:O,manifestUrl:p.manifestUrl}}}}}return}catch(m){throw(0,n.logDebug)("tonprovider parseConnectResponse error: ",JSON.stringify(m)),m}})}connect(a,c){return e(this,void 0,void 0,function*(){if(a&&c&&c.manifestUrl&&a.params){this.dappInfo=c;let u=[a.params.ton_addr],d={manifestUrl:c.manifestUrl,items:u};a.params.ton_proof&&u.push(a.params.ton_proof),(0,n.logDebug)("tonprovider connect params: ",JSON.stringify(d));try{let h=yield window.okxTonWallet.tonconnect.connect(2,d);return(0,n.logDebug)("tonprovider connect tonResult: ",JSON.stringify(h)),this.signalChainConnectResult=h,h}catch(h){throw(0,n.logDebug)("tonprovider connect error: ",JSON.stringify(h)),new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"tonconnect error")}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl or params is nil")})}singleConnect(a,c){return this.connect(a,c)}addListener(a){console.log("window.okxwallet configEventWithKey:","ton"),this.accountChangedTONHandler=()=>{console.log("window.okxwallet configEventWithKey_TON:",Date.now(),"ton"),a()},window.okxTonWallet.tonconnect.on("accountChanged",this.accountChangedTONHandler)}removeListener(){this.accountChangedTONHandler&&window.okxTonWallet.tonconnect.off("accountChanged",this.accountChangedTONHandler)}};return uf.TONProvider=s,uf}var df={},lM;function Epe(){if(lM)return df;lM=1;var e=df&&df.__awaiter||function(o,a,c,u){function d(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(w){try{v(u.next(w))}catch(C){p(C)}}function y(w){try{v(u.throw(w))}catch(C){p(C)}}function v(w){w.done?h(w.value):d(w.value).then(m,y)}v((u=u.apply(o,a||[])).next())})};Object.defineProperty(df,"__esModule",{value:!0}),df.SuiProvider=void 0;const t=Ns(),n=As(),r=Cd(),i=Wh();class s{constructor(){this.accountChangedHandler=null}connectReady(){return!0}getSuiPublicKey(){return e(this,void 0,void 0,function*(){return(yield this.connect()).accounts[0].publicKey})}parseConnectResponse(a,c,u,d,h,p){return e(this,void 0,void 0,function*(){try{let m=[];d.forEach(C=>{C.namespace===t.NameSpaceKeySui&&m.push(...C.chains)});let y=[],v={};if(m.length==0)return;const w=yield this.getSuiPublicKey();return m.forEach(C=>{var _;let O=(0,n.getChainId)(C),R=h.address.find(S=>S.coinType===784||S.namespaceChainId===C);R&&(y.push(C+":"+R.address),v[C]={publicKey:(_=R.publicKey)!==null&&_!==void 0?_:w})}),y&&y.length>0?{namespace:t.NameSpaceKeySui,addresses:y,methods:[...i.SuiMethods],extra:v}:void 0}catch(m){throw m}})}restoreConnect(){return(0,r.isDevice)("mobile")?this.connect():Promise.resolve()}getSuiWallet(){return window.okxwallet.sui}send(a){return e(this,void 0,void 0,function*(){try{yield this.restoreConnect(),(0,n.logDebug)("suiProvider send request:",JSON.stringify(a));const c=a.method;let u;if(a.injectParams&&this.getSuiWallet()){let d=a.injectParams;switch(c){case"sui_signTransactionBlock":u={method:"sui_signTransactionBlock",result:(yield this.getSuiWallet().features["sui:signTransactionBlock"].signTransactionBlock(d)).signature};break;case"sui_signAndExecuteTransactionBlock":u={method:"sui_signAndExecuteTransactionBlock",result:(yield this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(d)).digest};break;case"sui_signMessage":u={method:"sui_signMessage",result:(yield this.getSuiWallet().features["sui:signMessage"].signMessage(d)).signature};break;case"sui_signPersonalMessage":u={method:"sui_signPersonalMessage",result:(yield this.getSuiWallet().features["sui:signPersonalMessage"].signPersonalMessage(d)).signature};break}}return u}catch(c){throw(0,n.logDebug)("suiProvider send error:",c),c}})}connect(){return e(this,void 0,void 0,function*(){var a;return(a=this.getSuiWallet())===null||a===void 0?void 0:a.features["standard:connect"].connect()})}singleConnect(){return this.connect()}addListener(a){console.log("window.okxwallet configEventWithKey:","sui"),this.accountChangedHandler=c=>{console.log("window.okxwallet configEventWithKey_sui:",Date.now(),"sui",c),c&&a()},window.okxwallet.sui.on("accountChanged",this.accountChangedHandler)}removeListener(){this.accountChangedHandler&&window.okxwallet.sui.removeListener("accountChanged",this.accountChangedHandler)}}return df.SuiProvider=s,df}var ff={},uM;function _pe(){if(uM)return ff;uM=1;var e=ff&&ff.__awaiter||function(o,a,c,u){function d(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(w){try{v(u.next(w))}catch(C){p(C)}}function y(w){try{v(u.throw(w))}catch(C){p(C)}}function v(w){w.done?h(w.value):d(w.value).then(m,y)}v((u=u.apply(o,a||[])).next())})};Object.defineProperty(ff,"__esModule",{value:!0}),ff.BtcProvider=void 0;const t=Ns(),n=As(),r=Wh(),i=Cd();class s{constructor(){this.accountChangedBtcHandler=null}connect(){return window.okxwallet.unisat.connect()}switchChain(a){return e(this,void 0,void 0,function*(){let c=window.okxwallet.unisat;switch(a){case t.BTC_CHAINS.MAINNET:yield c.switchChain("BITCOIN_MAINNET");break;case t.BTC_CHAINS.FRACTAL:yield c.switchChain("FRACTAL_BITCOIN_MAINNET");break}})}connectReady(){return!0}parseConnectResponse(a,c,u,d,h){return e(this,void 0,void 0,function*(){try{let p=[];d.forEach(_=>{_.namespace===t.NameSpaceKeyBtc&&p.push(..._.chains)});let m=[],y={};if(p.length==0)return;const v=(_,O)=>_.find(R=>{const S=R.name==="bitcoin"&&O===t.BTC_CHAINS.MAINNET||R.name==="fractalbitcoin"&&O===t.BTC_CHAINS.FRACTAL;return R.coinType===0&&S||R.namespaceChainId===O}),w=_=>e(this,void 0,void 0,function*(){let O=v(h.address,_);if(!O)return;m.push(_+":"+O.address);let R=yield this.connect();y[_]={publicKey:R.publicKey,compressedPublicKey:R.compressedPublicKey}}),C=p.map(w);return yield Promise.all(C),m&&m.length>0?{namespace:t.NameSpaceKeyBtc,addresses:m,methods:[...r.BtcMethods],extra:y}:void 0}catch(p){throw p}})}restoreConnect(){return e(this,void 0,void 0,function*(){return(0,i.isDevice)("mobile")?this.connect():Promise.resolve()})}send(a){return e(this,void 0,void 0,function*(){try{(0,n.logDebug)("btcProvider send request:",JSON.stringify(a));const c=a.method,u=a.chainId;yield this.restoreConnect(),yield this.switchChain(u);let d;if(a.params)switch(c){case"btc_signMessage":{const{signStr:h,type:p}=a.params||{},m=yield window.okxwallet.unisat.signMessage(h,p);return{method:a.method,result:m}}case"btc_send":{const{from:h,to:p,value:m,satBytes:y}=a.params||{},v=yield window.okxwallet.unisat.send({from:h,to:p,value:m,satBytes:y});return{method:a.method,result:v}}case"btc_signPsbts":{const{psbtHexs:h,options:p}=a.params||{};let m;if(Array.isArray(h)&&h.length===1){let y;Array.isArray(p)?y=yield window.okxwallet.unisat.signPsbt(h[0],p.length>0&&typeof p[0]=="object"?p[0]:void 0):y=yield window.okxwallet.unisat.signPsbt(h[0]),m=[y]}else m=yield window.okxwallet.unisat.signPsbts(h,p);return{method:a.method,result:(0,n.safeJsonStringify)(m)}}case"btc_signAndPushPsbt":{const{psbtHex:h,options:p}=a.params||{},m=yield window.okxwallet.unisat.signPsbt(h,p),y=yield window.okxwallet.unisat.pushPsbt(m);return{method:a.method,result:(0,n.safeJsonStringify)({signedPsbt:m,txHash:y})}}case"btc_sendInscription":{const{address:h,inscriptionId:p,options:m}=a.injectParams||{},y=yield window.okxwallet.unisat.sendInscription(h,p,m);return{method:a.method,result:y}}case"btc_inscribeTransfer":if(this.hasFunction("inscribeTransfer")){const{ticker:h,amount:p}=a.params||{},m=yield window.okxwallet.unisat.inscribeTransfer(h,p);return{method:a.method,result:m}}case"btc_sendRunes":if(this.hasFunction("sendRunes")){const{address:h,runeid:p,amount:m,options:y}=a.injectParams||{},v=yield window.okxwallet.unisat.sendRunes(h,p,m,y);return{method:a.method,result:v}}default:throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${c}' not support`)}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,`param is error method: '${c}'`)}catch(c){throw(0,n.logDebug)("BtcProvider send error:",c),c}})}hasFunction(a){return!!(window.okxwallet&&window.okxwallet.unisat&&typeof window.okxwallet.unisat[a]=="function")}singleConnect(a){return e(this,void 0,void 0,function*(){return a.chains.length==1?this.connect():!1})}addListener(a){this.accountChangedBtcHandler=c=>{console.log("window.okxwallet btc:",Date.now(),"btc",c),c&&c.length>0&&a()},window.okxwallet.unisat.on("accountsChanged",this.accountChangedBtcHandler)}removeListener(){window.okxwallet.unisat.removeListener("accountsChanged",this.accountChangedBtcHandler)}}return ff.BtcProvider=s,ff}var dM;function x5(){if(dM)return cf;dM=1;var e=cf&&cf.__awaiter||function(v,w,C,_){function O(R){return R instanceof C?R:new C(function(S){S(R)})}return new(C||(C=Promise))(function(R,S){function E(A){try{N(_.next(A))}catch(D){S(D)}}function x(A){try{N(_.throw(A))}catch(D){S(D)}}function N(A){A.done?R(A.value):O(A.value).then(E,x)}N((_=_.apply(v,w||[])).next())})};Object.defineProperty(cf,"__esModule",{value:!0}),cf.InjectConnector=void 0;const t=Ns(),n=As(),r=H1(),i=vpe(),s=t2(),o=wpe(),a=Cd(),c=bpe(),u=Ez(),d=Epe(),h=mc(),p=bz(),m=_pe();class y{constructor(){this.disconnectListener=[],this.providerMap=new Map,this.disconnectHandler=null,this.walletName="",this.walletNameKey="",this.enable=!0,this.providerMap.set(t.NameSpaceKeyEip155,new u.Eip155Provider),this.providerMap.set(t.NameSpaceKeySOL,new i.SolProvider),this.providerMap.set(t.NameSpaceKeyAptos,new o.AptosProvider),this.providerMap.set(t.NameSpaceKeyTON,new c.TONProvider),this.providerMap.set(t.NameSpaceKeySui,new d.SuiProvider),this.providerMap.set(t.NameSpaceKeyBtc,new m.BtcProvider)}setAccountChangeListener(w){(0,n.logDebug)("setAccountChangeListener: inject",w),this.accountChangeListener=w}setConnectionManager(w){this.connectionManager=w}getInjectProvider(w){if(w){for(const[C,_]of this.providerMap.entries())if(w.includes(C))return _}}openWallet(w,C){return e(this,void 0,void 0,function*(){var _,O,R;if((0,n.logDebug)("InjectEngine connect begin:",JSON.stringify(w)),!w)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=w.connectRequest.dAppInfo;var S=w.connectRequest;try{if(window&&window.okxwallet){if(S.requests){let N=S.requests.find(I=>I.name==="requestAccounts"),A=yield window.okxwallet.getVersion(),D={method:"connect",requestId:S.requestId,payload:{wallet:{platform:(_=navigator.platform)!==null&&_!==void 0?_:"/",appName:s.OKXInjectWalletName,appVersion:A??"1.0.0",maxProtocolVersion:1},responses:[]}},k={name:"requestAccounts",accounts:[]};D.payload.responses.push(k),yield this.disconnect();const U=(O=N.requiredNamespaces)!==null&&O!==void 0?O:[],H=(R=N.optionalNamespaces)!==null&&R!==void 0?R:[];let F=!0,P=!1;if(U.length+H.length===1&&!(0,a.isDevice)("mobile")){const I=U.length===1?U[0]:H[0],$=this.getInjectProvider(I.namespace);(yield $?.singleConnect(I,this.dappInfo))&&(P=!0,F=!1)}var E=yield this.getAccountByRequestWallets(F,!1,P,U,H);if(E){if(k.accounts.push(...E),k.accounts.length===0)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect connectAccounts is null")}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");this.connectResultListener&&(this.disconnectHandler&&window.okxwallet.removeListener("disconnect",this.disconnectHandler),this.disconnectHandler=()=>{console.log("window.okxwallet disconnect:"),this.disconnectListener.forEach(I=>I()),this.disconnectListener=[]},window.okxwallet.on("disconnect",this.disconnectHandler),this.connectResultListener(D))}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR)}catch(N){var x=t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;N instanceof t.OKXConnectError&&(x=N.code,N.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:x}})}})}disconnect(){return e(this,void 0,void 0,function*(){(0,n.logDebug)("InjectEngine ==>> disconnect  okxwallet.disconnect()"),window.okxwallet&&(yield window.okxwallet.disconnect(),(0,n.logDebug)("InjectEngine ==>> disconnect end okxwallet.disconnect()"))})}getRequestId(){const w=Date.now().toString();return(0,n.logDebug)("InjectEngine ==>> getRequestId ==>",w),w}send(w,C){return e(this,void 0,void 0,function*(){var _;try{(0,n.logDebug)("InjectEngine send  > request:",(0,n.safeJsonStringify)(w));let O=w;if(O.method==="disconnect"){yield this.disconnect(),this.disconnectListener.forEach(S=>S()),this.disconnectListener=[],(_=C.onAck)===null||_===void 0||_.call(C);return}yield this.checkWalletMatch();const R=this.getInjectProvider((0,n.getNamespaceKeyByChain)(O.chainId));if(R){R.send(O).then(S=>{var E;(0,n.logDebug)("InjectEngine ==>> send > result:",S),(E=C.resolve)===null||E===void 0||E.call(C,S)}).catch(S=>{var E;let x=S.code;x===4001&&(x=t.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);let N={requestId:this.getRequestId(),method:w.method,error:{code:x,message:S.message}};(0,n.logDebug)("InjectEngine ==>> send > errorResponse:",JSON.stringify(N)),(E=C.resolve)===null||E===void 0||E.call(C,N)});return}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}catch(O){return(0,n.logDebug)("InjectEngine ==>> send  ===> error:",O),Promise.reject(O)}})}checkWalletMatch(){return e(this,void 0,void 0,function*(){return new Promise((w,C)=>{var _;let O=(_=this.connectionManager)===null||_===void 0?void 0:_.getSessionContent("connectSession");O||C(new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)),this.restoreconnect(O,R=>{R?w():C(new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED))})})})}checkAccountChanged(){return e(this,void 0,void 0,function*(){var w;try{let C=(w=this.connectionManager)===null||w===void 0?void 0:w.getSessionContent("connectSession");if(!C)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);(0,n.logDebug)("inject-connector checkAccountChanged --sessionInfo:",JSON.stringify(C));let _=this.getRequireNameSpaceFromSession(C);(0,n.logDebug)("inject-connector checkAccountChanged --requiredNamespaces:",JSON.stringify(_));let O=yield this.getAccountByRequestWallets(!1,!0,!1,_,[]);if((0,n.logDebug)("inject-connector checkAccountChanged --accounts:",JSON.stringify(O)),O){let R={};(0,p.buildAccountNameSpaces)(O,R),this.compareAndModifyNamespaces(C.namespaces,R)||((0,n.logDebug)("inject-connector checkAccountChanged --result sessionLocal:",JSON.stringify(C)),this.accountChangeListener?((0,n.logDebug)("inject-connector checkAccountChanged -accountChangeListener:",this.accountChangeListener),this.accountChangeListener(C)):((0,n.logDebug)("inject-connector checkAccountChanged disconnect:"),yield this.disconnect()))}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null")}catch(C){throw(0,n.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(C)),C}})}compareAndModifyNamespaces(w,C){let _=!0;for(const O in w)if(C[O]){const R=w[O],S=C[O];(0,n.logDebug)("inject-connector checkAccountChanged ns1:",JSON.stringify(R)),(0,n.logDebug)("inject-connector checkAccountChanged ns2:",JSON.stringify(S)),JSON.stringify([...R.accounts].sort())===JSON.stringify([...S.accounts].sort())||(_=!1,R.accounts=[...S.accounts],R.extra=Object.assign({},S.extra),R.payload=Object.assign({},S.payload)),(0,n.logDebug)("inject-connector checkAccountChanged new ns1:",JSON.stringify(R))}return(0,n.logDebug)(`inject-connector checkAccountChanged compareAndModifyNamespaces ===> ${_}`),_}clearData(){this.connectResultListener=void 0}addDisconnectListener(w){this.disconnectListener.push(w)}setOnConnectResultListener(w){this.connectResultListener=w}connectManagerDisconnect(){return e(this,arguments,void 0,function*(w=!1){})}getCurrentConnectionReady(w){return w?w.every(_=>{var O;return(O=this.getInjectProvider(_))===null||O===void 0?void 0:O.connectReady()}):!1}getTag(){return r.OKX_INJECT_WALLET}toJSON(){return"inject-connector"}getRequireNameSpaceFromSession(w){var C,_,O=[];for(let R in w.namespaces){let S=w.namespaces[R],E={namespace:R,chains:S.chains};if(R===t.NameSpaceKeyAptos){let x=[];S.chains.forEach(N=>{let A=(0,h.replaceChainNameToChainId)(N);x.push(A)}),E={namespace:R,chains:x}}else if(R===t.NameSpaceKeyTON){let x,N;!((C=S.payload)===null||C===void 0)&&C.ton_proof&&(x=(_=S.payload)===null||_===void 0?void 0:_.ton_proof,x.proof.payload&&(N={name:"ton_proof",payload:x.proof.payload})),E={namespace:R,chains:S.chains,params:{ton_addr:{name:"ton_addr"},ton_proof:N}}}O.push(E)}return O}restoreconnect(w,C){var _;if(!window.okxwallet){C(null);return}this.dappInfo=(_=w.sessionConfig)===null||_===void 0?void 0:_.dappInfo,(0,n.logDebug)("inject-connector restoreconnect --sessionInfo:",JSON.stringify(w));var O=this.getRequireNameSpaceFromSession(w);(0,n.logDebug)("inject-connector restoreconnect --requiredNamespaces:",JSON.stringify(O)),this.getAccountByRequestWallets(!1,!1,!1,O,[]).then(R=>{(0,n.logDebug)("inject-connector restoreconnect --accounts:",JSON.stringify(R));let S=!0;for(let N in w.namespaces){var E=R.find(k=>k.namespace===N),x=w.namespaces[N].accounts;if(!E)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: accountItem error");let A=x;N===t.NameSpaceKeyAptos&&A&&A.length>0&&(A=x.map(k=>(0,h.replaceChainNameToChainId)(k))),E.addresses.length===A.length&&E.addresses.slice().sort().every((k,U)=>{if(N===t.NameSpaceKeyAptos){let H=A.slice().sort()[U];return(0,n.logDebug)("check aptos address -value and aptosAdd--",k,H),H===k}else return k===A.slice().sort()[U]})||(S=!1)}if(S)C(w);else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: address not as same as session")}).catch(R=>{(0,n.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(R)),C(null)})}getAccountByRequestWallets(w,C,_,O,R){return e(this,void 0,void 0,function*(){try{var S=[],E=[];if((0,a.isDevice)("mobile")){var x=yield window.okxwallet.connectWallet(w,{requiredNamespaces:O,optionalNamespaces:R});S.push(x)}else S=yield window.okxwallet.requestWallets(w);var N=[...O??[],...R??[]];let A=S[0];(0,n.logDebug)(" InjectEngine connect connectAccounts:",JSON.stringify(A));let D;if(N&&A&&A.address)for(const[U,H]of this.providerMap.entries()){let F=yield H.parseConnectResponse(w,C,_,N,A,this.dappInfo);F&&(D=U,E.push(F))}let k=O.every(U=>{let H=E.find(F=>F.namespace===U.namespace);return H?U.chains.every(P=>!!H.addresses.find($=>$.startsWith(P+":"))):!1});if((0,n.logDebug)("InjectEngine connect requiredNamespaces:",JSON.stringify(O)),(0,n.logDebug)("InjectEngine connect accountResult:",JSON.stringify(E)),!k)throw yield this.disconnect(),new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);return(0,a.isDevice)("mobile")||(this.configEventWithKey(D),yield window.okxwallet.requestWallets(w)),E}catch(A){throw A&&typeof A=="object"&&"code"in A&&A.code===4001?new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR):new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}})}configEventWithKey(w){var C,_;for(let O in this.providerMap)(C=this.providerMap.get(O))===null||C===void 0||C.removeListener();(_=this.getInjectProvider(w))===null||_===void 0||_.addListener(()=>{this.checkAccountChanged().catch(O=>{console.log("window.okxwallet configEventWithKey error: ",O)})})}}return cf.InjectConnector=y,cf}var Ym={},fM;function Cpe(){if(fM)return Ym;fM=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.TgwalletConnector=void 0;const e=C5(),t=H1(),n=As();class r extends e.WsConnector{constructor(){super(),this.walletName="OKX Mini Wallet",this.walletNameKey=""}getTag(){return t.OKX_TG_WALLET}openWallet(s,o){var a,c;s&&s.connectRequest&&(c=(0,n.encodeTWAConnectURLParams)(Object.assign(Object.assign({},s.connectRequest),{redirect:"none"})));var u=(0,n.getTelegramWalletTWAUrl)(c,(a=s?.tmaReturnUrl)!==null&&a!==void 0?a:"back");(0,n.openOKXTMAWalletlinkWithFallback)(u)}}return Ym.TgwalletConnector=r,Ym}var Zm={},hM;function xpe(){if(hM)return Zm;hM=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.OkxwalletInjectConnector=void 0;const e=x5();class t extends e.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}}return Zm.OkxwalletInjectConnector=t,Zm}var hf={},pM;function Spe(){if(pM)return hf;pM=1;var e=hf&&hf.__awaiter||function(o,a,c,u){function d(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(w){try{v(u.next(w))}catch(C){p(C)}}function y(w){try{v(u.throw(w))}catch(C){p(C)}}function v(w){w.done?h(w.value):d(w.value).then(m,y)}v((u=u.apply(o,a||[])).next())})};Object.defineProperty(hf,"__esModule",{value:!0}),hf.OkxwalletInjectTonsdkConnector=void 0;const t=x5(),n=Ns(),r=As(),i=Cd();class s extends t.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}checkWalletMatch(){return e(this,void 0,void 0,function*(){var a,c,u;(a=this.connectionManager)===null||a===void 0||a.tonsdkConnectStorage.synchronizedCache();let d=(c=this.connectionManager)===null||c===void 0?void 0:c.tonsdkConnectStorage.getItem("ton_connect_info_adapter_universal");if(!d||!d?.content)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const h=d?.content;let p=JSON.parse(h),m=p.connectEvent.payload.items.find(v=>"name"in v?v.name==="ton_addr":!1);this.dappInfo=p.dappInfo;let y;if(m&&"address"in m&&(y=m.address),!y)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if((0,r.logDebug)(`inject-connector localTonaddress : ${y}`),(0,i.isDevice)("mobile")){let v;v={namespace:n.NameSpaceKeyTON,chains:[n.TON_CHAINS.MAINNET],params:{ton_addr:{name:"ton_addr"}}};let w=yield this.getAccountByRequestWallets(!1,!1,!1,[v],[]);if(w&&w.length==1){let _=(u=w[0].data)===null||u===void 0?void 0:u.ton_addr,O=_?.address;if(y===O)return}}else{let v=yield window.okxTonWallet.tonconnect.restoreConnection();if(v.event==="connect"&&v.payload.items.find(C=>C.name==="ton_addr").address==y)return}throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)})}}return hf.OkxwalletInjectTonsdkConnector=s,hf}var gM;function Ope(){return gM||(gM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OkxwalletInjectTonsdkConnector=e.OkxwalletInjectConnector=e.WsConnector=e.TgwalletConnector=e.InjectConnector=e.getTagByappName=e.OKX_INJECT_WALLET=e.OKX_APP_WALLET=e.OKX_TG_WALLET=e.AppwalletConnector=void 0;var t=mpe();Object.defineProperty(e,"AppwalletConnector",{enumerable:!0,get:function(){return t.AppwalletConnector}});var n=H1();Object.defineProperty(e,"OKX_TG_WALLET",{enumerable:!0,get:function(){return n.OKX_TG_WALLET}}),Object.defineProperty(e,"OKX_APP_WALLET",{enumerable:!0,get:function(){return n.OKX_APP_WALLET}}),Object.defineProperty(e,"OKX_INJECT_WALLET",{enumerable:!0,get:function(){return n.OKX_INJECT_WALLET}}),Object.defineProperty(e,"getTagByappName",{enumerable:!0,get:function(){return n.getTagByappName}});var r=x5();Object.defineProperty(e,"InjectConnector",{enumerable:!0,get:function(){return r.InjectConnector}});var i=Cpe();Object.defineProperty(e,"TgwalletConnector",{enumerable:!0,get:function(){return i.TgwalletConnector}});var s=C5();Object.defineProperty(e,"WsConnector",{enumerable:!0,get:function(){return s.WsConnector}});var o=xpe();Object.defineProperty(e,"OkxwalletInjectConnector",{enumerable:!0,get:function(){return o.OkxwalletInjectConnector}});var a=Spe();Object.defineProperty(e,"OkxwalletInjectTonsdkConnector",{enumerable:!0,get:function(){return a.OkxwalletInjectTonsdkConnector}})}(qO)),qO}var mM;function fr(){return mM||(mM=1,function(e){var t=Vd&&Vd.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Vd&&Vd.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(hpe(),e),n(Ns(),e),n(As(),e),n(Ez(),e),n(Ope(),e)}(Vd)),Vd}var xe=fr(),pf={},gf={},xl={},mf={},kb={},yM;function Ape(){if(yM)return kb;yM=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.isPendingConnectionHttp=e;function e(t){return!("connectEvent"in t)}return kb}var yf={},vM;function Cz(){if(vM)return yf;vM=1;var e=yf&&yf.__awaiter||function(r,i,s,o){function a(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function d(m){try{p(o.next(m))}catch(y){u(y)}}function h(m){try{p(o.throw(m))}catch(y){u(y)}}function p(m){m.done?c(m.value):a(m.value).then(d,h)}p((o=o.apply(r,i||[])).next())})};Object.defineProperty(yf,"__esModule",{value:!0}),yf.BridgeConnectionStorage=void 0;const t=fr();class n{constructor(i){this.storage=i,this.storeKey="ton_connect_info_adapter_universal"}storeConnection(i){return e(this,void 0,void 0,function*(){return(0,t.logDebug)("BridgeConnectionStorage ==>> storeConnection ==>> connection:",i),this.storage.saveContent(JSON.stringify(i),this.storeKey)})}removeConnection(){return e(this,void 0,void 0,function*(){return(0,t.logDebug)("BridgeConnectionStorage ==>> removeConnection"),this.storage.clearCache(this.storeKey)})}getConnection(){return e(this,void 0,void 0,function*(){const i=this.storage.getItem(this.storeKey);if((0,t.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>this.storage: ",this.storage),!i||!i?.content)return null;try{const s=i?.content;if(s){let o;return o=JSON.parse(s),(0,t.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>connection: ",o),o}else return null}catch{return null}})}getHttpConnection(){return e(this,void 0,void 0,function*(){const i=yield this.getConnection();if(!i)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Trying to read HTTP connection source while nothing is stored");return i})}storeLastWalletEventId(i){return e(this,void 0,void 0,function*(){const s=yield this.getConnection();if(s&&"connectEvent"in s)return s.lastWalletEventId=i,this.storeConnection(s)})}getLastWalletEventId(){return e(this,void 0,void 0,function*(){const i=yield this.getConnection();if(i&&"lastWalletEventId"in i)return i.lastWalletEventId})}}return yf.BridgeConnectionStorage=n,yf}var Sl={},wM;function xz(){return wM||(wM=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.OKXTON_STORAGE_PREFIX=Sl.OKXCONNECTOR_TON_KEY=Sl.OKXtonConnectSdkVersion=void 0,Sl.OKXtonConnectSdkVersion="1",Sl.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",Sl.OKXTON_STORAGE_PREFIX="_okxton"),Sl}var vf={},Zi={},bM;function Sz(){if(bM)return Zi;bM=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.createRequestVersionEvent=e,Zi.createResponseVersionEvent=t,Zi.createVersionInfo=n,Zi.createConnectionStartedEvent=i,Zi.createConnectionDeepLinkEvent=s,Zi.createConnectionInfoBeforeJumpEvent=o,Zi.createConnectionCompletedEvent=a,Zi.createConnectionErrorEvent=c,Zi.createConnectionRestoringStartedEvent=u,Zi.createConnectionRestoringCompletedEvent=d,Zi.createConnectionRestoringErrorEvent=h,Zi.createTransactionSentForSignatureEvent=m,Zi.createTransactionSignedEvent=y,Zi.createTransactionSigningFailedEvent=v,Zi.createDisconnectionEvent=w;function e(){return{type:"request-version"}}function t(C){return{type:"response-version",version:C}}function n(C){return{okx_ton_connect_sdk_lib:C.okx_ton_connect_sdk_lib,okx_connect_ui_lib:C.okx_connect_ui_lib}}function r(C,_){var O,R,S,E,x,N,A,D;const U=((O=_?.connectItems)===null||O===void 0?void 0:O.tonProof)&&"proof"in _.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(S=(R=_?.account)===null||R===void 0?void 0:R.address)!==null&&S!==void 0?S:null,wallet_type:(E=_?.device.appName)!==null&&E!==void 0?E:null,wallet_version:(x=_?.device.appVersion)!==null&&x!==void 0?x:null,auth_type:U,custom_data:Object.assign({chain_id:(A=(N=_?.account)===null||N===void 0?void 0:N.chain)!==null&&A!==void 0?A:null,provider:(D=_?.provider)!==null&&D!==void 0?D:null},n(C))}}function i(C){return{type:"connection-started",custom_data:n(C)}}function s(C){return{type:"connection-get-deeplink",deeplinkUrl:C}}function o(C){return{type:"connection-info-before-jump",connectInfo:C}}function a(C,_){return Object.assign({type:"connection-completed",is_success:!0},r(C,_))}function c(C,_,O){return{type:"connection-error",is_success:!1,error_message:_,error_code:O??null,custom_data:n(C)}}function u(C){return{type:"connection-restoring-started",custom_data:n(C)}}function d(C,_){return Object.assign({type:"connection-restoring-completed",is_success:!0},r(C,_))}function h(C,_){return{type:"connection-restoring-error",is_success:!1,error_message:_,custom_data:n(C)}}function p(C,_){var O,R,S,E;return{valid_until:(O=String(_.validUntil))!==null&&O!==void 0?O:null,from:(E=(R=_.from)!==null&&R!==void 0?R:(S=C?.account)===null||S===void 0?void 0:S.address)!==null&&E!==void 0?E:null,messages:_.messages.map(x=>{var N,A;return{address:(N=x.address)!==null&&N!==void 0?N:null,amount:(A=x.amount)!==null&&A!==void 0?A:null}})}}function m(C,_,O){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},r(C,_)),p(_,O))}function y(C,_,O,R){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:R.boc},r(C,_)),p(_,O))}function v(C,_,O,R,S){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:R,error_code:S??null},r(C,_)),p(_,O))}function w(C,_,O){return Object.assign({type:"disconnection",scope:O},r(C,_))}return Zi}var wf={},EM;function Oz(){if(EM)return wf;EM=1;var e=wf&&wf.__awaiter||function(n,r,i,s){function o(a){return a instanceof i?a:new i(function(c){c(a)})}return new(i||(i=Promise))(function(a,c){function u(p){try{h(s.next(p))}catch(m){c(m)}}function d(p){try{h(s.throw(p))}catch(m){c(m)}}function h(p){p.done?a(p.value):o(p.value).then(u,d)}h((s=s.apply(n,r||[])).next())})};Object.defineProperty(wf,"__esModule",{value:!0}),wf.BrowserEventDispatcher=void 0;class t{constructor(){this.window=window}dispatchEvent(r,i){return e(this,void 0,void 0,function*(){var s;const o=new CustomEvent(r,{detail:i});(s=this.window)===null||s===void 0||s.dispatchEvent(o)})}addEventListener(r,i,s){return e(this,void 0,void 0,function*(){var o;return(o=this.window)===null||o===void 0||o.addEventListener(r,i,s),()=>{var a;return(a=this.window)===null||a===void 0?void 0:a.removeEventListener(r,i)}})}}return wf.BrowserEventDispatcher=t,wf}var _M;function Az(){if(_M)return vf;_M=1;var e=vf&&vf.__awaiter||function(i,s,o,a){function c(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function h(y){try{m(a.next(y))}catch(v){d(v)}}function p(y){try{m(a.throw(y))}catch(v){d(v)}}function m(y){y.done?u(y.value):c(y.value).then(h,p)}m((a=a.apply(i,s||[])).next())})};Object.defineProperty(vf,"__esModule",{value:!0}),vf.TonConnectTracker=void 0;const t=Sz(),n=Oz();class r{get version(){return(0,t.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}constructor(s){this.eventPrefix="okx-ton-connect-",this.OKXConnectUiVersion=null,this.eventDispatcher=new n.BrowserEventDispatcher,this.OKXtonConnectSdkVersion=s.OKXtonConnectSdkVersion,this.init().catch()}init(){return e(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.OKXConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return e(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("okx-ton-connect-request-version",()=>e(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("okx-ton-connect-response-version",(0,t.createResponseVersionEvent)(this.OKXtonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return e(this,void 0,void 0,function*(){return new Promise((s,o)=>e(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("okx-connect-ui-response-version",a=>{s(a.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-connect-ui-request-version",(0,t.createRequestVersionEvent)())}catch(a){o(a)}}))})}dispatchUserActionEvent(s){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${s.type}`,s).catch()}catch{}}trackConnectionStarted(...s){try{const o=(0,t.createConnectionStartedEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackConnectionDeepLink(...s){try{const o=(0,t.createConnectionDeepLinkEvent)(...s);this.dispatchUserActionEvent(o)}catch{}}trackConnectionCompleted(...s){try{const o=(0,t.createConnectionCompletedEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackConnectionInfoBeforeJump(s){try{const o=(0,t.createConnectionInfoBeforeJumpEvent)(s);this.dispatchUserActionEvent(o)}catch{}}trackConnectionError(...s){try{const o=(0,t.createConnectionErrorEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackConnectionRestoringStarted(...s){try{const o=(0,t.createConnectionRestoringStartedEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackConnectionRestoringCompleted(...s){try{const o=(0,t.createConnectionRestoringCompletedEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackConnectionRestoringError(...s){try{const o=(0,t.createConnectionRestoringErrorEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackDisconnection(...s){try{const o=(0,t.createDisconnectionEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackTransactionSentForSignature(...s){try{const o=(0,t.createTransactionSentForSignatureEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackTransactionSigned(...s){try{const o=(0,t.createTransactionSignedEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}trackTransactionSigningFailed(...s){try{const o=(0,t.createTransactionSigningFailedEvent)(this.version,...s);this.dispatchUserActionEvent(o)}catch{}}}return vf.TonConnectTracker=r,vf}var CM;function Tpe(){if(CM)return mf;CM=1;var e=mf&&mf.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(mf,"__esModule",{value:!0}),mf.BridgeProvider=void 0;const t=Ape(),n=fr(),r=Cz(),i=xz(),s=Az();class o{constructor(c,u=void 0,d){this.storage=c,this.type="http",this.listeners=[],this.walletConnectionSource={universalLink:n.standardUniversalLink},this.openUniversalLink=!1,this.engine=new n.Engine(u+i.OKXTON_STORAGE_PREFIX),this.engine.registerConnector(d),this.connectionStorage=new r.BridgeConnectionStorage(c),this.tracker=new s.TonConnectTracker({OKXtonConnectSdkVersion:i.OKXtonConnectSdkVersion}),(0,n.getDefaultReporter)().configVersionAndSide("tonsdk-1.5.2","dapp",u)}static fromStorage(c){return e(this,arguments,void 0,function*(u,d=void 0,h){(0,n.logDebug)("bridge-provider ==>> fromStorage ==>>storage:",u),(0,n.reportLog)("bridge-provider ==>> fromStorage");const m=yield new r.BridgeConnectionStorage(u).getHttpConnection();if((0,t.isPendingConnectionHttp)(m))return null;const y=new o(u,d,h);return y.openUniversalLink=m.openUniversalLink,y})}isCryptoEnable(){return this.engine.connectionManager.getCryptoKeyEnable()}connect(c,u,d,h){return e(this,void 0,void 0,function*(){return(0,n.logDebug)("bridge-provider ==>> connect_1 ==>>message:",c),(0,n.logDebug)("bridge-provider ==>> connect_1 ==>>redirect:",u),(0,n.logDebug)("bridge-provider ==>> connect_1 ==>>openUniversalLink:",d),(0,n.logDebug)("bridge-provider ==>> connect_1 ==>>tmaReturnUrl:",h),(0,n.reportLog)("bridge-provider ==>> connect"),new Promise((p,m)=>{try{this.openUniversalLink=d,this.openUniversalLink===void 0&&(this.openUniversalLink=(0,n.isMobileUserAgent)());let v={name:"requestAccounts",requiredNamespaces:[{namespace:"ton",chains:["ton:-239"],params:c.params}]},w=[];c.params.ton_addr&&w.push(c.params.ton_addr),c.params.ton_proof&&w.push(c.params.ton_proof),w.push(v);let C={dappInfo:c.dappInfo,openUniversalUrl:this.openUniversalLink,redirect:u,tmaReturnUrl:h};this.engine.universalConnect(w,C,_=>{(0,n.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(_)}`);try{const{universalLink:O,deepLink:R}=(0,n.getOKXLink)(_.connectRequest);this.tracker.trackConnectionInfoBeforeJump(_),p(O)}catch(O){m(O)}}).then(_=>{(0,n.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(_)}`),this.connectSuccessHandle(_)}).catch(_=>{(0,n.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(_)}`);const O={event:"connect_error",requestId:Number(Date.now()),payload:{code:_.code,message:_.message}};(0,n.logDebug)("bridge-provider ==>> connectListener_4 ==>>connect_error:",O),this.listeners.forEach(R=>R(O)),m(_)})}catch(y){console.error("bridge-provider connect try catch error:>>>",JSON.stringify(y)),m(y)}})})}listen(c){return this.listeners.push(c),()=>this.listeners=this.listeners.filter(u=>u!==c)}disconnectListener(){return e(this,void 0,void 0,function*(){(0,n.logDebug)("bridge-provider ==>> disconnectListener"),(0,n.reportLog)("bridge-provider ==>> disconnectListener");const c={event:"disconnect",requestId:1,payload:{}};this.listeners.forEach(u=>u(c)),yield this.closeConnection()})}connectSuccessHandle(c){return e(this,void 0,void 0,function*(){var u,d;try{const h=(u=c.namespaces)===null||u===void 0?void 0:u.ton,p=h.payload,m=c.wallet;if(!h||!p||!m||!p.ton_addr)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);const y=p.ton_addr,v=c.sessionConfig;let w=[];p.ton_addr&&w.push(p.ton_addr),p.ton_proof&&w.push(p.ton_proof);const C={platform:m.platform,appName:m.appName,appVersion:m.appVersion,maxProtocolVersion:m.maxProtocolVersion,features:["ton_sendTransaction"]},_={type:"http",lastWalletEventId:Number(Date.now()),connectEvent:{event:"connect",payload:{items:w,device:C}},connectionSource:this.walletConnectionSource,channelId:c.topic,openUniversalLink:v?.openUniversalUrl,dappInfo:v?.dappInfo};(0,n.logDebug)("bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:",_),yield this.connectionStorage.storeConnection(_),(d=this.engine)===null||d===void 0||d.addDisconnectListener(this.disconnectListener.bind(this));const O={event:"connect",requestId:_.lastWalletEventId,payload:_.connectEvent.payload};(0,n.logDebug)("bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:",O),this.listeners.forEach(R=>R(O))}catch(h){(0,n.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>error:",h);const p={event:"connect_error",requestId:Number(Date.now()),payload:{code:n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,message:"Connect success  connectSuccessHandle response error"}};(0,n.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:",p),this.listeners.forEach(m=>m(p))}})}closeConnection(){return e(this,arguments,void 0,function*(c=!1,u=!1){var d,h;(0,n.logDebug)("bridge-provider ==>> closeConnection ==>>fromRestore:",c," needOpenUrl:",u),(0,n.reportLog)("bridge-provider ==>> closeConnection"),this.listeners=[],u||(yield(d=this.engine)===null||d===void 0?void 0:d.connectManagerDisconnect(c)),c||((h=this.engine)===null||h===void 0||h.clearData(),yield this.connectionStorage.removeConnection())})}restoreConnection(){return e(this,void 0,void 0,function*(){var c,u,d;(0,n.logDebug)("bridge-provider ==>> restoreConnection_1"),(0,n.reportLog)("bridge-provider ==>> restoreConnection");const h=yield this.connectionStorage.getHttpConnection();if((0,t.isPendingConnectionHttp)(h))return;const p=h.connectEvent.payload.device.appName,y=(0,n.getTagByappName)(p)===n.OKX_INJECT_WALLET,v=this.engine.connectionManager.getCryptoKeyEnable();if(!(!h||!v&&!y))if((0,n.logDebug)("bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:",h.channelId),h.channelId)try{const w={event:"connect",requestId:0,payload:h.connectEvent.payload};this.listeners.forEach(_=>_(w)),this.engine.setConnectConnector(h.connectEvent.payload.device);const C=h.channelId;(0,n.logDebug)("bridge-provider ==>> restoreConnection_3 ==>>this.engine.restoreConnect:",C),(c=this.engine)===null||c===void 0||c.addDisconnectListener(this.disconnectListener.bind(this)),yield this.engine.restoreconnectFromTopic(C),this.engine.deviceInfo=h.connectEvent.payload.device,(0,n.reportEvent)(n.OKXReportType.PAGE_IN,n.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,(d=(u=this.engine.getConnector())===null||u===void 0?void 0:u.getTag())!==null&&d!==void 0?d:"")}catch{(0,n.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1"),yield this.closeConnection()}else(0,n.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2"),yield this.closeConnection()})}openOKXWallet(){(0,n.logDebug)("bridge-provider ==>> openOKXWallet",this.openUniversalLink),(0,n.reportLog)("bridge-provider ==>> openOKXWallet"),this.openUniversalLink&&(0,n.openOKXDeeplink)(n.standardDeeplink,n.shortUniversalLink,n.OpenAppLinkType.UniversalLink)}disconnect(){return e(this,void 0,void 0,function*(){return(0,n.logDebug)("bridge-provider ==>> disconnect_1"),(0,n.reportLog)("bridge-provider ==>> disconnect"),new Promise(c=>e(this,void 0,void 0,function*(){let u=!1;const d=()=>{u||(u=!0,this.closeConnection().then(c))};try{yield this.sendRequest({method:"disconnect"},{onRequestSent:d,attempts:1})}catch{u||this.closeConnection().then(c)}finally{d()}}))})}sendRequest(c,u,d){return(0,n.logDebug)("bridge-provider ==>> sendRequest"),(0,n.reportLog)("bridge-provider ==>> sendRequest"),new Promise((h,p)=>e(this,void 0,void 0,function*(){var m;try{yield(m=this.engine)===null||m===void 0?void 0:m.send(Object.assign(Object.assign({},c),{chainId:n.TON_CHAINS.MAINNET}),{resolve:function(y){h(y)},onAck:function(){var y;(y=u?.onRequestSent)===null||y===void 0||y.call(u)}},d)}catch(y){p(y)}}))}connectorOpenWallet(){this.engine.openWallet()}}return mf.BridgeProvider=o,mf}var Mb={},xM;function Rpe(){if(xM)return Mb;xM=1,Object.defineProperty(Mb,"__esModule",{value:!0}),Mb.checkSendTransactionSupport=t;const e=fr();function t(n,r){if(!n.includes("ton_sendTransaction"))throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support SendTransaction feature.");if(4<r.requiredMessagesNumber)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`Wallet is not able to handle such SendTransaction request. Max support messages number is 4, but ${r.requiredMessagesNumber} is required.`)}return Mb}var bf={},Qm={},SM;function Npe(){if(SM)return Qm;SM=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.RpcParser=void 0;class e{isError(n){return"error"in n}}return Qm.RpcParser=e,Qm}var OM;function Ppe(){if(OM)return bf;OM=1;var e=bf&&bf.__rest||function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s};Object.defineProperty(bf,"__esModule",{value:!0}),bf.sendTransactionParser=void 0;const t=Npe();class n extends t.RpcParser{convertToRpcRequest(i){const{redirect:s}=i,o=e(i,["redirect"]);return{method:"ton_sendTransaction",redirect:s,params:o}}convertFromRpcResponse(i){return{boc:i.result.toString()}}}return bf.sendTransactionParser=new n,bf}var AM;function Ipe(){if(AM)return xl;AM=1;var e=xl&&xl.__awaiter||function(d,h,p,m){function y(v){return v instanceof p?v:new p(function(w){w(v)})}return new(p||(p=Promise))(function(v,w){function C(R){try{O(m.next(R))}catch(S){w(S)}}function _(R){try{O(m.throw(R))}catch(S){w(S)}}function O(R){R.done?v(R.value):y(R.value).then(C,_)}O((m=m.apply(d,h||[])).next())})},t=xl&&xl.__rest||function(d,h){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&h.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(d);y<m.length;y++)h.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(d,m[y])&&(p[m[y]]=d[m[y]]);return p};Object.defineProperty(xl,"__esModule",{value:!0}),xl.OKXTonConnectInner=void 0;const n=Tpe(),r=fr(),i=Rpe(),s=Az(),o=Ppe(),a=Cz(),c=xz();class u{constructor(h){if(this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.openUniversalLink=this.provider?this.provider.openUniversalLink:!1,(0,r.checkMetaData)(h.metaData),!h.metaData)throw(0,r.logDebug)("OKXTonConnect constructor error: options.metaData is nil"),new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"dapp metaData can not be null");(0,r.logDebug)("OKXTonConnect constructor options:",JSON.stringify(h)),this.dappSettings={metaData:Object.assign(Object.assign({},h.metaData),{url:window.location.hostname,origin:window.location.origin})},(!h.connectors||h.connectors.length==0)&&(h.connectors=[new r.AppwalletConnector]),this.connectors=h.connectors,this.tracker=new s.TonConnectTracker({OKXtonConnectSdkVersion:c.OKXtonConnectSdkVersion}),this.storage=new r.Storage(c.OKXCONNECTOR_TON_KEY+this.dappSettings.metaData.name+c.OKXTON_STORAGE_PREFIX,c.OKXCONNECTOR_TON_KEY),this.bridgeConnectionStorage=new a.BridgeConnectionStorage(this.storage)}get connected(){return this._wallet!==null}get account(){var h;return((h=this._wallet)===null||h===void 0?void 0:h.account)||null}get wallet(){return this._wallet}set wallet(h){this._wallet=h,this.statusChangeSubscriptions.forEach(p=>p(this._wallet))}connect(h){return e(this,void 0,void 0,function*(){var p;return(0,r.logDebug)("ton-Connect ==>> connect_1 >> request:",h),this.connected&&(0,r.logError)("It's already connected to OKX Wallet, please call disconnect() first"),yield(p=this.provider)===null||p===void 0?void 0:p.closeConnection(!1,!0),this.provider||(this.provider=new n.BridgeProvider(this.storage,this.dappSettings.metaData.name,this.connectors)),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),yield this.provider.connect(this.createConnectRequest(h),h?.redirect,h?.openUniversalLink,h?.tmaReturnUrl)})}walletEventsListener(h){switch((0,r.logDebug)("ton-Connect ==>> walletEventsListener_1 >> e:",h),h.event){case"connect":this.onWalletConnected(h.payload);break;case"connect_error":this.onWalletConnectError(h.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(h){(0,r.logDebug)("ton-Connect ==>> onWalletConnected_1 >> connectEvent:",h);const p=h.items.find(v=>v.name==="ton_addr"),m=h.items.find(v=>v.name==="ton_proof");if(!p)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_addr connection item was not found");const y={device:h.device,provider:this.provider.type,account:{address:p.address,chain:p.network,walletStateInit:p.walletStateInit,publicKey:p.publicKey}};m&&(y.connectItems={tonProof:m}),this.wallet=y,(0,r.logDebug)("ton-Connect ==>> onWalletConnected_2 >> wallet:",y),this.tracker.trackConnectionCompleted(y)}onWalletConnectError(h){var p;(0,r.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> connectEventError:",h);const m=new r.OKXConnectError(h.code,h.message);(0,r.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> error:",m),this.statusChangeErrorSubscriptions.forEach(y=>y(m)),this.tracker.trackConnectionError((p=h.message)!==null&&p!==void 0?p:"",h.code)}onWalletDisconnected(h){this.tracker.trackDisconnection(this.wallet,h),this.wallet=null}disconnect(){return e(this,void 0,void 0,function*(){var h;if((0,r.logDebug)("ton-Connect ==>> disconnect_1"),!this.connected)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"wallet is not connected");(0,r.logDebug)("ton-Connect ==>> disconnect_222"),this.onWalletDisconnected("dapp"),yield(h=this.provider)===null||h===void 0?void 0:h.disconnect()})}onStatusChange(h,p){return this.statusChangeSubscriptions.push(h),p&&this.statusChangeErrorSubscriptions.push(p),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(m=>m!==h),p&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(m=>m!==p))}}restoreConnection(){return e(this,void 0,void 0,function*(){var h;(0,r.logDebug)("ton-Connect ==>> restoreConnection_1"),this.tracker.trackConnectionRestoringStarted();let p=null;try{p=yield n.BridgeProvider.fromStorage(this.storage,this.dappSettings.metaData.name,this.connectors)}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),p?.closeConnection(),p=null;return}if(!p){(0,r.logError)("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(0,r.logDebug)("ton-Connect ==>> restoreConnection_2 ==>> Provider is restored "),(h=this.provider)===null||h===void 0||h.closeConnection(!0,!1),this.provider=p,p.listen(this.walletEventsListener.bind(this)),yield this.provider.restoreConnection(),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")})}sendTransaction(h,p){return e(this,void 0,void 0,function*(){var m;(0,r.logDebug)("ton-Connect ==>> sendTransaction_1",h),this.checkConnection(),(0,i.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:h.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,h),(0,r.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> check params");const{validUntil:y}=h,v=t(h,["validUntil"]),w=h.from||this.account.address;let C=this.account.chain;(0,r.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> await sendRequest",C),(0,r.isIos)()&&!p?.doNotOpenWallet&&((m=this.provider)===null||m===void 0||m.openOKXWallet());const _=yield this.provider.sendRequest(o.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},v),{valid_until:y,from:w,network:C})),{onRequestSent:()=>{var R,S;!(0,r.isIos)()&&!p?.doNotOpenWallet&&((R=this.provider)===null||R===void 0||R.openOKXWallet()),(S=p?.onRequestSent)===null||S===void 0||S.call(p)}});if((0,r.logDebug)("ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:",_),o.sendTransactionParser.isError(_))throw this.tracker.trackTransactionSigningFailed(this.wallet,h,_.error.message,_.error.code),new r.OKXConnectError(_.error.code,_.error.message);const O=o.sendTransactionParser.convertFromRpcResponse(_);return this.tracker.trackTransactionSigned(this.wallet,h,O),O})}checkConnection(){if((0,r.logDebug)("ton-Connect ==>> checkConnection"),!this.connected)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Wallet not connected")}createConnectRequest(h){(0,r.logDebug)("ton-Connect ==>> createConnectRequest");const p={ton_addr:{name:"ton_addr"}};return h?.tonProof&&(p.ton_proof={name:"ton_proof",payload:h.tonProof}),{dappInfo:this.dappSettings.metaData,params:p}}static getWallets(){return this.walletsList}}return xl.OKXTonConnectInner=u,u.walletsList=[(0,r.creatOKXWalletInfo)()],xl}var TM;function Dpe(){if(TM)return gf;TM=1;var e=gf&&gf.__awaiter||function(i,s,o,a){function c(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function h(y){try{m(a.next(y))}catch(v){d(v)}}function p(y){try{m(a.throw(y))}catch(v){d(v)}}function m(y){y.done?u(y.value):c(y.value).then(h,p)}m((a=a.apply(i,s||[])).next())})};Object.defineProperty(gf,"__esModule",{value:!0}),gf.OKXTonConnect=void 0;const t=fr(),n=Ipe();class r{constructor(s){try{(0,t.logDebug)("OKXTonConnect constructor called"),window&&window.okxConnectTonsdkinwindow&&window.okxConnectTonsdkinwindow instanceof n.OKXTonConnectInner?(this.tonInner=window.okxConnectTonsdkinwindow,(0,t.logDebug)("OKXTonConnect constructor old called")):(this.tonInner=new n.OKXTonConnectInner(s),(0,t.logDebug)("OKXTonConnect constructor new called"),window&&(window.okxConnectTonsdkinwindow=this.tonInner))}catch(o){throw o}}get connected(){return this.tonInner.connected}get openUniversalLink(){return this.tonInner.openUniversalLink}get provider(){return this.tonInner.provider}get account(){return this.tonInner.account}get wallet(){return this.tonInner.wallet}set wallet(s){this.tonInner.wallet=s}connect(s){return e(this,void 0,void 0,function*(){return this.tonInner.connect(s)})}disconnect(){return e(this,void 0,void 0,function*(){return this.tonInner.disconnect()})}onStatusChange(s,o){return this.tonInner.onStatusChange(s,o)}restoreConnection(){return e(this,void 0,void 0,function*(){return this.tonInner.restoreConnection()})}sendTransaction(s,o){return e(this,void 0,void 0,function*(){return this.tonInner.sendTransaction(s,o)})}static getWallets(){return n.OKXTonConnectInner.getWallets()}}return gf.OKXTonConnect=r,gf}var GO={},ey={},RM;function kpe(){if(RM)return ey;RM=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var e;return function(t){t.OKX_TON_CONNECTION_STARTED="okx-ton-connect-connection-started",t.OKX_TON_CONNECTION_COMPLETED="okx-ton-connect-connection-completed",t.OKX_TON_CONNECTION_ERROR="okx-ton-connect-connection-error",t.OKX_TON_CONNECTION_RESTORING_STARTED="okx-ton-connect-connection-restoring-started",t.OKX_TON_CONNECTION_RESTORING_COMPLETED="okx-ton-connect-connection-restoring-completed",t.OKX_TON_CONNECTION_RESTORING_ERROR="okx-ton-connect-connection-restoring-error",t.OKX_TON_DISCONNECTION="okx-ton-connect-disconnection",t.OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE="okx-ton-connect-transaction-sent-for-signature",t.OKX_TON_TRANSACTION_SIGNED="okx-ton-connect-transaction-signed",t.OKX_TON_TRANSACTION_SIGNING_FAILED="okx-ton-connect-transaction-signing-failed"}(e||(ey.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=e={})),ey}var NM;function Mpe(){return NM||(NM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserEventDispatcher=e.createVersionInfo=e.createTransactionSigningFailedEvent=e.createTransactionSignedEvent=e.createTransactionSentForSignatureEvent=e.createDisconnectionEvent=e.createConnectionStartedEvent=e.createConnectionRestoringStartedEvent=e.createConnectionRestoringErrorEvent=e.createConnectionRestoringCompletedEvent=e.createConnectionErrorEvent=e.createConnectionCompletedEvent=e.createResponseVersionEvent=e.createRequestVersionEvent=e.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var t=kpe();Object.defineProperty(e,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}});var n=Sz();Object.defineProperty(e,"createRequestVersionEvent",{enumerable:!0,get:function(){return n.createRequestVersionEvent}}),Object.defineProperty(e,"createResponseVersionEvent",{enumerable:!0,get:function(){return n.createResponseVersionEvent}}),Object.defineProperty(e,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return n.createConnectionCompletedEvent}}),Object.defineProperty(e,"createConnectionErrorEvent",{enumerable:!0,get:function(){return n.createConnectionErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringCompletedEvent}}),Object.defineProperty(e,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringStartedEvent}}),Object.defineProperty(e,"createConnectionStartedEvent",{enumerable:!0,get:function(){return n.createConnectionStartedEvent}}),Object.defineProperty(e,"createDisconnectionEvent",{enumerable:!0,get:function(){return n.createDisconnectionEvent}}),Object.defineProperty(e,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return n.createTransactionSentForSignatureEvent}}),Object.defineProperty(e,"createTransactionSignedEvent",{enumerable:!0,get:function(){return n.createTransactionSignedEvent}}),Object.defineProperty(e,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return n.createTransactionSigningFailedEvent}}),Object.defineProperty(e,"createVersionInfo",{enumerable:!0,get:function(){return n.createVersionInfo}});var r=Oz();Object.defineProperty(e,"BrowserEventDispatcher",{enumerable:!0,get:function(){return r.BrowserEventDispatcher}})}(GO)),GO}var JO={},ty={},PM;function Lpe(){if(PM)return ty;PM=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.removeUrlLastSlash=e,ty.addPathToUrl=t;function e(n){return n.slice(-1)==="/"?n.slice(0,-1):n}function t(n,r){return e(n)+"/"+r}return ty}var Lb={},IM;function Upe(){if(IM)return Lb;IM=1,Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.toUserFriendlyAddress=r;const e=fr(),t=81,n=128;function r(c,u=!1){const{wc:d,hex:h}=i(c);let p=t;u&&(p|=n);const m=new Int8Array(34);m[0]=p,m[1]=d,m.set(h,2);const y=new Uint8Array(36);return y.set(m),y.set(s(m),34),(0,e.base64encode)(y,!1).replace(/\+/g,"-").replace(/\//g,"_")}function i(c){if(!c.includes(":"))throw new Error(`Wrong address ${c}. Address must include ":".`);const u=c.split(":");if(u.length!==2)throw new Error(`Wrong address ${c}. Address must include ":" only once.`);const d=parseInt(u[0]);if(d!==0&&d!==-1)throw new Error(`Wrong address ${c}. WC must be eq 0 or -1, but ${d} received.`);const h=u[1];if(h?.length!==64)throw new Error(`Wrong address ${c}. Hex part must be 64bytes length, but ${h?.length} received.`);return{wc:d,hex:a(h)}}function s(c){let d=0;const h=new Uint8Array(c.length+2);h.set(c);for(let p of h){let m=128;for(;m>0;)d<<=1,p&m&&(d+=1),m>>=1,d>65535&&(d&=65535,d^=4129)}return new Uint8Array([Math.floor(d/256),d%256])}const o={};for(let c=0;c<=255;c++){let u=c.toString(16);u.length<2&&(u="0"+u),o[u]=c}function a(c){c=c.toLowerCase();const u=c.length;if(u%2!==0)throw new Error("Hex string must have length a multiple of 2: "+c);const d=u/2,h=new Uint8Array(d);for(let p=0;p<d;p++){const m=p*2,y=c.substring(m,m+2);if(!o.hasOwnProperty(y))throw new Error("Invalid hex character: "+y);h[p]=o[y]}return h}return Lb}var DM;function Bpe(){return DM||(DM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUserFriendlyAddress=e.removeUrlLastSlash=e.addPathToUrl=void 0;var t=Lpe();Object.defineProperty(e,"addPathToUrl",{enumerable:!0,get:function(){return t.addPathToUrl}}),Object.defineProperty(e,"removeUrlLastSlash",{enumerable:!0,get:function(){return t.removeUrlLastSlash}});var n=Upe();Object.defineProperty(e,"toUserFriendlyAddress",{enumerable:!0,get:function(){return n.toUserFriendlyAddress}})}(JO)),JO}var kM;function $pe(){return kM||(kM=1,function(e){var t=pf&&pf.__createBinding||(Object.create?function(o,a,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(a,c);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,d)}:function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]}),n=pf&&pf.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.toUserFriendlyAddress=e.removeUrlLastSlash=e.addPathToUrl=e.createVersionInfo=e.BrowserEventDispatcher=e.createTransactionSigningFailedEvent=e.createTransactionSignedEvent=e.createTransactionSentForSignatureEvent=e.createDisconnectionEvent=e.createConnectionStartedEvent=e.createConnectionRestoringStartedEvent=e.createConnectionRestoringErrorEvent=e.createConnectionRestoringCompletedEvent=e.createConnectionErrorEvent=e.createConnectionCompletedEvent=e.createResponseVersionEvent=e.createRequestVersionEvent=e.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=e.OKXTonConnect=void 0;var r=Dpe();Object.defineProperty(e,"OKXTonConnect",{enumerable:!0,get:function(){return r.OKXTonConnect}}),n(fr(),e);var i=Mpe();Object.defineProperty(e,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return i.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}}),Object.defineProperty(e,"createRequestVersionEvent",{enumerable:!0,get:function(){return i.createRequestVersionEvent}}),Object.defineProperty(e,"createResponseVersionEvent",{enumerable:!0,get:function(){return i.createResponseVersionEvent}}),Object.defineProperty(e,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionCompletedEvent}}),Object.defineProperty(e,"createConnectionErrorEvent",{enumerable:!0,get:function(){return i.createConnectionErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringCompletedEvent}}),Object.defineProperty(e,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringStartedEvent}}),Object.defineProperty(e,"createConnectionStartedEvent",{enumerable:!0,get:function(){return i.createConnectionStartedEvent}}),Object.defineProperty(e,"createDisconnectionEvent",{enumerable:!0,get:function(){return i.createDisconnectionEvent}}),Object.defineProperty(e,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return i.createTransactionSentForSignatureEvent}}),Object.defineProperty(e,"createTransactionSignedEvent",{enumerable:!0,get:function(){return i.createTransactionSignedEvent}}),Object.defineProperty(e,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return i.createTransactionSigningFailedEvent}}),Object.defineProperty(e,"BrowserEventDispatcher",{enumerable:!0,get:function(){return i.BrowserEventDispatcher}}),Object.defineProperty(e,"createVersionInfo",{enumerable:!0,get:function(){return i.createVersionInfo}});var s=Bpe();Object.defineProperty(e,"addPathToUrl",{enumerable:!0,get:function(){return s.addPathToUrl}}),Object.defineProperty(e,"removeUrlLastSlash",{enumerable:!0,get:function(){return s.removeUrlLastSlash}}),Object.defineProperty(e,"toUserFriendlyAddress",{enumerable:!0,get:function(){return s.toUserFriendlyAddress}})}(pf)),pf}var Tz=$pe(),jpe=lz();const Fpe=rl(jpe);var YO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var MM;function Kpe(){return MM||(MM=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(YO)),YO.exports}var Wpe=Kpe();const c_=rl(Wpe);var ZO,LM;function Hpe(){if(LM)return ZO;LM=1;var e=function(_){return t(_)&&!n(_)};function t(C){return!!C&&typeof C=="object"}function n(C){var _=Object.prototype.toString.call(C);return _==="[object RegExp]"||_==="[object Date]"||s(C)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(C){return C.$$typeof===i}function o(C){return Array.isArray(C)?[]:{}}function a(C,_){return _.clone!==!1&&_.isMergeableObject(C)?v(o(C),C,_):C}function c(C,_,O){return C.concat(_).map(function(R){return a(R,O)})}function u(C,_){if(!_.customMerge)return v;var O=_.customMerge(C);return typeof O=="function"?O:v}function d(C){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(C).filter(function(_){return Object.propertyIsEnumerable.call(C,_)}):[]}function h(C){return Object.keys(C).concat(d(C))}function p(C,_){try{return _ in C}catch{return!1}}function m(C,_){return p(C,_)&&!(Object.hasOwnProperty.call(C,_)&&Object.propertyIsEnumerable.call(C,_))}function y(C,_,O){var R={};return O.isMergeableObject(C)&&h(C).forEach(function(S){R[S]=a(C[S],O)}),h(_).forEach(function(S){m(C,S)||(p(C,S)&&O.isMergeableObject(_[S])?R[S]=u(S,O)(C[S],_[S],O):R[S]=a(_[S],O))}),R}function v(C,_,O){O=O||{},O.arrayMerge=O.arrayMerge||c,O.isMergeableObject=O.isMergeableObject||e,O.cloneUnlessOtherwiseSpecified=a;var R=Array.isArray(_),S=Array.isArray(C),E=R===S;return E?R?O.arrayMerge(C,_,O):y(C,_,O):a(_,O)}v.all=function(_,O){if(!Array.isArray(_))throw new Error("first argument should be an array");return _.reduce(function(R,S){return v(R,S,O)},{})};var w=v;return ZO=w,ZO}var zpe=Hpe();const qpe=rl(zpe);var Ef={},_f={},Cf={},UM;function Vpe(){if(UM)return Cf;UM=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.IJSONRpcProvider=Cf.IJSONRpcConnection=void 0;class e{}Cf.IJSONRpcConnection=e;class t{constructor(r){}}return Cf.IJSONRpcProvider=t,Cf}var QO={},BM;function Xpe(){return BM||(BM=1,Object.defineProperty(QO,"__esModule",{value:!0})),QO}var $M;function S5(){return $M||($M=1,function(e){var t=_f&&_f.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=_f&&_f.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Vpe(),e),n(Xpe(),e)}(_f)),_f}var xf={},eA={},Sf={},Of={},Af={},ec={},jM;function Gpe(){if(jM)return ec;jM=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.getRpcUrl=t,ec.getChainId=n,ec.fromAccountToAddress=r,ec.convertChainIdToNumber=i,ec.parseChainId=o,ec.mergeArrays=a,ec.syncAddressAvailable=c,ec.syncAddressHostAvailable=u;const e=fr();function t(d,h,p){var m;const y=o(d);return((m=h.rpcMap)===null||m===void 0?void 0:m[y.reference])||""}function n(d){return d.includes(":")?d.split(":")[1]:d}function r(d){if(!d)return"";try{let h=d.split(":").slice(2),p=h.length>0?h.join(":"):"";return(0,e.logDebug)("fromAccountToAddress address and account:",p,d),p}catch{return(0,e.logError)("fromAccountToAddress error:",d),""}}function i(d){return typeof d=="number"?d:d.includes("0x")?parseInt(d,16):(d=d.includes(":")?d.split(":")[1]:d,isNaN(Number(d))?d:Number(d))}const s=":";function o(d){const[h,p]=d.split(s);return{namespace:h,reference:p}}function a(d=[],h=[]){return[...new Set([...d,...h])]}function c(d){return!d||d.appName!=="OKX Wallet"||(0,e.versionCompare)("6.97.0",d.appVersion)>0?!1:u()}function u(){try{return!!window.okxGlobal}catch{return!1}}return ec}var Tf={},FM;function Jpe(){if(FM)return Tf;FM=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.setGlobal=Tf.getGlobal=void 0;const e={},t=r=>e[r];Tf.getGlobal=t;const n=(r,i)=>{e[r]=i};return Tf.setGlobal=n,Tf}var KM;function _c(){return KM||(KM=1,function(e){var t=Af&&Af.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Af&&Af.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Gpe(),e),n(Jpe(),e)}(Af)),Af}var WM;function Rz(){return WM||(WM=1,function(e){var t=Of&&Of.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Of&&Of.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(S5(),e),n(_c(),e)}(Of)),Of}var HM;function Nz(){return HM||(HM=1,function(e){var t=Sf&&Sf.__awaiter||function(v,w,C,_){function O(R){return R instanceof C?R:new C(function(S){S(R)})}return new(C||(C=Promise))(function(R,S){function E(A){try{N(_.next(A))}catch(D){S(D)}}function x(A){try{N(_.throw(A))}catch(D){S(D)}}function N(A){A.done?R(A.value):O(A.value).then(E,x)}N((_=_.apply(v,w||[])).next())})},n=Sf&&Sf.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectSupportMethods=void 0,e.creatNotSupportMethodItemReplay=c,e.isMobileDiscover=u,e.connectMethodsAdaptOldVersion=d,e.connectMethodsResponseUpdate=h,e.connectMethodsToConnectWalletMethods=p,e.syncResoonseToRequire=y;const r=fr(),i=n(_z()),s=Rz();function o(v){return typeof v=="object"&&v!==null&&Array.isArray(v)}function a(v){return typeof v=="object"&&v!==null&&!Array.isArray(v)}e.connectSupportMethods=Object.freeze(["personal_sign","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","starknet_signMessage","sync_all_addresses"]);function c(v){let w=new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);var C={method:v.method,chainId:v.chainId,error:{code:w.code,message:w.message}};return C}function u(){return!!window.okxwallet&&window.okxwallet.mobileDiscoverWallet}function d(v,w){return t(this,void 0,void 0,function*(){var C,_,O,R,S;try{(0,r.logDebug)("connectMethodsAdaptOldVersion start params :",JSON.stringify(v));let x={};if(v.method==="solana_signMessage"){let N=(C=w.namespaces[r.NameSpaceKeySOL])===null||C===void 0?void 0:C.accounts.filter(function(D){return D.startsWith(v.chainId)})[0];const A=(0,s.fromAccountToAddress)(N);if(v.params&&A&&"message"in v.params){let D=v.params.message;if(((_=w.wallet)===null||_===void 0?void 0:_.appName)=="OKX Wallet"){let k=new TextEncoder().encode(D);D=i.default.encode(k)}return v.params={message:D,pubkey:A},v.injectParams=v.params,x={publicKey:A},(0,r.logDebug)("solana_signMessage account and address:",JSON.stringify(N),A),(0,r.logDebug)("solana_signMessage callBackParams:",JSON.stringify(x)),x}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(v.method==="sui_signMessage"||v.method==="sui_signPersonalMessage")if("message"in v.params&&v.params.message){let N=JSON.parse(JSON.stringify(v.params.message)),A=Object.values(N),D=new Uint8Array(A),k=new TextDecoder("utf8"),U=btoa(k.decode(D));return v.params={message:atob(U)},v.injectParams={message:D},console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",JSON.stringify(v.params),U),v.method==="sui_signMessage"?x={messageBytes:U,signature:""}:v.method==="sui_signPersonalMessage"&&(x={bytes:U,signature:""}),(0,r.logDebug)("sui_signMessage/sui_signPersonalMessage callBackParams:",JSON.stringify(x)),x}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(v.method==="btc_signMessage"){let A=((O=w.namespaces[r.NameSpaceKeyBtc])===null||O===void 0?void 0:O.accounts.filter(function(k){return k.startsWith(v.chainId)}))[0];const D=(0,s.fromAccountToAddress)(A);if((0,r.logDebug)("btc_signMessage account and address:",JSON.stringify(A),D),D){if("message"in v.params&&v.params.message&&typeof v.params.message=="string")v.params={from:D,signStr:v.params.message};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return v.params.from=D,(0,r.logDebug)("btc_signMessage callBackParams:",JSON.stringify(x)),x}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(v.method==="aptos_signMessage"){let N=v.params,A=(R=w.namespaces[r.NameSpaceKeyAptos])===null||R===void 0?void 0:R.accounts.filter(function(k){return k.startsWith(v.chainId)})[0],D=(0,s.fromAccountToAddress)(A);if(N&&D){let k="APTOS",U="",H="";var E=k;let F=window.location.protocol+"//"+window.location.hostname;"address"in N&&N.address&&(E+=`
address: `+D),"application"in N&&N.application&&(E+=`
application: `+F);let P=1;"chainId"in N&&N.chainId&&(N.chainId=="aptos:mainnet"?P=1:N.chainId=="movement:testnet"&&(P=2),E+=`
chainId: `+P),"message"in N&&(E+=`
message: `+N.message,U=N.message),"nonce"in N&&(E+=`
nonce: `+N.nonce,H=N.nonce);const I=new TextEncoder().encode(E),$=Array.from(I).map(W=>W.toString(16).padStart(2,"0")).join("");return v.params={message:$},v.injectParams=N,(0,r.logDebug)("aptos_signMessage requestParams:",JSON.stringify(v)),x={address:D,application:F,chainId:P,fullMessage:E,message:U,nonce:H,prefix:k,signature:""},(0,r.logDebug)("aptos_signMessage callBackParams:",JSON.stringify(x)),x}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(v.method==="cosmos_signArbitrary"){let N=(S=w?.namespaces[r.NameSpaceKeyCosmos])===null||S===void 0?void 0:S.accounts.filter(function(U){return U.startsWith(v.chainId)})[0];const A=(0,s.fromAccountToAddress)(N);let D=v.params.message;const k=btoa(D);if((0,r.logDebug)("cosmos_signArbitrary account and address:",JSON.stringify(N),A),(0,r.logDebug)("cosmos_signArbitrary cosmosBase64Encoded:",k),D&&A){const U={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:A,data:k}}],memo:""};return v.params={signer:A,chain_id:v.chainId.split(":")[1],data:U},(0,r.logDebug)("cosmos_signArbitrary callBackParams:",JSON.stringify(x)),x}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}(0,r.logDebug)("sol_handleSignatureData end params:",JSON.stringify(v))}catch(x){throw x}})}function h(v,w){return t(this,void 0,void 0,function*(){var C;try{if(v.signResponse){(0,r.logDebug)("connectMethodsResponseUpdate signResponse:",JSON.stringify(v.signResponse)),(0,r.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(v.namespaces));for(const _ of v.signResponse)if((0,r.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(_)),"result"in _)if(_.method==="solana_signMessage"){let O=_.result;(0,r.logDebug)("solana_signMessage methodItem.chainId:",_.chainId);let R=(C=v.namespaces[r.NameSpaceKeySOL])===null||C===void 0?void 0:C.accounts.filter(function(S){return(0,r.logDebug)("solana_signMessage account:",S),S.startsWith(_.chainId)})[0];(0,r.logDebug)("solana_signMessage result account:",O,R),O&&R&&(_.result={signature:i.default.decode(O),publicKey:(0,s.fromAccountToAddress)(R)})}else if(_.method==="sui_signMessage"||_.method==="sui_signPersonalMessage"){let O=w.filter(function(R){return R.method===_.method})[0];if(O&&O.params&&"message"in O.params){let R=O.params.message,S=btoa(R);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",R,S),_.method==="sui_signMessage"?_.result={messageBytes:S,signature:_.result}:_.method==="sui_signPersonalMessage"&&(_.result={bytes:S,signature:_.result})}}else if(_.method==="aptos_signMessage"){if(_.chainId=(0,r.replaceChainIdToChainName)(_.chainId),_.result=JSON.parse(_.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(_.result)),_.result&&"signature"in _.result){let O=_.result.signature;O&&O.startsWith("0x")&&(O=O.slice(2,O.length),_.result.signature=O)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(_.result))}else if(_.method==="cosmos_signArbitrary")_.result=JSON.parse(_.result);else if(_.method=="starknet_signMessage"){let O=_.result;typeof O=="string"&&(O=JSON.parse(O)),_.result=[O.signedDataR,O.signedDataS]}else _.method=="sync_all_addresses"&&(_.result=y(_.result))}}catch(_){throw(0,r.logDebug)("connectMethodsResponseUpdate signResponse Error:",JSON.stringify(_)),_}})}function p(v,w){return t(this,void 0,void 0,function*(){try{(0,r.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(v));const R=[];if(v&&v.length>1)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connectAndSign/openModalAndSign signRequest only support one data");if(!w&&v&&v.length>0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(const S of v)if(S.method==="aptos_signMessage"&&(S.chainId=(0,r.replaceChainNameToChainId)(S.chainId)),S.method==="wallet_addEthereumChain"){var C=w?.some(E=>E.namespace.includes("eip155"));if(!C)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${S.method}', the EVM chain needs to be included in the NameSpace`)}else if(S.method==="sync_all_addresses")if((0,s.syncAddressHostAvailable)())S.chainId="";else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(!!!w?.some(x=>x.chains.some(N=>N.includes(`${S.chainId}`))))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${S.method}', NameSpace must contain '${S.chainId}'`);for(const S of v){if(!e.connectSupportMethods.includes(S.method))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect requestMethods not support method, method: '${S.method}'`);if(S.method==="wallet_addEthereumChain"){if(Array.isArray(S.params)){const E=S.params;if(E&&E.length===1){const x=E[0];a(x)&&(S.params=x)}else throw E&&E.length>1?new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${S.method}'`):new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${S.method}'`)}}else if(S.method==="personal_sign"){if(o(S.params)){if(S.params&&S.params.length!==1)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${S.method}' `);let E=S.params[0];if(E&&typeof E=="string")S.params={message:E};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `)}}else if(S.method==="sui_signMessage"||S.method==="sui_signPersonalMessage")if(a(S.params)&&"message"in S.params)if(S.params.message){(0,r.logDebug)("sui_signMessage item.params.message :",S.params.message);let E=JSON.parse(JSON.stringify(S.params.message)),x=Object.values(E),N=new Uint8Array(x),A=new TextDecoder("utf8"),D=btoa(A.decode(N));S.params.message=atob(D)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else if(S.method==="solana_signMessage")if(a(S.params)&&"message"in S.params)if(S.params.message&&typeof S.params.message=="string"){let E=new TextEncoder().encode(S.params.message);S.params.bs58Message=i.default.encode(E)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else if(S.method==="aptos_signMessage")if(a(S.params))if(S.chainId){var _=S.params,O=window.location.protocol+"//"+window.location.hostname;let E=1;S.chainId==="aptos:637"||S.chainId==="aptos:70000060"&&(E=2),S.params={data:_,applicationUrl:O,prefix:"APTOS",aptosChainId:E}}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${S.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else if(S.method==="cosmos_signArbitrary")if(a(S.params))if(S.params.message&&typeof S.params.message=="string"){const E=btoa(S.params.message);let x=S.chainId.split(":")[1];if(x)S.params={chain_id:x,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:E}}],memo:""}};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${S.method}' `)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${S.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else if(S.method=="tron_signMessage")if(a(S.params))if("message"in S.params&&S.params.message&&typeof S.params.message=="string")S.params.message=m(S.params.message);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else if(S.method=="btc_signMessage")if(a(S.params))if("message"in S.params&&S.params.message&&typeof S.params.message=="string")S.params={signStr:S.params.message};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${S.method}' `);(0,r.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(S)),R.push(S)}return R}catch(R){throw R}})}function m(v){let w="";for(let C=0;C<v.length;C++)w+=v.charCodeAt(C).toString(16).padStart(2,"0");return w}function y(v){const w=JSON.parse(v);return{type:w.type,isEvm:w.isEvm,walletName:w.walletName,deriveName:w.deriveName,addresses:w.addresses.map(_=>({coinId:_.ci,address:_.a&&_.a!=="null"?_.a:w.evmAddress}))}}}(Sf)),Sf}var zM;function Ype(){return zM||(zM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isMobileDiscover=e.creatNotSupportMethodItemReplay=e.connectMethodsAdaptOldVersion=void 0;var t=Nz();Object.defineProperty(e,"connectMethodsAdaptOldVersion",{enumerable:!0,get:function(){return t.connectMethodsAdaptOldVersion}}),Object.defineProperty(e,"creatNotSupportMethodItemReplay",{enumerable:!0,get:function(){return t.creatNotSupportMethodItemReplay}}),Object.defineProperty(e,"isMobileDiscover",{enumerable:!0,get:function(){return t.isMobileDiscover}})}(eA)),eA}var qM;function C3(){return qM||(qM=1,function(e){var t=xf&&xf.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=xf&&xf.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ype(),e)}(xf)),xf}var Ic={},Du={},Rf={},tA={},VM;function Zpe(){return VM||(VM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.GENERIC_SUBPROVIDER_NAME=e.RPC_URL=e.STORAGE=e.CONTEXT=e.WC_VERSION=e.PROTOCOL=e.RELAY_URL=e.LOGGER=void 0,e.LOGGER="error",e.RELAY_URL="wss://relay.walletconnect.com",e.PROTOCOL="wc",e.WC_VERSION=2,e.CONTEXT="universal_provider",e.STORAGE=`${e.PROTOCOL}@${e.WC_VERSION}:${e.CONTEXT}:`,e.RPC_URL="https://rpc.walletconnect.com/v1/",e.GENERIC_SUBPROVIDER_NAME="generic"}(tA)),tA}var ny={},XM;function Qpe(){return XM||(XM=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.PROVIDER_EVENTS=void 0,ny.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces",SESSION_CONNECTING:"session_connecting"}),ny}var GM;function Cc(){return GM||(GM=1,function(e){var t=Rf&&Rf.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Rf&&Rf.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Zpe(),e),n(Qpe(),e)}(Rf)),Rf}var Nf={},JM;function au(){if(JM)return Nf;JM=1;var e=Nf&&Nf.__awaiter||function(o,a,c,u){function d(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(w){try{v(u.next(w))}catch(C){p(C)}}function y(w){try{v(u.throw(w))}catch(C){p(C)}}function v(w){w.done?h(w.value):d(w.value).then(m,y)}v((u=u.apply(o,a||[])).next())})};Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.JsonRpcProvider=void 0;const t=Ed(),n=S5(),r=fr(),i=fr();let s=class extends n.IJSONRpcProvider{constructor(a){super(a),this.events=new t.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(a),this.connection.connected&&this.registerEventListeners()}connect(){return e(this,arguments,void 0,function*(a=this.connection){yield this.open(a)})}disconnect(){return e(this,void 0,void 0,function*(){yield this.close()})}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}request(a,c){return e(this,void 0,void 0,function*(){return this.requestStrict((0,r.formatJsonRpcRequest)(a.method,a.params||[],(0,r.getBigIntRpcId)().toString()),c)})}requestStrict(a,c){return e(this,void 0,void 0,function*(){return new Promise((u,d)=>e(this,void 0,void 0,function*(){if(!this.connection.connected)try{yield this.open()}catch(h){d(h)}this.events.on(`${a.id}`,h=>{(0,r.isJsonRpcError)(h)?d(h.error):u(h.result)});try{(0,i.logDebug)("[RPC] >>> send request",a,c),yield this.connection.send(a,c)}catch(h){d(h)}}))})}setConnection(a=this.connection){return a}onPayload(a){this.events.emit("payload",a),(0,r.isJsonRpcResponse)(a)?this.events.emit(`${a.id}`,a):this.events.emit("message",{type:a.method,data:a.params})}onClose(a){a&&a.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${a.code} ${a.reason?`(${a.reason})`:""}`)),this.events.emit("disconnect")}open(){return e(this,arguments,void 0,function*(a=this.connection){this.connection===a&&this.connection.connected||(this.connection.connected&&this.close(),typeof a=="string"&&(yield this.connection.open(a),a=this.connection),this.connection=this.setConnection(a),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))})}close(){return e(this,void 0,void 0,function*(){yield this.connection.close()})}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",a=>this.onPayload(a)),this.connection.on("close",a=>this.onClose(a)),this.connection.on("error",a=>this.events.emit("error",a)),this.connection.on("register_error",a=>this.onClose()),this.hasRegisteredEventListeners=!0)}};return Nf.JsonRpcProvider=s,Nf}var Ol={},Ub={exports:{}},YM;function Pz(){return YM||(YM=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof mr<"u"&&mr,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof mr<"u"&&mr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(P){return P&&DataView.prototype.isPrototypeOf(P)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(P){return P&&d.indexOf(Object.prototype.toString.call(P))>-1};function p(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function m(P){return typeof P!="string"&&(P=String(P)),P}function y(P){var I={next:function(){var $=P.shift();return{done:$===void 0,value:$}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function v(P){this.map={},P instanceof v?P.forEach(function(I,$){this.append($,I)},this):Array.isArray(P)?P.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(I){this.append(I,P[I])},this)}v.prototype.append=function(P,I){P=p(P),I=m(I);var $=this.map[P];this.map[P]=$?$+", "+I:I},v.prototype.delete=function(P){delete this.map[p(P)]},v.prototype.get=function(P){return P=p(P),this.has(P)?this.map[P]:null},v.prototype.has=function(P){return this.map.hasOwnProperty(p(P))},v.prototype.set=function(P,I){this.map[p(P)]=m(I)},v.prototype.forEach=function(P,I){for(var $ in this.map)this.map.hasOwnProperty($)&&P.call(I,this.map[$],$,this)},v.prototype.keys=function(){var P=[];return this.forEach(function(I,$){P.push($)}),y(P)},v.prototype.values=function(){var P=[];return this.forEach(function(I){P.push(I)}),y(P)},v.prototype.entries=function(){var P=[];return this.forEach(function(I,$){P.push([$,I])}),y(P)},c.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function w(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function C(P){return new Promise(function(I,$){P.onload=function(){I(P.result)},P.onerror=function(){$(P.error)}})}function _(P){var I=new FileReader,$=C(I);return I.readAsArrayBuffer(P),$}function O(P){var I=new FileReader,$=C(I),W=/charset=([A-Za-z0-9_-]+)/.exec(P.type),X=W?W[1]:"utf-8";return I.readAsText(P,X),$}function R(P){for(var I=new Uint8Array(P),$=new Array(I.length),W=0;W<I.length;W++)$[W]=String.fromCharCode(I[W]);return $.join("")}function S(P){if(P.slice)return P.slice(0);var I=new Uint8Array(P.byteLength);return I.set(new Uint8Array(P)),I.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:c.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:c.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():c.arrayBuffer&&c.blob&&u(P)?(this._bodyArrayBuffer=S(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||h(P))?this._bodyArrayBuffer=S(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=w(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(P){var I=P.toUpperCase();return x.indexOf(I)>-1?I:P}function A(P,I){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var $=I.body;if(P instanceof A){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,I.headers||(this.headers=new v(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!$&&P._bodyInit!=null&&($=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new v(I.headers)),this.method=N(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var W=/([?&])_=[^&]*/;if(W.test(this.url))this.url=this.url.replace(W,"$1_="+new Date().getTime());else{var X=/\?/;this.url+=(X.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function D(P){var I=new FormData;return P.trim().split("&").forEach(function($){if($){var W=$.split("="),X=W.shift().replace(/\+/g," "),j=W.join("=").replace(/\+/g," ");I.append(decodeURIComponent(X),decodeURIComponent(j))}}),I}function k(P){var I=new v,$=P.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W}).forEach(function(W){var X=W.split(":"),j=X.shift().trim();if(j){var G=X.join(":").trim();try{I.append(j,G)}catch(ae){console.warn("Response "+ae.message)}}}),I}E.call(A.prototype);function U(P,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new v(I.headers),this.url=I.url||"",this._initBody(P)}E.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},U.error=function(){var P=new U(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var H=[301,302,303,307,308];U.redirect=function(P,I){if(H.indexOf(I)===-1)throw new RangeError("Invalid status code");return new U(null,{status:I,headers:{location:P}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,$){this.message=I,this.name=$;var W=Error(I);this.stack=W.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function F(P,I){return new Promise(function($,W){var X=new A(P,I);if(X.signal&&X.signal.aborted)return W(new o.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function G(){j.abort()}j.onload=function(){var oe={statusText:j.statusText,headers:k(j.getAllResponseHeaders()||"")};X.url.indexOf("file://")===0&&(j.status<200||j.status>599)?oe.status=200:oe.status=j.status,oe.url="responseURL"in j?j.responseURL:oe.headers.get("X-Request-URL");var Ce="response"in j?j.response:j.responseText;setTimeout(function(){$(new U(Ce,oe))},0)},j.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){W(new o.DOMException("Aborted","AbortError"))},0)};function ae(oe){try{return oe===""&&a.location.href?a.location.href:oe}catch{return oe}}if(j.open(X.method,ae(X.url),!0),X.credentials==="include"?j.withCredentials=!0:X.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(c.blob?j.responseType="blob":c.arrayBuffer&&(j.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof v||a.Headers&&I.headers instanceof a.Headers)){var ce=[];Object.getOwnPropertyNames(I.headers).forEach(function(oe){ce.push(p(oe)),j.setRequestHeader(oe,m(I.headers[oe]))}),X.headers.forEach(function(oe,Ce){ce.indexOf(Ce)===-1&&j.setRequestHeader(Ce,oe)})}else X.headers.forEach(function(oe,Ce){j.setRequestHeader(Ce,oe)});X.signal&&(X.signal.addEventListener("abort",G),j.onreadystatechange=function(){j.readyState===4&&X.signal.removeEventListener("abort",G)}),j.send(typeof X._bodyInit>"u"?null:X._bodyInit)})}return F.polyfill=!0,a.fetch||(a.fetch=F,a.Headers=v,a.Request=A,a.Response=U),o.Headers=v,o.Request=A,o.Response=U,o.fetch=F,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Ub,Ub.exports)),Ub.exports}var ZM;function cu(){if(ZM)return Ol;ZM=1;var e=Ol&&Ol.__awaiter||function(d,h,p,m){function y(v){return v instanceof p?v:new p(function(w){w(v)})}return new(p||(p=Promise))(function(v,w){function C(R){try{O(m.next(R))}catch(S){w(S)}}function _(R){try{O(m.throw(R))}catch(S){w(S)}}function O(R){R.done?v(R.value):y(R.value).then(C,_)}O((m=m.apply(d,h||[])).next())})},t=Ol&&Ol.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.JsonRpcConnection=void 0;const n=Ed(),r=t(Pz()),i=fr(),s=fr(),c={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};let u=class{constructor(h,p=!1){if(this.url=h,this.disableProviderPing=p,this.events=new n.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,s.isHttpUrl)(h))throw new Error(`Provided URL is not compatible with HTTP connection: ${h}`);this.url=h,this.disableProviderPing=p}get connected(){return this.isAvailable}get connecting(){return this.registering}on(h,p){this.events.on(h,p)}once(h,p){this.events.once(h,p)}off(h,p){this.events.off(h,p)}removeListener(h,p){this.events.removeListener(h,p)}open(){return e(this,arguments,void 0,function*(h=this.url){yield this.register(h)})}close(){return e(this,void 0,void 0,function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()})}send(h){return e(this,void 0,void 0,function*(){this.isAvailable||(yield this.register());try{const p=(0,i.safeJsonStringify)(h),y=yield(yield(0,r.default)(this.url,Object.assign(Object.assign({},c),{body:p}))).json();this.onPayload({data:y})}catch(p){this.onError(h.id,p)}})}register(){return e(this,arguments,void 0,function*(h=this.url){if(!(0,s.isHttpUrl)(h))throw new Error(`Provided URL is not compatible with HTTP connection: ${h}`);if(this.registering)return new Promise((p,m)=>{this.events.once("register_error",y=>{m(y)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return m(new Error("HTTP connection is missing or invalid"));p()})});this.url=h,this.registering=!0;try{if(!this.disableProviderPing){const p=(0,i.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,r.default)(h,Object.assign(Object.assign({},c),{body:p}))}this.onOpen()}catch(p){const m=this.parseError(p);throw this.events.emit("register_error",m),this.onClose(),m}})}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(h){if(typeof h.data>"u")return;const p=typeof h.data=="string"?(0,i.safeJsonParse)(h.data):h.data;this.events.emit("payload",p)}onError(h,p){const m=this.parseError(p),y=m.message||m.toString(),v=(0,s.formatJsonRpcError)(h,y);this.events.emit("payload",v)}parseError(h,p=this.url){return(0,s.parseConnectionError)(h,p,"HTTP")}};return Ol.JsonRpcConnection=u,Ol}var QM;function e0e(){if(QM)return Du;QM=1;var e=Du&&Du.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(Du,"__esModule",{value:!0}),Du.Eip155Provider=void 0;const t=_c(),n=Cc(),r=fr(),i=au(),s=cu();class o{constructor(c,u,d){this.name="eip155",this.namespace=c.namespace,this.events=d,this.client=u,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,r.logDebug)("eip155 constructor --opts.namespace-->",c.namespace)}isRecord(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}isArray(c){return typeof c=="object"&&c!==null&&Array.isArray(c)}updateRequestParams(c){let u=c.params&&typeof c.params=="object"&&!Array.isArray(c.params);if(c.method==="wallet_switchEthereumChain"){const d=c.chainId.split(":")[1],h=parseInt(d,10);if(isNaN(h))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${d}' `);if(!c.params)c.params={chainId:"0x"+h.toString(16)};else if(u){let p=c.params;"chainId"in p||(p.chainId="0x"+h.toString(16),c.params=p)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${c.method}' `)}else if(c.method==="personal_sign"||c.method==="eth_signTypedData_v4"||c.method==="eth_sendTransaction"||c.method==="wallet_watchAsset"){if(!c.params)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${c.method}'`);if(this.isRecord(c.params)){let d=c.params;if((0,r.logDebug)("eip155 updateRequestParams params>",JSON.stringify(d)),"chainId"in d){const h=c.chainId.split(":")[1],p=parseInt(h,10);let m=String(d.chainId),y;if(m.startsWith(this.name)&&c.chainId===m)y=p;else if(m.startsWith("0x"))y=parseInt(m,16);else if(!isNaN(Number(m)))y=parseInt(m,10);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${c.method}'`);if(p!==y)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${c.method}' `)}}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${c.method}'`)}}adaptArray(c){if(c.method==="wallet_switchEthereumChain"||c.method==="wallet_addEthereumChain"||c.method==="wallet_watchAsset"||c.method==="eth_sendTransaction"||c.method==="kaia_signTransaction"||c.method==="klay_signTransaction"){if(this.isArray(c.params)){let u=c.params;if(u)if(u.length===1){let d=c.params[0];this.isRecord(d)&&(c.params=d)}else throw u.length>1?new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${c.method}' `):new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${c.method}' `)}}else if(c.method==="eth_signTypedData_v4"){if(this.isArray(c.params)){let u=c.params;if(u&&u.length>2)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${c.method}' `);if(u&&u.length===0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${c.method}' `);let d={};if(u&&u.length===2){let h=c.params[0];if(h&&typeof h=="string"){let p=!1;if(this.namespace.accounts.forEach(m=>{(0,t.fromAccountToAddress)(m).toLowerCase()===h.toLowerCase()&&(p=!0)}),(0,r.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",p),!p)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${c.method}' `);if(this.isRecord(c.params[1]))d=c.params[1];else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${c.method}' `)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${c.method}' `)}else if(u&&u.length===1)if(this.isRecord(c.params[0]))d=c.params[0];else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${c.method}' `);try{let h=JSON.stringify(d);c.params={typedDataJson:h}}catch{throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${c.method}' `)}}}else if(c.method==="personal_sign"&&this.isArray(c.params)){if(c.params&&c.params.length>2)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${c.method}' `);if(c.params&&c.params.length===0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${c.method}' `);let u=c.params[0],d=c.params[1];if(d&&typeof d=="string"){let h=!1;if(this.namespace.accounts.forEach(p=>{(0,t.fromAccountToAddress)(p).toLowerCase()===d.toLowerCase()&&(h=!0)}),(0,r.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",h),!h)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${c.method}' `)}if(u&&typeof u=="string")c.params={message:u};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${c.method}' `)}}showRequestModal(c){switch(c.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(c),this.updateRequestParams(c);const{parsedChainId:u,hexChainId:d}=this.getHexChainIdFromRequest(c);return!this.isChainApproved(u)}default:return!1}return!1}configAddressAdaptInjectWallet(c){this.namespace.accounts.forEach(u=>{u.includes(c.chainId)&&(c.address=(0,t.fromAccountToAddress)(u))})}request(c){return e(this,void 0,void 0,function*(){if(c.method==="eth_signLegacy"||c.method==="eth_sign")throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`${c.method} method not supported`);switch(c.injectParams=c.params,this.adaptArray(c),this.client.needCheckRequestMethod()&&c.method==="klay_signTransaction"&&(c.method="kaia_signTransaction"),(0,r.logDebug)("eip155 request --args--string>",JSON.stringify(c)),this.updateRequestParams(c),(0,r.logDebug)("eip155 request --params--string>",JSON.stringify(c)),this.configAddressAdaptInjectWallet(c),c.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(c);case"wallet_addEthereumChain":return this.addEthereumChain(c)}if(!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method)){if(this.client.needCheckRequestMethod()&&(c.method==="eth_sendTransaction"||c.method==="kaia_signTransaction"))try{if(c.params&&typeof c.params=="object"&&!Array.isArray(c.params)){const u=c.params;typeof u.input=="string"&&u.input.trim()!==""?!u.data||typeof u.data=="string"&&u.data.trim()===""?(u.data=u.input,(0,r.logDebug)("eip155 sendTransaction:  replace data with input")):(0,r.logDebug)("eip155 sendTransaction:  data not empty"):(0,r.logDebug)("eip155 sendTransaction:  input empty")}}catch{(0,r.logDebug)("eip155 sendTransaction:  replace error")}try{const u=yield this.client.request(c);if((0,r.logDebug)("eip155 request --response----string>",JSON.stringify(u)),this.isRecord(u)&&"result"in u){let d=u.result;return d&&typeof d=="string"&&(d==="true"||d==="false")?((0,r.logDebug)("eip155 request --wallet_watchAsset>>>>",d==="true"),d==="true"):u.result}return u}catch(u){throw(0,r.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${u instanceof r.OKXConnectError}`,JSON.stringify(u)),u}}else return(0,r.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(c)})}addEthereumChain(c){return e(this,void 0,void 0,function*(){let u=yield this.client.request(c);try{if("result"in u){let d=u,h=u.result;if(h){const p=h.split(":")[0],m=h.split(":")[1],y=p+":"+m;let v=this.namespace;if(this.namespace.accounts.push(h),this.namespace.chains.push(y),this.isRecord(c.params)&&"rpcUrls"in c.params){let w=c.params.rpcUrls,C=w?w[0]:void 0;C&&(this.namespace.rpcMap?this.namespace.rpcMap[m]=C:this.namespace.rpcMap={[m]:C},this.setHttpProvider(m,C))}this.events.emit(n.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${c.method} request error`)}catch{throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${c.method} request  error`)}return null})}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}setDefaultChain(c,u){if(this.chainId=parseInt(c),!this.httpProviders[c]){const d=u||(0,t.getRpcUrl)(`${this.name}:${c}`,this.namespace);d?this.setHttpProvider(c,d):(0,r.logDebug)(`No RPC url provided for chainId: ${c}`)}this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return(0,r.logDebug)("eip155 getAccounts ",c,this.chainId),c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>(0,t.fromAccountToAddress)(u)))]:[]}getHexChainIdFromRequest(c){let u=c.params,d="0x0";u&&"chainId"in u&&(d=u.chainId),d=d.startsWith("0x")?d:`0x${d}`,(0,r.logDebug)("handleSwitchChain -->args ",c),(0,r.logDebug)("handleSwitchChain -->hexChainId ",d);const h=parseInt(d,16);return(0,r.logDebug)("handleSwitchChain -->parsedChainId ",h),{parsedChainId:h,hexChainId:d}}handleSwitchChain(c){return e(this,void 0,void 0,function*(){const{parsedChainId:u,hexChainId:d}=this.getHexChainIdFromRequest(c);if(this.isChainApproved(u))this.setDefaultChain(`${u}`);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,`the method ${c.method} request  error`)})}isChainApproved(c){return this.namespace.chains.includes(`${this.name}:${c}`)}createHttpProvider(c,u){const d=u;if(!d)(0,r.logDebug)(`No RPC url provided for chainId: ${c}`);else return new i.JsonRpcProvider(new s.JsonRpcConnection(d,(0,t.getGlobal)("disableProviderPing")))}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,t.getChainId)(u),h=(0,t.getRpcUrl)(u,this.namespace);(0,r.logDebug)("get parsed chain and rpc:",d,h);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),(0,r.logDebug)("get http providermap:",c),c}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&(this.httpProviders[c]=d)}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if((0,r.logDebug)("[RPC] get http provider:",c,u),typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}}return Du.Eip155Provider=o,Du.default=o,Du}var ku={},eL;function t0e(){if(eL)return ku;eL=1;var e=ku&&ku.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(ku,"__esModule",{value:!0}),ku.SuiProvider=void 0;const t=Cc(),n=fr(),r=_c(),i=cu(),s=au();class o{constructor(c,u,d){this.name=n.NameSpaceKeySui,this.namespace=c.namespace,this.events=d,this.client=u,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}request(c){return e(this,void 0,void 0,function*(){return(0,n.logDebug)("sui request --args--string>",JSON.stringify(c)),(0,n.logDebug)("sui provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method)?this.client.request(c):this.getHttpProvider().request(c)})}requestAccounts(){return this.getAccounts()}setDefaultChain(c,u){this.httpProviders[c]||this.setHttpProvider(c,u),this.chainId=c,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>u.split(":")[2]))]:[]}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,r.getChainId)(u),h=(0,r.getRpcUrl)(u,this.namespace);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),c}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if((0,n.logDebug)("[RPC] get http provider:",c,u),typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&((0,n.logDebug)("setHttpProvider",c,u),this.httpProviders[c]=d)}createHttpProvider(c,u){const d=u;if(!d)(0,n.logDebug)(`No RPC url provided for chainId: ${c}`);else return new s.JsonRpcProvider(new i.JsonRpcConnection(d,(0,r.getGlobal)("disableProviderPing")))}getPubkey(c){return this.getWalletAddress(c)}getWalletAddress(c){return c||(c=this.namespace.defaultChain,c?.startsWith("sui")||(c=`sui:${c}`)),this.namespace.accounts.filter(function(u){return u.split(":").length>2&&u.startsWith(c)}).map(function(u){return u.split(":")[2]})[0]}showRequestModal(c){switch(c.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}}return ku.SuiProvider=o,ku.default=o,ku}var Pf={},Mu={},tL;function Iz(){if(tL)return Mu;tL=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.getAccountsChains=t,Mu.nameSpaceToConnectWalletNameSpace=n,Mu.fillParamsToSession=r,Mu.isCaipNamespace=s,Mu.parseNamespaceKey=o;const e=fr();function t(a){const c=[];return a.forEach(u=>{const[d,h]=u.split(":");c.push(`${d}:${h}`)}),c}function n(a){var c=[];return a&&Object.keys(a).forEach(u=>{(u===e.NameSpaceKeyEip155||u===e.NameSpaceKeySOL||u===e.NameSpaceKeySui||u===e.NameSpaceKeyAptos||u==e.NameSpaceKeyBtc||u===e.NameSpaceKeyTON||u===e.NameSpaceKeyCosmos||u===e.NameSpaceKeyTron||u===e.NameSpaceKeyStarknet)&&a[u].chains&&c.push({namespace:u,chains:a[u].chains,params:a[u].params})}),c}function r(a,c,u,d){const h=(m,y)=>{Object.assign(m,y)},p=(m,y)=>{for(const v in y)y.hasOwnProperty(v)&&y[v].rpcMap&&(y[v].rpcMap&&(m[v].rpcMap||(m[v].rpcMap={}),h(m[v].rpcMap,y[v].rpcMap)),y[v].defaultChain&&m[v].defaultChain===void 0&&m[v].chains.some(w=>w.split(":")[1]===y[v].defaultChain)&&(m[v].defaultChain=y[v].defaultChain))};c&&p(a.namespaces,c),u&&p(a.namespaces,u);for(const m in a.namespaces){const y=a.namespaces[m];(!y?.accounts||y.accounts.length===0)&&delete a.namespaces[m]}a.namespaces[e.NameSpaceKeyBtc]&&a.wallet.appName===e.OKXWalletName&&i(a.namespaces[e.NameSpaceKeyBtc]),a.sessionConfig=d}function i(a){try{if(a&&a.extra){var c=a.extra;Object.keys(c).forEach(u=>{const d=c[u];Number(d.addressType)===6?d.publicKey=d.compressedPublicKey.slice(2):d.publicKey=d.compressedPublicKey})}}catch{(0,e.logDebug)("namespaces fixMobileBtcSession error")}}function s(a){return a.includes(":")}function o(a){return s(a)?a.split(":")[0]:a}return Mu}var nL;function n0e(){if(nL)return Pf;nL=1;var e=Pf&&Pf.__awaiter||function(o,a,c,u){function d(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(w){try{v(u.next(w))}catch(C){p(C)}}function y(w){try{v(u.throw(w))}catch(C){p(C)}}function v(w){w.done?h(w.value):d(w.value).then(m,y)}v((u=u.apply(o,a||[])).next())})};Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.SignClient=void 0;const t=fr(),n=Iz(),r=Nz(),i=Cc();class s extends t.ISignClient{constructor(a,c,u){super(a),this.connect=d=>e(this,void 0,void 0,function*(){return new Promise((h,p)=>e(this,void 0,void 0,function*(){try{var m=[];(0,t.logDebug)("client connect params >>>",JSON.stringify(d));var y={name:"requestAccounts",requiredNamespaces:(0,n.nameSpaceToConnectWalletNameSpace)(d.namespaces),optionalNamespaces:(0,n.nameSpaceToConnectWalletNameSpace)(d.optionalNamespaces)};this.engine.setSessionConnectingListener(()=>{(0,t.logDebug)("sessionConnectingListener >>>"),this.events.emit(i.PROVIDER_EVENTS.SESSION_CONNECTING)}),d.signRequest&&(y.connectRequestMethods=yield(0,r.connectMethodsToConnectWalletMethods)(d.signRequest,y.requiredNamespaces)),m.push(y),(0,t.logDebug)("client connect connectRequest >>>",JSON.stringify(m)),this.engine.universalConnect(m,Object.assign({dappInfo:this.metadata},d.sessionConfig),v=>{v&&v.connectRequest&&((0,t.logDebug)("universalConect info.connectRequest :",v.connectRequest),(0,t.logDebug)("universalConect url:",(0,t.getOKXLink)(v.connectRequest,this.sessionConfig.useMini)),this.events.emit("display_uri",(0,t.getOKXLink)(v.connectRequest,this.sessionConfig.useMini).universalLink),this.events.emit("short_display_uri",(0,t.getAppWalletShortDeepLink)(v.connectRequest.topic,v.connectRequest.clientId)),(0,t.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(v)}`),this.events.emit("okx_engine_connect_params",v))}).then(v=>e(this,void 0,void 0,function*(){(0,n.fillParamsToSession)(v,d.namespaces,d.optionalNamespaces,this.sessionConfig),(0,t.logDebug)(`signClient: connect: session ${JSON.stringify(v)}`),d.signRequest&&(yield(0,r.connectMethodsResponseUpdate)(v,d.signRequest)),h(v)})).catch(v=>{(0,t.logDebug)(`signClient: connect: catch ${JSON.stringify(v)}`),this.events.emit("connect_error",v),p(v)})}catch(v){(0,t.logDebug)(`signClient: connect:  ${JSON.stringify(v)}`),p(v)}}))}),this.restoreconnect=d=>e(this,void 0,void 0,function*(){return new Promise((h,p)=>{this.engine.restoreconnect(d,m=>{m?h(m):p()})})}),this.reject=d=>e(this,void 0,void 0,function*(){}),this.request=d=>e(this,void 0,void 0,function*(){return new Promise((h,p)=>e(this,void 0,void 0,function*(){var m,y;(0,t.logDebug)("clint request --params>>>> >",(m=this.sessionConfig)===null||m===void 0?void 0:m.openUniversalUrl,(0,t.safeJsonStringify)(d));try{!((y=this.sessionConfig)===null||y===void 0)&&y.openUniversalUrl&&(0,t.isIos)()&&this.openOKXWallet(),yield this.engine.send(d,{resolve:v=>{if(delete v.requestId,(0,t.logDebug)("clint request --response >",(0,t.safeJsonStringify)(v)),"error"in v&&v.error){let w=v.error;p(new t.OKXConnectError(v.error.code,v.method+":"+w.message))}else h(v)},onAck:()=>{var v;!(0,t.isIos)()&&(!((v=this.sessionConfig)===null||v===void 0)&&v.openUniversalUrl)&&this.openOKXWallet()}})}catch(v){(0,t.logDebug)("clint request --error:",v),p(v)}}))}),this.disconnect=()=>e(this,void 0,void 0,function*(){return new Promise((d,h)=>{this.engine.send({method:"disconnect"},{onAck:()=>{d()}},864e5).catch(p=>{console.log(`disconnect : ${JSON.stringify(p)}`),h(p)})})}),this.engine=new t.Engine(a.name),this.events=c,this.metadata=a,this.openAppLineType=u??t.OpenAppLinkType.UniversalLink}setAccountChangeListener(a){this.engine.setAccountChangeListener(a)}openOKXWallet(){(0,t.logDebug)("bridge-provider ==>> connect_5"),this.engine.openWallet({tmaReturnUrl:this.sessionConfig.tmaReturnUrl},null,this.openAppLineType)}syncAllAddress(){return e(this,void 0,void 0,function*(){return new Promise((a,c)=>{this.engine.send({method:"sync_all_addresses"},{resolve:u=>{if(delete u.requestId,(0,t.logDebug)("clint syncAllAddress --response >",JSON.stringify(u)),"error"in u&&u.error){let d=u.error;c(new t.OKXConnectError(u.error.code,u.method+":"+d.message))}else{let d=u.result;a((0,r.syncResoonseToRequire)(d))}}}).catch(u=>{console.log(`disconnect : ${JSON.stringify(u)}`),c(u)})})})}registerConnector(a){this.engine.registerConnector(a)}openWallet(a,c){this.engine.openWallet(a,c,this.openAppLineType)}setConnectConnector(a){this.engine.setConnectConnector(a)}needCheckRequestMethod(){try{return!(this.engine.getConnector()instanceof t.InjectConnector)}catch{return!0}}}return Pf.SignClient=s,Pf}var Lu={},rL;function r0e(){if(rL)return Lu;rL=1;var e=Lu&&Lu.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.SolanaProvider=void 0;const t=Cc(),n=fr(),r=_c(),i=cu(),s=au();class o{constructor(c,u,d,h){this.name="solana",this.namespace=c.namespace,this.events=h,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=u}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}requestAccounts(){return this.getAccounts()}request(c){return e(this,void 0,void 0,function*(){if((0,n.logDebug)("solana request --args--string>",JSON.stringify(c)),(0,n.logDebug)("solana provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method))return this.client.request(c);throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(c,u){this.httpProviders[c]||this.setHttpProvider(c,u),this.chainId=c,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>u.split(":")[2]))]:[]}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,r.getChainId)(u),h=(0,r.getRpcUrl)(u,this.namespace);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),c}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if(typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&(this.httpProviders[c]=d)}createHttpProvider(c,u){const d=u;if(d)return new s.JsonRpcProvider(new i.JsonRpcConnection(d,(0,r.getGlobal)("disableProviderPing")))}getPubkey(c){return this.getWalletAddress(c)}getWalletAddress(c){return c||(c=this.namespace.defaultChain,c?.startsWith("solana")||(c=`solana:${c}`)),this.namespace.accounts.filter(function(u){return u.split(":").length>2&&u.startsWith(c)}).map(function(u){return u.split(":")[2]})[0]}showRequestModal(c){return!0}}return Lu.SolanaProvider=o,Lu.default=o,Lu}var Bp={},iL;function i0e(){if(iL)return Bp;iL=1;var e=Bp&&Bp.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(Bp,"__esModule",{value:!0});const t=Cc(),n=fr(),r=_c(),i=cu(),s=au();class o{constructor(c,u,d,h){this.name=n.NameSpaceKeyBtc,this.namespace=c.namespace,this.events=h,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=u}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}requestAccounts(){return this.getAccounts()}request(c){return e(this,void 0,void 0,function*(){return(0,n.logDebug)("btc request --args--string>",JSON.stringify(c)),(0,n.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method)?this.client.request(c):this.getHttpProvider().request(c)})}setDefaultChain(c,u){this.httpProviders[c]||this.setHttpProvider(c,u),this.chainId=c,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>u.split(":")[2]))]:[]}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,r.getChainId)(u),h=(0,r.getRpcUrl)(u,this.namespace);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),c}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if(typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&(this.httpProviders[c]=d)}createHttpProvider(c,u){const d=u;if(!d)(0,n.logDebug)(`No RPC url provided for chainId: ${c}`);else return new s.JsonRpcProvider(new i.JsonRpcConnection(d,(0,r.getGlobal)("disableProviderPing")))}showRequestModal(c){return!0}}return Bp.default=o,Bp}var $p={},sL;function s0e(){if(sL)return $p;sL=1;var e=$p&&$p.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty($p,"__esModule",{value:!0});const t=Cc(),n=fr(),r=_c(),i=cu(),s=au();class o{constructor(c,u,d,h){this.name="aptos",this.namespace=c.namespace,this.events=h,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=u}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}requestAccounts(){return this.getAccounts()}request(c){return e(this,void 0,void 0,function*(){if((0,n.logDebug)("aptos request --args--string>",(0,n.safeJsonStringify)(c)),(0,n.logDebug)("aptos provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method))return this.client.request(c);throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(c,u){this.httpProviders[c]||this.setHttpProvider(c,u),this.chainId=c,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>u.split(":")[2]))]:[]}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,r.getChainId)(u),h=(0,r.getRpcUrl)(u,this.namespace);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),c}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if(typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&(this.httpProviders[c]=d)}createHttpProvider(c,u){const d=u;if(d)return new s.JsonRpcProvider(new i.JsonRpcConnection(d,(0,r.getGlobal)("disableProviderPing")))}showRequestModal(c){return!0}}return $p.default=o,$p}var Uu={},oL;function o0e(){if(oL)return Uu;oL=1;var e=Uu&&Uu.__awaiter||function(c,u,d,h){function p(m){return m instanceof d?m:new d(function(y){y(m)})}return new(d||(d=Promise))(function(m,y){function v(_){try{C(h.next(_))}catch(O){y(O)}}function w(_){try{C(h.throw(_))}catch(O){y(O)}}function C(_){_.done?m(_.value):p(_.value).then(v,w)}C((h=h.apply(c,u||[])).next())})},t=Uu&&Uu.__rest||function(c,u){var d={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&u.indexOf(h)<0&&(d[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,h=Object.getOwnPropertySymbols(c);p<h.length;p++)u.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(c,h[p])&&(d[h[p]]=c[h[p]]);return d};Object.defineProperty(Uu,"__esModule",{value:!0});const n=Cc(),r=fr(),i=_c(),s=cu(),o=au();class a{constructor(u,d,h){this.name=r.NameSpaceKeyTON,this.namespace=u.namespace,this.events=h,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}isRecord(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}request(u){return e(this,void 0,void 0,function*(){var d,h,p,m;if((0,r.logDebug)("TONProvider request --args--string>",JSON.stringify(u)),(0,r.logDebug)("TONProvider request provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(u.method)){if(!u.params)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(u.params)){const y=u.params,{validUntil:v}=y,w=t(y,["validUntil"]);let C=(h=(d=this.namespace.payload)===null||d===void 0?void 0:d.ton_addr)===null||h===void 0?void 0:h.address;"from"in w&&(C=w.from||((m=(p=this.namespace.payload)===null||p===void 0?void 0:p.ton_addr)===null||m===void 0?void 0:m.address)),u.params.from=C,u.params.network=this.getDefaultChain(),u.params.valid_until=v;let _=yield this.client.request(u);if(this.isRecord(_)&&"result"in _){const O={boc:_.result.toString()};return(0,r.logDebug)("TONProvider request provider response: ",JSON.stringify(_)),(0,r.logDebug)("TONProvider request provider result: ",JSON.stringify(O)),O}throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(u)})}requestAccounts(){return this.getAccounts()}setDefaultChain(u,d){this.httpProviders[u]||this.setHttpProvider(u,d),this.chainId=u,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${u}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}getAccounts(){var u,d;const h=this.namespace.accounts;if((0,r.logDebug)("ton getAccounts accounts :",h),(0,r.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!h)return[];let p=(d=(u=this.namespace.payload)===null||u===void 0?void 0:u.ton_addr)===null||d===void 0?void 0:d.address;return(0,r.logDebug)("ton getAccounts address :",p),p?[p]:[]}createHttpProviders(){const u={};return this.namespace.chains.forEach(d=>{const h=(0,i.getChainId)(d),p=(0,i.getRpcUrl)(d,this.namespace);let m=this.createHttpProvider(h,p);m&&(u[h]=m)}),u}getHttpProvider(){const u=`${this.chainId}`,d=this.httpProviders[u];if((0,r.logDebug)("[RPC] get http provider:",u,d),typeof d>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return d}setHttpProvider(u,d){const h=this.createHttpProvider(u,d);h&&((0,r.logDebug)("setHttpProvider",u,d),this.httpProviders[u]=h)}createHttpProvider(u,d){const h=d;if(!h)(0,r.logDebug)(`No RPC url provided for chainId: ${u}`);else return new o.JsonRpcProvider(new s.JsonRpcConnection(h,(0,i.getGlobal)("disableProviderPing")))}showRequestModal(u){switch(u.method){case"ton_sendTransaction":return!0;default:return!1}}}return Uu.default=a,Uu}var jp={},aL;function a0e(){if(aL)return jp;aL=1;var e=jp&&jp.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(jp,"__esModule",{value:!0});const t=Cc(),n=fr(),r=_c(),i=cu(),s=au();class o{constructor(c,u,d){this.name=n.NameSpaceKeyCosmos,this.namespace=c.namespace,this.events=d,this.client=u,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}requestAccounts(){return this.getAccounts()}request(c){return e(this,void 0,void 0,function*(){if((0,n.logDebug)("cosmos request --args--string>",JSON.stringify(c)),(0,n.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method))return this.client.request(c);throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(c,u){this.httpProviders[c]||this.setHttpProvider(c,u),this.chainId=c,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>u.split(":")[2]))]:[]}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,r.getChainId)(u),h=(0,r.getRpcUrl)(u,this.namespace);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),c}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if(typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&(this.httpProviders[c]=d)}createHttpProvider(c,u){const d=u;if(d)return new s.JsonRpcProvider(new i.JsonRpcConnection(d,(0,r.getGlobal)("disableProviderPing")))}showRequestModal(c){return!0}}return jp.default=o,jp}var Fp={},cL;function c0e(){if(cL)return Fp;cL=1;var e=Fp&&Fp.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(Fp,"__esModule",{value:!0});const t=Cc(),n=fr(),r=_c(),i=cu(),s=au();class o{constructor(c,u,d){this.name=n.NameSpaceKeyTron,this.namespace=c.namespace,this.events=d,this.client=u,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}requestAccounts(){return this.getAccounts()}request(c){return e(this,void 0,void 0,function*(){if((0,n.logDebug)("tron request --args--string>",JSON.stringify(c)),(0,n.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method))return this.client.request(c);throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(c,u){this.httpProviders[c]||this.setHttpProvider(c,u),this.chainId=c,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>u.split(":")[2]))]:[]}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,r.getChainId)(u),h=(0,r.getRpcUrl)(u,this.namespace);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),c}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if(typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&(this.httpProviders[c]=d)}createHttpProvider(c,u){const d=u;if(d)return new s.JsonRpcProvider(new i.JsonRpcConnection(d,(0,r.getGlobal)("disableProviderPing")))}showRequestModal(c){return!0}}return Fp.default=o,Fp}var Kp={},lL;function l0e(){if(lL)return Kp;lL=1;var e=Kp&&Kp.__awaiter||function(a,c,u,d){function h(p){return p instanceof u?p:new u(function(m){m(p)})}return new(u||(u=Promise))(function(p,m){function y(C){try{w(d.next(C))}catch(_){m(_)}}function v(C){try{w(d.throw(C))}catch(_){m(_)}}function w(C){C.done?p(C.value):h(C.value).then(y,v)}w((d=d.apply(a,c||[])).next())})};Object.defineProperty(Kp,"__esModule",{value:!0});const t=Cc(),n=fr(),r=_c(),i=cu(),s=au();class o{constructor(c,u,d,h){this.name="starknet",this.namespace=c.namespace,this.events=h,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=u}updateNamespace(c){this.namespace=Object.assign(this.namespace,c)}requestAccounts(){return this.getAccounts()}request(c){return e(this,void 0,void 0,function*(){if((0,n.logDebug)("starknet request --args--string>",JSON.stringify(c)),(0,n.logDebug)("starknet provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(c.method))return this.client.request(c);throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support"+c.method)})}setDefaultChain(c,u){this.httpProviders[c]||this.setHttpProvider(c,u),this.chainId=c,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const c=this.namespace.chains[0];if(!c)throw new Error("ChainId not found");return c.split(":")[1]}getAccounts(){const c=this.namespace.accounts;return c?[...new Set(c.filter(u=>u.split(":")[1]===this.chainId.toString()).map(u=>u.split(":")[2]))]:[]}createHttpProviders(){const c={};return this.namespace.chains.forEach(u=>{const d=(0,r.getChainId)(u),h=(0,r.getRpcUrl)(u,this.namespace);let p=this.createHttpProvider(d,h);p&&(c[d]=p)}),c}getHttpProvider(){const c=`${this.chainId}`,u=this.httpProviders[c];if(typeof u>"u")throw new Error(`JSON-RPC provider for ${c} not found`);return u}setHttpProvider(c,u){const d=this.createHttpProvider(c,u);d&&(this.httpProviders[c]=d)}createHttpProvider(c,u){const d=u;if(d)return new s.JsonRpcProvider(new i.JsonRpcConnection(d,(0,r.getGlobal)("disableProviderPing")))}showRequestModal(c){return!0}}return Kp.default=o,Kp}var uL;function u0e(){if(uL)return Ic;uL=1;var e=Ic&&Ic.__awaiter||function(S,E,x,N){function A(D){return D instanceof x?D:new x(function(k){k(D)})}return new(x||(x=Promise))(function(D,k){function U(P){try{F(N.next(P))}catch(I){k(I)}}function H(P){try{F(N.throw(P))}catch(I){k(I)}}function F(P){P.done?D(P.value):A(P.value).then(U,H)}F((N=N.apply(S,E||[])).next())})},t=Ic&&Ic.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.OKXUniversalProvider=void 0;const n=e0e(),r=t0e(),i=Cc(),s=t(Ed()),o=n0e(),a=fr(),c=Iz(),u=t(r0e()),d=t(i0e()),h=t(s0e()),p=t(o0e()),m=t(a0e()),y=t(c0e()),v=_c(),w=C3(),C=C3(),_=Rz(),O=t(l0e());let R=class x3{static init(E){return e(this,void 0,void 0,function*(){(0,a.logDebug)("OKXUniversalProvider init() called"),(0,a.checkMetaData)(E.dappMetaData),(0,v.setGlobal)("disableProviderPing",!0);let x;return(0,a.getDefaultReporter)().configVersionAndSide("universalprovider","dapp",E.dappMetaData.name),window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof x3?((0,a.logDebug)("OKXUniversalConnect init() old called"),x=window.okxConnectUniversalinwindow):((0,a.logDebug)("OKXUniversalConnect init() new called"),x=new x3(E),window&&(window.okxConnectUniversalinwindow=x),yield x.initialize()),x})}constructor(E){this.rpcProviders={},this.events=new s.default,(!E.connector||E.connector.length==0)&&((0,w.isMobileDiscover)()?E.connector=[new a.OkxwalletInjectConnector]:E.connector=[new a.AppwalletConnector,new a.TgwalletConnector]),this.providerOpts=E,this.specialDAppLineType(this.providerOpts),(0,a.logDebug)("constructor this.providerOpts>>",JSON.stringify(this.providerOpts));let x=a.OpenAppLinkType.UniversalLink;switch(E.openAppLinkType){case"universallink":x=a.OpenAppLinkType.UniversalLink;break;case"deeplink":x=a.OpenAppLinkType.DeepLink;break;default:x=a.OpenAppLinkType.UniversalLink;break}this.providerOpts.openAppLinkType=x,(0,a.logDebug)("OKXUniversalProvider constructor() linkType:",x)}specialDAppLineType(E){let x=window.location.host;x&&(x.includes("dappportal.io")||x.includes("connect.oker.vip"))&&!E.openAppLinkType&&((0,a.logDebug)("specialDAppLineType --> host:",x),E.openAppLinkType=a.OpenAppLinkType.DeepLink)}getOpenAppLinkType(){var E;return(E=this.providerOpts.openAppLinkType)!==null&&E!==void 0?E:a.OpenAppLinkType.UniversalLink}request(E,x){return e(this,void 0,void 0,function*(){if((0,a.logDebug)("OKXUniversalProvider request() called"),(0,a.reportLog)("OKXUniversalProvider request() called"),!this.connected())throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);(0,a.logDebug)("OKXUniversalProvider request()  connected ");const{namespace:N,requestParam:A}=this.buildRequestParamFromRequest(E,x);return yield this.getProvider(N).request(A)})}buildRequestParamFromRequest(E,x){var N;(0,a.logDebug)("UniversalProvider request args >>>>>>>: ",x,(0,a.safeJsonStringify)(E));let[A,D]=this.validateChain(x);if(!this.session)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let k=Object.keys(this.session.namespaces);if(!x&&k&&k.length>1)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");let U=(0,a.replaceChainNameToChainId)(`${A}:${D}`);U!=null&&(A=U.split(":")[0],D=U.split(":")[1]);const H=Object.assign(Object.assign({},E),{chainId:`${A}:${D}`,redirect:(N=E.redirect)!==null&&N!==void 0?N:this.sessionConfig.redirect});return{namespace:A,requestParam:H}}enable(){return e(this,void 0,void 0,function*(){if(!this.client)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session)if(this.connectOpts)yield this.connect(this.connectOpts);else throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");return yield this.requestAccounts()})}disconnect(){return e(this,void 0,void 0,function*(){return(0,a.logDebug)("OKXUniversalProvider disconnect() called"),(0,a.reportLog)("provider disconnect called"),new Promise(E=>e(this,void 0,void 0,function*(){let x=!1;const N=()=>e(this,void 0,void 0,function*(){x||(x=!0,yield this.disconnectAndEmit(),yield this.cleanup(),E(),(0,a.logDebug)("UniversalProvider disconnect Disconnected"),(0,a.reportLog)("provider disconnect disconnected"))});try{yield this.client.disconnect(),yield N()}catch{yield N()}}))})}disconnectAndEmit(){var E,x;this.client.engine.connectManagerDisconnect(),this.events.emit("disconnect",{topic:(E=this.session)===null||E===void 0?void 0:E.topic}),this.events.emit("session_delete",{topic:(x=this.session)===null||x===void 0?void 0:x.topic})}replaceNamespace(E,x){var N,A;let D=(N=E.namespaces)===null||N===void 0?void 0:N[x];if(D!=null){let U=this.replaceNamespaceInner(D);E.namespaces!=null&&x in E.namespaces&&U!=null&&(E.namespaces[x]=U)}let k=(A=E.optionalNamespaces)===null||A===void 0?void 0:A[x];if(k!=null){let U=this.replaceNamespaceInner(k);E.optionalNamespaces!=null&&x in E.optionalNamespaces&&U!=null&&(E.optionalNamespaces[x]=U)}return E}replaceNamespaceInner(E){var x;return E!=null&&(E.chains=(x=E.chains)===null||x===void 0?void 0:x.map(N=>(0,a.replaceChainNameToChainId)(N)),E.defaultChain!=null&&(E.defaultChain=(0,a.replaceChainNameToChainId)(E.defaultChain))),E}replaceSessionAptos(E,x){var N;let A=(N=E?.namespaces)===null||N===void 0?void 0:N[x];if(A!=null&&A.chains!=null){A.chains=A.chains.map(k=>(0,a.replaceChainIdToChainName)(k)),A.accounts=A.accounts.map(k=>(0,a.replaceChainIdToChainName)(k));let D={};Object.keys(A.extra||{}).forEach((k,U)=>{(0,a.replaceChainIdToChainName)(k),D[(0,a.replaceChainIdToChainName)(k)]=Object.values(E?.namespaces[x].extra||{})[U]}),A.extra=D}(0,a.logDebug)("replaceSessionAptos",E)}connected(){(0,a.logDebug)("OKXUniversalProvider connected() called"),(0,a.reportLog)("provider connected called");let E=()=>{try{this.cleanup(),this.client.engine.connectManagerDisconnect()}catch(x){(0,a.logDebug)("Error during disconnect:",x)}};try{return this.session?this.client.engine.getCurrentConnectionReady(Object.keys(this.session.namespaces))?!0:(E(),!1):!1}catch{return E(),!1}}connectAndSign(E,x){return e(this,void 0,void 0,function*(){(0,a.logDebug)("OKXUniversalProvider connectAndSign() called");const N=Object.assign(Object.assign({},E),x);return(0,a.logDebug)("OKXUniversalProvider connectAndSign() opts:",JSON.stringify(E)),(0,a.logDebug)("OKXUniversalProvider connectAndSign() signRequest:",JSON.stringify(x)),yield this.connect(N)})}connect(E){return e(this,void 0,void 0,function*(){if((0,a.logDebug)("OKXUniversalProvider connect() called"),(0,a.reportLog)("provider connect called"),!this.client)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;E=this.replaceNamespace(E,"aptos"),E=this.replaceNamespace(E,"solana"),(0,a.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(E)),E.sessionConfig===void 0&&(E.sessionConfig={}),E.sessionConfig.openUniversalUrl===void 0&&(E.sessionConfig.openUniversalUrl=(0,a.isMobileUserAgent)()),E.sessionConfig.openAppLinkType=this.providerOpts.openAppLinkType,this.setNamespaces(E);try{(0,a.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(E)}`);let x=yield this.client.connect(E);if((0,a.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(x)}`),x){if(this.replaceSessionAptos(x,"aptos"),this.replaceSessionAptos(x,"solana"),this.session=x,this.client.session=x,this.setConnectConnector(),(0,a.logDebug)("OKXUniversalProvider connect success opts>>>>",JSON.stringify(E)),this.onConnect(),E.signRequest&&E.signRequest.length>0){let N=E.signRequest[0],A=[];typeof window<"u"&&window&&window.okxConnectUniversalUIinwindow?((0,a.logDebug)("OKXUniversalProvider connect success, us UI SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0&&(A=this.session.signResponse)):((0,a.logDebug)("OKXUniversalProvider connect success, us Universal SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0?A=this.session.signResponse:A.push((0,C.creatNotSupportMethodItemReplay)(N))),(0,a.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(A)}`),setTimeout(()=>{this.events.emit("connect_signResponse",A)},100)}return x}return}catch(x){throw(0,a.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(x)),x}})}syncAllAddresses(){return e(this,void 0,void 0,function*(){if((0,_.syncAddressAvailable)(this.session.wallet))return this.client.syncAllAddress();throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}setConnectConnector(){var E;this.client.setConnectConnector((E=this.session)===null||E===void 0?void 0:E.wallet)}on(E,x){this.events.on(E,x)}once(E,x){this.events.once(E,x)}removeListener(E,x){this.events.removeListener(E,x)}off(E,x){this.events.off(E,x)}setDefaultChain(E,x){(0,a.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;const[N,A]=this.validateChain(E);this.getProvider(N).setDefaultChain(A,x)}catch(N){if(!/Please call connect/.test(N.message))throw N}}checkStorage(){return e(this,void 0,void 0,function*(){let E=yield this.getFromStore("connectSession");if((0,a.logDebug)(E),E){(0,a.logDebug)("checkStorage error start");try{let x=E;this.session=x,this.client.session=this.session,this.setConnectConnector(),yield this.client.restoreconnect(x),this.sessionConfig=x.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,a.logDebug)("[evm u-provider] do reconnection",this.session),this.createProviders(),this.registerEventListeners(),setTimeout(()=>{this.events.emit("reconnect",{session:this.session})},100)}catch(x){yield this.cleanup(),(0,a.logDebug)(`checkStorage error ${JSON.stringify(x)}`)}}})}initialize(){return e(this,void 0,void 0,function*(){(0,a.logDebug)("OKXUniversalProvider initialize() called"),(0,a.reportLog)("provider initialize called");const E=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new o.SignClient(E,this.events,this.providerOpts.openAppLinkType),this.registerConnector(this.providerOpts.connector),yield this.checkStorage()})}createProviders(){if(!this.client)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");const E=[...new Set(Object.keys(this.session.namespaces).filter(x=>{var N,A;return((A=(N=this.session.namespaces[x])===null||N===void 0?void 0:N.accounts)===null||A===void 0?void 0:A.length)>0}).map(x=>(0,c.parseNamespaceKey)(x)))];this.rpcProviders={},E.forEach(x=>{if(!this.session)return;const A=this.session.namespaces[x];switch((0,a.logDebug)("init eip155 >> ",A),x){case"eip155":const D={namespace:A};this.rpcProviders[x]=new n.Eip155Provider(D,this.client,this.events);break;case"solana":const k={namespace:A};let U=new u.default(k,"solana",this.client,this.events);this.rpcProviders[x]=U;let H=new u.default(k,"sonic",this.client,this.events);this.rpcProviders.sonic=H;let F=new u.default(k,"svm",this.client,this.events);this.rpcProviders.svm=F;let P=new u.default(k,"soon",this.client,this.events);this.rpcProviders.soon=P;let I=new u.default(k,"eclipse",this.client,this.events);this.rpcProviders.eclipse=I;break;case"ton":const $={namespace:A};let W=new p.default($,this.client,this.events);this.rpcProviders[x]=W;break;case"sui":const X={namespace:A};let j=new r.SuiProvider(X,this.client,this.events);j.name="sui",this.rpcProviders[x]=j;break;case"btc":const G={namespace:A};let ae=new d.default(G,"btc",this.client,this.events);this.rpcProviders.btc=ae;let ce=new d.default(G,"fractal",this.client,this.events);this.rpcProviders.fractal=ce;break;case"aptos":let oe=new h.default({namespace:A},"aptos",this.client,this.events);this.rpcProviders[x]=oe;let Ce=new h.default({namespace:A},"movement",this.client,this.events);this.rpcProviders.movement=Ce;break;case"cosmos":let Ae=new m.default({namespace:A},this.client,this.events);this.rpcProviders[x]=Ae;break;case"tron":let ue=new y.default({namespace:A},this.client,this.events);this.rpcProviders[x]=ue;break;case"starknet":let Y=new O.default({namespace:A},"starknet",this.client,this.events);this.rpcProviders[x]=Y;break}})}registerEventListeners(){if(typeof this.client>"u")throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener(()=>{this.disconnectAndEmit(),this.cleanup()}),this.on(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,E=>{this.onChainChanged(E)}),this.on(i.PROVIDER_EVENTS.UPDATE_NAMESPACES,E=>{if(E){const x=Object.keys(E)[0];this.session&&(this.session.namespaces[x]=E[x],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,a.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}})}getProvider(E){return(0,a.logDebug)("current get providers",this.rpcProviders),(0,a.logDebug)("query namespace: ",E),this.rpcProviders[E]}setNamespaces(E){this.connectOpts=E;const{namespaces:x,sessionConfig:N}=E,A={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon,manifestUrl:this.providerOpts.dappMetaData.manifestUrl};this.sessionConfig=Object.assign({dappInfo:A},N),(0,a.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",N)}validateChain(E){var x;let[N,A]=E?.split(":")||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,a.logDebug)("get name & chain",N,A),[N,A];if(N){if(!this.isChainNamespaceInSession(N))throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${N}' is not configured. Please call connect() first with namespace config.`);if(A&&E){(0,a.logDebug)("this.session.namespaces -->> ",N,JSON.stringify(this.session.namespaces));const U=(x=this.session.namespaces[N])===null||x===void 0?void 0:x.chains;if((0,a.logDebug)("get chainsArr & chain",JSON.stringify(U),E),U&&!U.includes(E))throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${E}'`)}}if(N&&A)return(0,a.logDebug)("get name & chain",N,A),[N,A];let D=(0,c.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);const k=this.rpcProviders[D].getDefaultChain();return(0,a.logDebug)("get default chain:",k),[D,k]}isChainNamespaceInSession(E){var x,N;if(Object.keys(((x=this.session)===null||x===void 0?void 0:x.namespaces)||{}).map(D=>(0,c.parseNamespaceKey)(D)).includes(E))return!0;let A=!1;return Object.values(((N=this.session)===null||N===void 0?void 0:N.namespaces)||{}).forEach(D=>{D.chains.forEach(k=>{k.split(":")[0]==E&&(A=!0)})}),A}requestAccountsWithNamespace(E){return this.getProvider(E).requestAccounts()}requestDefaultChainWithNamespace(E){return this.getProvider(E).getDefaultChain()}requestAccounts(){return e(this,void 0,void 0,function*(){const[E]=this.validateChain();return yield this.getProvider(E).requestAccounts()})}onChainChanged(E){var x;if(!(!((x=this.session)===null||x===void 0)&&x.namespaces))return;const[N,A]=this.validateChain(E);A&&(this.session.namespaces[N]&&(this.session.namespaces[N].defaultChain=A,this.persist("connectSession",this.session)),this.events.emit("chainChanged",A))}onConnect(){this.createProviders(),this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return e(this,void 0,void 0,function*(){this.session=void 0,this.client.session=void 0,this.setConnectConnector(),this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)})}persist(E,x){return(0,a.logDebug)("[evm u-provider] persisit data",E,x),this.client.engine.saveSessionContent(E,x)}getFromStore(E){return e(this,void 0,void 0,function*(){return this.client.engine.getSessionContent(E)})}showRequestModal(E,x){try{const{namespace:N,requestParam:A}=this.buildRequestParamFromRequest(E,x);return this.getProvider(N).showRequestModal(A)}catch{return!1}}openWallet(E,x){this.client.openWallet(E,x)}registerConnector(E){this.client.registerConnector(E),this.client.setAccountChangeListener(x=>{(0,a.logDebug)("accountChangeListener session",this.events.listenerCount("accountChanged"),JSON.stringify(x));try{x&&this.events.listenerCount("accountChanged")&&(this.replaceSessionAptos(x,"aptos"),this.replaceSessionAptos(x,"solana"),this.session=x,this.client.session=x,this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.setConnectConnector(),this.createProviders(),this.events.emit("accountChanged",this.session))}catch(N){(0,a.logDebug)("setAccountChangeListener error:",JSON.stringify(N))}})}};return Ic.OKXUniversalProvider=R,Ic.default=R,Ic}var Bu={},dL;function d0e(){if(dL)return Bu;dL=1;var e=Bu&&Bu.__awaiter||function(i,s,o,a){function c(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function h(y){try{m(a.next(y))}catch(v){d(v)}}function p(y){try{m(a.throw(y))}catch(v){d(v)}}function m(y){y.done?u(y.value):c(y.value).then(h,p)}m((a=a.apply(i,s||[])).next())})};Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.OKXBtcProvider=void 0;const t=O5(),n=fr();let r=class{constructor(s){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=s}getAddressForChainId(s){var o,a;if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let u=(a=(o=this.provider.session)===null||o===void 0?void 0:o.namespaces.btc)===null||a===void 0?void 0:a.accounts.filter(function(p){return p.startsWith(s)});if(u==null||u.length<0)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return u[0].split(":")[2]}getAccount(s){var o,a,c;if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let d=(c=(a=(o=this.provider.session)===null||o===void 0?void 0:o.namespaces.btc)===null||a===void 0?void 0:a.extra)===null||c===void 0?void 0:c[s],h="";return d!=null&&(h=d.compressedPublicKey),{address:this.getAddressForChainId(s),publicKey:h}}signMessage(s,o,a){return e(this,void 0,void 0,function*(){if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o==="undefined")throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let u={signStr:o,from:this.getAddressForChainId(s)};a&&(u.type=a);try{const d=yield this.provider.request({method:"btc_signMessage",params:u},s);return"result"in d?d.result:d.error}catch(d){throw d instanceof t.OKXConnectError?d:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendBitcoin(s,o,a,c){return e(this,void 0,void 0,function*(){if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let d={from:this.getAddressForChainId(s),to:o,value:(a/1e8).toString()};c?.feeRate&&(d.satBytes=c.feeRate.toString());let h=yield this.send(s,d);return h!==void 0&&"txhash"in h?h.txhash:h})}send(s,o){return e(this,void 0,void 0,function*(){if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(o,"to","value"))throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");o.from=this.getAddressForChainId(s);try{const c=yield this.provider.request({method:"btc_send",params:o},s);return"result"in c?{txhash:c.result}:c.error}catch(c){throw c instanceof t.OKXConnectError?c:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${c}`)}})}signPsbt(s,o,a){return e(this,void 0,void 0,function*(){return new Promise((c,u)=>{this.signPsbts(s,[o],[a]).then(d=>{let h=JSON.parse(d);c(h[0])}).catch(d=>{u(d)})})})}signPsbts(s,o,a){return e(this,void 0,void 0,function*(){if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o===void 0)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let u={psbtHexs:o,options:a};u.from=this.getAddressForChainId(s);try{const d=yield this.provider.request({method:"btc_signPsbts",params:u},s);if("result"in d)return d.result}catch(d){throw d instanceof t.OKXConnectError?d:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${d}`)}})}signAndPushPsbt(s,o,a){return e(this,void 0,void 0,function*(){if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o===void 0)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let u={psbtHex:o,options:a};u.from=this.getAddressForChainId(s);try{const d=yield this.provider.request({method:"btc_signAndPushPsbt",params:u},s);return"result"in d?JSON.parse(d.result):d.error}catch(d){throw d instanceof t.OKXConnectError?d:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${d}`)}})}sendInscription(s,o,a,c){return e(this,void 0,void 0,function*(){let u={address:o,inscriptionId:a,options:c};if(this.checkChainId(s)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o==="undefined")throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var h=0;c&&"feeRate"in c&&(h=c.feeRate);let p="",m=this.getAddressForChainId(s);var y=7;if(a!=="undefined"){let w="-Atomicals",C="-Ordinals";a?.toLowerCase().endsWith(w.toLowerCase())?(y=8,a=this.removeSuffix(a,w)):a?.toLowerCase().endsWith(C.toLowerCase())&&(a=this.removeSuffix(a,C))}let v={scenario:5,feeRate:h,txType:"20",to:o,batchBean:[{coinAmount:"1",nftId:a,protocolId:y,coinId:p,inscriptionId:"",from:m}],extension:u};try{const w=yield this.provider.request({method:"btc_sendInscription",params:v,injectParams:{address:o,inscriptionId:a,options:c}},s);return"result"in w?w.result:w.error}catch(w){throw w instanceof t.OKXConnectError?w:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendRunes(s,o,a,c,u){return e(this,void 0,void 0,function*(){try{if(!s||!o||!a||!c)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let d=this.checkChainId(s),h;if(d!=null&&(d.startsWith("btc")?h=13:d.startsWith("fractal")&&(h=16)),d==null||h==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let m={fromAddress:this.getAddressForChainId(s),protocolId:h,address:o,runeid:a,amount:c,options:u};return(0,n.logDebug)("OKXBtcProvider sendRunes -->",JSON.stringify(m)),(yield this.provider.request({method:"btc_sendRunes",params:m,injectParams:{address:o,runeid:a,amount:c,options:u}},s)).result}catch(d){throw d}})}inscribeTransfer(s,o,a){return e(this,void 0,void 0,function*(){try{if(!s||!o||!a)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let c=this.checkChainId(s),u;if(c!=null&&(c.startsWith("btc")?u=1:c.startsWith("fractal")&&(u=14)),c==null||u==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let h={fromAddress:this.getAddressForChainId(s),protocolId:u,ticker:o,amount:a};(0,n.logDebug)("OKXBtcProvider inscribeTransfer -->",JSON.stringify(h));const p=yield this.provider.request({method:"btc_inscribeTransfer",params:h},s)}catch(c){throw c}})}removeSuffix(s,o){return s.endsWith(o)?s.slice(0,s.length-o.length):s}checkParameters(s,...o){var a=[];return o.forEach(c=>{`${c}`in s||a.push(c)}),a.length>0?(console.log("not find key: ",a.join(",")),!1):!0}checkChainId(s){if(this.caip.includes(s)){let[o,a]=s.split(":");return o}}};return Bu.OKXBtcProvider=r,Bu.default=r,Bu}var If={},fL;function f0e(){if(fL)return If;fL=1;var e=If&&If.__awaiter||function(r,i,s,o){function a(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function d(m){try{p(o.next(m))}catch(y){u(y)}}function h(m){try{p(o.throw(m))}catch(y){u(y)}}function p(m){m.done?c(m.value):a(m.value).then(d,h)}p((o=o.apply(r,i||[])).next())})};Object.defineProperty(If,"__esModule",{value:!0}),If.OKXCosmosProvider=void 0;const t=fr();let n=class{constructor(i){this.provider=i}getAccount(i){var s,o,a,c,u,d;(0,t.logDebug)("OKXCosmosProvider getAccount chainId:",i),(0,t.logDebug)("OKXCosmosProvider getAccount namespaces:",JSON.stringify((s=this.provider.session)===null||s===void 0?void 0:s.namespaces));let h=(a=(o=this.provider.session)===null||o===void 0?void 0:o.namespaces[t.NameSpaceKeyCosmos])===null||a===void 0?void 0:a.accounts.filter(function(w){return w.startsWith(i)})[0];if((0,t.logDebug)("OKXCosmosProvider getAccount account:",JSON.stringify(h)),!h)return;const p=h.split(":"),m=h.split(":")[2];(0,t.logDebug)("OKXCosmosProvider getAccount address:",m);let y=(d=(u=(c=this.provider.session)===null||c===void 0?void 0:c.namespaces[t.NameSpaceKeyCosmos])===null||u===void 0?void 0:u.extra)===null||d===void 0?void 0:d[`${p[0]}:${p[1]}`],v="";if(y!=null&&(v=y.publicKey,console.log("aptos_publicKey",v)),!!m)return{algo:"secp256k1",address:m,bech32Address:m,pubKey:this.hexToUint8Array(v)}}signArbitrary(i,s,o){return e(this,void 0,void 0,function*(){const a=window.btoa(o),c={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:s,data:a}}],memo:""};let u={chainId:i,method:"cosmos_signArbitrary",params:{signer:s,chain_id:i.split(":")[1],data:c}};try{const d=yield this.provider.request(u,i);return"result"in d?typeof d.result=="string"?JSON.parse(d.result):d.result:d.error}catch(d){return d}})}signAmino(i,s,o,a){return e(this,void 0,void 0,function*(){if(o.msgs[0].type=="sign/MsgSignData"){let c={chainId:i,method:"cosmos_signArbitrary",params:{signer:s,chain_id:i.split(":")[1],data:o}};try{const u=yield this.provider.request(c,i);return"result"in u?u.result:u.error}catch(u){return u}}else{let c={chainId:i,method:"cosmos_signAmino",params:{signer:s,chainId:i.split(":")[1],sign_doc:o,signOptions:a}};try{const u=yield this.provider.request(c,i);if("result"in u){const d=JSON.parse(u.result);return console.log("signdoc",o,d.signDoc),o.fee=d.signDoc.fee,{signed:o,signature:d.signature}}else return u.error}catch(u){return u}}})}signDirect(i,s,o,a){return e(this,void 0,void 0,function*(){const c={bodyBytes:this.bufferToHex(o.bodyBytes),authInfoBytes:this.bufferToHex(o.authInfoBytes),chainId:o.chainId,accountNumber:o.accountNumber?o.accountNumber.toString():null,signOptions:a||null};let u={chainId:i,method:"cosmos_signDirect",params:{signer:s,chainId:i.split(":")[1],sign_doc:c}};try{const d=yield this.provider.request(u,i);if("result"in d){const h=JSON.parse(d.result);return console.log("signdirect result",h),o.authInfoBytes=this.messageToBuffer(h.signDoc.authInfoBytes),{signed:o,signature:h.signature}}}catch(d){return d}})}messageToBuffer(i){var s=Uint8Array.from([]);try{typeof i=="string"?s=this.hexToUint8Array(i.replace("0x","")):s=Uint8Array.from(i)}catch(o){console.log(`messageToBuffer error: ${o}`)}return s}bufferToHex(i){return"0x"+[...new Uint8Array(i)].map(o=>o.toString(16).padStart(2,"0")).join("")}hexToUint8Array(i){if(i.length%2!==0)throw"Invalid hexString";for(var s=new Uint8Array(i.length/2),o=0;o<i.length;o+=2){var a=parseInt(i.substr(o,2),16);if(isNaN(a))throw"Invalid hexString";s[o/2]=a}return s}};return If.OKXCosmosProvider=n,If}var $u={},hL;function h0e(){if(hL)return $u;hL=1;var e=$u&&$u.__awaiter||function(i,s,o,a){function c(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function h(y){try{m(a.next(y))}catch(v){d(v)}}function p(y){try{m(a.throw(y))}catch(v){d(v)}}function m(y){y.done?u(y.value):c(y.value).then(h,p)}m((a=a.apply(i,s||[])).next())})};Object.defineProperty($u,"__esModule",{value:!0}),$u.OKXTonProvider=void 0;const t=O5(),n=fr();let r=class{constructor(s){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=s,this.provider.on("connect",()=>{let o=this.wallet();(0,n.logDebug)("OKXTONProvider event connect:",JSON.stringify(o)),this.statusChangeSubscriptions.forEach(a=>a(o))}),this.provider.on("reconnect",()=>{let o=this.wallet();(0,n.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(o)),this.statusChangeSubscriptions.forEach(a=>a(o))}),this.provider.on("disconnect",()=>{(0,n.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach(o=>o(null))}),this.provider.on("connect_error",o=>{(0,n.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(o)),this.statusChangeErrorSubscriptions.forEach(a=>a(o))})}connected(){return this.provider.connected()?!!this.provider.session.namespaces.ton:!1}account(){try{if(!this.provider.session)return null;let s=this.provider.session.namespaces.ton;if(!s||!s.payload||!s.payload.ton_addr)return null;let o=s.payload.ton_addr;return{address:o.address,chain:o.network,walletStateInit:o.walletStateInit,publicKey:o.publicKey}}catch(s){return(0,n.logDebug)("OKXTONProvider account  error:",JSON.stringify(s)),null}}wallet(){if(this.connected())try{let s=this.provider.session.wallet;const a={device:{platform:s.platform,appName:s.appName,appVersion:s.appVersion,maxProtocolVersion:s.maxProtocolVersion,features:["ton_sendTransaction"]},provider:"http",account:this.account()};let c=this.provider.session.namespaces.ton;return c&&c.payload&&c.payload.ton_proof&&(a.connectItems={tonProof:c.payload.ton_proof}),(0,n.logDebug)("OKXTONProvider wallet :",JSON.stringify(a)),a}catch(s){return(0,n.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(s)),null}return null}onStatusChange(s,o){return this.statusChangeSubscriptions.push(s),o&&this.statusChangeErrorSubscriptions.push(o),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(a=>a!==s),o&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(a=>a!==o))}}sendTransaction(s){return e(this,void 0,void 0,function*(){if(s.network&&s.network!==n.TONCHAIN.MAINNET)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");if(s.network||(s.network=n.TONCHAIN.MAINNET),this.provider.session&&!s.from){const c=this.provider.requestAccountsWithNamespace("ton");s.from=c[0]}const o={method:"ton_sendTransaction",params:s};let a="ton:"+n.TONCHAIN.MAINNET;return(0,n.logDebug)("OKXTONProvider sendTransaction transaction----:",a,JSON.stringify(o)),this.provider.request(o,a)})}};return $u.OKXTonProvider=r,$u.default=r,$u}var Df={},pL;function p0e(){if(pL)return Df;pL=1;var e=Df&&Df.__awaiter||function(r,i,s,o){function a(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function d(m){try{p(o.next(m))}catch(y){u(y)}}function h(m){try{p(o.throw(m))}catch(y){u(y)}}function p(m){m.done?c(m.value):a(m.value).then(d,h)}p((o=o.apply(r,i||[])).next())})};Object.defineProperty(Df,"__esModule",{value:!0}),Df.OKXTronProvider=void 0;const t=fr();let n=class{constructor(i){this.TRON_CHAIN_ID="tron:mainnet",this.provider=i}getChain(i){if(i==null&&(i=this.TRON_CHAIN_ID),i!=this.TRON_CHAIN_ID)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+i+"is wrong for OKXTronProvider");return i}getAccount(i){var s,o,a,c,u;i=this.getChain(i);let d=(o=(s=this.provider.session)===null||s===void 0?void 0:s.namespaces[t.NameSpaceKeyTron])===null||o===void 0?void 0:o.accounts.filter(function(y){return y.startsWith(i)})[0];if(!d)return;const h=d.split(":"),p=d.split(":")[2];let m=(u=(c=(a=this.provider.session)===null||a===void 0?void 0:a.namespaces[t.NameSpaceKeyTron])===null||c===void 0?void 0:c.extra)===null||u===void 0?void 0:u[`${h[0]}:${h[1]}`];if(m?.publicKey,!!p)return{address:p}}stringToHex(i){let s="";for(let o=0;o<i.length;o++)s+=i.charCodeAt(o).toString(16).padStart(2,"0");return s}signMessage(i,s){return e(this,void 0,void 0,function*(){s=this.getChain(s);let o={chainId:s,method:"tron_signMessage",params:{message:this.stringToHex(i)}};try{const a=yield this.provider.request(o,s);return"result"in a?a.result:a.error}catch(a){return a}})}signMessageV2(i,s){return e(this,void 0,void 0,function*(){s=this.getChain(s);let o={chainId:s,method:"tron_signMessageV2",params:{message:i}};try{const a=yield this.provider.request(o,s);return"result"in a?a.result:a.error}catch(a){return a}})}signTransaction(i,s){return e(this,void 0,void 0,function*(){s=this.getChain(s);let o={method:"tron_signTransaction",params:i};try{const a=yield this.provider.request(o,s);if("result"in a){let c;typeof a.result=="string"?c=JSON.parse(a.result):c=a.result;let u={};u.visible=c.visible,u.txID=c.txID;let d={};return d.contract=c.raw_data.contract,d.expiration=c.raw_data.expiration,d.ref_block_bytes=c.raw_data.ref_block_bytes,d.fee_limit=c.raw_data.fee_limit,d.ref_block_hash=c.raw_data.ref_block_hash,d.timestamp=c.raw_data.timestamp,u.raw_data=d,u.raw_data_hex=c.raw_data_hex,u.signature=c.signature,u}}catch(a){return a}})}signAndSendTransaction(i,s){return e(this,void 0,void 0,function*(){s=this.getChain(s);let o={method:"tron_signAndSendTransaction",params:i};try{const a=yield this.provider.request(o,s);if("result"in a)return a.result}catch(a){return a}})}};return Df.OKXTronProvider=n,Df}var kf={},gL;function g0e(){if(gL)return kf;gL=1;var e=kf&&kf.__awaiter||function(r,i,s,o){function a(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function d(m){try{p(o.next(m))}catch(y){u(y)}}function h(m){try{p(o.throw(m))}catch(y){u(y)}}function p(m){m.done?c(m.value):a(m.value).then(d,h)}p((o=o.apply(r,i||[])).next())})};Object.defineProperty(kf,"__esModule",{value:!0}),kf.OKXStarknetProvider=void 0;const t=fr();let n=class{constructor(i){this.STARKNET_CHAIN_ID="starknet:mainnet",this.provider=i}getChain(i){if(i==null&&(i=this.STARKNET_CHAIN_ID),i!=this.STARKNET_CHAIN_ID)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+i+"is wrong for OKXStarknetProvider");return i}getAccount(i){var s,o,a,c,u;let d=(o=(s=this.provider.session)===null||s===void 0?void 0:s.namespaces[t.NameSpaceKeyStarknet])===null||o===void 0?void 0:o.accounts.filter(function(v){return v.startsWith(i)})[0];if(!d)return;const h=d.split(":"),p=d.split(":")[2];let m=(u=(c=(a=this.provider.session)===null||a===void 0?void 0:a.namespaces[t.NameSpaceKeyStarknet])===null||c===void 0?void 0:c.extra)===null||u===void 0?void 0:u[`${h[0]}:${h[1]}`],y="";if(m!=null&&(y=m.publicKey),!!p)return{address:p,pubKey:y}}signMessage(i,s,o){return e(this,void 0,void 0,function*(){o=this.getChain(o),i.length==0&&(i=this.getAccount(o).address);let a={chainId:o,method:"starknet_signMessage",params:{accountAddress:i,typedData:s}};try{const c=yield this.provider.request(a,o);if("result"in c){let u=c.result;return typeof u=="string"&&(u=JSON.parse(u)),[u.signedDataR,u.signedDataS]}else return c.error}catch(c){return c}})}sendTransaction(i,s,o){return e(this,void 0,void 0,function*(){o=this.getChain(o);let c={method:"starknet_sendTransaction",params:{data:JSON.stringify({accountAddress:i,executionRequest:s}),from:i}};try{const u=yield this.provider.request(c,o);return"result"in u?{transaction_hash:u.result}:u.error}catch(u){return u}})}signMessageDeclareContractPayload(i,s){return e(this,void 0,void 0,function*(){s=this.getChain(s);try{let o={method:"starknet_signMessage",params:i};const a=yield this.provider.request(o,s);return"result"in a?{transaction_hash:a.result.txHash,class_hash:a.result.classHash}:a.error}catch(o){return o}})}sendMessageExecuteTransactionDetail(i,s,o,a,c){return e(this,void 0,void 0,function*(){c=this.getChain(c);const d={calls:Array.isArray(s)?s:[s],abis:o,transactionsDetail:{nonce:a?.nonce,maxFee:a?.nonce,version:a?.version}};return this.sendTransaction(i,d,c)})}};return kf.OKXStarknetProvider=n,kf}var mL;function O5(){return mL||(mL=1,function(e){var t=Ef&&Ef.__createBinding||(Object.create?function(u,d,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(d,h);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(u,p,m)}:function(u,d,h,p){p===void 0&&(p=h),u[p]=d[h]}),n=Ef&&Ef.__exportStar||function(u,d){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&t(d,u,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXStarknetProvider=e.OKXTronProvider=e.OKXTonProvider=e.OKXCosmosProvider=e.OKXBtcProvider=e.OKXUniversalProvider=void 0,n(S5(),e),n(C3(),e);var r=u0e();Object.defineProperty(e,"OKXUniversalProvider",{enumerable:!0,get:function(){return r.OKXUniversalProvider}});var i=d0e();Object.defineProperty(e,"OKXBtcProvider",{enumerable:!0,get:function(){return i.OKXBtcProvider}});var s=f0e();Object.defineProperty(e,"OKXCosmosProvider",{enumerable:!0,get:function(){return s.OKXCosmosProvider}});var o=h0e();Object.defineProperty(e,"OKXTonProvider",{enumerable:!0,get:function(){return o.OKXTonProvider}});var a=p0e();Object.defineProperty(e,"OKXTronProvider",{enumerable:!0,get:function(){return a.OKXTronProvider}});var c=g0e();Object.defineProperty(e,"OKXStarknetProvider",{enumerable:!0,get:function(){return c.OKXStarknetProvider}}),n(fr(),e)}(Ef)),Ef}var Wp=O5(),m0e=Object.defineProperty,y0e=Object.defineProperties,v0e=Object.getOwnPropertyDescriptors,yL=Object.getOwnPropertySymbols,w0e=Object.prototype.hasOwnProperty,b0e=Object.prototype.propertyIsEnumerable,S3=(e,t,n)=>t in e?m0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ws=(e,t)=>{for(var n in t||(t={}))w0e.call(t,n)&&S3(e,n,t[n]);if(yL)for(var n of yL(t))b0e.call(t,n)&&S3(e,n,t[n]);return e},ra=(e,t)=>y0e(e,v0e(t)),wr=(e,t,n)=>(S3(e,typeof t!="symbol"?t+"":t,n),n),so=(e,t,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(e,t)).next())}),vL,wL,bL,EL,_L,CL,xL,Ts=(e=>(e.DARK="DARK",e.LIGHT="LIGHT",e))(Ts||{});class ql extends xe.OKXConnectError{constructor(t){super(1,t)}}const E0e=!1,_0e=(e,t)=>e===t,yc=Symbol("solid-proxy"),Dz=typeof Proxy=="function",O3=Symbol("solid-track"),Y_={equals:_0e};let kz=$z;const lu=1,Z_=2,Mz={owned:null,cleanups:null,context:null,owner:null};var Yr=null;let nA=null,C0e=null,xi=null,Xs=null,Vl=null,o2=0;function l_(e,t){const n=xi,r=Yr,i=e.length===0,s=t===void 0?r:t,o=i?Mz:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?e:()=>e(()=>Js(()=>Nv(o)));Yr=o,xi=null;try{return Cg(a,!0)}finally{xi=n,Yr=r}}function Cr(e,t){t=t?Object.assign({},Y_,t):Y_;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Bz(n,i));return[Uz.bind(n),r]}function x0e(e,t,n){const r=a2(e,t,!0,lu);_g(r)}function Qr(e,t,n){const r=a2(e,t,!1,lu);_g(r)}function uo(e,t,n){kz=A0e;const r=a2(e,t,!1,lu);(!n||!n.render)&&(r.user=!0),Vl?Vl.push(r):_g(r)}function cn(e,t,n){n=n?Object.assign({},Y_,n):Y_;const r=a2(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,_g(r),Uz.bind(r)}function Lz(e){return Cg(e,!1)}function Js(e){if(xi===null)return e();const t=xi;xi=null;try{return e()}finally{xi=t}}function V0(e){uo(()=>Js(e))}function Hh(e){return Yr===null||(Yr.cleanups===null?Yr.cleanups=[e]:Yr.cleanups.push(e)),e}function A3(){return xi}function z1(e,t){const n=Symbol("context");return{id:n,Provider:R0e(n),defaultValue:e}}function Ha(e){let t;return Yr&&Yr.context&&(t=Yr.context[e.id])!==void 0?t:e.defaultValue}function A5(e){const t=cn(e),n=cn(()=>T3(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Uz(){if(this.sources&&this.state)if(this.state===lu)_g(this);else{const e=Xs;Xs=null,Cg(()=>eC(this),!1),Xs=e}if(xi){const e=this.observers?this.observers.length:0;xi.sources?(xi.sources.push(this),xi.sourceSlots.push(e)):(xi.sources=[this],xi.sourceSlots=[e]),this.observers?(this.observers.push(xi),this.observerSlots.push(xi.sources.length-1)):(this.observers=[xi],this.observerSlots=[xi.sources.length-1])}return this.value}function Bz(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Cg(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=nA&&nA.running;o&&nA.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?Xs.push(s):Vl.push(s),s.observers&&jz(s)),o||(s.state=lu)}if(Xs.length>1e6)throw Xs=[],new Error},!1)),t}function _g(e){if(!e.fn)return;Nv(e);const t=o2;S0e(e,e.value,t)}function S0e(e,t,n){let r;const i=Yr,s=xi;xi=Yr=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=lu,e.owned&&e.owned.forEach(Nv),e.owned=null),e.updatedAt=n+1,Fz(o)}finally{xi=s,Yr=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Bz(e,r):e.value=r,e.updatedAt=n)}function a2(e,t,n,r=lu,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Yr,context:Yr?Yr.context:null,pure:n};return Yr===null||Yr!==Mz&&(Yr.owned?Yr.owned.push(s):Yr.owned=[s]),s}function Q_(e){if(e.state===0)return;if(e.state===Z_)return eC(e);if(e.suspense&&Js(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<o2);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===lu)_g(e);else if(e.state===Z_){const r=Xs;Xs=null,Cg(()=>eC(e,t[0]),!1),Xs=r}}function Cg(e,t){if(Xs)return e();let n=!1;t||(Xs=[]),Vl?n=!0:Vl=[],o2++;try{const r=e();return O0e(n),r}catch(r){n||(Vl=null),Xs=null,Fz(r)}}function O0e(e){if(Xs&&($z(Xs),Xs=null),e)return;const t=Vl;Vl=null,t.length&&Cg(()=>kz(t),!1)}function $z(e){for(let t=0;t<e.length;t++)Q_(e[t])}function A0e(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Q_(r)}for(t=0;t<n;t++)Q_(e[t])}function eC(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===lu?r!==t&&(!r.updatedAt||r.updatedAt<o2)&&Q_(r):i===Z_&&eC(r,t)}}}function jz(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Z_,n.pure?Xs.push(n):Vl.push(n),n.observers&&jz(n))}}function Nv(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Nv(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Nv(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function T0e(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Fz(e,t=Yr){throw T0e(e)}function T3(e){if(typeof e=="function"&&!e.length)return T3(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=T3(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function R0e(e,t){return function(r){let i;return Qr(()=>i=Js(()=>(Yr.context=ra(Ws({},Yr.context),{[e]:r.value}),A5(()=>r.children))),void 0),i}}const N0e=Symbol("fallback");function SL(e){for(let t=0;t<e.length;t++)e[t]()}function P0e(e,t,n={}){let r=[],i=[],s=[],o=0,a=t.length>1?[]:null;return Hh(()=>SL(s)),()=>{let c=e()||[],u=c.length,d,h;return c[O3],Js(()=>{let m,y,v,w,C,_,O,R,S;if(u===0)o!==0&&(SL(s),s=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[N0e],i[0]=l_(E=>(s[0]=E,n.fallback())),o=1);else if(o===0){for(i=new Array(u),h=0;h<u;h++)r[h]=c[h],i[h]=l_(p);o=u}else{for(v=new Array(u),w=new Array(u),a&&(C=new Array(u)),_=0,O=Math.min(o,u);_<O&&r[_]===c[_];_++);for(O=o-1,R=u-1;O>=_&&R>=_&&r[O]===c[R];O--,R--)v[R]=i[O],w[R]=s[O],a&&(C[R]=a[O]);for(m=new Map,y=new Array(R+1),h=R;h>=_;h--)S=c[h],d=m.get(S),y[h]=d===void 0?-1:d,m.set(S,h);for(d=_;d<=O;d++)S=r[d],h=m.get(S),h!==void 0&&h!==-1?(v[h]=i[d],w[h]=s[d],a&&(C[h]=a[d]),h=y[h],m.set(S,h)):s[d]();for(h=_;h<u;h++)h in v?(i[h]=v[h],s[h]=w[h],a&&(a[h]=C[h],a[h](h))):i[h]=l_(p);i=i.slice(0,o=u),r=c.slice(0)}return i});function p(m){if(s[h]=m,a){const[y,v]=Cr(h);return a[h]=v,t(c[h],y)}return t(c[h])}}}function be(e,t){return Js(()=>e(t||{}))}function Bb(){return!0}const R3={get(e,t,n){return t===yc?n:e.get(t)},has(e,t){return t===yc?!0:e.has(t)},set:Bb,deleteProperty:Bb,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Bb,deleteProperty:Bb}},ownKeys(e){return e.keys()}};function rA(e){return(e=typeof e=="function"?e():e)?e:{}}function I0e(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Xl(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&yc in a,e[o]=typeof a=="function"?(t=!0,cn(a)):a}if(Dz&&t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const c=rA(e[a])[o];if(c!==void 0)return c}},has(o){for(let a=e.length-1;a>=0;a--)if(o in rA(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(rA(e[a])));return[...new Set(o)]}},R3);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const c=Object.getOwnPropertyNames(a);for(let u=c.length-1;u>=0;u--){const d=c[u];if(d==="__proto__"||d==="constructor")continue;const h=Object.getOwnPropertyDescriptor(a,d);if(!r[d])r[d]=h.get?{enumerable:!0,configurable:!0,get:I0e.bind(n[d]=[h.get.bind(a)])}:h.value!==void 0?h:void 0;else{const p=n[d];p&&(h.get?p.push(h.get.bind(a)):h.value!==void 0&&p.push(()=>h.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const a=s[o],c=r[a];c&&c.get?Object.defineProperty(i,a,c):i[a]=c?c.value:void 0}return i}function T5(e,...t){if(Dz&&yc in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},R3));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},R3)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,c=0;for(const u of t)u.includes(i)&&(a=!0,o?r[c][i]=s.value:Object.defineProperty(r[c],i,s)),++c;a||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}const Kz=e=>`Stale read from <${e}>.`;function D0e(e){const t="fallback"in e&&{fallback:()=>e.fallback};return cn(P0e(()=>e.each,e.children,t||void 0))}function Xn(e){const t=e.keyed,n=cn(()=>e.when,void 0,void 0),r=t?n:cn(n,void 0,{equals:(i,s)=>!i==!s});return cn(()=>{const i=r();if(i){const s=e.children;return typeof s=="function"&&s.length>0?Js(()=>s(t?i:()=>{if(!Js(r))throw Kz("Show");return n()})):s}return e.fallback},void 0,void 0)}function Wz(e){const t=A5(()=>e.children),n=cn(()=>{const r=t(),i=Array.isArray(r)?r:[r];let s=()=>{};for(let o=0;o<i.length;o++){const a=o,c=i[o],u=s,d=cn(()=>u()?void 0:c.when,void 0,void 0),h=c.keyed?d:cn(d,void 0,{equals:(p,m)=>!p==!m});s=()=>u()||(h()?[a,d,c]:void 0)}return s});return cn(()=>{const r=n()();if(!r)return e.fallback;const[i,s,o]=r,a=o.children;return typeof a=="function"&&a.length>0?Js(()=>a(o.keyed?s():()=>{var u;if(((u=Js(n)())==null?void 0:u[0])!==i)throw Kz("Match");return s()})):a},void 0,void 0)}function rd(e){return e}const k0e=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],M0e=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...k0e]),L0e=new Set(["innerHTML","textContent","innerText","children"]),U0e=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),B0e=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function $0e(e,t){const n=B0e[e];return typeof n=="object"?n[t]?n.$:void 0:n}const j0e=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),F0e=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),K0e={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function W0e(e,t,n){let r=n.length,i=t.length,s=r,o=0,a=0,c=t[i-1].nextSibling,u=null;for(;o<i||a<s;){if(t[o]===n[a]){o++,a++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){const d=s<r?a?n[a-1].nextSibling:n[s-a]:c;for(;a<s;)e.insertBefore(n[a++],d)}else if(s===a)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[a]===t[i-1]){const d=t[--i].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--s],d),t[i]=n[s]}else{if(!u){u=new Map;let h=a;for(;h<s;)u.set(n[h],h++)}const d=u.get(t[o]);if(d!=null)if(a<d&&d<s){let h=o,p=1,m;for(;++h<i&&h<s&&!((m=u.get(t[h]))==null||m!==d+p);)p++;if(p>d-a){const y=t[o];for(;a<d;)e.insertBefore(n[a++],y)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const OL="_$DX_DELEGATE";function H0e(e,t,n,r={}){let i;return l_(s=>{i=s,t===document?e():nC(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function vi(e,t,n,r){let i;const s=()=>{const a=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=e,n?a.content.firstChild.firstChild:r?a.firstChild:a.content.firstChild},o=t?()=>Js(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return o.cloneNode=o,o}function z0e(e,t=window.document){const n=t[OL]||(t[OL]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Q0e))}}function Un(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function q0e(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function V0e(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function Hz(e,t){t==null?e.removeAttribute("class"):e.className=t}function X0e(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n,typeof n!="function"&&n)}function G0e(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||t[a]||(AL(e,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],c=!!t[a];!a||a==="undefined"||n[a]===c||!c||(AL(e,a,!0),n[a]=c)}return n}function J0e(e,t,n){if(!t)return n?Un(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function zz(e,t={},n,r){const i={};return Qr(()=>i.children=Pv(e,t.children,i.children)),Qr(()=>typeof t.ref=="function"&&tC(t.ref,e)),Qr(()=>Y0e(e,t,n,!0,i,!0)),i}function tC(e,t,n){return Js(()=>e(t,n))}function nC(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Pv(e,t,r,n);Qr(i=>Pv(e,t(),i,n),r)}function Y0e(e,t,n,r,i={},s=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=TL(e,o,null,i[o],n,s,t)}for(const o in t){if(o==="children")continue;const a=t[o];i[o]=TL(e,o,a,i[o],n,s,t)}}function Z0e(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function AL(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function TL(e,t,n,r,i,s,o){let a,c,u,d,h;if(t==="style")return J0e(e,n,r);if(t==="classList")return G0e(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const p=t.slice(3);r&&e.removeEventListener(p,r,typeof r!="function"&&r),n&&e.addEventListener(p,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const p=t.slice(10);r&&e.removeEventListener(p,r,!0),n&&e.addEventListener(p,n,!0)}else if(t.slice(0,2)==="on"){const p=t.slice(2).toLowerCase(),m=j0e.has(p);if(!m&&r){const y=Array.isArray(r)?r[0]:r;e.removeEventListener(p,y)}(m||n)&&(X0e(e,p,n,m),m&&z0e([p]))}else if(t.slice(0,5)==="attr:")Un(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")V0e(e,t.slice(5),n);else if((h=t.slice(0,5)==="prop:")||(u=L0e.has(t))||!i&&((d=$0e(t,e.tagName))||(c=M0e.has(t)))||(a=e.nodeName.includes("-")||"is"in o))h&&(t=t.slice(5),c=!0),t==="class"||t==="className"?Hz(e,n):a&&!c&&!u?e[Z0e(t)]=n:e[d||t]=n;else{const p=i&&t.indexOf(":")>-1&&K0e[t.split(":")[0]];p?q0e(e,p,t,n):Un(e,U0e[t]||t,n)}return n}function Q0e(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,s=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),o=()=>{const c=t[n];if(c&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?c.call(t,u,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},a=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();s(c[0]);for(let u=0;u<c.length-2&&(t=c[u],!!o());u++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();s(r)}function Pv(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Hp(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=Hp(e,n,r);else{if(s==="function")return Qr(()=>{let a=t();for(;typeof a=="function";)a=a();n=Pv(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],c=n&&Array.isArray(n);if(N3(a,t,n,i))return Qr(()=>n=Pv(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Hp(e,n,r),o)return n}else c?n.length===0?RL(e,a,r):W0e(e,n,a):(n&&Hp(e),RL(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=Hp(e,n,r,t);Hp(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function N3(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let a=t[s],c=n&&n[e.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=N3(e,a,c)||i;else if(u==="function")if(r){for(;typeof a=="function";)a=a();i=N3(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||i}else e.push(a),i=!0;else{const d=String(a);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return i}function RL(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Hp(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const c=a.parentNode===e;!s&&!o?c?e.replaceChild(i,a):e.insertBefore(i,n):c&&a.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const ege="http://www.w3.org/2000/svg";function tge(e,t=!1){return t?document.createElementNS(ege,e):document.createElement(e)}function nge(e,t){const n=cn(e);return cn(()=>{const r=n();switch(typeof r){case"function":return Js(()=>r(t));case"string":const i=F0e.has(r),s=tge(r,i);return zz(s,t,i),s}})}function R5(e){const[,t]=T5(e,["component"]);return nge(()=>e.component,t)}let rge={data:""},ige=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||rge,sge=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oge=/\/\*[^]*?\*\/|  +/g,NL=/\n+/g,Xf=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Xf(o,s):s+"{"+Xf(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=Xf(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Xf.p?Xf.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Al={},qz=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+qz(e[n]);return t}return e},age=(e,t,n,r,i)=>{let s=qz(e),o=Al[s]||(Al[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Al[o]){let c=s!==e?e:(u=>{let d,h,p=[{}];for(;d=sge.exec(u.replace(oge,""));)d[4]?p.shift():d[3]?(h=d[3].replace(NL," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(NL," ").trim();return p[0]})(e);Al[o]=Xf(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let a=n&&Al.g?Al.g:null;return n&&(Al.g=Al[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Al[o],t,r,a),o},cge=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let a=o(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":Xf(a,""):a===!1?"":a}return r+i+(o??"")},"");function Sh(e){let t=this||{},n=e.call?e(t.p):e;return age(n.unshift?n.raw?cge(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,ige(t.target),t.g,t.o,t.k)}Sh.bind({g:1});let Vz=Sh.bind({k:1});const N5=z1();function lge(e){return be(N5.Provider,{value:e.theme,get children(){return e.children}})}function $i(){return Ha(N5)}function Xz(e){let t=this||{};return(...n)=>{const r=i=>{const s=Ha(N5),o=Xl(i,{theme:s}),a=Xl(o,{get class(){const m=o.class,y="class"in o&&/^go[0-9]+/.test(m);let v=Sh.apply({target:t.target,o:y,p:o,g:t.g},n);return[m,v].filter(Boolean).join(" ")}}),[c,u]=T5(a,["as","theme"]),d=u,h=c.as||e;let p;return typeof h=="function"?p=h(d):t.g==1?(p=document.createElement(h),zz(p,d)):p=R5(Xl({component:h},d)),p};return r.class=i=>Js(()=>Sh.apply({target:t.target,p:i,g:t.g},n)),r}}const ot=new Proxy(Xz,{get(e,t){return e(t)}});function uge(){const e=Xz.call({g:1},"div").apply(null,arguments);return function(n){return e(n),null}}const $l="okxc-root",P5="okxc-disable-scroll",iA="okxc-using-mouse",dge=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(iA)),document.body.addEventListener("keydown",t=>{t.key==="Tab"&&document.body.classList.remove(iA)});const e=uge`
    ${$l} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${$l} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${$l} *:focus {
        outline: #08f auto 2px;
    }
    
    ${$l} li {
        list-style: none;
    }
    
    ${$l} button {
        outline: none;
    }
    
    body.${P5} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${iA} ${$l} *:focus {
        outline: none;
    }
`;return be(e,{})};function fge(e){e[0]==="#"&&(e=e.slice(1));const t=parseInt(e,16),n=t>>16&255,r=t>>8&255,i=t&255;return[n,r,i].join(",")}function xg(e,t){return e[0]==="#"&&(e=fge(e)),`rgba(${e}, ${t})`}function ia(e){return e.toString()+"px"}const Ay=class{constructor(){wr(this,"storage",{})}static getInstance(){return Ay.instance||(Ay.instance=new Ay),Ay.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){var t;return(t=this.storage[e])!=null?t:null}key(e){var t;const n=Object.keys(this.storage);return e<0||e>=n.length?null:(t=n[e])!=null?t:null}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t}};let Gz=Ay;wr(Gz,"instance");function k0(...e){xe.logDebug(e)}function hge(...e){xe.logError(e)}function pge(...e){xe.logWarning(e)}let gh={};try{let e=location.hash.toString();gh=bge(e)}catch{}let X0="unknown";gh?.tgWebAppPlatform&&(X0=(vL=gh.tgWebAppPlatform)!=null?vL:"unknown");if(X0==="unknown"){const e=eu();X0=(EL=(bL=(wL=e?.Telegram)==null?void 0:wL.WebApp)==null?void 0:bL.platform)!=null?EL:"unknown"}let P3="6.0";gh?.tgWebAppVersion&&(P3=gh.tgWebAppVersion);if(!P3){const e=eu();P3=(xL=(CL=(_L=e?.Telegram)==null?void 0:_L.WebApp)==null?void 0:CL.version)!=null?xL:"6.0"}function gge(...e){return e.includes(X0)}function c2(){var e;return X0!=="unknown"||!!((e=eu())!=null&&e.TelegramWebviewProxy)}function mge(){var e;const t=!!((e=eu())!=null&&e.TelegramWebview);return(c2()||t)&&X0==="unknown"}function yge(){wge("web_app_expand",{})}function vge(){try{const e=eu();return e?e.parent!=null&&e!==e.parent:!1}catch{return!1}}function wge(e,t){try{const n=eu();if(!n)throw new ql("Can't post event to parent window: window is not defined");if(n.TelegramWebviewProxy!==void 0)k0("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)k0("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else if(vge()){const r="*",i=JSON.stringify({eventType:e,eventData:t});k0("postEvent",e,t),n.parent.postMessage(i,r)}else throw new ql("Can't post event to TMA")}catch(n){hge(`Can't post event to parent window: ${n}`)}}function bge(e){e=e.replace(/^#/,"");let t={};if(!e.length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=rC(e),t;let n=e.indexOf("?");if(n>=0){let i=e.substr(0,n);t._path=rC(i),e=e.substr(n+1)}let r=Ege(e);for(let i in r)t[i]=r[i];return t}function rC(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch{return e}}function Ege(e){let t={};if(!e.length)return t;let n=e.split("&"),r,i,s,o;for(r=0;r<n.length;r++)i=n[r].split("="),s=rC(i[0]),o=i[1]==null?null:rC(i[1]),t[s]=o;return t}const ih={mobile:440,tablet:1020};function sh(e){var t;const n=eu();if(!n)return e==="desktop";if(gge("weba"))return!0;const r=n.innerWidth;switch(e){case"desktop":return r>ih.tablet;case"tablet":return r>ih.mobile;default:case"mobile":let i=r<=ih.mobile||Qge("ios","android","ipad");if(i){const s=!!((t=eu())!=null&&t.TelegramWebviewProxy),o=navigator.maxTouchPoints||0;s&&o===0&&(i=!1),xe.logDebug("isDevice mobile isTelegram and maxTouchPoints:",i,s,o)}return i}}function uu(e){switch(e){case"mobile":return`@media (max-width: ${ih.mobile}px)`;case"tablet":return`@media (max-width: ${ih.tablet}px) (min-width: ${ih.mobile}px)`;default:case"desktop":return`@media (min-width: ${ih.tablet}px)`}}const l2="@media (hover: none)",u2="@media not all and (hover: none)",[Io,_ge]=Cr(sh("mobile")),I3=()=>_ge(sh("mobile"));eu()&&(window.addEventListener("resize",()=>I3()),window.addEventListener("load",()=>I3(),{once:!0}));const D3=Symbol("store-raw"),M0=Symbol("store-node"),jl=Symbol("store-has"),Jz=Symbol("store-self");function Yz(e){let t=e[yc];if(!t&&(Object.defineProperty(e,yc,{value:t=new Proxy(e,Sge)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function iC(e){let t;return e!=null&&typeof e=="object"&&(e[yc]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function G0(e,t=new Set){let n,r,i,s;if(n=e!=null&&e[D3])return n;if(!iC(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)i=e[o],(r=G0(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let c=0,u=o.length;c<u;c++)s=o[c],!a[s].get&&(i=e[s],(r=G0(i,t))!==i&&(e[s]=r))}return e}function sC(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Iv(e,t,n){if(e[t])return e[t];const[r,i]=Cr(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function Cge(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===yc||t===M0||(delete n.value,delete n.writable,n.get=()=>e[yc][t]),n}function Zz(e){A3()&&Iv(sC(e,M0),Jz)()}function xge(e){return Zz(e),Reflect.ownKeys(e)}const Sge={get(e,t,n){if(t===D3)return e;if(t===yc)return n;if(t===O3)return Zz(e),n;const r=sC(e,M0),i=r[t];let s=i?i():e[t];if(t===M0||t===jl||t==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);A3()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=Iv(r,t,s)())}return iC(s)?Yz(s):s},has(e,t){return t===D3||t===yc||t===O3||t===M0||t===jl||t==="__proto__"?!0:(A3()&&Iv(sC(e,jl),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:xge,getOwnPropertyDescriptor:Cge};function oC(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],s=e.length;n===void 0?(delete e[t],e[jl]&&e[jl][t]&&i!==void 0&&e[jl][t].$()):(e[t]=n,e[jl]&&e[jl][t]&&i===void 0&&e[jl][t].$());let o=sC(e,M0),a;if((a=Iv(o,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==s){for(let c=e.length;c<s;c++)(a=o[c])&&a.$();(a=Iv(o,"length",s))&&a.$(e.length)}(a=o[Jz])&&a.$()}function Qz(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];oC(e,i,t[i])}}function Oge(e,t){if(typeof t=="function"&&(t=t(e)),t=G0(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&oC(e,n,i)}oC(e,"length",r)}else Qz(e,t)}function Ty(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)Ty(e,[r[c]].concat(t),n);return}else if(a&&o==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&Ty(e,[c].concat(t),n);return}else if(a&&o==="object"){const{from:c=0,to:u=e.length-1,by:d=1}=r;for(let h=c;h<=u;h+=d)Ty(e,[h].concat(t),n);return}else if(t.length>1){Ty(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=G0(s),r===void 0||iC(i)&&iC(s)&&!Array.isArray(s)?Qz(i,s):oC(e,r,s))}function q1(...[e,t]){const n=G0(e||{}),r=Array.isArray(n),i=Yz(n);function s(...o){Lz(()=>{r&&o.length===1?Oge(n,o[0]):Ty(n,o)})}return[i,s]}const[ki,k3]=q1({language:"en_US"}),[PL,JLe]=q1({buttonRootId:null,language:"en_US"});function eq(e,t){return t?e.name.toLowerCase()===t.toLowerCase()||e.appName.toLowerCase()===t.toLowerCase():!1}function I5(){return mge()||c2()}const Age=[xe.NameSpaceKeySui,xe.NameSpaceKeySOL,xe.NameSpaceKeyEip155,xe.NameSpaceKeyTON,xe.NameSpaceKeyBtc,xe.NameSpaceKeyAptos,xe.NameSpaceKeyTron,xe.NameSpaceKeyStarknet,xe.NameSpaceKeyCosmos],Tge=[xe.NameSpaceKeyEip155,xe.NameSpaceKeySOL,xe.NameSpaceKeyTON,xe.NameSpaceKeySui,xe.NameSpaceKeyAptos,xe.NameSpaceKeyBtc],Rge=[xe.NameSpaceKeySOL,xe.NameSpaceKeyAptos],Nge=[xe.SOLANA_CHAINS.MAINNET,xe.APTOS_CHAINS.MAINNET,xe.APTOS_CHAINS.MOVEMENT_MAINNET,xe.APTOS_CHAINS.MOVEMENT_TESTNET],Pge=[xe.SOLANA_CHAINS.MAINNET,xe.APTOS_CHAINS.MAINNET],Ige=Io()?Pge:Nge;function tq(e,t){return k5()?M3(e)&&M3(t):!1}function IL(e,t){if(!e)return!0;for(const[n,r]of Object.entries(e)){if(Rge.includes(n)){if(r.chains.some(o=>!Ige.includes(o)))return!1}else if(!Tge.includes(n))return!1;if(!Dge(n,t))return!1}return!0}function Dge(e,t){switch(e){case xe.NameSpaceKeyTON:if(!t||!t.manifestUrl)return!1}return Io()?sq("6.103.0"):!0}function nq(e=!0){var t,n,r,i;const s=e?ki.walletConnector:PL.walletConnector;if(!s){xe.logWarning("not find connector yet");return}for(let u of s)switch(u.getTag()){case xe.OKX_TG_WALLET:if(e){var o=(t=ki.connectRequestParameters)==null?void 0:t.namespaces,a=(n=ki.connectRequestParameters)==null?void 0:n.optionalNamespaces;u.enable=tq(o,a)}else u.enable=!0;break;case xe.OKX_APP_WALLET:u.enable=!0;break;case xe.OKX_INJECT_WALLET:if(e){var o=(r=ki.connectRequestParameters)==null?void 0:r.namespaces,a=(i=ki.connectRequestParameters)==null?void 0:i.optionalNamespaces;u.enable=IL(o,ki.dappMetaData)&&IL(a,ki.dappMetaData)}else{u.enable=!0;var c=PL.dappMetaData;u.enable=!!c?.manifestUrl}break}}function kge(e){return k5()?M3(e):!1}function M3(e){try{return e?Object.keys(e).every(n=>Age.includes(n)):!0}catch{return!1}}function Mge(e,t){return D5()||tq(e,t)?!1:Io()}function rq(e){return e?e.name===xe.creatOKXWalletInfo().name:!1}function Lge(e){return e?e.name===xe.creatOKXMiniAppWalletInfo().name:!1}function Uge(e,t,n,r){xe.logDebug("wallets openUniversalWallet"),kge(r)&&Bge(e,t,n)}function Bge(e,t,n){xe.logDebug("wallets openWallet"),e&&(rq(e)?(xe.logDebug("wallets openWallet openOKXDeeplinkWithFallback"),xe.openOKXDeeplink(xe.standardDeeplink,xe.shortUniversalLink,n)):(xe.logDebug("wallets openWallet openOKXTMAWalletlinkWithFallback"),xe.openOKXTMAWalletlinkWithFallback(xe.getTelegramWalletTWAUrl(void 0,t))))}function $ge(e,t){return!(t==="qrcode"||iq(e))}function iq(e){return e?e.name===xe.creatOKXInjectWalletInfo().name:!1}function D5(){try{return Io()?sq("6.102.0"):!!window.okxwallet}catch{return!1}}function sq(e){let t=window.okxwallet;if(t){let n=t.appVersion;return xe.versionCompare(n,e)>=0}else return!1}function jge(){return Io()&&!!window.okxwallet&&window.okxwallet.mobileDiscoverWallet}function Fge(){let e=[];return jge()||e.push(new xe.AppwalletConnector),(k5()||!Io())&&e.push(new xe.TgwalletConnector),D5()&&e.push(new xe.OkxwalletInjectConnector),e}function k5(){return!!I5()}function Kge(e){return e?rq(e)?Io():Lge(e)?I5():!1:!1}function Wge(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?Ts.LIGHT:Ts.DARK}function Hge(e){const t=n=>e(n.matches?Ts.DARK:Ts.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",t)}function zge(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=ia(-document.documentElement.scrollTop),document.body.classList.add(P5))}function qge(){document.body.classList.remove(P5),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function Vge(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function Xge(){document.body.getElementsByTagName($l)||customElements.define($l,class extends HTMLElement{})}function Gge(e){return so(this,null,function*(){yield new Promise(t=>requestAnimationFrame(t)),e()})}function eu(){if(typeof window<"u")return window}function Jge(){if(Yge())return localStorage;if(Zge())throw new ql("`localStorage` is unavailable, but it is required for TonConnect");return Gz.getInstance()}function Yge(){try{return typeof localStorage<"u"}catch{return!1}}function Zge(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}function oq(){var e,t,n;const r=new Fpe().getResult(),i=(e=r.os.name)==null?void 0:e.toLowerCase(),s=(t=r.device.model)==null?void 0:t.toLowerCase();let o;switch(!0){case s==="ipad":o="ipad";break;case i==="ios":o="ios";break;case i==="android":o="android";break;case i==="mac os":o="macos";break;case i==="linux":o="linux";break;case i?.includes("windows"):o="windows";break}const a=(n=r.browser.name)==null?void 0:n.toLowerCase();let c;switch(!0){case a==="chrome":c="chrome";break;case a==="firefox":c="firefox";break;case a?.includes("safari"):c="safari";break;case a?.includes("opera"):c="opera";break}return{os:o,browser:c}}function Qge(...e){return e.includes(oq().os)}class M5{constructor(){wr(this,"localStorage"),wr(this,"storageKey","okx_wallet_connect_ui_last-selected-wallet-info"),this.localStorage=Jge()}setLastSelectedWalletInfo(t){this.localStorage.setItem(this.storageKey,JSON.stringify(t))}getLastSelectedWalletInfo(){const t=this.localStorage.getItem(this.storageKey);return t?JSON.parse(t):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[eme,ZLe]=Cr({status:"closed",closeReason:null});cn(()=>eme().status==="opened");const[aq,QLe]=Cr({status:"closed",closeReason:null});cn(()=>aq().status==="opened");cn(()=>{const e=aq();return e.status==="opened"?e.walletInfo:null});let DL=typeof window<"u"?new M5:void 0;Cr(DL?.getLastSelectedWalletInfo()||null);Cr(null);const tme=ot.div`
    background-color: ${e=>e.theme.colors.background.secondary};
`,zh=e=>{let t;const[n,r]=Cr(null);return uo(()=>{const i=new window.Image;return i.src=e.src,i.alt=e.alt||"",i.setAttribute("draggable","false"),e.class&&i.classList.add(e.class),i.complete?r(i):(i.addEventListener("load",()=>r(i)),()=>i.removeEventListener("load",()=>r(i)))}),[be(Xn,{get when(){return n()},get children(){return n()}}),be(Xn,{get when(){return!n()},get children(){return be(tme,{get class(){return e.class},ref(i){var s=t;typeof s=="function"?s(i):t=i}})}})]},nme={m:"100vh",s:"8px",none:"0"},sA={s:.02,m:.04},rme=ot.button`
    display: ${e=>e.leftIcon||e.rightIcon?"flex":"inline-block"};
    gap: ${e=>e.leftIcon||e.rightIcon?"4px":"unset"};
    align-items: ${e=>e.leftIcon||e.rightIcon?"center":"unset"};
    justify-content: ${e=>e.leftIcon||e.rightIcon?"space-between":"unset"};
    background-color: ${e=>e.appearance==="flat"?"transparent":e.appearance==="secondary"?e.theme.colors.background.tint:xg(e.theme.colors.accent,.12)};
    color: ${e=>e.appearance==="secondary"?e.theme.colors.text.primary:e.theme.colors.accent};

    padding: ${e=>e.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${e=>e.leftIcon&&e.appearance!=="flat"?"12px":"16px"};
    padding-right: ${e=>e.rightIcon&&e.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${e=>nme[e.theme.borderRadius]};
    cursor: ${e=>e.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${u2} {
        &:hover {
            transform: ${e=>e.disabled?"unset":`scale(${1+sA[e.scale]})`};
        }
    }

    &:active {
        transform: ${e=>e.disabled?"unset":`scale(${1-sA[e.scale]})`};
    }

    ${l2} {
        &:active {
            transform: ${e=>e.disabled?"unset":`scale(${1-sA[e.scale]*2})`};
        }
    }
`;function d2(e){const t=Js(()=>Object.keys(e).filter(r=>r.startsWith("data-"))),[n]=T5(e,t);return n}const Sg=e=>{const t=d2(e);return be(rme,Xl({get appearance(){return e.appearance||"primary"},get class(){return e.class},onClick:n=>{var r;return(r=e.onClick)==null?void 0:r.call(e,n)},onMouseEnter:n=>{var r;return(r=e.onMouseEnter)==null?void 0:r.call(e,n)},onMouseLeave:n=>{var r;return(r=e.onMouseLeave)==null?void 0:r.call(e,n)},ref(n){var r=e.ref;typeof r=="function"?r(n):e.ref=n},get disabled(){return e.disabled},get scale(){return e.scale||"m"},get leftIcon(){return!!e.leftIcon},get rightIcon(){return!!e.rightIcon},"data-tc-button":"true"},t,{get children(){return[cn(()=>e.leftIcon),cn(()=>e.children),cn(()=>e.rightIcon)]}}))};function kL(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}const cq=e=>{let t,n=!0;const[r,i]=Cr(),[s,o]=Cr(),a=A5(()=>e.children),{onBeforeEnter:c,onEnter:u,onAfterEnter:d,onBeforeExit:h,onExit:p,onAfterExit:m}=e,y=cn(()=>{const C=e.name||"s";return{enterActiveClass:e.enterActiveClass||C+"-enter-active",enterClass:e.enterClass||C+"-enter",enterToClass:e.enterToClass||C+"-enter-to",exitActiveClass:e.exitActiveClass||C+"-exit-active",exitClass:e.exitClass||C+"-exit",exitToClass:e.exitToClass||C+"-exit-to"}});function v(C,_){if(!n||e.appear){let O=function(x){C&&(!x||x.target===C)&&(C.removeEventListener("transitionend",O),C.removeEventListener("animationend",O),C.classList.remove(...S),C.classList.remove(...E),Lz(()=>{r()!==C&&i(C),s()===C&&o(void 0)}),d&&d(C),e.mode==="inout"&&w(C,_))};const R=y().enterClass.split(" "),S=y().enterActiveClass.split(" "),E=y().enterToClass.split(" ");c&&c(C),C.classList.add(...R),C.classList.add(...S),kL(()=>{C.classList.remove(...R),C.classList.add(...E),u&&u(C,()=>O()),(!u||u.length<2)&&(C.addEventListener("transitionend",O),C.addEventListener("animationend",O))})}_&&!e.mode?o(C):i(C)}function w(C,_){const O=y().exitClass.split(" "),R=y().exitActiveClass.split(" "),S=y().exitToClass.split(" ");if(!_.parentNode)return E();h&&h(_),_.classList.add(...O),_.classList.add(...R),kL(()=>{_.classList.remove(...O),_.classList.add(...S)}),p&&p(_,()=>E()),(!p||p.length<2)&&(_.addEventListener("transitionend",E),_.addEventListener("animationend",E));function E(x){(!x||x.target===_)&&(_.removeEventListener("transitionend",E),_.removeEventListener("animationend",E),_.classList.remove(...R),_.classList.remove(...S),r()===_&&i(void 0),m&&m(_),e.mode==="outin"&&v(C,_))}}return x0e(C=>{for(t=a();typeof t=="function";)t=t();return Js(()=>(t&&t!==C&&(e.mode!=="outin"?v(t,C):n&&i(t)),C&&C!==t&&e.mode!=="inout"&&w(t,C),n=!1,t))}),[r,s]};function ime(e,t){const n=r=>{var i,s;r.key==="Escape"&&((i=document.activeElement)==null||i.blur(),(s=t())==null||s())};document.body.addEventListener("keydown",n),Hh(()=>document.body.removeEventListener("keydown",n))}function sme(e,t){const{isEnabled:n,onClose:r}=t();if(!n||!(oq().os==="android"))return;window.history.pushState(ome,"");const s=o=>{o.preventDefault(),r()};window.addEventListener("popstate",s,{once:!0}),Hh(()=>{window.removeEventListener("popstate",s),Gge(()=>{var o;((o=window.history.state)==null?void 0:o[lq])===!0&&window.history.back()})})}const lq="androidBackHandler",ome={[lq]:!0};var ame=vi('<svg><path fill-rule=evenodd clip-rule=evenodd d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></svg>',!1,!0,!1);const cme={left:0,top:90,right:180,bottom:270},uq=e=>{const t=$i(),n=()=>e.fill||t.colors.icon.secondary,r=()=>e.direction||"left",i=ot("svg")`
        transform: rotate(${s=>cme[s.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return be(i,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return r()},get children(){var s=ame();return Qr(()=>Un(s,"fill",n())),s}})};var lme=vi('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z">');const ume=e=>{const t=$i();k0(`CloseIcon  ${t}`);const n=()=>e.fill||t.colors.icon.secondary;return(()=>{var r=lme(),i=r.firstChild;return Qr(()=>Un(i,"fill",n())),r})()};var dme=vi('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform="translate(0 0.000976562)">'),fme=vi('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z">'),hme=vi('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z">');const pme=e=>{const t=$i(),n=()=>e.size||"s",r=()=>e.fill||t.colors.icon.success;return cn(()=>cn(()=>n()==="xs")()?(()=>{var i=dme(),s=i.firstChild,o=s.firstChild,a=o.nextSibling;return Qr(c=>{var u=e.class,d=r(),h=t.colors.constant.white;return u!==c.e&&Un(i,"class",c.e=u),d!==c.t&&Un(o,"fill",c.t=d),h!==c.a&&Un(a,"stroke",c.a=h),c},{e:void 0,t:void 0,a:void 0}),i})():cn(()=>n()==="s")()?(()=>{var i=fme(),s=i.firstChild,o=s.nextSibling;return Qr(a=>{var c=e.class,u=r(),d=t.colors.constant.white;return c!==a.e&&Un(i,"class",a.e=c),u!==a.t&&Un(s,"fill",a.t=u),d!==a.a&&Un(o,"fill",a.a=d),a},{e:void 0,t:void 0,a:void 0}),i})():(()=>{var i=hme(),s=i.firstChild,o=s.nextSibling;return Qr(a=>{var c=e.class,u=r(),d=t.colors.constant.white;return c!==a.e&&Un(i,"class",a.e=c),u!==a.t&&Un(s,"fill",a.t=u),d!==a.a&&Un(o,"fill",a.a=d),a},{e:void 0,t:void 0,a:void 0}),i})())};var gme=vi('<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),mme=vi('<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),yme=vi('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>');const L5=e=>{$i();const t=()=>e.size||"m";return cn(()=>cn(()=>t()==="m")()?gme():cn(()=>t()==="s")()?mme():yme())};var vme=vi('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z">'),wme=vi('<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox="0 0 44 44"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z">'),bme=vi('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999"stroke-width=4 stroke-linecap=round stroke-linejoin=round>');const dq=e=>{const t=$i(),n=()=>e.size||"xs",r=()=>e.fill||t.colors.icon.tertiary,i=Vz`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,s=Sh`
        animation: ${i} 1s linear infinite;
    `;return cn(()=>cn(()=>n()==="xs")()?(()=>{var o=vme(),a=o.firstChild;return Qr(c=>{var u=c_(s,e.class),d=r();return u!==c.e&&Un(o,"class",c.e=u),d!==c.t&&Un(a,"fill",c.t=d),c},{e:void 0,t:void 0}),o})():cn(()=>n()==="s")()?(()=>{var o=wme(),a=o.firstChild;return Qr(c=>{var u=c_(s,e.class),d=r();return u!==c.e&&Un(o,"class",c.e=u),d!==c.t&&Un(a,"fill",c.t=d),c},{e:void 0,t:void 0}),o})():(()=>{var o=bme(),a=o.firstChild;return Qr(c=>{var u=c_(s,e.class),d=r();return u!==c.e&&Un(o,"class",c.e=u),d!==c.t&&Un(a,"stroke",c.t=d),c},{e:void 0,t:void 0}),o})())};var Eme=vi('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z">');const _me=e=>{const t=$i(),n=()=>e.fill||t.colors.icon.secondary;return(()=>{var r=Eme(),i=r.firstChild;return Qr(()=>Un(i,"fill",n())),r})()};var Cme=vi('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z">');const xme=e=>{const t=$i();return(()=>{var n=Cme(),r=n.firstChild;return Qr(()=>Un(r,"fill",t.colors.text.primary)),n})()};var Sme=vi('<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox="0 0 16 17"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z">');const Ome=e=>{const t=$i(),n=()=>e.fill||t.colors.icon.secondary;return(()=>{var r=Sme(),i=r.firstChild;return Qr(()=>Un(i,"fill",n())),r})()},Ame=ot.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: transparent;
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${u2} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${l2} {
        &:active {
            transform: scale(0.92);
        }
    }
`,U5=e=>{const t=d2(e),n=()=>e.icon||"close";return be(Ame,Xl({get class(){return e.class},onClick:()=>e.onClick(),"data-tc-icon-button":"true"},t,{get children(){return[be(Xn,{get when(){return!!e.children},get children(){return e.children}}),be(Xn,{get when(){return!e.children},get children(){return be(Wz,{get children(){return[be(rd,{get when(){return n()==="close"},get children(){return be(ume,{get fill(){return e.fill}})}}),be(rd,{get when(){return n()==="arrow"},get children(){return be(uq,{get fill(){return e.fill}})}}),be(rd,{get when(){return n()==="question"},get children(){return be(_me,{get fill(){return e.fill}})}}),be(rd,{get when(){return typeof n()!="string"},get children(){return n()}})]}})}})]}}))},L0={m:"24px",s:"16px",none:"0"},Tme=ot.div`
  display: flex;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 20px 0;
  overflow-y: auto;

  ${uu("mobile")} {
    padding-bottom: 0;
  }
`,Rme=Sh`
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
  width: fit-content;
  margin: auto;

  ${uu("mobile")} {
    width: 100%;
    height: fit-content;
    margin: auto 0 0 0;
  }
`,Nme=ot.div`
  position: relative;
  min-height: 100px;
  width: 416px;
  padding: 44px 56px 24px;

  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

  background-color: ${e=>e.theme.colors.background.primary};
  border-radius: ${e=>L0[e.theme.borderRadius]};

  ${uu("mobile")} {
    width: 100%;
    border-radius: 24px 24px 0px 0px;
  }
`,Pme=ot(U5)`
  position: absolute;
  right: 16px;
  top: 12px;
`;ot.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 16px 16px 18px;
  border-radius: 0 0 ${e=>L0[e.theme.borderRadius]}
    ${e=>L0[e.theme.borderRadius]};
`;ot(U5)`
  background-color: ${e=>xg(e.theme.colors.icon.secondary,.12)};
`;class Ime{constructor(){wr(this,"currentTime",0)}}const Ry=class{constructor(){wr(this,"currentTime",0),wr(this,"playbackRate",1),wr(this,"startTime",null),wr(this,"timeline",new Ime),wr(this,"finished",Promise.resolve(this)),wr(this,"effect",null),wr(this,"id",""),wr(this,"pending",!1),wr(this,"playState","finished"),wr(this,"replaceState","active"),wr(this,"ready",Promise.resolve(this)),wr(this,"oncancel",null),wr(this,"onfinish",null),wr(this,"onremove",null)}static create(){return Ry._instance||(pge("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),Ry._instance=new Ry),Ry._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(e,t,n){}dispatchEvent(e){return!1}removeEventListener(e,t,n){}updatePlaybackRate(e){}commitStyles(){}persist(){}};let fq=Ry;wr(fq,"_instance",null);function S0(e,t,n){return"animate"in e?e.animate(t,n):fq.create()}var Dme=vi("<div>");const kme=ime,Mme=sme,hq=e=>{const t=$i(),n=d2(e);return uo(()=>{e.opened?zge():qge()}),be(cq,{onBeforeEnter:r=>{const i=sh("mobile")?200:100;S0(r,[{opacity:0},{opacity:1}],{duration:i}),sh("mobile")&&S0(r.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:i})},onExit:(r,i)=>{const s=sh("mobile")?200:100,o=S0(r,[{opacity:1},{opacity:0}],{duration:s});if(sh("mobile")){const a=S0(r.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:s});Promise.all([o.finished,a.finished]).then(i)}else o.finished.then(i)},get children(){return be(Xn,{get when(){return e.opened},get children(){return be(Tme,Xl({"data-tc-modal":"true"},n,{get children(){var r=Dme();return tC(Mme,r,()=>({isEnabled:!0,onClose:()=>e.onClose()})),tC(kme,r,()=>()=>e.onClose()),nC(r,be(Nme,{get class(){return e.class},get children(){return[be(Pme,{icon:"close",onClick:()=>e.onClose()}),cn(()=>e.children)]}})),Qr(()=>Hz(r,c_(Rme,Sh`
                                border-radius: ${L0[t.borderRadius]};
                                background-color: ${t.colors.background.tint};

                                ${uu("mobile")} {
                                    border-radius: ${L0[t.borderRadius]}
                                        ${L0[t.borderRadius]} 0 0;
                                }
                            `))),r}}))}})}})},L3=270,U3=56,ML=54,oA=0,aA=ot.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,Lme=ot.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${e=>e.theme.colors.background.qr};
    border-radius: 0;
    padding: ${ia(oA)} 0;
    height: ${ia(L3+oA*2)};
    width: ${ia(L3+oA*2)};

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${u2} {
        &:hover {
            ${aA.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${aA.class} {
            transform: scale(0.96);
        }
    }

    ${l2} {
        &:active {
            ${aA.class} {
                transform: scale(0.92);
            }
        }
    }
`,Ume=ot.div`
    position: relative;
  
    width: fit-content;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }
`,Bme=ot.div`
    position: absolute;
    width: ${ia(U3)};
    height: ${ia(U3)};
    background: lightgray;

    display: flex;
    align-items: center;
    justify-content: center;
`,$me=ot(zh)`
    width: ${e=>ia(e.size)};
    height: ${e=>ia(e.size)};
    border-radius: 100000px;
    background-color: transparent;
`;ot.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${e=>e.theme.colors.background.segment};
`;var pq={exports:{}};(function(e,t){var n=function(){var r=function(S,E){var x=236,N=17,A=S,D=s[E],k=null,U=0,H=null,F=[],P={},I=function(Y,ee){U=A*4+17,k=function(B){for(var te=new Array(B),we=0;we<B;we+=1){te[we]=new Array(B);for(var Ne=0;Ne<B;Ne+=1)te[we][Ne]=null}return te}(U),$(0,0),$(U-7,0),$(0,U-7),j(),X(),ae(Y,ee),A>=7&&G(Y),H==null&&(H=Ce(A,D,F)),ce(H,ee)},$=function(Y,ee){for(var B=-1;B<=7;B+=1)if(!(Y+B<=-1||U<=Y+B))for(var te=-1;te<=7;te+=1)ee+te<=-1||U<=ee+te||(0<=B&&B<=6&&(te==0||te==6)||0<=te&&te<=6&&(B==0||B==6)||2<=B&&B<=4&&2<=te&&te<=4?k[Y+B][ee+te]=!0:k[Y+B][ee+te]=!1)},W=function(){for(var Y=0,ee=0,B=0;B<8;B+=1){I(!0,B);var te=a.getLostPoint(P);(B==0||Y>te)&&(Y=te,ee=B)}return ee},X=function(){for(var Y=8;Y<U-8;Y+=1)k[Y][6]==null&&(k[Y][6]=Y%2==0);for(var ee=8;ee<U-8;ee+=1)k[6][ee]==null&&(k[6][ee]=ee%2==0)},j=function(){for(var Y=a.getPatternPosition(A),ee=0;ee<Y.length;ee+=1)for(var B=0;B<Y.length;B+=1){var te=Y[ee],we=Y[B];if(k[te][we]==null)for(var Ne=-2;Ne<=2;Ne+=1)for(var Fe=-2;Fe<=2;Fe+=1)Ne==-2||Ne==2||Fe==-2||Fe==2||Ne==0&&Fe==0?k[te+Ne][we+Fe]=!0:k[te+Ne][we+Fe]=!1}},G=function(Y){for(var ee=a.getBCHTypeNumber(A),B=0;B<18;B+=1){var te=!Y&&(ee>>B&1)==1;k[Math.floor(B/3)][B%3+U-8-3]=te}for(var B=0;B<18;B+=1){var te=!Y&&(ee>>B&1)==1;k[B%3+U-8-3][Math.floor(B/3)]=te}},ae=function(Y,ee){for(var B=D<<3|ee,te=a.getBCHTypeInfo(B),we=0;we<15;we+=1){var Ne=!Y&&(te>>we&1)==1;we<6?k[we][8]=Ne:we<8?k[we+1][8]=Ne:k[U-15+we][8]=Ne}for(var we=0;we<15;we+=1){var Ne=!Y&&(te>>we&1)==1;we<8?k[8][U-we-1]=Ne:we<9?k[8][15-we-1+1]=Ne:k[8][15-we-1]=Ne}k[U-8][8]=!Y},ce=function(Y,ee){for(var B=-1,te=U-1,we=7,Ne=0,Fe=a.getMaskFunction(ee),Ve=U-1;Ve>0;Ve-=2)for(Ve==6&&(Ve-=1);;){for(var Et=0;Et<2;Et+=1)if(k[te][Ve-Et]==null){var Nt=!1;Ne<Y.length&&(Nt=(Y[Ne]>>>we&1)==1);var at=Fe(te,Ve-Et);at&&(Nt=!Nt),k[te][Ve-Et]=Nt,we-=1,we==-1&&(Ne+=1,we=7)}if(te+=B,te<0||U<=te){te-=B,B=-B;break}}},oe=function(Y,ee){for(var B=0,te=0,we=0,Ne=new Array(ee.length),Fe=new Array(ee.length),Ve=0;Ve<ee.length;Ve+=1){var Et=ee[Ve].dataCount,Nt=ee[Ve].totalCount-Et;te=Math.max(te,Et),we=Math.max(we,Nt),Ne[Ve]=new Array(Et);for(var at=0;at<Ne[Ve].length;at+=1)Ne[Ve][at]=255&Y.getBuffer()[at+B];B+=Et;var Kt=a.getErrorCorrectPolynomial(Nt),en=u(Ne[Ve],Kt.getLength()-1),ln=en.mod(Kt);Fe[Ve]=new Array(Kt.getLength()-1);for(var at=0;at<Fe[Ve].length;at+=1){var Gt=at+ln.getLength()-Fe[Ve].length;Fe[Ve][at]=Gt>=0?ln.getAt(Gt):0}}for(var Wt=0,at=0;at<ee.length;at+=1)Wt+=ee[at].totalCount;for(var Ht=new Array(Wt),pn=0,at=0;at<te;at+=1)for(var Ve=0;Ve<ee.length;Ve+=1)at<Ne[Ve].length&&(Ht[pn]=Ne[Ve][at],pn+=1);for(var at=0;at<we;at+=1)for(var Ve=0;Ve<ee.length;Ve+=1)at<Fe[Ve].length&&(Ht[pn]=Fe[Ve][at],pn+=1);return Ht},Ce=function(Y,ee,B){for(var te=d.getRSBlocks(Y,ee),we=h(),Ne=0;Ne<B.length;Ne+=1){var Fe=B[Ne];we.put(Fe.getMode(),4),we.put(Fe.getLength(),a.getLengthInBits(Fe.getMode(),Y)),Fe.write(we)}for(var Ve=0,Ne=0;Ne<te.length;Ne+=1)Ve+=te[Ne].dataCount;if(we.getLengthInBits()>Ve*8)throw"code length overflow. ("+we.getLengthInBits()+">"+Ve*8+")";for(we.getLengthInBits()+4<=Ve*8&&we.put(0,4);we.getLengthInBits()%8!=0;)we.putBit(!1);for(;!(we.getLengthInBits()>=Ve*8||(we.put(x,8),we.getLengthInBits()>=Ve*8));)we.put(N,8);return oe(we,te)};P.addData=function(Y,ee){ee=ee||"Byte";var B=null;switch(ee){case"Numeric":B=p(Y);break;case"Alphanumeric":B=m(Y);break;case"Byte":B=y(Y);break;case"Kanji":B=v(Y);break;default:throw"mode:"+ee}F.push(B),H=null},P.isDark=function(Y,ee){if(Y<0||U<=Y||ee<0||U<=ee)throw Y+","+ee;return k[Y][ee]},P.getModuleCount=function(){return U},P.make=function(){if(A<1){for(var Y=1;Y<40;Y++){for(var ee=d.getRSBlocks(Y,D),B=h(),te=0;te<F.length;te++){var we=F[te];B.put(we.getMode(),4),B.put(we.getLength(),a.getLengthInBits(we.getMode(),Y)),we.write(B)}for(var Ne=0,te=0;te<ee.length;te++)Ne+=ee[te].dataCount;if(B.getLengthInBits()<=Ne*8)break}A=Y}I(!1,W())},P.createTableTag=function(Y,ee){Y=Y||2,ee=typeof ee>"u"?Y*4:ee;var B="";B+='<table style="',B+=" border-width: 0px; border-style: none;",B+=" border-collapse: collapse;",B+=" padding: 0px; margin: "+ee+"px;",B+='">',B+="<tbody>";for(var te=0;te<P.getModuleCount();te+=1){B+="<tr>";for(var we=0;we<P.getModuleCount();we+=1)B+='<td style="',B+=" border-width: 0px; border-style: none;",B+=" border-collapse: collapse;",B+=" padding: 0px; margin: 0px;",B+=" width: "+Y+"px;",B+=" height: "+Y+"px;",B+=" background-color: ",B+=P.isDark(te,we)?"#000000":"#ffffff",B+=";",B+='"/>';B+="</tr>"}return B+="</tbody>",B+="</table>",B},P.createSvgTag=function(Y,ee,B,te){var we={};typeof arguments[0]=="object"&&(we=arguments[0],Y=we.cellSize,ee=we.margin,B=we.alt,te=we.title),Y=Y||2,ee=typeof ee>"u"?Y*4:ee,B=typeof B=="string"?{text:B}:B||{},B.text=B.text||null,B.id=B.text?B.id||"qrcode-description":null,te=typeof te=="string"?{text:te}:te||{},te.text=te.text||null,te.id=te.text?te.id||"qrcode-title":null;var Ne=P.getModuleCount()*Y+ee*2,Fe,Ve,Et,Nt,at="",Kt;for(Kt="l"+Y+",0 0,"+Y+" -"+Y+",0 0,-"+Y+"z ",at+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',at+=we.scalable?"":' width="'+Ne+'px" height="'+Ne+'px"',at+=' viewBox="0 0 '+Ne+" "+Ne+'" ',at+=' preserveAspectRatio="xMinYMin meet"',at+=te.text||B.text?' role="img" aria-labelledby="'+Ae([te.id,B.id].join(" ").trim())+'"':"",at+=">",at+=te.text?'<title id="'+Ae(te.id)+'">'+Ae(te.text)+"</title>":"",at+=B.text?'<description id="'+Ae(B.id)+'">'+Ae(B.text)+"</description>":"",at+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',at+='<path d="',Et=0;Et<P.getModuleCount();Et+=1)for(Nt=Et*Y+ee,Fe=0;Fe<P.getModuleCount();Fe+=1)P.isDark(Et,Fe)&&(Ve=Fe*Y+ee,at+="M"+Ve+","+Nt+Kt);return at+='" stroke="transparent" fill="black"/>',at+="</svg>",at},P.createDataURL=function(Y,ee){Y=Y||2,ee=typeof ee>"u"?Y*4:ee;var B=P.getModuleCount()*Y+ee*2,te=ee,we=B-ee;return R(B,B,function(Ne,Fe){if(te<=Ne&&Ne<we&&te<=Fe&&Fe<we){var Ve=Math.floor((Ne-te)/Y),Et=Math.floor((Fe-te)/Y);return P.isDark(Et,Ve)?0:1}else return 1})},P.createImgTag=function(Y,ee,B){Y=Y||2,ee=typeof ee>"u"?Y*4:ee;var te=P.getModuleCount()*Y+ee*2,we="";return we+="<img",we+=' src="',we+=P.createDataURL(Y,ee),we+='"',we+=' width="',we+=te,we+='"',we+=' height="',we+=te,we+='"',B&&(we+=' alt="',we+=Ae(B),we+='"'),we+="/>",we};var Ae=function(Y){for(var ee="",B=0;B<Y.length;B+=1){var te=Y.charAt(B);switch(te){case"<":ee+="&lt;";break;case">":ee+="&gt;";break;case"&":ee+="&amp;";break;case'"':ee+="&quot;";break;default:ee+=te;break}}return ee},ue=function(Y){var ee=1;Y=typeof Y>"u"?ee*2:Y;var B=P.getModuleCount()*ee+Y*2,te=Y,we=B-Y,Ne,Fe,Ve,Et,Nt,at={"":""," ":""," ":"","  ":" "},Kt={"":""," ":""," ":" ","  ":" "},en="";for(Ne=0;Ne<B;Ne+=2){for(Ve=Math.floor((Ne-te)/ee),Et=Math.floor((Ne+1-te)/ee),Fe=0;Fe<B;Fe+=1)Nt="",te<=Fe&&Fe<we&&te<=Ne&&Ne<we&&P.isDark(Ve,Math.floor((Fe-te)/ee))&&(Nt=" "),te<=Fe&&Fe<we&&te<=Ne+1&&Ne+1<we&&P.isDark(Et,Math.floor((Fe-te)/ee))?Nt+=" ":Nt+="",en+=Y<1&&Ne+1>=we?Kt[Nt]:at[Nt];en+=`
`}return B%2&&Y>0?en.substring(0,en.length-B-1)+Array(B+1).join(""):en.substring(0,en.length-1)};return P.createASCII=function(Y,ee){if(Y=Y||1,Y<2)return ue(ee);Y-=1,ee=typeof ee>"u"?Y*2:ee;var B=P.getModuleCount()*Y+ee*2,te=ee,we=B-ee,Ne,Fe,Ve,Et,Nt=Array(Y+1).join(""),at=Array(Y+1).join("  "),Kt="",en="";for(Ne=0;Ne<B;Ne+=1){for(Ve=Math.floor((Ne-te)/Y),en="",Fe=0;Fe<B;Fe+=1)Et=1,te<=Fe&&Fe<we&&te<=Ne&&Ne<we&&P.isDark(Ve,Math.floor((Fe-te)/Y))&&(Et=0),en+=Et?Nt:at;for(Ve=0;Ve<Y;Ve+=1)Kt+=en+`
`}return Kt.substring(0,Kt.length-1)},P.renderTo2dContext=function(Y,ee){ee=ee||2;for(var B=P.getModuleCount(),te=0;te<B;te++)for(var we=0;we<B;we++)Y.fillStyle=P.isDark(te,we)?"black":"white",Y.fillRect(te*ee,we*ee,ee,ee)},P};r.stringToBytesFuncs={default:function(S){for(var E=[],x=0;x<S.length;x+=1){var N=S.charCodeAt(x);E.push(N&255)}return E}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function(S,E){var x=function(){for(var A=_(S),D=function(){var X=A.read();if(X==-1)throw"eof";return X},k=0,U={};;){var H=A.read();if(H==-1)break;var F=D(),P=D(),I=D(),$=String.fromCharCode(H<<8|F),W=P<<8|I;U[$]=W,k+=1}if(k!=E)throw k+" != "+E;return U}(),N=63;return function(A){for(var D=[],k=0;k<A.length;k+=1){var U=A.charCodeAt(k);if(U<128)D.push(U);else{var H=x[A.charAt(k)];typeof H=="number"?(H&255)==H?D.push(H):(D.push(H>>>8),D.push(H&255)):D.push(N)}}return D}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var S=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],E=1335,x=7973,N=21522,A={},D=function(k){for(var U=0;k!=0;)U+=1,k>>>=1;return U};return A.getBCHTypeInfo=function(k){for(var U=k<<10;D(U)-D(E)>=0;)U^=E<<D(U)-D(E);return(k<<10|U)^N},A.getBCHTypeNumber=function(k){for(var U=k<<12;D(U)-D(x)>=0;)U^=x<<D(U)-D(x);return k<<12|U},A.getPatternPosition=function(k){return S[k-1]},A.getMaskFunction=function(k){switch(k){case o.PATTERN000:return function(U,H){return(U+H)%2==0};case o.PATTERN001:return function(U,H){return U%2==0};case o.PATTERN010:return function(U,H){return H%3==0};case o.PATTERN011:return function(U,H){return(U+H)%3==0};case o.PATTERN100:return function(U,H){return(Math.floor(U/2)+Math.floor(H/3))%2==0};case o.PATTERN101:return function(U,H){return U*H%2+U*H%3==0};case o.PATTERN110:return function(U,H){return(U*H%2+U*H%3)%2==0};case o.PATTERN111:return function(U,H){return(U*H%3+(U+H)%2)%2==0};default:throw"bad maskPattern:"+k}},A.getErrorCorrectPolynomial=function(k){for(var U=u([1],0),H=0;H<k;H+=1)U=U.multiply(u([1,c.gexp(H)],0));return U},A.getLengthInBits=function(k,U){if(1<=U&&U<10)switch(k){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+k}else if(U<27)switch(k){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+k}else if(U<41)switch(k){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+k}else throw"type:"+U},A.getLostPoint=function(k){for(var U=k.getModuleCount(),H=0,F=0;F<U;F+=1)for(var P=0;P<U;P+=1){for(var I=0,$=k.isDark(F,P),W=-1;W<=1;W+=1)if(!(F+W<0||U<=F+W))for(var X=-1;X<=1;X+=1)P+X<0||U<=P+X||W==0&&X==0||$==k.isDark(F+W,P+X)&&(I+=1);I>5&&(H+=3+I-5)}for(var F=0;F<U-1;F+=1)for(var P=0;P<U-1;P+=1){var j=0;k.isDark(F,P)&&(j+=1),k.isDark(F+1,P)&&(j+=1),k.isDark(F,P+1)&&(j+=1),k.isDark(F+1,P+1)&&(j+=1),(j==0||j==4)&&(H+=3)}for(var F=0;F<U;F+=1)for(var P=0;P<U-6;P+=1)k.isDark(F,P)&&!k.isDark(F,P+1)&&k.isDark(F,P+2)&&k.isDark(F,P+3)&&k.isDark(F,P+4)&&!k.isDark(F,P+5)&&k.isDark(F,P+6)&&(H+=40);for(var P=0;P<U;P+=1)for(var F=0;F<U-6;F+=1)k.isDark(F,P)&&!k.isDark(F+1,P)&&k.isDark(F+2,P)&&k.isDark(F+3,P)&&k.isDark(F+4,P)&&!k.isDark(F+5,P)&&k.isDark(F+6,P)&&(H+=40);for(var G=0,P=0;P<U;P+=1)for(var F=0;F<U;F+=1)k.isDark(F,P)&&(G+=1);var ae=Math.abs(100*G/U/U-50)/5;return H+=ae*10,H},A}(),c=function(){for(var S=new Array(256),E=new Array(256),x=0;x<8;x+=1)S[x]=1<<x;for(var x=8;x<256;x+=1)S[x]=S[x-4]^S[x-5]^S[x-6]^S[x-8];for(var x=0;x<255;x+=1)E[S[x]]=x;var N={};return N.glog=function(A){if(A<1)throw"glog("+A+")";return E[A]},N.gexp=function(A){for(;A<0;)A+=255;for(;A>=256;)A-=255;return S[A]},N}();function u(S,E){if(typeof S.length>"u")throw S.length+"/"+E;var x=function(){for(var A=0;A<S.length&&S[A]==0;)A+=1;for(var D=new Array(S.length-A+E),k=0;k<S.length-A;k+=1)D[k]=S[k+A];return D}(),N={};return N.getAt=function(A){return x[A]},N.getLength=function(){return x.length},N.multiply=function(A){for(var D=new Array(N.getLength()+A.getLength()-1),k=0;k<N.getLength();k+=1)for(var U=0;U<A.getLength();U+=1)D[k+U]^=c.gexp(c.glog(N.getAt(k))+c.glog(A.getAt(U)));return u(D,0)},N.mod=function(A){if(N.getLength()-A.getLength()<0)return N;for(var D=c.glog(N.getAt(0))-c.glog(A.getAt(0)),k=new Array(N.getLength()),U=0;U<N.getLength();U+=1)k[U]=N.getAt(U);for(var U=0;U<A.getLength();U+=1)k[U]^=c.gexp(c.glog(A.getAt(U))+D);return u(k,0).mod(A)},N}var d=function(){var S=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],E=function(A,D){var k={};return k.totalCount=A,k.dataCount=D,k},x={},N=function(A,D){switch(D){case s.L:return S[(A-1)*4+0];case s.M:return S[(A-1)*4+1];case s.Q:return S[(A-1)*4+2];case s.H:return S[(A-1)*4+3];default:return}};return x.getRSBlocks=function(A,D){var k=N(A,D);if(typeof k>"u")throw"bad rs block @ typeNumber:"+A+"/errorCorrectionLevel:"+D;for(var U=k.length/3,H=[],F=0;F<U;F+=1)for(var P=k[F*3+0],I=k[F*3+1],$=k[F*3+2],W=0;W<P;W+=1)H.push(E(I,$));return H},x}(),h=function(){var S=[],E=0,x={};return x.getBuffer=function(){return S},x.getAt=function(N){var A=Math.floor(N/8);return(S[A]>>>7-N%8&1)==1},x.put=function(N,A){for(var D=0;D<A;D+=1)x.putBit((N>>>A-D-1&1)==1)},x.getLengthInBits=function(){return E},x.putBit=function(N){var A=Math.floor(E/8);S.length<=A&&S.push(0),N&&(S[A]|=128>>>E%8),E+=1},x},p=function(S){var E=i.MODE_NUMBER,x=S,N={};N.getMode=function(){return E},N.getLength=function(k){return x.length},N.write=function(k){for(var U=x,H=0;H+2<U.length;)k.put(A(U.substring(H,H+3)),10),H+=3;H<U.length&&(U.length-H==1?k.put(A(U.substring(H,H+1)),4):U.length-H==2&&k.put(A(U.substring(H,H+2)),7))};var A=function(k){for(var U=0,H=0;H<k.length;H+=1)U=U*10+D(k.charAt(H));return U},D=function(k){if("0"<=k&&k<="9")return k.charCodeAt(0)-48;throw"illegal char :"+k};return N},m=function(S){var E=i.MODE_ALPHA_NUM,x=S,N={};N.getMode=function(){return E},N.getLength=function(D){return x.length},N.write=function(D){for(var k=x,U=0;U+1<k.length;)D.put(A(k.charAt(U))*45+A(k.charAt(U+1)),11),U+=2;U<k.length&&D.put(A(k.charAt(U)),6)};var A=function(D){if("0"<=D&&D<="9")return D.charCodeAt(0)-48;if("A"<=D&&D<="Z")return D.charCodeAt(0)-65+10;switch(D){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+D}};return N},y=function(S){var E=i.MODE_8BIT_BYTE,x=r.stringToBytes(S),N={};return N.getMode=function(){return E},N.getLength=function(A){return x.length},N.write=function(A){for(var D=0;D<x.length;D+=1)A.put(x[D],8)},N},v=function(S){var E=i.MODE_KANJI,x=r.stringToBytesFuncs.SJIS;if(!x)throw"sjis not supported.";(function(D,k){var U=x(D);if(U.length!=2||(U[0]<<8|U[1])!=k)throw"sjis not supported."})("",38726);var N=x(S),A={};return A.getMode=function(){return E},A.getLength=function(D){return~~(N.length/2)},A.write=function(D){for(var k=N,U=0;U+1<k.length;){var H=(255&k[U])<<8|255&k[U+1];if(33088<=H&&H<=40956)H-=33088;else if(57408<=H&&H<=60351)H-=49472;else throw"illegal char at "+(U+1)+"/"+H;H=(H>>>8&255)*192+(H&255),D.put(H,13),U+=2}if(U<k.length)throw"illegal char at "+(U+1)},A},w=function(){var S=[],E={};return E.writeByte=function(x){S.push(x&255)},E.writeShort=function(x){E.writeByte(x),E.writeByte(x>>>8)},E.writeBytes=function(x,N,A){N=N||0,A=A||x.length;for(var D=0;D<A;D+=1)E.writeByte(x[D+N])},E.writeString=function(x){for(var N=0;N<x.length;N+=1)E.writeByte(x.charCodeAt(N))},E.toByteArray=function(){return S},E.toString=function(){var x="";x+="[";for(var N=0;N<S.length;N+=1)N>0&&(x+=","),x+=S[N];return x+="]",x},E},C=function(){var S=0,E=0,x=0,N="",A={},D=function(U){N+=String.fromCharCode(k(U&63))},k=function(U){if(!(U<0)){if(U<26)return 65+U;if(U<52)return 97+(U-26);if(U<62)return 48+(U-52);if(U==62)return 43;if(U==63)return 47}throw"n:"+U};return A.writeByte=function(U){for(S=S<<8|U&255,E+=8,x+=1;E>=6;)D(S>>>E-6),E-=6},A.flush=function(){if(E>0&&(D(S<<6-E),S=0,E=0),x%3!=0)for(var U=3-x%3,H=0;H<U;H+=1)N+="="},A.toString=function(){return N},A},_=function(S){var E=S,x=0,N=0,A=0,D={};D.read=function(){for(;A<8;){if(x>=E.length){if(A==0)return-1;throw"unexpected end of file./"+A}var U=E.charAt(x);if(x+=1,U=="=")return A=0,-1;if(U.match(/^\s$/))continue;N=N<<6|k(U.charCodeAt(0)),A+=6}var H=N>>>A-8&255;return A-=8,H};var k=function(U){if(65<=U&&U<=90)return U-65;if(97<=U&&U<=122)return U-97+26;if(48<=U&&U<=57)return U-48+52;if(U==43)return 62;if(U==47)return 63;throw"c:"+U};return D},O=function(S,E){var x=S,N=E,A=new Array(S*E),D={};D.setPixel=function(F,P,I){A[P*x+F]=I},D.write=function(F){F.writeString("GIF87a"),F.writeShort(x),F.writeShort(N),F.writeByte(128),F.writeByte(0),F.writeByte(0),F.writeByte(0),F.writeByte(0),F.writeByte(0),F.writeByte(255),F.writeByte(255),F.writeByte(255),F.writeString(","),F.writeShort(0),F.writeShort(0),F.writeShort(x),F.writeShort(N),F.writeByte(0);var P=2,I=U(P);F.writeByte(P);for(var $=0;I.length-$>255;)F.writeByte(255),F.writeBytes(I,$,255),$+=255;F.writeByte(I.length-$),F.writeBytes(I,$,I.length-$),F.writeByte(0),F.writeString(";")};var k=function(F){var P=F,I=0,$=0,W={};return W.write=function(X,j){if(X>>>j)throw"length over";for(;I+j>=8;)P.writeByte(255&(X<<I|$)),j-=8-I,X>>>=8-I,$=0,I=0;$=X<<I|$,I=I+j},W.flush=function(){I>0&&P.writeByte($)},W},U=function(F){for(var P=1<<F,I=(1<<F)+1,$=F+1,W=H(),X=0;X<P;X+=1)W.add(String.fromCharCode(X));W.add(String.fromCharCode(P)),W.add(String.fromCharCode(I));var j=w(),G=k(j);G.write(P,$);var ae=0,ce=String.fromCharCode(A[ae]);for(ae+=1;ae<A.length;){var oe=String.fromCharCode(A[ae]);ae+=1,W.contains(ce+oe)?ce=ce+oe:(G.write(W.indexOf(ce),$),W.size()<4095&&(W.size()==1<<$&&($+=1),W.add(ce+oe)),ce=oe)}return G.write(W.indexOf(ce),$),G.write(I,$),G.flush(),j.toByteArray()},H=function(){var F={},P=0,I={};return I.add=function($){if(I.contains($))throw"dup key:"+$;F[$]=P,P+=1},I.size=function(){return P},I.indexOf=function($){return F[$]},I.contains=function($){return typeof F[$]<"u"},I};return D},R=function(S,E,x){for(var N=O(S,E),A=0;A<E;A+=1)for(var D=0;D<S;D+=1)N.setPixel(D,A,x(D,A));var k=w();N.write(k);for(var U=C(),H=k.toByteArray(),F=0;F<H.length;F+=1)U.writeByte(H[F]);return U.flush(),"data:image/gif;base64,"+U};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(s){for(var o=[],a=0;a<s.length;a++){var c=s.charCodeAt(a);c<128?o.push(c):c<2048?o.push(192|c>>6,128|c&63):c<55296||c>=57344?o.push(224|c>>12,128|c>>6&63,128|c&63):(a++,c=65536+((c&1023)<<10|s.charCodeAt(a)&1023),o.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63))}return o}return i(r)}})(),function(r){e.exports=r()}(function(){return n})})(pq);const jme=pq.exports;var Fme=vi("<div>");const gq=e=>{let t,n,r;Cr(!1);const[i,s]=Cr(ML);return uo(()=>{const c=jme(0,"M");if(c.addData(e.sourceUrl),c.make(),t){const u=c.getModuleCount(),d=u*5,p=$i().theme==Ts.DARK?"white":"black",m=(S,E)=>S<7&&E<7||S<7&&E>=u-7||S>=u-7&&E<7,y=u*5,v=Math.round(L3/y*1e5)/1e5,w=S=>{const E=Math.ceil(U3/(S*5)),x=Math.ceil((u-E)/2);return{sizeCells:E,offsetCells:x}},C=(S,E)=>{const{sizeCells:x}=w(v),N=Math.floor(u/2),D=(x+3)/2;return Math.sqrt(Math.pow(S-N,2)+Math.pow(E-N,2))<=D};let _=`<svg width="${d}" height="${d}" viewBox="0 0 ${d} ${d}" fill="none" xmlns="http://www.w3.org/2000/svg">`;const O=(S,E)=>{_+=`<rect 
            x="${E*5}" 
            y="${S*5}" 
            width="35" 
            height="5" 
            fill="${p}"
            rx="4"
        />`,_+=`<rect 
            x="${E*5}" 
            y="${(S+6)*5}" 
            width="35" 
            height="5" 
            fill="${p}"
            rx="4"
        />`,_+=`<rect 
            x="${E*5}" 
            y="${S*5}" 
            width="5" 
            height="35" 
            fill="${p}"
            rx="4"
        />`,_+=`<rect 
            x="${(E+6)*5}" 
            y="${S*5}" 
            width="5" 
            height="35" 
            fill="${p}"
            rx="4"
        />`,_+=`<rect 
            x="${(E+2)*5}" 
            y="${(S+2)*5}" 
            width="${5*3}" 
            height="${5*3}" 
            rx="4"
            fill="${p}"
        />`};O(0,0),O(0,u-7),O(u-7,0);const R=(S,E)=>`<rect 
        x="${S+.375}" 
        y="${E+.375}" 
        width="${4.25}" 
        height="${4.25}" 
        rx="${1.4166666666666667}"
        fill="${p}"
    />`;for(let S=0;S<u;S++)for(let E=0;E<u;E++)c.isDark(S,E)&&!m(S,E)&&!C(S,E)&&(_+=R(E*5,S*5));if(_+="</svg>",t.innerHTML=_,r){const{sizeCells:S,offsetCells:E}=w(v),x=S*5,N=E*5;r.style.top=ia(N),r.style.left=ia(N),r.style.height=ia(x),r.style.width=ia(x),r.style.borderRadius=ia(1e6),s(Math.round(ML/v))}n&&(n.style.transform=`scale(${v})`)}}),be(Lme,{get class(){return e.class},get children(){return[be(Ume,{ref(o){var a=n;typeof a=="function"?a(o):n=o},get children(){return[(()=>{var o=Fme(),a=t;return typeof a=="function"?tC(a,o):t=o,o})(),be(Xn,{get when(){return e.imageUrl},get children(){return be(Bme,{ref(o){var a=r;typeof a=="function"?a(o):r=o},get children(){return be($me,{get src(){return e.imageUrl},alt:"",get size(){return i()}})}})}})]}}),be(cq,{onBeforeEnter:o=>{S0(o,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(o,a)=>{S0(o,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{a()})}})]}})};function B3(e,t,n){const r=e[t]||t.trim().split(".").reduce((i,s)=>i?i[s]:void 0,e);return r!==void 0?r:n}var Kme=(e,t,n=/{{([^{}]+)}}/g)=>e.replace(n,(r,i)=>B3(t,i,"")),Wme=(e={},t=typeof navigator<"u"&&navigator.language in e?navigator.language:(n=>(n=Object.keys(e)[0])!=null?n:"")())=>{const[n,r]=Cr(t),[i,s]=q1(e);return[(c,u,d)=>{const h=B3(i[n()],c,d||"");return typeof h=="function"?h(u):typeof h=="string"?Kme(h,u||{}):h},{add(c,u){s(c,d=>Object.assign(d||{},u))},locale:c=>c?r(c):n(),dict:c=>B3(i,c)}]},mq=z1({}),qh=()=>Ha(mq);const Hme=ot.div`
    font-style: normal;
    font-weight: ${e=>e.fontWeight};
    font-size: ${e=>e.fontSize};
    line-height: ${e=>e.lineHeight};

    color: ${e=>e.color};
`,za=e=>{const t=$i(),[n]=qh();let r;const i=()=>e.color||t.colors.text.primary,s=Xl({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},e);return uo(()=>{r&&s.cursor!=="unset"&&getComputedStyle(r).cursor!=="pointer"&&(r.style.cursor="default")}),be(Hme,{get fontSize(){return s.fontSize},get fontWeight(){return s.fontWeight},get lineHeight(){return s.lineHeight},get color(){return i()},get class(){return s.class},ref(o){var a=r;typeof a=="function"?a(o):r=o},"data-tc-text":"true",get children(){var o;return cn(()=>!!s.translationKey)()?n(s.translationKey,s.translationValues,(o=s.children)==null?void 0:o.toString()):s.children}})},zme=ot.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);

        border-radius: inherit;
    }
`,qme=ot(zh)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,yq=e=>be(zme,{get class(){return e.class},get children(){return be(qme,{get src(){return e.src}})}}),Vme={m:"16px",s:"12px",none:"0"},Xme={m:"6px",s:"6px",none:"0"};ot.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 92px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${u2} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${uu("mobile")} {
        padding: 8px 4px;
        width: 82px;
    }

    ${l2} {
        &:active {
            transform: scale(0.92);
        }
    }
`;ot(yq)`
    width: 60px;
    height: 60px;
    border-radius: ${e=>Vme[e.theme.borderRadius]};

    margin-bottom: 8px;
`;ot(zh)`
    position: absolute;
    right: 10px;
    top: 50px;
    width: 24px;
    height: 24px;
    border-radius: ${e=>Xme[e.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`;ot(za)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${uu("mobile")} {
        max-width: 80px;
    }
`;ot(za)`
    font-weight: ${e=>e.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${e=>e.colorPrimary?e.theme.colors.text.primary:e.theme.colors.text.secondary};

    ${uu("mobile")} {
        max-width: 80px;
    }
`;const Gme=ot.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${e=>e.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,V1=e=>{const[t]=qh();return be(Gme,{get class(){return e.class},"data-tc-h1":"true",get children(){var n;return cn(()=>!!e.translationKey)()?t(e.translationKey,e.translationValues,(n=e.children)==null?void 0:n.toString()):e.children}})},Jme=ot.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${e=>e.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,vq=e=>{const[t]=qh();return be(Jme,{get class(){return e.class},"data-tc-h2":"true",get children(){var n;return cn(()=>!!e.translationKey)()?t(e.translationKey,e.translationValues,(n=e.children)==null?void 0:n.toString()):e.children}})},Yme=ot.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${e=>e.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,Zme=e=>{const[t]=qh();return be(Yme,{"data-tc-h3":"true",get class(){return e.class},get children(){var n;return cn(()=>!!e.translationKey)()?t(e.translationKey,e.translationValues,(n=e.children)==null?void 0:n.toString()):e.children}})},Qme={m:"16px",s:"12px",none:"0"},eye={m:"6px",s:"6px",none:"0"};ot.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${e=>Qme[e.theme.borderRadius]};
    background-color: ${e=>e.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`;ot(yq)`
    width: 20px;
    height: 20px;
    border-radius: ${e=>eye[e.theme.borderRadius]};
`;const tye=ot.a`
    display: block;
    text-decoration: unset;
`,nye=e=>be(tye,Xl({get href(){return e.href},get target(){return e.blank?"_blank":"_self"},get class(){return e.class},get onClick(){return e.onClick}},()=>e.blank?{rel:"noreferrer noopener"}:{},{get children(){return e.children}}));var rye=vi('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z">');const iye=e=>{const t=$i(),n=()=>e.fill||t.colors.icon.primary;return(()=>{var r=rye(),i=r.firstChild;return Qr(s=>{var o=e.class,a=n();return o!==s.e&&Un(r,"class",s.e=o),a!==s.t&&Un(i,"fill",s.t=a),s},{e:void 0,t:void 0}),r})()};var sye=vi('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z">');const oye=e=>{const t=$i(),n=()=>e.fill||t.colors.icon.primary;return(()=>{var r=sye(),i=r.firstChild,s=i.nextSibling;return Qr(o=>{var a=n(),c=n();return a!==o.e&&Un(i,"fill",o.e=a),c!==o.t&&Un(s,"fill",o.t=c),o},{e:void 0,t:void 0}),r})()};function aye(e){return so(this,null,function*(){try{if(!navigator?.clipboard)throw new ql("Clipboard API not available");return yield navigator.clipboard.writeText(e)}catch{}cye(e)})}function cye(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}const lye={m:"8px",s:"4px",none:"0"},uye={m:"16px",s:"8px",none:"0"},dye=ot.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${e=>uye[e.theme.borderRadius]};

    background-color: ${e=>e.theme.colors.background.primary}
           
    color: ${e=>e.theme.colors.text.primary}
`,fye=ot.ul`
    background-color: ${e=>e.theme.colors.background.primary};
    padding: 8px;
`,LL=ot.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${e=>e.theme.colors.background.primary};
    border: none;
    border-radius: ${e=>lye[e.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${e=>e.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,Vh=z1();var UL=vi("<li>");const cA=e=>be(za,{get translationKey(){return e.translationKey},fontSize:"15px",fontWeight:"590",get children(){return e.children}}),hye=e=>{const t=Ha(Vh),[n,r]=Cr(!1),i=()=>so(void 0,null,function*(){const o=Tz.toUserFriendlyAddress(t.account.address);yield aye(o),r(!0),setTimeout(()=>r(!1),1e3)}),s=()=>{t.disconnect(),e.onClose()};return be(dye,{ref(o){var a=e.ref;typeof a=="function"?a(o):e.ref=o},get class(){return e.class},"data-tc-dropdown":"true",get children(){return be(fye,{get children(){return[(()=>{var o=UL();return nC(o,be(LL,{onClick:()=>i(),get children(){return[be(iye,{}),be(Xn,{get when(){return!n()},get children(){return be(cA,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),be(Xn,{get when(){return n()},get children(){return be(cA,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),o})(),(()=>{var o=UL();return nC(o,be(LL,{onClick:()=>s(),get children(){return[be(oye,{}),be(cA,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),o})()]}})}})},pye=ot(Sg)`
    background-color: ${e=>e.theme.colors.connectButton.background};
    color: ${e=>e.theme.colors.connectButton.foreground};
    box-shadow: ${e=>`0 4px 24px ${xg(e.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`;ot(pye)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${e=>e.theme.colors.background.primary};
`;ot(Sg)`
    min-width: 148px;
    height: 40px;

    background-color: ${e=>e.theme.colors.background.primary};
    color: ${e=>e.theme.colors.connectButton.foreground};
    box-shadow: ${e=>`0 4px 24px ${xg(e.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`;ot(dq)`
    height: 18px;
    width: 18px;
`;ot.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`;ot(hye)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`;const B5=z1(),gye=ot(hq)`
  padding-left: 0;
  padding-right: 0;
  padding-top: 0;

  ${uu("mobile")} {
    padding-left: 0;
    padding-right: 0;
    min-height: 364px;
  }
`,Dv=ot(V1)`
  padding: 12px 24px;
  text-align: left;
`,mye=ot.div``,yye=ot.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: ${e=>e.isDeclined?"200px":"325px"};;
  gap: 24px;
`,vye=ot(U5)`
  position: absolute;
  top: 12px;
  left: 16px;
`,wye=ot(vq)`
  margin-bottom: 0;
  padding: 16px 24px 24px 24px;
  min-height: 44px;
  font-color: ${e=>e.theme.colors.text.contrast};
`,bye=ot.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
  display: flex;
  justify-content: center;
`,Eye=ot.div`
  display: flex;
  justify-content: center;
  align-items: center;
`;function wq(e,t){let n;n=t;const r=_ye(e,"ret",n);if(!xe.isTelegramUrl(e))return r;const i=r.slice(r.lastIndexOf("&")+1);return r.slice(0,r.lastIndexOf("&"))+"-"+xe.encodeTelegramUrlParameters(i)}function _ye(e,t,n){const r=new URL(e);return r.searchParams.append(t,n),r.toString()}const X1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAleSURBVHgB7V27chNJFG3LPGweLhkDZV7l2S9Yk5FhZ2TY4UaGbDPwFxhHSwZkZLa/wHZGJpGx0Wq/YIcqMK7iJYN5G7TnNH1Fe/TW9IzGUp+qUc+MJXl0T/e5/bw9pDKKIAjye3t705VKZRqXU0gD3saRHxoayuM6b78f98q4V0YaSorbT5GWDh06VArDsKwyiCGVEdDg3759m8PpVRhwRv00tkuUSAbSx4cPHy6CkFBlAD0lwBj9Bk6vG6NXgWv1/ft3hb/r48ePHzrlfZ7zsJHL5fQxPDxcTXnA2OrIkSM1/xtkFJGs9ZqMnhBw8eLFGRhyyTY6DUsDf/78WX358kWfu8TRo0c1GSMjI/UI2cCxtrW1taFSRmoESG6HoW8pIy9i9A8fPmijR3N1UmAJISGjo6OaEAshSsby8+fPV1VKSIUA5PhbMPYdcZyUlo8fP2rDp2X0RqBMkYyTJ0/qc4PUiEiUAEoNDLyiTI7/+vWrev/+vc7tWcSxY8dSJyIRAiA3AYx9D6es1egcXy6XM2v4KKJEgIRV+I/lJJz1sHKMCxcuLCDX05mxDq92d3fVmzdvNAkHBeKX+PzGYU/j+efGxsZ2UIJLyiGcEUAne/z48b/w0HdxOUK5ef36ta7VHFTwN3z69Ek7bZQA+i+SkJ+YmPgbJdrJD3MiQUZyCjxlrnn37p3OQf2EEydOaFmCHPEyRMmYdSFJsQmA5LCroMAaDmXm1atXB0puOgF9wunTp8U30EHPw0HHkqRYEkS9h+Ef4XSEUkOt73W1MkmwdFOS0LfEg5L0JyQphF/4V3WJrgkwdfuHPGfVcmdnRz9gv0NIINh+AOYgTzuobDxRXaArAmh85PT7PKfxeQwa6KAJkgAputYtCR0TYGSnmvMH0fiCKAndyFFHTpgOF8b/h+eDbnwbrB3xIEDE5U4cc67dN7KqCeOv89wbfz9se8BGBdqq3c+2RQAbWVLPZ23HG78WtIlpdGpb0WbtfK4tAtA0X0ISSJ+OR33QNqYNFBibtURLJwzdZx/+XVa/Xr582df1/LigjVgK0CXDyyvtOOWmJcDovmaS3QvttnDX19f1w8Q5+B2ukObz0EaWP7jfyh80rQUh96/gS25w8KQT6XHVIDP9LrHRi+dhl4XpSd3AUOd8o/c1LAFGenh4p9sF3r59K8TPcWCq0fsaEtCN9Hj8Am3GsRDCjArWRV0CmPuVqfX0W7dymqBySK3o3Llzt+u9py4Bkvu99MSH+E74j6V6bYMaAuzcT+frEQ8cBzd9Rnmc34j+vYYAn/vdQ2yJUnAr+rd9BFy6dImzGHzudwyWAvEF0RrRPgKQ+xeY+tzvHpKhRWEEVQLYYkN1Sc/jOSjzdw4SZJoL58PazrhKADqPZpiyL8PX+91DZncTtjO2JUjLj9f+5CBtqlwud13uaQJMp9sMz2WYzcM9KO1RGdIEiPzQ+L67OTnYMmRWA1Ul6CpfZLqFR3KQqZooBdrmQgBnt6m9vT3lkSwsiZ/hS45aZFYiOqt+bmzEX+nj4jtcfper5yEBpps60H6ALbPz589XMIDAu5k6VlY4HhQPhUIhc7/r7NmzFdqcth9C59ttPOc9VpE4vTBLyNrImivk83m9CAS/b5E+IOBNr//pQWyN9kCQQ+6Y4oVv/aYHqeqjBAS5ilm56Kq4e7SGpTZTJCCI3PRIGJba5ClBvgSkDMvW+aoE+S6I9GDZOt/27GiPZOAJ6DE8AT0GnbCeuMLFyB7pwLJ1mU5YE5C15no/w7J12ZeAHoDrjAnGtcuZ4HY6mpRHOpDMDvXZoQQ95YWXoPRghcEJSUXIC18C0oMQgAaZliC9pjWLBKytram4KBaLKmsQW4OIkl6CytGZyclJZyM+6+vrlbjgd/Tr89DePGh7Lfy4+A9JwFWQLsJFVvwasYZgWIOJiQmelra2ti5L3fMxX+oFOPVwC0vqtfRrAkwUWR1H0yNZSJxS2Fxnek0AWNFzLthA8A2y5EDbispgUKao7/GFkcVZCuw3eLiHCfCkFWd7ezvkuZ3dN/nC4HQeyYBTUQyq9esqAZChVaZehpIB7SolQOSHqFraliETbMLDISxp3xT5IfZldcZJZmoVFQ9HkIhawKp9fx8Bz549KyIJJaK4hxswQ0us0egeBTVij1LwgKnFmEdMWPHklqN/qyGAzpiDNNQsXwriw8799cLg1xBgdhvSTHEWr0c8NMv9+n6jD0oHXTcREn1n3E+wTTU2NsZTav9v9d7TsMKP6uhNpqySyhimR/ugzVrlfqIhAaZGtMF2gZeizmGFul9ttgVK0yYvhswWxSF30jgb9DVilB7TsxzChsvN3ttS1EzsuBVOKOXeAH4ae3NQes6cOaNzP46brTYAahk3lHumwJGM48uusC+ba4krfip7XVCuGS2RKdtTMP7dlp9RbQBtgzvKtJC9P2gM2kbq/MZmLdEWAWwbQIJm6Q9YCnwruRa0iRntou7Ptrt7a9v9zqYHb1b+mSfhFyLh6+ft3s5W6GgDB/iDbfgDzqSbk26KQY+uEjE+ne6jTj7f8Q4axilzRfe1QSfBNj4qJoto7T5UHaKrPWRAwpNBJyFq/BcvXtxXXaDrXZQMCVU54nwXCUjUz2AVc3x8vNowpex0k/MFTjZyq/zc2kSHu+T2hf3aWGMji7PaWNU06ypm427k5qS7cXJyMkDOKOCUkRd172m/b2XIqmYntZ1GcLKZ5+7ubhk5Yw0PNSotZuYWloSDvv6Yv+PUqVN6YMV0LzxA39gf6KzcVg7gfFWG6TtaUn1QGpjjmfON4Sk5i643d3a+nzCrqXBQm3hg9h9NszSY2DhOZl6nAVYq2KfDZzeSs4HMNI+aTlE5RqLrkuzSwGvZXyWrsUllb3lrDk/IgSkzNpIIUlkY1ogIth16XWOSiWjW4LmWG/bjd1u37wSprsyLEkEwjCNLRJoxS2USMvWd7RdrrJd7BD/gzJB2O9PioidLIxkmH6VgAadz9n2SQELoK1wHEKehKTHU9YjR9WxljtsmKTWN0NO1qWw/oNjP4HShYkIn2yAhJIOSRamiI+c5S0q0tDBXm4EQbWCzD7xsvlwzo8EsStlMM7fXQ2YWBwsZJALG+b1iYpk6RGiM/pgLUnppdBuZXZ3NFYTI9dOGCAYXn2J0L6SBSfcNzdFx4l7ZpDQ2+6mYllACSlkxeBT/A6Mt6rTZ7SrDAAAAAElFTkSuQmCC";var Cye=vi('<svg><path fill-rule=evenodd clip-rule=evenodd d="M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z"fill-opacity=0.2></svg>',!1,!0,!1),xye=vi('<svg><path fill-rule=evenodd clip-rule=evenodd d="M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z"></svg>',!1,!0,!1);const G1=e=>be(bq,{get children(){return[be(Aye,{}),be(Eq,{src:X1})]}}),Sye=e=>be(bq,{get children(){return be(Eq,{src:X1})}}),Oye=e=>{const t=$i(),n=Vz`
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    `,r=ot.svg`
    animation: ${n} 2s linear infinite;
    transform-origin: center;
  `;return be(r,{xmlns:"http://www.w3.org/2000/svg",width:"102",height:"102",viewBox:"0 0 102 102",fill:"none",get children(){return[(()=>{var i=Cye();return Qr(()=>Un(i,"fill",t.colors.text.primary)),i})(),(()=>{var i=xye();return Qr(()=>Un(i,"fill",t.colors.text.primary)),i})()]}})},bq=ot.div`
  position: relative;
  height: 102px;
  width: 102px;
`,Aye=ot(Oye)`
  height: 102px;
  width: 102px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,Eq=ot(zh)`
  position: absolute;
  width: 86px;
  height: 86px;
  border-radius: 44px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,Tye=e=>[be(Dv,{translationKey:"walletModal.mobileConnectionModal.OKXConnect"}),be(bye,{get children(){return[be(Xn,{get when(){return e.sessionConnecting()},get children(){return be(Eye,{get children(){return be(G1,{})}})}}),be(Xn,{get when(){return cn(()=>e.universalLink!==null)()&&!e.sessionConnecting()},get children(){return be(gq,{imageUrl:X1,get sourceUrl(){return wq(e.universalLink,"none")},disableCopy:!0})}})]}}),be(wye,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:e.walletInfo.name}},get children(){return["Scan the QR code below with your phones or ",cn(()=>e.walletInfo.name),"s camera"]}})];ot(V1)`
  padding: 12px 64px;
`;const Xh=ot(V1)`
  max-width: 262px;
`,Rye=ot(Xh)`
  font-size: 14px;
  color: ${e=>e.theme.colors.text.primary};
`,Nye=ot(Sg)`
  background-color: transparent;
  color: ${e=>e.theme.colors.text.primary};
  padding: 0px;
`,Pye=ot.div`
  margin: 30px 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;

  ${uu("mobile")} {
    height: 160px;
    align-items: center;
  }
`,Iye=ot(L5)`
  margin-bottom: 16px;
`,$3=ot.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 12px;
  width: 100%;
`,Dye=ot.div`
  background-color: ${e=>e.theme.colors.text.primary};
  height: 48px;
  width: calc(100% - 48px);
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`;ot(za)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${e=>e.theme.colors.text.contrast};
`;const $5=ot(Sg)`
  height: 48px;
  width: 262px;
  border-radius: 999px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px 24px;
`;ot($5)`
  background-color: ${e=>e.theme.colors.text.primary};
`;ot($5)`
  background-color: transparent;
  border-color: ${e=>e.theme.colors.border.secondary};
  border-width: 0.5px;
  border-style: solid;
`;const kye=ot(Xh)`
  font-size: 14px;
  color: ${e=>e.theme.colors.background.primary};
`;ot(Xh)`
  font-size: 14px;
  color: ${e=>e.theme.colors.text.primary};
`;const Mye=ot.div`
  padding-top: 16px;
  padding-left: 16px;
  padding-right: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-top: 0.5px solid
    ${e=>xg(e.theme.colors.icon.secondary,.2)};
  margin-top: 24px;
`,Lye=ot(zh)`
  width: 32px;
  height: 32px;
  border-radius: 16px;
`,Uye=ot(nye)`
  margin-left: auto;
  display: flex;
`,Bye=ot.div`
  display: flex;
  margin-top: 24px;
  gap: 8px;
  align-items: center;
  justify-content: center;
`,$b=ot(zh)`
  width: 27px;
  height: 21px;
  object-fit: contain;
`,j5=e=>(V0(()=>{xe.logDebug("LoadingModalPage  onMount"),xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_Loading_ConnectWallet_View,"")}),Hh(()=>{xe.logDebug("LoadingModalPage  onCleanup"),xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_Loading_ConnectWallet_View,"")}),be(Pye,{get children(){return[be(G1,{}),be(Xn,{get when(){return e.loadingTextTranslationKey||e.loadingTextTranslationKey},get children(){return be(Xh,{get translationKey(){return e.loadingTextTranslationKey},get children(){return e.loadingText}})}})]}})),aC=e=>{const[t]=qh();return cn(()=>{var n;return t(e.translationKey,e.translationValues,(n=e.children)==null?void 0:n.toString())})};var $ye=vi('<svg width=40 height=12 viewBox="0 0 40 12"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d="M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z"></path><path d="M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z"></path><path d="M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z"></path><path d="M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z"></path><path d="M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z"></path><path d="M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z"></path><path d="M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z"></path><path d="M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z"></path><path d="M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>');const jye=e=>{const t=$i(),n=()=>e.fill||t.colors.disable;return(()=>{var r=$ye(),i=r.firstChild,s=i.firstChild,o=s.nextSibling,a=o.nextSibling,c=a.nextSibling,u=c.nextSibling,d=u.nextSibling,h=d.nextSibling,p=h.nextSibling,m=p.nextSibling;return Qr(y=>{var v=n(),w=n(),C=n(),_=n(),O=n(),R=n(),S=n(),E=n(),x=n();return v!==y.e&&Un(s,"fill",y.e=v),w!==y.t&&Un(o,"fill",y.t=w),C!==y.a&&Un(a,"fill",y.a=C),_!==y.o&&Un(c,"fill",y.o=_),O!==y.i&&Un(u,"fill",y.i=O),R!==y.n&&Un(d,"fill",y.n=R),S!==y.s&&Un(h,"fill",y.s=S),E!==y.h&&Un(p,"fill",y.h=E),x!==y.r&&Un(m,"fill",y.r=x),y},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),r})()},cC=e=>{const t=$i(),n=()=>{xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_ChooseType_Download_Click,"")};return[be(Xn,{get when(){return!D5()},get children(){return be(Mye,{get children(){return[be(Lye,{src:X1}),be(Zme,{get children(){return e.wallet.name}}),be(Uye,{href:xe.downloadUrl,onClick:n,blank:!0,get children(){return[be(za,{get color(){return t.colors.text.contrast},get children(){return be(aC,{translationKey:"common.get",children:"GET"})}}),be(uq,{direction:"right"})]}})]}})}}),be(Bye,{get children(){return[be(za,{get color(){return t.colors.disable},get children(){return be(aC,{translationKey:"walletModal.mobileConnectionModal.PoweredBy",children:"PoweredBy"})}}),be(jye,{})]}})]},_q=e=>be(Nye,{get leftIcon(){return be(xme,{})},get onClick(){return e.onRetry},get children(){return be(Rye,{translationKey:"common.retry",children:"Retry"})}}),Cq=e=>[be(Iye,{size:"s"}),be(Xh,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"}),be(Xn,{get when(){return e.showRetry},get children(){return be($3,{get children(){return be(_q,{get onRetry(){return e.onRetry}})}})}})],Fye=e=>{const t=$i();return[be($3,{get children(){return[be(G1,{}),be(Xh,{translationKey:"walletModal.mobileConnectionModal.continueIn",children:"Continue the transaction in OKX Wallet"})]}}),be($3,{get children(){return[be(Dye,{get onClick(){return e.onOpenQR},get children(){return[be(Ome,{get fill(){return t.colors.background.primary}}),be(kye,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Codes"})]}}),be(_q,{get onRetry(){return e.onRetry}})]}})]},BL=ot.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  gap: 12px;
`,Kye=ot(za)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${e=>e.theme.colors.text.contrast};
`,Wye=ot($5)`
  background-color: ${e=>e.theme.colors.text.primary};
  margin-left: 24px;
  width: calc(100% - 48px);
  margin-right: 24px;
`,Hye=ot(Xh)`
  font-size: 14px;
  color: ${e=>e.theme.colors.background.primary};
`,j3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKuSURBVHgB7d3RcdpAFIXhYyfvUIKowHQQUkFEBQwVABXIVAAd4BJIBXIqEOlAHSAqUPYCiZmMsfHo4rNozjdzkzxkPGt+Wxit177D2wZhfhz/TsJ0IZeowmyO8zPMMz5oECYPU2tcpsDhA/giGUBfcFsnwztWESyy7bPCGVlkC23zZP899vvr060svi0zOA1QRL7YNk5uD/wdXr7ikc/3/T78kUJYUgvwAGH5ZpegLfQKl6WyADWE5h5CpQBkCkCmAGQKQKYAZApApgBkX+Gs3+8jyzJ0u81eXM9mM2w2G3hI0xSj0ajRmqqq2q+pLEt4c73Nmud57WG9XrutqSiK2sNqtXK/LR3tJajT6cBL08/Ga9JzAJkCkCkAmQKQKQCZApApAJkCkCkAmQKQKQCZApApAJkCkLkHsI2LttrtdvDm/q2JtiO2WCzQhEWcz+f7fze9l287WLamyWSCJm5mR8xrkiSpPWy32zpEjPJ9RMw7YiEAPNhnkHbE5CwFIFMAMgUgUwAyBSBTADIFIFMAMgUgUwAyBSBTADIFIFMAsmgD2Pkwj+1N28GKeZvU/ZCeHYjz2JJcLpfo9XqNN1PsbdkBvel0iibs7YzHY7eDg6dct9h0SK8lW5I6pCefQgHIFIBMAcgUgEwByBSATAHIFIBMAcgUgEwByBSATAHIdEjvA65xSM99R8wOsnlE+HtIz8NwOGx8SM/YLp03/QIHMj0HkCkAmQKQKQCZApApAJkCkCkAmQVo772D+FUWoISwbCzALwjLbwuwhrD8e+xzXPGnQmleneK0xCDihbZ1EnvgvxwDlHj5/fJyfbbZ8eql/wm39VF0i/OEdzyCv8i2ziMulODwJHFL71zMk+PM5f0ObxuEScM8hOmHifewVVzs7kKJw2ssu9Y/n/uPfwA3U3U3Q3Ht+AAAAABJRU5ErkJggg==",zye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAoCAYAAABerrI1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZOSURBVHgB7VlrbFNVHP/dR2/XPVv26tYyOwmogGE8RMg06xJjIDzcEKOEKOOLiR/c+GIiH8zYF1ATw5QYjY8wEyJiEDcfkcSEbfrFYLKNx4cJCW0GOMbG7LDr+rr3+D+37Vbm2nU41mL4Jb/d2557zs7v/F/n3AIzw0k8THQR2QKxl3iU6MA8wxwVw9LMw9G5zIugXgAsQ9iLeRCWCRaayWJ3DQcAlqF0Yo4Qo9dmZC7qcJfIpFiaThfmCCF6ZchsCHN5WE7loaqqKtTVzewFbrcbbW1tCfs6HA40NDQkbOd9+Rj3AkldgP4xSwaaeMK+TqczaV8SnIoLzgki/od4IOp+wQNR9wvmRZTH40EmIaXiy2sN50zggpqamhK2d3d3o6urC4nQ19d3x6LkyxL2lizCkxVWVIxP4KFF+YCqQcjP8Ughrc/HQh3lI952U1+/G/9F1GxwuVwJRXFBtbW1mA12iwXvlhej2myCGgrrM5NEPj0RgsCIdE/kV0kVEDQIbfljvhbLDOIyIqZetlvxXUUJ1mfLCIeCsz6vSQyKxhq8RXm917Y9s296e9pFNVaU460yC/KUuU2FkeHkkGoWx4YPD9Y91RzfllZRr9isaCyKxsxdBoAoyhA94wdcW5yTFkubKLssorG4ACrTIvGSCBq1a2QZJuqRz+gzv6FtI/8LjfHPInK8480Thw45eJeUdun3AtZdK1FwMUBudKcgSgWQ8nKRvXUr8ra/BBSVQDSSNt8lCENfQbzRRpb1kyj+dPx+VzWr0uWjdFObkiiz2axzJvB0nOzowNumZ8ZxKQi2ZSnac25g+9mRqcMSzVQpK0PhkU8wnGPDsZ4wLvzih9cno/qRR1G/qhk2+6sIX6yHODEwNaCuUIQsMifrNJtTSumtra16LUoEC6XjRAWYjh7o7Oy847uTl0/j4O+fIscfxoefXYEpGIIoUOpWDCg//i16/GXYd9KP66PhuKkx2CwyPtiVjXXFV4HzNUDQO9kWEaYhCKUlpZhKZKVU26fjzOBZPSbGFQltzqJJF8yt24mbWVa8fsKH63/FC+IQ6DsVrx334UbIDsG6h2cJ+ppLiF6JRsVWk5ZEcfXWoC5KI/68ogBXi7N0F8zetA0dF0MYvK1GV/7fGCax3/TQTemeSF7ngsRIYebCtfCAIz2ifEOR7MUnrjF8UV0ETQ3D8PBS/PpHMGl6p70FLgxMUPKwQdNnL0TE6bsNcmGY0iPKSKsbS8kCiTpnM+HMCqpXgQCyjdKs/f8OcOtQfWJGEiIRDSRGJm3UV2TpqVMFxmgMamzSDY+tL8SY34NVdpG8KUndorpU85iEsK8/aiRBtx6XQsUATLJ40iJqZWGlXkR191NJGO0oRk0yjvf/iB1rslCal9j/ShcZsG2FAuHmCUT2DuJkPHGSD/SlVKfa29sjE0iAZHWKHy2mv0Ib8FCNyWdTcQXo12PXOrFjbT1adxej8esJDN0KIHaQYGQhq0XCRy9mozhnEOFLp2CIitHHECLuHBLVjrS8zJSyDXj8yGYEtVCkxGBKWFluKT7fehBCYBF+OB9A9yUVuSYJq+0Snl8jIyiO4lrPbmxUXHo86gMIalQEgzzuqYyJcuEe/NiVDEvffBrKklw9nqa8ILLqCpNRv/xZvLBsE5ZY7JhgQdzy38aXPacwcrMT7y0+R/mAXC1acFk0qsJU9ozV1/fGRLUSm7CAyC01w7Z/HYSsSNFk+qoL+gRjIrngEFQ97iipUX4TcGblMMqMPsR2ESK0iJ+JWZ5gSFhtqu13xxJFOxYY3iEPxr53Q99za7GtaVQQi7giX3FZo2RNolXizhIvbFl+vR7psUZXjS8IxZYqyy1cEB87VhT4BwtxAxYQXtcoFFmBcZlFL7jcWjFhOrWp+0KDhvcrPciRo64aTfuMLKkppS3GDX1vx8aNr3S/ETcRrVhAePtHYAgIyKqks5UQZ6k4NwSdpd5YHMRGc4DERzKeIOqW9KiyaX9WnCCOeFF+Ik/+Jiy0xa6MwnP2T9r8iTAtLpi0WMQnGZaIfryzzAeJm1O3kBFhg9ZlMNZuNjzx0+np4yUq3Q7iAeIqYhUWBm5ih7K2pOvRvWsdQUV6zhhiVd7ghPnj5T7U5I+7BbnArYVHuhW/v1WodSd82fgPHg20OjkMhvcAAAAASUVORK5CYII=",qye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAoCAYAAACxbNkLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnUSURBVHgBrVlrbFxHFT5z967tddx4/Urc4LrrVirETogJBCFBGic/UqAVsSXUCNFAgtQKCQmFfwUJjIVUIfGjEVRFqIi2ilBDEbFDS6GAlKSlaoJ4mMY0CaHOJrZSnMTxOvF7d+cwrzMz17vr9RpOctf3zp3HeX7nzFwGy+iVbG8PD/L7AFgvIKYYY4gIDAoJGQPx0jWIZ9VXDZFvbbt+UZIYDDNkw/kYG+hjQ2n4H8guOoi9yYDn+8W6h2WzZAo8QdB1tgKyQDTrbqyoxKiEBH8OmojRM2hFyEnkc8DgSD6IScEysFaBpDCM506KGbeh1rNdSGmacWSekazFDCPebGh/I21uTrcqg4I2tNYcxjDcvRahAvUjLcOxmwvutcZBcYpKa1wtJN/pS7aZf+KZ7lUn+Q7tWyW67KNG2zZtYkSu72k11O2mZzfksv2wBmKD870piC1dVg+BWsdonxn3cM4mFwyMrjHiZwysg1F31MyqTmQJ5uax7dZaZEdkbr5gT1/81VNQAQVCmH6jX+BGGK19TlYyAc0VV9JKih9wca76qnbJleihxnIjHkeaX1sGTXxGrKjulYfoFZXCOEhwqowCZV7nZGpax6vHinInboapfvovchvrxAhhn3NbrRBEci/0lKXdFJzrMbs2sooFCsVk3VKTXEc/WCeQmiYXMrEq/6Jp1cCgejNtPe1PhjcN3TyCksxEH4IBGuO04kk7p3U7iUFqVeyACikEbRMPkZ17y2XS79yBP//6umyQWG7BSPbeeG8Cdh3YpJam8DYhoQS+fmUeTh69RlODGU9RyXoOfAA2pKpB5yzyX2A2yhAqphAVp8b0BpuNRyir/OaHackUKzXB5p1JaBGCWQuqCXQ2lgK9/L1/l1y8ub0GdrdvUpYjbaCHEmuQR1gIVTQwFkkVyLQbAis7A9POrmPHWJBiDcuzhBoOrXNrmNcTM4YVyxQimKD107jydAtkKwqFOufqBKvQjXmsluPHvdfAQImA8tUqFFogkNKm4IVx63p2Ura6GaVQpE1fw+UspIAe0cQsGjAicQgZKhTITK2zvJrR5AoV2QS5KxBzVQOzRRq6eFqJ1DIcNQAZUSw2wFrkUaAQbeFoq0Wj4hUn5px7KGLgCahKKDNejuMmb5mecnlZjRikXYvL+YWorXGorWxc1yXjNlZssjTQz8t4DWq3NouhXV9lKFv+VEbs2FwP+rUY7WV0lDO4IaD3xtUFW1Vrt9Q3UpjXnhmT74nDiD06BaR3PthgRWVUCRrvSn24DmqTMdt/IbcOzow+DJnbW+DKdDPML26EnOhXG0JGjB/O59iJ0VwwlPlCQ7qkQC8JgQiwfb+l2LR7H+aerTXFm69vPiuEXig6eeeDSfj277rNIC+1+glCvFpY2giDw1+Dq5NbYJGvbBRVmDF4IYjHBi70FQoWyC60NSB/Ibchl6CaTPUxrmFRfiWyKkDU8+u6xG49xN1f0g/D0yd/AJeud8JingMVeKUuuaeMIR6MZ3N/7/rljcOFAvmFofp1RSfayhpRwztaANA5h5cHMjkHp3KGqnKtkLff289eGzkI2WwtVErCFZMCj57+2OBkf0QgTpsyKxg4AVFnfW4YkM8cXVlSHoVMla0E0eFP6/xVWOb3734eaLO31mtmMffdzcecpYLl2dpdumIG5liBZdsA2uusJI6LQXJkwFuzTfjGvx6F/xflgPcf/O1UigSiXQolSFt4SNhVDKGNKBNbKjRXlSci23WTQU9f3M/uLCTKxstqLxFTybOZhefleiGdC/hk8pxys7lMDuan8/aswey71U+iPgYt7dUlhWm5txpupOfBP/pZiLfC8FiPAPCy4Reh2jiDR9oT0LOpGt76zyL8/NJc5H0YsJ7U4OVkSPmH9Ol+Nd/HnxrD1599v6QlfjL+caitD/1RNhudf/M2fGPL3yL9Wz77BDQ+huUR0lBXQxV87r4a6E0loL5KnenApelsQc7N5sXzTNXhEE3Bod2HSnZmt8Vz07kV3Wo2k4XE+hiYaswANaP9a0H/+h0PQTlpQjF4W0scDm9dDzs2VKk2H09Hp3NF52hNBLtC9LfP6siKMVdWllejCXZmY0pnG62gIsPX39cFsyWmXScssP/+WvjSB9dBa62uIMZmcvDc+Rl4orMO2tbpWvrynVxR1iYWeSpEs4/xj5gsRaC8OPkwbrp6x4iFtdxcvA7cYYum9roQHu+8C/aKGEkat5L04sUZOD46B099osEKI+nmXM7kyyglGEuFlmHKoKy4ZksTRhl34VHUVePi5aLHy862BPy0pynS5+Z8Hp58+xZcyOThpYea4R5PmJwYOz6bK7o3yYvG0PgGoTMrZBfKCeRZ1cQOmhOjIprJXL8CieY2+/zm+Cwc+EMePnl3DWxtroZ/Ti3B0fN3oDrG4NjelohlJP1jchEY8qKc1MaDTGiczEK3fwa6qjxjtghIZRGaA4qIoI7WT1+DJU8gSWcnFtTl03N7NkBbXVgwflQgXCkdZzkMh27LbBiEqDAfeaTeBH1xahK5RgGLOSRBk+zk7T1bE/CpLzZF3DF/1ztwE3dAOfrOmUl4dlcLdDVVRdpHJpdKuk02z0+wn2W2o90sGF3TSbM9PDFh7rYZXnYFf+vBXCzaGLJneep3MbsOf/T6UbZUvq5VYf+VzevhWx9ttJny4B8n4K335wv7iumu8ZqOQGg0Dbb85OacOXqW4BevSPKqolX3peMufaYNrsxRGGO3C+qqCmdZW+M5tVy5KyauF9+9DTuPj8HIrSUYFxA+cnOxaF/BwwsLh+5OB0GAQ8QAWsZ84UxsqT2NruPM4ZacxvgmFazaCvbO7KGWV/L7tj8DYTijoHc118RsFvpeHYddv7oK00u5gveCt4zY0g7I2QMBgyec0fRBvUqx3JWjagvBiTFtITov8C3qFEDjyF+NLc1VUz0Buz/0i4rrUAKs5VcuwIHMoY60EujxhuFT4u8Rt1GgzyKIVJCSZrX2kXDRMknHyWCRzh2XIOQR3XiyOm7veAX2dL2M4Am6lisRg4HRx+4/Qlyq+qLvydazwnifFret9IJ552rMiyV6RnM+YET2cg612TzEwB0gMX/KtsYRVlM1ixNTD7BsPg6VkAAM8bky/82LX37g+367hdTnp7qTwrH6ufxoTFsFD598ScD7Tqeblh940UE5o70Ii3yWsF/LtRNNz22ANy48ys5d3SPPhVakULwXwH1q28bw0NBntJsVFYjox1PdqZj45ioLXvntyO8T/TxvRCGgtuBRmJDdOF3No39ypP+nxfPQmff2nv7Tua+mauKxfaK1ezaXT8rKbkkgcWN1mJ6cz56GoOpI+lBHyY/J/wUwVKGzeWclZQAAAABJRU5ErkJggg==",Vye=e=>{const t=n=>{switch(n.getTag()){case xe.OKX_APP_WALLET:return be($b,{src:j3});case xe.OKX_INJECT_WALLET:return be($b,{src:zye});case xe.OKX_TG_WALLET:return be($b,{src:qye});default:return be($b,{src:j3})}};return[be(BL,{get children(){return[be(Sye,{}),be(Kye,{translationKey:"walletModal.mobileConnectionModal.appAndTelegram.text",children:"OKX Wallet supports OKX app and Telegram Mini Apps"})]}}),be(BL,{get children(){return be(D0e,{get each(){return e.connector},children:n=>be(Wye,{get leftIcon(){return t(n)},onClick:()=>e.walletConnectClick(n),get children(){return be(Hye,{get translationKey(){return n.walletNameKey},get children(){return n.walletName}})}})})}})]},Xye=e=>{$i();const[t,n]=Cr(!1),[r,i]=Cr(!1),s=cn(()=>(e.walletConnector.length>1||e.walletConnector.length==1&&e.walletConnector[0].getTag()!==xe.OKX_APP_WALLET)&&!r()),[o,a]=Cr(null),c=Ha(Vh);var u,d;let h=()=>e.universalLinkParams()===null&&!e.connectError();var p;uo(()=>{var _=e.universalLinkParams();const O=s(),R=t(),S=h();if(O!=u&&!R&&!S&&(O?(xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_Proceed_Proceed_View,""),xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_ChooseType_ConnectWallet_View,"")):(xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_Proceed_Proceed_View,""),xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_ChooseType_ConnectWallet_View,"")),u=O),R!=d&&!S&&(R?xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_Proceed_QRCode_View,""):xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_Proceed_QRCode_View,""),d=R),S!=p&&(S?xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_Loading_ConnectWallet_View,""):xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_Loading_ConnectWallet_View,""),p=S),_){e.setLastSelectedWalletInfo(ra(Ws({},e.wallet),{openMethod:"universal-link"})),xe.logDebug(`createEffect  ${JSON.stringify(_)}`);var E=_.connectRequest;if(E){var x=xe.getAppWalletShortDeepLink(E.topic,E.clientId);a(x)}}e.connectError()&&n(!1)}),V0(()=>so(void 0,null,function*(){try{yield e.connect().catch(_=>xe.logDebug(`MobileConnectionModal onMount error ${JSON.stringify(_)}`))}catch(_){console.error("Error while connecting:",_)}}));const m=()=>{i(!1),xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_Proceed_Retry_Click,"");try{e.connect()}catch(_){console.error("Error while connecting:",_)}},y=()=>{xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_Proceed_QRCode_Click,""),n(!0),e.setLastSelectedWalletInfo(ra(Ws({},e.wallet),{openMethod:"qrcode"}))},v=()=>{n(!1),e.setLastSelectedWalletInfo(ra(Ws({},e.wallet),{openMethod:"universal-link"}))},w=()=>{t()?v():e.onBackClick()},C=_=>{var O=e.universalLinkParams();switch(_.getTag()){case xe.OKX_APP_WALLET:{xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_ChooseType_ConnectWallet_Click,btoa(JSON.stringify({Report_WalletType_Key:"app"}))),Io()?(i(!0),O&&_.openWallet(O)):y();return}case xe.OKX_TG_WALLET:{xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_ChooseType_ConnectWallet_Click,btoa(JSON.stringify({Report_WalletType_Key:"tgminiwallet"}))),c?.closeModal(),O&&_.openWallet(O);break}case xe.OKX_INJECT_WALLET:{xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_OKXConnectSDKExtension_ConnectDapp_Button_Click,btoa(JSON.stringify({Report_WalletType_Key:"tgminiwallet"}))),c?.closeModal(),O&&_.openWallet(O);break}}};return Cr(!1),uo(()=>{}),be(mye,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[be(Xn,{get when(){return!e.backDisabled},get children(){return be(vye,{icon:"arrow",onClick:w})}}),be(Xn,{get when(){return cn(()=>e.universalLinkParams()===null)()&&!e.connectError()},get children(){return[be(Dv,{children:"OKX Connect"}),be(j5,{}),be(cC,{get wallet(){return e.wallet}})]}}),be(Xn,{get when(){return e.universalLinkParams()!==null||e.connectError()},get children(){return[be(Xn,{get when(){return cn(()=>!!t())()&&!e.connectError()},get children(){return be(Tye,{get universalLink(){return o()},get walletInfo(){return e.wallet},get sessionConnecting(){return e.sessionConnecting}})}}),be(Xn,{get when(){return!t()},get children(){return[be(Dv,{children:"OKX Connect"}),be(yye,{get isDeclined(){return e.connectError()},get children(){return[be(Xn,{get when(){return e.connectError()},get children(){return be(Cq,{onRetry:m,get showRetry(){return e.showRetry}})}}),be(Xn,{get when(){return!e.connectError()},get children(){return[be(Xn,{get when(){return s()},get children(){return be(Vye,{get connector(){return e.walletConnector},walletConnectClick:C})}}),be(Xn,{get when(){return!s()},get children(){return be(Fye,{onOpenQR:y,onRetry:m})}})]}})]}}),be(cC,{get wallet(){return e.wallet}})]}})]}})]}})},Gye=ot.div``,$L=ot.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  margin-bottom: 16px;
`,Jye=ot(vq)`
  margin-bottom: 0;
  padding: 10px 24px 0px 24px;
  font-size: 14px;
  font-color: ${e=>e.theme.colors.text.contrast};
`,Yye=ot.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
  margin-bottom: 10px;
`,Zye=ot.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,Qye=e=>(V0(()=>{xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_Proceed_QRCode_View,"")}),Hh(()=>{xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_Proceed_QRCode_View,"")}),[be(Yye,{get children(){return[be(Xn,{get when(){return e.sessionConnecting()},get children(){return be(Zye,{get children(){return be(G1,{})}})}}),be(Xn,{get when(){return cn(()=>e.universalLink!==null)()&&!e.sessionConnecting()},get children(){return be(gq,{imageUrl:X1,get sourceUrl(){return wq(e.universalLink,"none")},disableCopy:!0})}})]}}),be(Jye,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:e.walletInfo.name}},get children(){return["Scan the QR code below with your phones or ",cn(()=>e.walletInfo.name),"s camera"]}})]),eve=ot.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding-bottom: 20px;
  margin-top: 10px;
  border-bottom: 0.5px solid ${e=>xg(e.theme.colors.icon.secondary,.2)};
  width: 100%;
`,tve=ot.div`
  flex: 1;
  margin-left: 16px;
  display: flex;
  flex-direction: column;
`,nve=ot(V1)`
  font-weight: 500;
  font-size: 18px;
  text-align: left;
`,rve=ot(za)`
  font-weight: 500;
  font-size: 14px;
  margin-top: 5px;
  color: ${e=>e.theme.colors.text.contrast};
`,ive=ot(zh)`
  width: 48px;
  height: 48px;
  margin-left: 24px;
`,sve=ot(Sg)`
  border-radius: 20px;
  padding: 6px 14px;
  margin-right: 24px;
  display: inline-flex;
  background-color: transparent;
  border: 0.5px solid ${e=>e.theme.colors.text.secondary};;
  white-space: nowrap;
  cursor: pointer;
`,ove=ot(za)`
  font-size: 12px;
  font-weight: 400;
  color: ${e=>e.theme.colors.text.primary};
`,ave=e=>(V0(()=>{xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_OKXConnectSDKExtension_ConnectDapp_Page_View,"")}),Hh(()=>{xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_OKXConnectSDKExtension_ConnectDapp_Page_View,"")}),be(eve,{get children(){return[be(ive,{src:j3}),be(tve,{get children(){return[be(nve,{translationKey:"walletModal.mobileConnectionModal.connectInjectedOpening",children:"Opening OKX Wallet..."}),be(rve,{translationKey:"walletModal.mobileConnectionModal.connectInjectedConfirm",children:"Confirm in OKX Wallet extension"})]}}),be(sve,{get onClick(){return e.injectedRetry},get children(){return be(ove,{translationKey:"common.retry",children:"Retry"})}})]}})),cve=e=>{const t=e.connector.some(n=>n.getTag()===xe.OKX_APP_WALLET);return[be(Xn,{get when(){return e.injectedOpen()},get children(){return be(ave,{get injectedRetry(){return e.injectedRetry}})}}),be(Xn,{when:t,get children(){return be(Qye,{get universalLink(){return e.qrLink()},get walletInfo(){return e.wallet},get sessionConnecting(){return e.sessionConnecting}})}})]},lve=e=>{$i(),Ha(Vh);const[t,n]=Cr(null);cn(()=>t()===null);const[r,i]=Cr(!1);e.setLastSelectedWalletInfo(ra(Ws({},e.wallet),{openMethod:"qrcode"})),V0(()=>{xe.reportEvent(xe.OKXReportType.PAGE_IN,xe.Report_ChooseType_ConnectWallet_View,"")}),Hh(()=>{xe.reportEvent(xe.OKXReportType.PAGE_OUT,xe.Report_ChooseType_ConnectWallet_View,"")});const s=cn(()=>e.universalLinkParams()===null&&!e.connectError()),o=cn(()=>e.universalLinkParams()!==null||e.connectError()),a=cn(()=>o()&&e.connectError()),c=cn(()=>o()&&!e.connectError());uo(()=>{xe.logDebug("TON customEvent.detail  :::",uo);var y=e.universalLinkParams();if(xe.logDebug("TON customEvent.detail  :::",JSON.stringify(y)),y){e.setLastSelectedWalletInfo(ra(Ws({},e.wallet),{openMethod:"universal-link"}));var v=y.connectRequest;if(v){var w=xe.getAppWalletShortDeepLink(v.topic,v.clientId);d(w)}var C=e.walletConnector.find(_=>_.getTag()===xe.OKX_INJECT_WALLET);C&&(C.openWallet(y),i(!0),e.setLastSelectedWalletInfo(ra(Ws({},e.wallet),{openMethod:"inject"})))}});const[u,d]=Cr(null);V0(()=>so(void 0,null,function*(){try{yield e.connect().catch(y=>xe.logDebug("DesktopConnectionModal connect catch error ",JSON.stringify(y)))}catch(y){xe.logDebug("DesktopConnectionModal connect  error ",JSON.stringify(y))}}));const h=()=>{n(null),xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_Proceed_Retry_Click,"");try{e.connect()}catch(y){console.error("Error while connecting:",y)}},p=()=>{var y=e.walletConnector.find(v=>v.getTag()===xe.OKX_INJECT_WALLET);y&&(m(y),xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_OKXConnectSDKExtension_Module_Retry_Click,""))},m=y=>{var v=e.universalLinkParams();v&&(y.openWallet(v),e.setLastSelectedWalletInfo(ra(Ws({},e.wallet),{openMethod:"inject"})))};return be(Gye,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[be(Dv,{children:"OKX Connect"}),be(Xn,{get when(){return s()},get children(){return[be(j5,{}),be(cC,{get wallet(){return e.wallet}})]}}),be(Xn,{get when(){return o()},get children(){return[be(Xn,{get when(){return a()},get children(){return be($L,{get children(){return be(Cq,{onRetry:h,get showRetry(){return e.showRetry}})}})}}),be(Xn,{get when(){return c()},get children(){return be($L,{get children(){return be(cve,{get connector(){return e.walletConnector},get wallet(){return e.wallet},get sessionConnecting(){return e.sessionConnecting},qrLink:()=>u(),injectedRetry:p,injectedOpen:r})}})}}),be(cC,{get wallet(){return e.wallet}})]}})]}})},uve=e=>{const{locale:t}=qh()[1];uo(()=>t(e.language));const n=cn(()=>Io()||I5()),r=Ha(B5);return uo(()=>{e.opened&&I3()}),be(gye,{get opened(){return e.opened},onClose:()=>{e.onClose("action-cancelled"),r.disconnect()},"data-tc-wallets-modal-container":"true",get children(){return[be(Xn,{get when(){return e.loadingBeforeConnect()},get children(){return[be(Dv,{get children(){var i;return(i=e.walletInfo)==null?void 0:i.name}}),be(j5,{})]}}),be(Xn,{get when(){return!e.loadingBeforeConnect()},get children(){return be(R5,{get component(){return n()?Xye:lve},get wallet(){return e.walletInfo},onBackClick:()=>{},backDisabled:!0,get connect(){return e.connect},get universalLinkParams(){return e.universalLinkParams},get lastSelectedWalletInfo(){return e.lastSelectedWalletInfo},get setLastSelectedWalletInfo(){return e.setLastSelectedWalletInfo},get connectError(){return e.connectError},get showRetry(){return e.showRetry},get sessionConnecting(){return e.sessionConnecting},get walletConnector(){return e.walletConnector()}})}})]}})},dve={openWallet:"Open wallet",get:"Get",close:"Close",retry:"Retry"},fve={connectWallet:"Connect wallet",dropdown:{copy:"Copy address",copied:"Address copied",disconnect:"Disconnect"}},hve={confirm:{header:"Open {{ name }} toconfirm."},transactionSent:{header:"Sent",text:"This actionwill becompleted inafew seconds."},transactionCanceled:{header:"Canceled",text:"Therell be no changes to your account."},transactionError:{header:"Error",text:"Therell be no changes to your account."}},pve={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"Show QR Code",scanQR:"Scan theQR code below with your phonesor{{ name }}s camera",continueIn:"Proceed in OKX Wallet",connectionDeclined:"Connection failed",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is available on OKX App and Telegram"},connectApp:"OKX App",connectMini:"OKX Mini Wallet",connectInjected:"OKX Wallet extension",connectInjectedOpening:"Opening OKX Wallet...",connectInjectedConfirm:"Confirm in OKX Wallet extension"}},gve={confirmTransaction:{header:"Confirm in{{ name }}",text:"Itll only take a moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},mve={common:dve,button:fve,notifications:hve,walletModal:pve,actionModal:gve},yve={openWallet:" ",get:"",close:"",retry:" "},vve={connectWallet:" ",dropdown:{copy:" ",copied:" .",disconnect:""}},wve={confirm:{header:" {{ name }}   ."},transactionSent:{header:" ",text:"     ."},transactionCanceled:{header:" ",text:"    ."}},bve={mobileConnectionModal:{showQR:" QR-",scanQR:" QR-        {{ name }}",continueIn:"     OKX",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:" OKX    OKX   Telegram"},connectApp:"   OKX",connectMini:"  - OKX"}},Eve={confirmTransaction:{header:"   {{ name }}",text:"    ."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},_ve={common:yve,button:vve,notifications:wve,walletModal:bve,actionModal:Eve},Cve={openWallet:"",get:"",close:"",retry:""},xve={connectWallet:"",dropdown:{copy:"",copied:"",disconnect:""}},Sve={confirm:{header:" {{ name }} "},transactionSent:{header:"",text:""},transactionCanceled:{header:"",text:""}},Ove={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"",scanQR:"",continueIn:"",connectionDeclined:"",PoweredBy:"Powered by",appAndTelegram:{header:"",text:" App  Telegram "},connectApp:" App",connectMini:" Mini Wallet",connectInjected:"",connectInjectedOpening:"...",connectInjectedConfirm:""}},Ave={confirmTransaction:{header:" {{ name }} ",text:""},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},jL={common:Cve,button:xve,notifications:Sve,walletModal:Ove,actionModal:Ave},Tve={openWallet:" ",get:"",close:"",retry:" "},Rve={connectWallet:" ",dropdown:{copy:" ",copied:"  ",disconnect:" "}},Nve={confirm:{header:" {{ name }}  ."},transactionSent:{header:" ",text:"      ."},transactionCanceled:{header:" ",text:"     ."}},Pve={mobileConnectionModal:{showQR:"  QR",scanQR:"  QR        {{ name }}",continueIn:"    OKX",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:" OKX    OKX Telegram"},connectApp:"  OKX",connectMini:"  OKX "}},Ive={confirmTransaction:{header:"   {{ name }}",text:"    ."}},Dve={common:Tve,button:Rve,notifications:Nve,walletModal:Pve,actionModal:Ive},kve={openWallet:"Otevt penenku",get:"Zskat",close:"Zavt",retry:"Zkusit znovu"},Mve={connectWallet:"Pipojit penenku",dropdown:{copy:"Koprovat adresu",copied:"Adresa zkoprovna",disconnect:"Odpojit"}},Lve={confirm:{header:"Otevete {{ name }} a potvrte transakci."},transactionSent:{header:"Transakce odeslna",text:"Vae transakce bude zruena bhem nkolika sekund."},transactionCanceled:{header:"Transakce zruena",text:"Na vaem tu nedojde k dnm zmnm."}},Uve={mobileConnectionModal:{showQR:"Zobrazit QR kd",scanQR:"Naskenujte ne uveden QR kd pomoc kamery telefonu nebo {{ name }}",continueIn:"Potvrte transakci v OKX Penence.",connectionDeclined:"Pipojen selhalo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Penenka je k dispozici v aplikaci OKX a na sti Telegram."},connectApp:"Pipojit k aplikaci OKX",connectMini:"Pipojit k minipenence OKX"}},Bve={confirmTransaction:{header:"Potvrte transakci na {{ name }}.",text:"Zabere to jen chvilku."}},$ve={common:kve,button:Mve,notifications:Lve,walletModal:Uve,actionModal:Bve},jve={openWallet:"Wallet ffnen",get:"Erhalten",close:"Schlieen",retry:"Wiederholen"},Fve={connectWallet:"Wallet verknpfen",dropdown:{copy:"Adresse kopieren",copied:"Adresse kopiert",disconnect:"Trennen"}},Kve={confirm:{header:"{{ name }} ffnen und Transaktion besttigen."},transactionSent:{header:"Transaktion gesendet",text:"Ihre Transaktion wird in wenigen Sekunden bearbeitet."},transactionCanceled:{header:"Transaktion storniert",text:"Es werden keine nderungen an Ihrem Konto vorgenommen."}},Wve={mobileConnectionModal:{showQR:"QR-Code anzeigen",scanQR:"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}",continueIn:"Setzen Sie die Transaktion in der OKX Wallet fort",connectionDeclined:"Verbindung fehlgeschlagen",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet ist in der OKX App und auf Telegram verfgbar"},connectApp:"Mit der OKX-App verbinden",connectMini:"Mit der OKX-Mini-Wallet verbinden"}},Hve={confirmTransaction:{header:"Transaktion in {{ name }} besttigen",text:"Es dauert nur einen Augenblick."}},zve={common:jve,button:Fve,notifications:Kve,walletModal:Wve,actionModal:Hve},qve={openWallet:"Abrir wallet",get:"Consigue",close:"Cerrar",retry:"Volver a intentar"},Vve={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direccin",copied:"Direccin copiada",disconnect:"Desconectar"}},Xve={confirm:{header:"Abre {{ name }} para confirmar la transaccin."},transactionSent:{header:"Transaccin enviada",text:"Tu transaccin se procesar en unos segundos."},transactionCanceled:{header:"Transaccin cancelada",text:"No se realizarn cambios en tu cuenta."}},Gve={mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Escanea el siguiente cdigo QR con la cmara de tu telfono o de tu {{ name }}",continueIn:"Continuar con la transaccin en OKX Wallet",connectionDeclined:"Error de conexin",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible en la OKX app y en Telegram"},connectApp:"Conectarse a la OKX app",connectMini:"Conectarse a la OKX Mini Wallet"}},Jve={confirmTransaction:{header:"Confirma la transaccin de {{ name }}",text:"Solo te llevar un momento."}},Yve={common:qve,button:Vve,notifications:Xve,walletModal:Gve,actionModal:Jve},Zve={openWallet:"Abrir billetera",get:"Obtener",close:"Cerrar",retry:"Reintentar"},Qve={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direccin",copied:"Direccin copiada",disconnect:"Desconectar"}},e1e={confirm:{header:"Abre {{ name }} para confirmar la transaccin."},transactionSent:{header:"Transaccin enviada",text:"Tu transaccin se procesar en unos segundos."},transactionCanceled:{header:"Transaccin cancelada",text:"No habr cambios en tu cuenta."}},t1e={mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Escanea el siguiente cdigo QR con la cmara de tu telfono o {{ name }}",continueIn:"Contina la transaccin en OKX Wallet",connectionDeclined:"Error de conexin",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible en la aplicacin de OKX y Telegram"},connectApp:"Conctate a la aplicacin de OKX",connectMini:"Conctate a la OKXMini Wallet"}},n1e={confirmTransaction:{header:"Confirmar la transaccin en {{ name }}",text:"Solo tomar un momento."}},r1e={common:Zve,button:Qve,notifications:e1e,walletModal:t1e,actionModal:n1e},i1e={openWallet:"Portefeuille ouvert",get:"Obtenir",close:"Fermer",retry:"Ressayer"},s1e={connectWallet:"Connecter le portefeuille",dropdown:{copy:"Copier ladresse",copied:"Adresse copie",disconnect:"Dconnecter"}},o1e={confirm:{header:"Ouvrir {{ name }} pour confirmer la transaction."},transactionSent:{header:"Transaction envoye",text:"Votre transaction sera traite en quelques secondes."},transactionCanceled:{header:"Transaction annule",text:"Aucun changement ne sera apport  votre compte."}},a1e={mobileConnectionModal:{showQR:"Afficher le code QR",scanQR:"Scannez le code QR ci-dessous avec la camra de votre tlphone ou de votre {{ name }}.",continueIn:"Poursuivre la transaction dans OKX Wallet",connectionDeclined:"chec de la connexion",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible sur OKX App et Telegram"},connectApp:"Se connecter  lappli OKX",connectMini:"Se connecter  OKX Mini Wallet"}},c1e={confirmTransaction:{header:"Confirmer la transaction dans {{ name }}",text:"Cela ne prendra qu'un instant."}},l1e={common:i1e,button:s1e,notifications:o1e,walletModal:a1e,actionModal:c1e},u1e={openWallet:"Buka wallet",get:"Dapatkan",close:"Tutup",retry:"Coba lagi"},d1e={connectWallet:"Hubungkan wallet",dropdown:{copy:"Salin alamat",copied:"Alamat disalin",disconnect:"Putuskan sambungan"}},f1e={confirm:{header:"Buka {{ name }} untuk mengonfirmasi transaksi."},transactionSent:{header:"Transaksi terkirim",text:"Transaksi Anda akan diproses dalam beberapa detik."},transactionCanceled:{header:"Transaksi dibatalkan",text:"Tidak akan ada perubahan pada akun Anda."}},h1e={mobileConnectionModal:{showQR:"Tampilkan Kode QR",scanQR:"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda",continueIn:"Lanjutkan transaksi di OKX Wallet",connectionDeclined:"Koneksi gagal",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet tersedia di OKX App dan Telegram"},connectApp:"Hubungkan ke OKX App",connectMini:"Hubungkan ke OKX Mini Wallet"}},p1e={confirmTransaction:{header:"Konfirmasi transaksi pada {{ name }}",text:"Hanya perlu beberapa saat."}},g1e={common:u1e,button:d1e,notifications:f1e,walletModal:h1e,actionModal:p1e},m1e={openWallet:"Apri portafoglio",get:"Ottieni",close:"Chiudi",retry:"Riprova"},y1e={connectWallet:"Connetti il portafoglio",dropdown:{copy:"Copia indirizzo",copied:"Indirizzo copiato",disconnect:"Disconnetti"}},v1e={confirm:{header:"Apri {{ name }} per confermare la transazione."},transactionSent:{header:"Transazione inviata",text:"La transazione verr elaborata in pochi secondi."},transactionCanceled:{header:"Transazione annullata",text:"Il tuo conto non subir modifiche."}},w1e={mobileConnectionModal:{showQR:"Mostra il codice QR",scanQR:"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}",continueIn:"Continua la transazione in OKX Wallet",connectionDeclined:"Collegamento non riuscito",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet  disponibile sull'app OKX e Telegram"},connectApp:"Connettiti all'app OKX",connectMini:"Connettiti a OKX Mini Wallet"}},b1e={confirmTransaction:{header:"Conferma la transazione in {{ name }}",text:"Ci vorr solo un secondo."}},E1e={common:m1e,button:y1e,notifications:v1e,walletModal:w1e,actionModal:b1e},_1e={openWallet:"Wallet openen",get:"Krijgen",close:"Sluiten",retry:"Opnieuw proberen"},C1e={connectWallet:"Wallet koppelen",dropdown:{copy:"Adres kopiren",copied:"Adres gekopieerd",disconnect:"Verbinding verbreken"}},x1e={confirm:{header:"Open {{ name }} om de transactie te bevestigen."},transactionSent:{header:"Transactie verstuurd",text:"Je transactie wordt binnen een paar seconden verwerkt."},transactionCanceled:{header:"Transactie geannuleerd",text:"Er verandert niets aan je account."}},S1e={mobileConnectionModal:{showQR:"QR-code weergeven",scanQR:"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}",continueIn:"Ga verder met de transactie in OKX Wallet",connectionDeclined:"Koppelen mislukt",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is beschikbaar op OKX App en Telegram"},connectApp:"Koppelen met de OKX-app",connectMini:"Koppelen met OKX Mini Wallet"}},O1e={confirmTransaction:{header:"De transactie in {{ name }} bevestigen",text:"Het is zo gebeurd."}},A1e={common:_1e,button:C1e,notifications:x1e,walletModal:S1e,actionModal:O1e},T1e={openWallet:"Otwrz portfel",get:"Otrzymaj",close:"Zamknij",retry:"Sprbuj ponownie"},R1e={connectWallet:"Pocz portfel",dropdown:{copy:"Kopiuj adres",copied:"Adres skopiowany",disconnect:"Rozcz"}},N1e={confirm:{header:"Otwrz {{ name }}, aby potwierdzi transakcj."},transactionSent:{header:"Wysano transakcj",text:"Transakcja zostanie przetworzona w cigu kilku sekund."},transactionCanceled:{header:"Anulowano transakcj",text:"Na koncie nie zostan wprowadzone adne zmiany."}},P1e={mobileConnectionModal:{showQR:"Poka kod QR",scanQR:"Zeskanuj poniszy kod QR za pomoc aparatu w telefonie lub {{ name }}",continueIn:"Kontynuuj transakcj w OKX Wallet",connectionDeclined:"Poczenie nieudane",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet jest dostpny w aplikacji OKX i Telegramie"},connectApp:"Pocz z aplikacj OKX",connectMini:"Pocz z OKX Mini Wallet"}},I1e={confirmTransaction:{header:"Potwierd transakcj w {{ name }}",text:"To zajmie tylko chwil."}},D1e={common:T1e,button:R1e,notifications:N1e,walletModal:P1e,actionModal:I1e},k1e={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},M1e={connectWallet:"Conectar carteira",dropdown:{copy:"Copiar endereo",copied:"Endereo copiado",disconnect:"Desconectar"}},L1e={confirm:{header:"Abrir {{ name }} para confirmar a transao."},transactionSent:{header:"Transao enviada",text:"Sua transao ser processada em alguns segundos."},transactionCanceled:{header:"Transao cancelada",text:"No haver alteraes em sua conta."}},U1e={mobileConnectionModal:{showQR:"Mostrar Cdigo QR",scanQR:"Digitalize o cdigo QR abaixo com a cmera do seu telefone ou do {{ name }}",continueIn:"Continuar a transao na OKX Wallet",connectionDeclined:"Falha na conexo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est disponvel na OKX App e no Telegram"},connectApp:"Conecte-se  OKX App",connectMini:"Conecte-se  OKX Mini Wallet"}},B1e={confirmTransaction:{header:"Confirmar a transao em {{ name }}",text:"Isso levar apenas um momento."}},$1e={common:k1e,button:M1e,notifications:L1e,walletModal:U1e,actionModal:B1e},j1e={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},F1e={connectWallet:"Associar carteira",dropdown:{copy:"Copiar endereo",copied:"Endereo copiado",disconnect:"Desassociar"}},K1e={confirm:{header:"Abra {{ name }} para confirmar a transao."},transactionSent:{header:"Transao efetuada",text:"A sua transao ser processada dentro de poucos segundos."},transactionCanceled:{header:"Transao cancelada",text:"No sero feitas alteraes  sua conta."}},W1e={mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Leia o cdigo QR abaixo com a cmara do seu telemvel ou {{ name }}",continueIn:"Continuar a transao na OKX Wallet",connectionDeclined:"Falha na ligao",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est disponvel na Aplicao da OKX e no Telegram"},connectApp:"Associar  Aplicao da OKX",connectMini:"Associar  OKX Mini Wallet"}},H1e={confirmTransaction:{header:"Confirmar a transao na {{ name }}",text:"Demora apenas um momento."}},z1e={common:j1e,button:F1e,notifications:K1e,walletModal:W1e,actionModal:H1e},q1e={openWallet:"Deschidei portofelul",get:"Primii",close:"nchidei",retry:"Rencercai"},V1e={connectWallet:"Conectai portofelul",dropdown:{copy:"Copiai adresa",copied:"Adres copiat",disconnect:"Deconectai"}},X1e={confirm:{header:"Deschidei {{ name }} pentru a confirma tranzacia."},transactionSent:{header:"Tranzacie trimis",text:"Tranzacia dvs. va fi procesat n cteva secunde."},transactionCanceled:{header:"Tranzacie anulat",text:"Nu va exista nicio modificare n cont."}},G1e={mobileConnectionModal:{showQR:"Scanai codul QR",scanQR:"Scanai codul QR mai jos cu camera telefonului sau a {{ name }}",continueIn:"Continuai tranzacia n OKX Wallet",connectionDeclined:"Conexiunea a euat",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet este disponibil din aplicaia OKX i Telegram"},connectApp:"Conectai-v la aplicaia OKX",connectMini:"Conectai-v la OKX Mini Wallet"}},J1e={confirmTransaction:{header:"Confirmai tranzacia n {{ name }}",text:"Va dura doar un moment."}},Y1e={common:q1e,button:V1e,notifications:X1e,walletModal:G1e,actionModal:J1e},Z1e={openWallet:"Czdan a",get:"Al",close:"Kapat",retry:"Tekrar Dene"},Q1e={connectWallet:"Czdan bala",dropdown:{copy:"Adresi kopyala",copied:"Adres kopyaland!",disconnect:"Balanty kes"}},ewe={confirm:{header:"lemi onaylamak iin {{ name }} gesini an."},transactionSent:{header:"lem gnderildi.",text:"leminiz birka saniye iinde gerekletirilecek."},transactionCanceled:{header:"lem iptal edildi!",text:"Hesabnzda deiiklik olmayacak."}},twe={mobileConnectionModal:{showQR:"QR Kodunu Gster",scanQR:"Aadaki QR kodunu telefonunuzun veya {{ name }} cihaznzn kamerasyla tarayn.",continueIn:"leme OKX Web3 Czdanda devam edin.",connectionDeclined:"Balant baarsz.",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Web3 Czdan, OKX Uygulamasnda ve Telegramda kullanma sunuldu"},connectApp:"OKX Uygulamasna Balan",connectMini:"OKX Mini Czdanna Balan"}},nwe={confirmTransaction:{header:"{{ name }} Konumunda lemi Onaylayn",text:"Bu yalnzca bir dakikanz alacak."}},rwe={common:Z1e,button:Q1e,notifications:ewe,walletModal:twe,actionModal:nwe},iwe={openWallet:" ",get:"",close:"",retry:" "},swe={connectWallet:" ",dropdown:{copy:" ",copied:" ",disconnect:""}},owe={confirm:{header:" {{ name }},   ."},transactionSent:{header:" ",text:"      ."},transactionCanceled:{header:" ",text:"     ."}},awe={mobileConnectionModal:{showQR:" QR-",scanQR:"   QR-       {{ name }}",continueIn:"   OKX Wallet",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX     OKX  Telegram"},connectApp:"   OKX",connectMini:"   OKX"}},cwe={confirmTransaction:{header:"   {{ name }}",text:"   ."}},lwe={common:iwe,button:swe,notifications:owe,walletModal:awe,actionModal:cwe},uwe={openWallet:"M v",get:"Nhn",close:"ng",retry:"Th li"},dwe={connectWallet:"Kt ni v",dropdown:{copy:"Sao chp a ch",copied:" sao chp a ch",disconnect:"Ngt kt ni"}},fwe={confirm:{header:"M {{ name }}  xc nhn giao dch."},transactionSent:{header:" gi giao dch",text:"Giao dch ca bn s c x l trong vi giy."},transactionCanceled:{header:" hy giao dch",text:"Khng c thay i no vi ti khon ca bn."}},hwe={mobileConnectionModal:{showQR:"Hin th m QR",scanQR:"Qut m QR bn di bng my nh in thoi hoc {{ name }} ca bn",continueIn:"Tip tc giao dch trn V Web3 OKX",connectionDeclined:"Kt ni khng thnh cng",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"V Web3 OKX hin c trn c ng dng OKX v Telegram"},connectApp:"Kt ni ng dng OKX",connectMini:"Kt ni V Web3 OKX Mini"}},pwe={confirmTransaction:{header:"Xc nhn giao dch trong {{ name }}",text:"N ch mt cht thi gian."}},gwe={common:uwe,button:dwe,notifications:fwe,walletModal:hwe,actionModal:pwe},mwe={openWallet:"",get:"",close:"",retry:""},ywe={connectWallet:"",dropdown:{copy:"",copied:"",disconnect:""}},vwe={confirm:{header:" {{ name }} "},transactionSent:{header:"",text:""},transactionCanceled:{header:"",text:""}},wwe={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"",scanQR:" OKX ",continueIn:" OKX ",connectionDeclined:"",PoweredBy:"Powered by",appAndTelegram:{header:" OKX ",text:" OKX  OKX App  Telegram "},connectApp:" OKX App",connectMini:" OKX Mini Wallet"}},bwe={confirmTransaction:{header:" {{ name }} ",text:""}},Ewe={common:mwe,button:ywe,notifications:vwe,walletModal:wwe,actionModal:bwe},_we={en_US:_i(mve),ru_RU:_i(_ve),zh_CN:_i(jL),zh:_i(jL),ar_AE:_i(Dve),cs_CZ:_i($ve),de_DE:_i(zve),es_ES:_i(Yve),es_LAT:_i(r1e),fr_FR:_i(l1e),id_ID:_i(g1e),it_IT:_i(E1e),nl_NL:_i(A1e),pl_PL:_i(D1e),pt_BR:_i($1e),pt_PT:_i(z1e),ro_RO:_i(Y1e),tr_TR:_i(rwe),uk_UA:_i(lwe),vi_VN:_i(gwe),zh_TW:_i(Ewe)};function _i(e){const t="$",n=r=>{Object.entries(r).forEach(([i,s])=>{if(typeof s=="object"&&s)return n(s);if(typeof s=="string"){if(s[0]===t){const o=s.slice(1).split(".");let a=e;o.forEach(c=>{if(c in a)a=a[c];else throw new Error(`Cannot parse translations: there is no property ${c} in translation`)}),r[i]=a}s.slice(0,2)===`\\${t}`&&(r[i]=s.slice(1))}})};return n(e),e}const Cwe=ot.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,xwe=ot(V1)`
    margin-top: 16px;
`,Swe=ot(za)`
    font-weight: 400;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;
    margin-top: 10px;
    color: ${e=>e.theme.colors.text.contrast};
`;ot(Sg)`
    min-width: 112px;
    margin-top: 32px;
`;ot(dq)`
    height: 16px;
    width: 16px;
`;const FL=ot.div`
    margin-top: 24px;
  background-color: ${e=>e.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,f2=e=>{const t=d2(e),n=Ha(Vh);Cr(!0);const[r,i]=Cr(!1),s=$i(),{action:o}=Ha(xq);uo(()=>{const c=o;i(!!c&&"sent"in c&&c.sent)});const a=()=>{xe.logDebug("ActionModal ====> onOpenWallet "),n?.openWallet()};return be(Cwe,Xl(t,{get children(){return[cn(()=>e.icon),be(xwe,{get translationKey(){return e.headerTranslationKey},get translationValues(){return e.headerTranslationValues},get children(){return e.headDefaultString}}),be(Swe,{get translationKey(){return e.textTranslationKey},get translationValues(){return e.textTranslationValues}}),be(Xn,{get when(){return n?.showActionButton()},get children(){return[be(Xn,{get when(){return e.showButton==="close"},get children(){return be(FL,{onClick:()=>e.onClose(),get children(){return be(za,{fontWeight:700,fontSize:"16px",get color(){return s.colors.background.primary},get children(){return be(aC,{translationKey:"common.close",children:"Close"})}})}})}}),be(Xn,{get when(){return e.showButton==="open-wallet"},get children(){return be(FL,{onClick:a,get children(){return be(za,{fontWeight:700,fontSize:"16px",get color(){return s.colors.background.primary},get children(){return be(aC,{translationKey:"common.openWallet",children:"Open wallet"})}})}})}})]}})]}}))},Owe=e=>{const t=Ha(Vh),[n]=qh(),r=()=>t.walletName?t.walletName:n("common.yourWallet",{},"Your wallet");return be(f2,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:r()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return be(G1,{})},onClose:()=>e.onClose(),get showButton(){return Io()?"open-wallet":void 0},"data-tc-confirm-modal":"true"})},Awe=e=>be(f2,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return be(L5,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return Io()?"close":void 0},"data-tc-transaction-canceled-modal":"true"}),Twe=e=>be(f2,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return be(pme,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return Io()?"close":void 0},"data-tc-transaction-sent-modal":"true"}),Rwe=e=>be(f2,{headerTranslationKey:"actionModal.transactionError.header",textTranslationKey:"actionModal.transactionCanceled.text",headDefaultString:"Error",get icon(){return be(L5,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return Io()?"close":void 0},"data-tc-transaction-error-modal":"true"}),xq=z1({action:null}),Nwe=e=>(uo(()=>{console.log("ActionsModal",e.action)}),be(xq.Provider,{get value(){return{action:e.action}},get children(){return be(hq,{get opened(){var t;return e.action!==null&&((t=e.action)==null?void 0:t.openModal)===!0},onClose:()=>e.setAction(null),"data-tc-actions-modal-container":"true",get children(){return be(Wz,{get children(){return[be(rd,{get when(){return e.action.name==="transaction-sent"},get children(){return be(Twe,{onClose:()=>e.setAction(null)})}}),be(rd,{get when(){return e.action.name==="transaction-canceled"},get children(){return be(Awe,{onClose:()=>e.setAction(null)})}}),be(rd,{get when(){return e.action.name==="confirm-transaction"},get children(){return be(Owe,{onClose:()=>e.setAction(null)})}}),be(rd,{get when(){return e.action.name==="transaction-error"},get children(){return be(Rwe,{onClose:()=>e.setAction(null)})}})]}})}})}})),h2={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",qrFill:"#000000",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#FFFFFF"},text:{primary:"#000000",secondary:"#6A7785",contrast:"#909090"},border:{primary:"#00000014",secondary:"#00000024"},disable:"#B3B3B3"},Sq={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",qrFill:"#FFFFFF",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#121214"},text:{primary:"#FFFFFF",secondary:"#7D7D85",contrast:"#909090"},border:{primary:"#FFFFFF1F",secondary:"#FFFFFF30"},disable:"#5B5B5B"};q1({theme:Ts.LIGHT,colors:h2,borderRadius:"m"});Ts.LIGHT+"",Ts.DARK+"";Ts.LIGHT+"",Ts.DARK+"";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function KL(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pwe(e){var t,n;return KL(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(KL(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function WL(e,t){return e?qpe(t,e,{arrayMerge:(r,i,s)=>i,isMergeableObject:Pwe}):t}const Iwe=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"];function Dwe(e){return Iwe.includes(e)}const[kwe,eUe]=Cr({status:"closed",closeReason:null});cn(()=>kwe().status==="opened");const[lC,HL]=Cr({status:"closed",closeReason:null}),zL=cn(()=>lC().status==="opened"),Mwe=cn(()=>{const e=lC();return e.status==="opened"?e.walletInfo:null});let O0=typeof window<"u"?new M5:void 0;const[Qy,Lwe]=Cr(O0?.getLastSelectedWalletInfo()||null),Oq=e=>{O0||(O0=new M5),e?(k0(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(e)}`),O0.setLastSelectedWalletInfo(e)):(k0("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),O0.removeLastSelectedWalletInfo()),Lwe(e)},[Uwe,F3]=Cr(null),Bwe=()=>{const e=Ha(Vh),t=Ha(B5),[n,r]=Cr(null),[i,s]=Cr(!1),[o,a]=Cr(!1),c=u=>{e.closeModal(u)};return t?.on("okx_engine_connect_params",u=>{xe.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(u)}`),r(u)}),t?.on("session_connecting",()=>{xe.logDebug("UniversalSigneWalletModal  session_connecting  }"),a(!0)}),uo(()=>{zL()||(s(!1),r(null),a(!1))}),be(uve,{get opened(){return zL()},get walletInfo(){return Mwe()},loadingBeforeConnect:()=>!1,connect:()=>new Promise((u,d)=>{var h,p;ki.connectRequestParameters&&new ql("connect params is nil");let m=Ws({},JSON.parse(JSON.stringify(ki.connectRequestParameters)));m.sessionConfig={},m.sessionConfig.openUniversalUrl=Mge((h=ki.connectRequestParameters)==null?void 0:h.namespaces,(p=ki.connectRequestParameters)==null?void 0:p.optionalNamespaces),s(!1),r(null),a(!1),e.handleConnect(y=>(m.sessionConfig.tmaReturnUrl=y?.tmaReturnUrl,m.sessionConfig.redirect=y?.returnStrategy,t.connect(m))).then(y=>{y?(c("wallet-selected"),u(y)):(s(!0),c("action-cancelled"))}).catch(y=>{s(!0),xe.logDebug("UniversalSingleWalletModal connect  error",JSON.stringify(y)),d(y)})}),onClose:c,universalLinkParams:n,get lastSelectedWalletInfo(){return Qy()},setLastSelectedWalletInfo:Oq,connectError:i,showRetry:!1,walletConnector:()=>(nq(),ki.walletConnector.filter(u=>u.enable)),get language(){return ki.language},sessionConnecting:o})},[$we,jwe]=q1({theme:Ts.LIGHT,colors:h2,borderRadius:"m"}),Fwe={[Ts.LIGHT]:h2,[Ts.DARK]:Sq};Ts.LIGHT+"",Ts.DARK+"";function lA(e){jwe({theme:e,colors:Fwe[e]})}const Kwe=e=>{const t=Wme(_we,ki.language);return Xge(),Vge(),be(mq.Provider,{value:t,get children(){return be(Vh.Provider,{get value(){return e.connectUI},get children(){return be(B5.Provider,{get value(){return ki.connector},get children(){return[be(dge,{}),be(lge,{theme:$we,get children(){return be(R5,{component:$l,style:{position:"relative","z-index":3001},get children(){return[be(Bwe,{}),be(Nwe,{get action(){return Uwe()},setAction:F3})]}})}})]}})}})}})},Gu={openSingleWalletModal:e=>{xe.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(e)}`),setTimeout(()=>HL({status:"opened",closeReason:null,walletInfo:e}))},closeSingleWalletModal:e=>void setTimeout(()=>HL({status:"closed",closeReason:e})),setAction:e=>void setTimeout(()=>F3(e)),clearAction:()=>void setTimeout(()=>{console.log("clearAction"),F3(null)}),getSelectedWalletInfo:()=>Qy(),removeSelectedWalletInfo:()=>Oq(null),renderUniversalApp:(e,t)=>H0e(()=>be(Kwe,{connectUI:t}),document.getElementById(e))};class Wwe{constructor(){wr(this,"listeners",[])}listen(t){this.listeners.push(t)}trigger(t){this.listeners.forEach(n=>n(t))}}class Hwe{constructor(t){wr(this,"consumers",[]),wr(this,"getWalltsInfo"),wr(this,"connectSignal",new Wwe),wr(this,"state",lC()),this.getWalltsInfo=t.getWalltsInfo,uo(()=>{const n=lC();this.state=n,this.consumers.forEach(r=>r(n))})}open(t,n){return so(this,null,function*(){xe.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(n)}`);const i=this.getWalltsInfo().find(o=>eq(o,t));if(i)return this.openSingleWalletModal(i,n);const s=`Trying to open modal window with unknown wallet "${t}".`;throw new ql(s)})}close(t="action-cancelled"){Gu.closeSingleWalletModal(t)}onStateChange(t){return this.consumers.push(t),()=>{this.consumers=this.consumers.filter(n=>n!==t)}}handleConnect(t,n){return so(this,null,function*(){return new Promise((r,i)=>{try{t(n).then(s=>{r(s),xe.logDebug("UniversalSingleWalletModalManager  result >>>",JSON.stringify(s)),this.connectSignal.trigger(s)}).catch(s=>{i(s),xe.logDebug("UniversalSingleWalletModalManager  error >>>",JSON.stringify(s)),this.connectSignal.trigger(s)})}catch(s){i(s),xe.logDebug("UniversalSingleWalletModalManager  catch error >>>",JSON.stringify(s)),this.connectSignal.trigger(s)}})})}openSingleWalletModal(t,n){return so(this,null,function*(){var r;if(xe.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(n)}`),c2()&&yge(),k3({connectRequestParameters:n}),nq(),!ki.walletConnector.some(s=>s.enable))throw new xe.OKXConnectError(xe.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);const i=new Promise((s,o)=>{this.connectSignal.listen(a=>{a instanceof Error?o(a):s(a)})});if(ki.walletConnector.length==1&&((r=ki.walletConnector[0])==null?void 0:r.getTag())===xe.OKX_INJECT_WALLET){let s=ki.walletConnector[0];n.sessionConfig={openUniversalUrl:!1};const o=ki.connector;if(o)return o?.once("okx_engine_connect_params",a=>{s.openWallet(a)}),o?.connect(n)}else return Gu.openSingleWalletModal(t),i})}}function zwe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var y=0,v=0,w=0,C=m.length;w!==C&&m[w]===0;)w++,y++;for(var _=(C-w)*u+1>>>0,O=new Uint8Array(_);w!==C;){for(var R=m[w],S=0,E=_-1;(R!==0||S<v)&&E!==-1;E--,S++)R+=256*O[E]>>>0,O[E]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");v=S,w++}for(var x=_-v;x!==_&&O[x]===0;)x++;for(var N=a.repeat(y);x<_;++x)N+=e.charAt(O[x]);return N}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var y=0,v=0,w=0;m[y]===a;)v++,y++;for(var C=(m.length-y)*c+1>>>0,_=new Uint8Array(C);m[y];){var O=m.charCodeAt(y);if(O>255)return;var R=t[O];if(R===255)return;for(var S=0,E=C-1;(R!==0||S<w)&&E!==-1;E--,S++)R+=o*_[E]>>>0,_[E]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");w=S,y++}for(var x=C-w;x!==C&&_[x]===0;)x++;for(var N=new Uint8Array(v+(C-x)),A=v;x!==C;)N[A++]=_[x++];return N}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var qwe=zwe;const Vwe=qwe,Xwe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Gwe=Vwe(Xwe);const Ny=class{constructor(e,t){wr(this,"singleWalletModal"),wr(this,"actionsConfiguration"),wr(this,"systemThemeChangeUnsubscribe",null),wr(this,"universalProvider"),xe.logDebug("OKXUniversalConnectUI constructor options:",JSON.stringify(e)),this.singleWalletModal=new Hwe({getWalltsInfo:()=>Ny.getWallets()});const n=this.normalizeWidgetRoot(void 0);this.universalProvider=t,this.uiOptions=WL(e,{uiPreferences:{theme:"SYSTEM"},dappMetaData:e.dappMetaData}),k3({connector:t,walletConnector:e.connector,dappMetaData:e.dappMetaData}),Gu.renderUniversalApp(n,this)}static getWallets(){return[xe.creatOKXWalletInfo(),xe.creatOKXMiniAppWalletInfo(),xe.creatOKXInjectWalletInfo()]}set uiOptions(e){var t,n,r;xe.logDebug("OKXUniversalConnectUI uiOptions() called"),this.actionsConfiguration=e.actionsConfiguration,(t=e.uiPreferences)!=null&&t.theme&&(((n=e.uiPreferences)==null?void 0:n.theme)!=="SYSTEM"?((r=this.systemThemeChangeUnsubscribe)==null||r.call(this),lA(e.uiPreferences.theme)):(lA(Wge()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=Hge(lA)))),e.language&&!Dwe(e.language.toString())&&(e.language="en_US"),k3(i=>{var s;return WL(Ws(Ws({},e.language&&{language:e.language}),!!((s=e.actionsConfiguration)!=null&&s.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),G0(i))})}request(e,t,n){return so(this,null,function*(){var r,i,s,o,a;if(xe.logDebug("OKXUniversalConnectUI request() called"),!this.session)throw new ql("Connect wallet to send a transaction.");const c={returnStrategy:sh("mobile")&&((r=Qy())==null?void 0:r.openMethod)!=="qrcode"?n?.returnStrategy:"none",modals:n?.modals,tmaReturnUrl:(i=n?.tmaReturnUrl)!=null?i:"back"},{modals:u,returnStrategy:d,tmaReturnUrl:h}=this.getModalsAndNotificationsConfiguration(c),p=ra(Ws({},e),{redirect:d}),m=this.universalProvider.showRequestModal(p,t);iq(this.getConnectWallet())||Gu.setAction({name:"confirm-transaction",openModal:u.includes("before")&&m,sent:!1}),!((s=this.session.sessionConfig)!=null&&s.openUniversalUrl)&&m&&$ge(this.getConnectWallet(),(o=Qy())==null?void 0:o.openMethod)&&Uge(this.getConnectWallet(),h,this.universalProvider.getOpenAppLinkType(),this.session.namespaces),this.session.sessionConfig&&(this.session.sessionConfig.openUniversalUrl=this.session.sessionConfig.openUniversalUrl&&Io()&&((a=Qy())==null?void 0:a.openMethod)!=="qrcode");try{const y=yield this.universalProvider.request(p,t);return Gu.setAction({name:"transaction-sent",openModal:u.includes("success")&&m}),y}catch(y){throw xe.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof y} ==> is core OKXConnectError: ${y instanceof xe.OKXConnectError} ==> is universal-provider OKXConnectError: ${y instanceof Wp.OKXConnectError} ==>  ${JSON.stringify(y)}`),y instanceof xe.OKXConnectError||y instanceof Wp.OKXConnectError?(xe.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(y)}`),y.code===xe.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR?Gu.setAction({name:"transaction-canceled",openModal:u.includes("error")&&m}):Gu.setAction({name:"transaction-error",openModal:u.includes("error")&&m}),y):(Gu.setAction({name:"transaction-error",openModal:u.includes("error")&&m}),new ql("Unhandled error:"+y))}})}getModalsAndNotificationsConfiguration(e){var t,n,r;const i=["before","success","error"];let s=["before"];(t=this.actionsConfiguration)!=null&&t.modals&&(this.actionsConfiguration.modals==="all"?s=i:s=this.actionsConfiguration.modals),e?.modals&&(e.modals==="all"?s=i:s=e.modals);const o=e?.returnStrategy||((n=this.actionsConfiguration)==null?void 0:n.returnStrategy)||"back",a=e?.tmaReturnUrl||((r=this.actionsConfiguration)==null?void 0:r.tmaReturnUrl)||"back";return{modals:s,tmaReturnUrl:a,returnStrategy:o}}static init(e){return so(this,null,function*(){if(xe.logDebug("OKXUniversalConnectUI init() called"),window&&window.okxConnectUniversalUIinwindow instanceof Ny)return xe.logDebug("OKXUniversalConnectUI init() old called"),window.okxConnectUniversalUIinwindow;if(this.initPromise)return xe.logDebug("OKXUniversalConnectUI init() is waiting for ongoing initialization"),this.initPromise;this.initPromise=so(this,null,function*(){if(!e||!e.dappMetaData)throw new ql("You have to specify a `dappMetaData` in the options.");xe.logDebug("OKXUniversalConnectUI init() new called"),(!e.connector||e.connector.length===0)&&(e.connector=Fge());const t=yield Wp.OKXUniversalProvider.init({dappMetaData:e.dappMetaData,connector:e.connector,openAppLinkType:e.openAppLinkType}),n=new Ny(e,t);return window&&(window.okxConnectUniversalUIinwindow=n),n});try{return yield this.initPromise}finally{this.initPromise=null}})}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="universal-widget-root";const t=document.createElement("div");t.id=e,document.body.appendChild(t)}return e}getWallets(){return Ny.getWallets()}handleConnect(e){return so(this,null,function*(){return this.singleWalletModal.handleConnect(e,this.actionsConfiguration)})}checkConnectMethods(e,t){return so(this,null,function*(){if(xe.logDebug("checkConnectMethods connectParams111 >>>>",JSON.stringify(e)),xe.logDebug("checkConnectMethods responseItems>>>>",JSON.stringify(t)),this.universalProvider.session&&e&&e.length>0&&(!t||t.length===0)){var n=e[0];if(n){if(n.method==="sync_all_addresses")return;let r=[];try{let i=yield Wp.connectMethodsAdaptOldVersion(n,this.universalProvider.session);xe.logDebug("checkConnectMethods callBackParams111>>>>",JSON.stringify(i));let s={};c2()&&(s.returnStrategy="tg://resolve"),xe.logDebug("checkConnectMethods requestItem>>>>",JSON.stringify(n)),xe.logDebug("checkConnectMethods callBackParams222>>>>",JSON.stringify(i)),this.request(n,n.chainId,s).then(o=>{let a=o;if(xe.logDebug(`checkConnectMethods then resultItem ====> ${JSON.stringify(a)}`),n.method==="wallet_addEthereumChain")a={method:n.method,chainId:n.chainId,result:""};else if(n.method==="personal_sign")a={method:n.method,chainId:n.chainId,result:a};else if(n.method==="btc_signMessage")a.chainId=n.chainId;else if(n.method==="solana_signMessage"){let c=a.result;a.chainId=n.chainId,a.result=ra(Ws({},i),{signature:Gwe.decode(c)})}else if(n.method==="sui_signMessage"||n.method==="sui_signPersonalMessage"){const c=a.result;a.chainId=n.chainId,a.result=ra(Ws({},i),{signature:c})}else if(n.method==="aptos_signMessage"){let c=a.result;c.startsWith("0x")&&(c=c.slice(2,c.length)),a.chainId=n.chainId,"injectResult"in a?a.result=a.injectResult:a.result=ra(Ws({},i),{signature:c})}else n.method==="cosmos_signArbitrary"&&typeof a.result=="string"&&(a.chainId=n.chainId,a.result=JSON.parse(a.result));r.push(a),xe.logDebug(`OKXUniversalConnectUI checkConnectMethods success result ====> ${JSON.stringify(r)}`),this.universalProvider.events.emit("connect_signResponse",r)}).catch(o=>{let a=Wp.creatNotSupportMethodItemReplay(n);r.push(a),xe.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(o)}`),this.universalProvider.events.emit("connect_signResponse",r)})}catch(i){let s=Wp.creatNotSupportMethodItemReplay(n);r.push(s),xe.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(i)}`),this.universalProvider.events.emit("connect_signResponse",r)}}else console.log("checkConnectMethods requestItem is nil",JSON.stringify(e))}})}openModalAndSign(e,t){return so(this,null,function*(){xe.logDebug("OKXUniversalConnectUI openModalAndSign() called");const n=ra(Ws({},e),{signRequest:t});return xe.logDebug("OKXUniversalConnectUI openModalAndSign() opts:",JSON.stringify(e)),xe.reportEvent(xe.OKXReportType.CLICK,xe.Report_ConnectDapp_ConnectAndSign_Click,this.universalProvider.providerOpts.dappMetaData.name),yield this.openModal(n)})}openModal(e){return so(this,null,function*(){xe.logDebug("OKXUniversalConnectUI openModal() called");try{if(this.connected())return this.session;let n=e.signRequest?JSON.parse(JSON.stringify(e.signRequest)):[];xe.logDebug("OKXUniversalConnectUI openModal signRequest:",JSON.stringify(n));var t=yield this.singleWalletModal.open("okxAppWallet",e);return this.checkConnectMethods(n,t?.signResponse),t}catch(n){throw n}})}closeModal(e){this.singleWalletModal.close(e)}openWallet(e,t){this.universalProvider.openWallet(e,t)}onSingleWalletModalStateChange(e){return console.log("ui - onSingleWalletModalStateChange",e),this.singleWalletModal.onStateChange(e)}onModalStateChange(e){return console.log("ui - onModalStateChange",e),this.onSingleWalletModalStateChange(e)}showActionButton(){return Kge(this.getConnectWallet())}getUniversalProvider(){return this.universalProvider}getConnectWallet(){var e,t;return xe.logDebug(`this.session?.wallet?.appName ${(t=(e=this.universalProvider.session)==null?void 0:e.wallet)==null?void 0:t.appName}`),this.getWallets().find(n=>{var r,i;return eq(n,(i=(r=this.universalProvider.session)==null?void 0:r.wallet)==null?void 0:i.appName)})}get session(){return this.universalProvider.session}setDefaultChain(e,t){this.universalProvider.setDefaultChain(e,t)}on(e,t){this.universalProvider.on(e,t)}once(e,t){this.universalProvider.once(e,t)}removeListener(e,t){this.universalProvider.removeListener(e,t)}off(e,t){this.universalProvider.off(e,t)}get walletName(){var e,t;return xe.logDebug(`this.getConnectWallet()?.walletName ${(e=this.getConnectWallet())==null?void 0:e.name}`),(t=this.getConnectWallet())==null?void 0:t.name}disconnect(){return this.universalProvider.disconnect()}connected(){return this.universalProvider.connected()}requestAccountsWithNamespace(e){return this.universalProvider.requestAccountsWithNamespace(e)}requestDefaultChainWithNamespace(e){return this.universalProvider.requestDefaultChainWithNamespace(e)}};let Aq=Ny;wr(Aq,"initPromise",null);var Jwe=Ed();const Ywe=rl(Jwe);function Tq(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zwe}=Object.prototype,{getPrototypeOf:F5}=Object,{iterator:p2,toStringTag:Rq}=Symbol,g2=(e=>t=>{const n=Zwe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xc=e=>(e=e.toLowerCase(),t=>g2(t)===e),m2=e=>t=>typeof t===e,{isArray:Og}=Array,kv=m2("undefined");function Qwe(e){return e!==null&&!kv(e)&&e.constructor!==null&&!kv(e.constructor)&&To(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nq=xc("ArrayBuffer");function ebe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Nq(e.buffer),t}const tbe=m2("string"),To=m2("function"),Pq=m2("number"),y2=e=>e!==null&&typeof e=="object",nbe=e=>e===!0||e===!1,u_=e=>{if(g2(e)!=="object")return!1;const t=F5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Rq in e)&&!(p2 in e)},rbe=xc("Date"),ibe=xc("File"),sbe=xc("Blob"),obe=xc("FileList"),abe=e=>y2(e)&&To(e.pipe),cbe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||To(e.append)&&((t=g2(e))==="formdata"||t==="object"&&To(e.toString)&&e.toString()==="[object FormData]"))},lbe=xc("URLSearchParams"),[ube,dbe,fbe,hbe]=["ReadableStream","Request","Response","Headers"].map(xc),pbe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J1(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Og(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function Iq(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const oh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dq=e=>!kv(e)&&e!==oh;function K3(){const{caseless:e}=Dq(this)&&this||{},t={},n=(r,i)=>{const s=e&&Iq(t,i)||i;u_(t[s])&&u_(r)?t[s]=K3(t[s],r):u_(r)?t[s]=K3({},r):Og(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&J1(arguments[r],n);return t}const gbe=(e,t,n,{allOwnKeys:r}={})=>(J1(t,(i,s)=>{n&&To(i)?e[s]=Tq(i,n):e[s]=i},{allOwnKeys:r}),e),mbe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ybe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vbe=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&F5(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},wbe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bbe=e=>{if(!e)return null;if(Og(e))return e;let t=e.length;if(!Pq(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ebe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&F5(Uint8Array)),_be=(e,t)=>{const r=(e&&e[p2]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Cbe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},xbe=xc("HTMLFormElement"),Sbe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),qL=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Obe=xc("RegExp"),kq=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};J1(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},Abe=e=>{kq(e,(t,n)=>{if(To(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(To(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Tbe=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Og(e)?r(e):r(String(e).split(t)),n},Rbe=()=>{},Nbe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Pbe(e){return!!(e&&To(e.append)&&e[Rq]==="FormData"&&e[p2])}const Ibe=e=>{const t=new Array(10),n=(r,i)=>{if(y2(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Og(r)?[]:{};return J1(r,(o,a)=>{const c=n(o,i+1);!kv(c)&&(s[a]=c)}),t[i]=void 0,s}}return r};return n(e,0)},Dbe=xc("AsyncFunction"),kbe=e=>e&&(y2(e)||To(e))&&To(e.then)&&To(e.catch),Mq=((e,t)=>e?setImmediate:t?((n,r)=>(oh.addEventListener("message",({source:i,data:s})=>{i===oh&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),oh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",To(oh.postMessage)),Mbe=typeof queueMicrotask<"u"?queueMicrotask.bind(oh):typeof process<"u"&&process.nextTick||Mq,Lbe=e=>e!=null&&To(e[p2]),Be={isArray:Og,isArrayBuffer:Nq,isBuffer:Qwe,isFormData:cbe,isArrayBufferView:ebe,isString:tbe,isNumber:Pq,isBoolean:nbe,isObject:y2,isPlainObject:u_,isReadableStream:ube,isRequest:dbe,isResponse:fbe,isHeaders:hbe,isUndefined:kv,isDate:rbe,isFile:ibe,isBlob:sbe,isRegExp:Obe,isFunction:To,isStream:abe,isURLSearchParams:lbe,isTypedArray:Ebe,isFileList:obe,forEach:J1,merge:K3,extend:gbe,trim:pbe,stripBOM:mbe,inherits:ybe,toFlatObject:vbe,kindOf:g2,kindOfTest:xc,endsWith:wbe,toArray:bbe,forEachEntry:_be,matchAll:Cbe,isHTMLForm:xbe,hasOwnProperty:qL,hasOwnProp:qL,reduceDescriptors:kq,freezeMethods:Abe,toObjectSet:Tbe,toCamelCase:Sbe,noop:Rbe,toFiniteNumber:Nbe,findKey:Iq,global:oh,isContextDefined:Dq,isSpecCompliantForm:Pbe,toJSONObject:Ibe,isAsyncFn:Dbe,isThenable:kbe,setImmediate:Mq,asap:Mbe,isIterable:Lbe};function Sn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Be.inherits(Sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}});const Lq=Sn.prototype,Uq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Uq[e]={value:e}});Object.defineProperties(Sn,Uq);Object.defineProperty(Lq,"isAxiosError",{value:!0});Sn.from=(e,t,n,r,i,s)=>{const o=Object.create(Lq);return Be.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Sn.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Ube=null;function W3(e){return Be.isPlainObject(e)||Be.isArray(e)}function Bq(e){return Be.endsWith(e,"[]")?e.slice(0,-2):e}function VL(e,t,n){return e?e.concat(t).map(function(i,s){return i=Bq(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Bbe(e){return Be.isArray(e)&&!e.some(W3)}const $be=Be.toFlatObject(Be,{},null,function(t){return/^is[A-Z]/.test(t)});function v2(e,t,n){if(!Be.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!Be.isUndefined(w[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(t);if(!Be.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Be.isDate(y))return y.toISOString();if(!c&&Be.isBlob(y))throw new Sn("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(y)||Be.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,w){let C=y;if(y&&!w&&typeof y=="object"){if(Be.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(Be.isArray(y)&&Bbe(y)||(Be.isFileList(y)||Be.endsWith(v,"[]"))&&(C=Be.toArray(y)))return v=Bq(v),C.forEach(function(O,R){!(Be.isUndefined(O)||O===null)&&t.append(o===!0?VL([v],R,s):o===null?v:v+"[]",u(O))}),!1}return W3(y)?!0:(t.append(VL(w,v,s),u(y)),!1)}const h=[],p=Object.assign($be,{defaultVisitor:d,convertValue:u,isVisitable:W3});function m(y,v){if(!Be.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),Be.forEach(y,function(C,_){(!(Be.isUndefined(C)||C===null)&&i.call(t,C,Be.isString(_)?_.trim():_,v,p))===!0&&m(C,v?v.concat(_):[_])}),h.pop()}}if(!Be.isObject(e))throw new TypeError("data must be an object");return m(e),t}function XL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function K5(e,t){this._pairs=[],e&&v2(e,this,t)}const $q=K5.prototype;$q.append=function(t,n){this._pairs.push([t,n])};$q.toString=function(t){const n=t?function(r){return t.call(this,r,XL)}:XL;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function jbe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jq(e,t,n){if(!t)return e;const r=n&&n.encode||jbe;Be.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=Be.isURLSearchParams(t)?t.toString():new K5(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class GL{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Be.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Fq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fbe=typeof URLSearchParams<"u"?URLSearchParams:K5,Kbe=typeof FormData<"u"?FormData:null,Wbe=typeof Blob<"u"?Blob:null,Hbe={isBrowser:!0,classes:{URLSearchParams:Fbe,FormData:Kbe,Blob:Wbe},protocols:["http","https","file","blob","url","data"]},W5=typeof window<"u"&&typeof document<"u",H3=typeof navigator=="object"&&navigator||void 0,zbe=W5&&(!H3||["ReactNative","NativeScript","NS"].indexOf(H3.product)<0),qbe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vbe=W5&&window.location.href||"http://localhost",Xbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:W5,hasStandardBrowserEnv:zbe,hasStandardBrowserWebWorkerEnv:qbe,navigator:H3,origin:Vbe},Symbol.toStringTag,{value:"Module"})),Hs={...Xbe,...Hbe};function Gbe(e,t){return v2(e,new Hs.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Hs.isNode&&Be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Jbe(e){return Be.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ybe(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function Kq(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&Be.isArray(i)?i.length:o,c?(Be.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Be.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&Be.isArray(i[o])&&(i[o]=Ybe(i[o])),!a)}if(Be.isFormData(e)&&Be.isFunction(e.entries)){const n={};return Be.forEachEntry(e,(r,i)=>{t(Jbe(r),i,n,0)}),n}return null}function Zbe(e,t,n){if(Be.isString(e))try{return(t||JSON.parse)(e),Be.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Y1={transitional:Fq,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Be.isObject(t);if(s&&Be.isHTMLForm(t)&&(t=new FormData(t)),Be.isFormData(t))return i?JSON.stringify(Kq(t)):t;if(Be.isArrayBuffer(t)||Be.isBuffer(t)||Be.isStream(t)||Be.isFile(t)||Be.isBlob(t)||Be.isReadableStream(t))return t;if(Be.isArrayBufferView(t))return t.buffer;if(Be.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Gbe(t,this.formSerializer).toString();if((a=Be.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return v2(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Zbe(t)):t}],transformResponse:[function(t){const n=this.transitional||Y1.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Be.isResponse(t)||Be.isReadableStream(t))return t;if(t&&Be.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Sn.from(a,Sn.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hs.classes.FormData,Blob:Hs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],e=>{Y1.headers[e]={}});const Qbe=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eEe=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Qbe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},JL=Symbol("internals");function ry(e){return e&&String(e).trim().toLowerCase()}function d_(e){return e===!1||e==null?e:Be.isArray(e)?e.map(d_):String(e)}function tEe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const nEe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uA(e,t,n,r,i){if(Be.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Be.isString(t)){if(Be.isString(r))return t.indexOf(r)!==-1;if(Be.isRegExp(r))return r.test(t)}}function rEe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function iEe(e,t){const n=Be.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let Ro=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,c,u){const d=ry(c);if(!d)throw new Error("header name must be a non-empty string");const h=Be.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=d_(a))}const o=(a,c)=>Be.forEach(a,(u,d)=>s(u,d,c));if(Be.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Be.isString(t)&&(t=t.trim())&&!nEe(t))o(eEe(t),n);else if(Be.isObject(t)&&Be.isIterable(t)){let a={},c,u;for(const d of t){if(!Be.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?Be.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=ry(t),t){const r=Be.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return tEe(i);if(Be.isFunction(n))return n.call(this,i,r);if(Be.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ry(t),t){const r=Be.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||uA(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=ry(o),o){const a=Be.findKey(r,o);a&&(!n||uA(r,r[a],a,n))&&(delete r[a],i=!0)}}return Be.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||uA(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return Be.forEach(this,(i,s)=>{const o=Be.findKey(r,s);if(o){n[o]=d_(i),delete n[s];return}const a=t?rEe(s):String(s).trim();a!==s&&delete n[s],n[a]=d_(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[JL]=this[JL]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ry(o);r[a]||(iEe(i,o),r[a]=!0)}return Be.isArray(t)?t.forEach(s):s(t),this}};Ro.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(Ro.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Be.freezeMethods(Ro);function dA(e,t){const n=this||Y1,r=t||n,i=Ro.from(r.headers);let s=r.data;return Be.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Wq(e){return!!(e&&e.__CANCEL__)}function Ag(e,t,n){Sn.call(this,e??"canceled",Sn.ERR_CANCELED,t,n),this.name="CanceledError"}Be.inherits(Ag,Sn,{__CANCEL__:!0});function Hq(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Sn("Request failed with status code "+n.status,[Sn.ERR_BAD_REQUEST,Sn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function sEe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oEe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[s];o||(o=u),n[i]=c,r[i]=u;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function aEe(e,t){let n=0,r=1e3/t,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const uC=(e,t,n=3)=>{let r=0;const i=oEe(50,250);return aEe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},n)},YL=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ZL=e=>(...t)=>Be.asap(()=>e(...t)),cEe=Hs.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Hs.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Hs.origin),Hs.navigator&&/(msie|trident)/i.test(Hs.navigator.userAgent)):()=>!0,lEe=Hs.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];Be.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Be.isString(r)&&o.push("path="+r),Be.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uEe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dEe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zq(e,t,n){let r=!uEe(t);return e&&(r||n==!1)?dEe(e,t):t}const QL=e=>e instanceof Ro?{...e}:e;function Oh(e,t){t=t||{};const n={};function r(u,d,h,p){return Be.isPlainObject(u)&&Be.isPlainObject(d)?Be.merge.call({caseless:p},u,d):Be.isPlainObject(d)?Be.merge({},d):Be.isArray(d)?d.slice():d}function i(u,d,h,p){if(Be.isUndefined(d)){if(!Be.isUndefined(u))return r(void 0,u,h,p)}else return r(u,d,h,p)}function s(u,d){if(!Be.isUndefined(d))return r(void 0,d)}function o(u,d){if(Be.isUndefined(d)){if(!Be.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>i(QL(u),QL(d),h,!0)};return Be.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=c[d]||i,p=h(e[d],t[d],d);Be.isUndefined(p)&&h!==a||(n[d]=p)}),n}const qq=e=>{const t=Oh({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Ro.from(o),t.url=jq(zq(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(Be.isFormData(n)){if(Hs.hasStandardBrowserEnv||Hs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Hs.hasStandardBrowserEnv&&(r&&Be.isFunction(r)&&(r=r(t)),r||r!==!1&&cEe(t.url))){const u=i&&s&&lEe.read(s);u&&o.set(i,u)}return t},fEe=typeof XMLHttpRequest<"u",hEe=fEe&&function(e){return new Promise(function(n,r){const i=qq(e);let s=i.data;const o=Ro.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,d,h,p,m,y;function v(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function C(){if(!w)return;const O=Ro.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:O,config:e,request:w};Hq(function(x){n(x),v()},function(x){r(x),v()},S),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(r(new Sn("Request aborted",Sn.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new Sn("Network Error",Sn.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||Fq;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new Sn(R,S.clarifyTimeoutError?Sn.ETIMEDOUT:Sn.ECONNABORTED,e,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&Be.forEach(o.toJSON(),function(R,S){w.setRequestHeader(S,R)}),Be.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([p,y]=uC(u,!0),w.addEventListener("progress",p)),c&&w.upload&&([h,m]=uC(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=O=>{w&&(r(!O||O.type?new Ag(null,e,w):O),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const _=sEe(i.url);if(_&&Hs.protocols.indexOf(_)===-1){r(new Sn("Unsupported protocol "+_+":",Sn.ERR_BAD_REQUEST,e));return}w.send(s||null)})},pEe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Sn?d:new Ag(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new Sn(`timeout ${t} of ms exceeded`,Sn.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Be.asap(a),c}},gEe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},mEe=async function*(e,t){for await(const n of yEe(e))yield*gEe(n,t)},yEe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},eU=(e,t,n,r)=>{const i=mEe(e,t);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){a(),c.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},w2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vq=w2&&typeof ReadableStream=="function",vEe=w2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Xq=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wEe=Vq&&Xq(()=>{let e=!1;const t=new Request(Hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),tU=64*1024,z3=Vq&&Xq(()=>Be.isReadableStream(new Response("").body)),dC={stream:z3&&(e=>e.body)};w2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!dC[t]&&(dC[t]=Be.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Sn(`Response type '${t}' is not supported`,Sn.ERR_NOT_SUPPORT,r)})})})(new Response);const bEe=async e=>{if(e==null)return 0;if(Be.isBlob(e))return e.size;if(Be.isSpecCompliantForm(e))return(await new Request(Hs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(e)||Be.isArrayBuffer(e))return e.byteLength;if(Be.isURLSearchParams(e)&&(e=e+""),Be.isString(e))return(await vEe(e)).byteLength},EEe=async(e,t)=>{const n=Be.toFiniteNumber(e.getContentLength());return n??bEe(t)},_Ee=w2&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=qq(e);u=u?(u+"").toLowerCase():"text";let m=pEe([i,s&&s.toAbortSignal()],o),y;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(c&&wEe&&n!=="get"&&n!=="head"&&(w=await EEe(d,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),E;if(Be.isFormData(r)&&(E=S.headers.get("content-type"))&&d.setContentType(E),S.body){const[x,N]=YL(w,uC(ZL(c)));r=eU(S.body,tU,x,N)}}Be.isString(h)||(h=h?"include":"omit");const C="credentials"in Request.prototype;y=new Request(t,{...p,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:C?h:void 0});let _=await fetch(y);const O=z3&&(u==="stream"||u==="response");if(z3&&(a||O&&v)){const S={};["status","statusText","headers"].forEach(A=>{S[A]=_[A]});const E=Be.toFiniteNumber(_.headers.get("content-length")),[x,N]=a&&YL(E,uC(ZL(a),!0))||[];_=new Response(eU(_.body,tU,x,()=>{N&&N(),v&&v()}),S)}u=u||"text";let R=await dC[Be.findKey(dC,u)||"text"](_,e);return!O&&v&&v(),await new Promise((S,E)=>{Hq(S,E,{data:R,headers:Ro.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:y})})}catch(C){throw v&&v(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Sn("Network Error",Sn.ERR_NETWORK,e,y),{cause:C.cause||C}):Sn.from(C,C&&C.code,e,y)}}),q3={http:Ube,xhr:hEe,fetch:_Ee};Be.forEach(q3,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nU=e=>`- ${e}`,CEe=e=>Be.isFunction(e)||e===null||e===!1,Gq={getAdapter:e=>{e=Be.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!CEe(n)&&(r=q3[(o=String(n)).toLowerCase()],r===void 0))throw new Sn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(nU).join(`
`):" "+nU(s[0]):"as no adapter specified";throw new Sn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:q3};function fA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ag(null,e)}function rU(e){return fA(e),e.headers=Ro.from(e.headers),e.data=dA.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gq.getAdapter(e.adapter||Y1.adapter)(e).then(function(r){return fA(e),r.data=dA.call(e,e.transformResponse,r),r.headers=Ro.from(r.headers),r},function(r){return Wq(r)||(fA(e),r&&r.response&&(r.response.data=dA.call(e,e.transformResponse,r.response),r.response.headers=Ro.from(r.response.headers))),Promise.reject(r)})}const Jq="1.9.0",b2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{b2[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const iU={};b2.transitional=function(t,n,r){function i(s,o){return"[Axios v"+Jq+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new Sn(i(o," has been removed"+(n?" in "+n:"")),Sn.ERR_DEPRECATED);return n&&!iU[o]&&(iU[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};b2.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function xEe(e,t,n){if(typeof e!="object")throw new Sn("options must be an object",Sn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],c=a===void 0||o(a,s,e);if(c!==!0)throw new Sn("option "+s+" must be "+c,Sn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Sn("Unknown option "+s,Sn.ERR_BAD_OPTION)}}const f_={assertOptions:xEe,validators:b2},Dc=f_.validators;let mh=class{constructor(t){this.defaults=t||{},this.interceptors={request:new GL,response:new GL}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Oh(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&f_.assertOptions(r,{silentJSONParsing:Dc.transitional(Dc.boolean),forcedJSONParsing:Dc.transitional(Dc.boolean),clarifyTimeoutError:Dc.transitional(Dc.boolean)},!1),i!=null&&(Be.isFunction(i)?n.paramsSerializer={serialize:i}:f_.assertOptions(i,{encode:Dc.function,serialize:Dc.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),f_.assertOptions(n,{baseUrl:Dc.spelling("baseURL"),withXsrfToken:Dc.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Be.merge(s.common,s[n.method]);s&&Be.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Ro.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!c){const y=[rU.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),p=y.length,d=Promise.resolve(n);h<p;)d=d.then(y[h++],y[h++]);return d}p=a.length;let m=n;for(h=0;h<p;){const y=a[h++],v=a[h++];try{m=y(m)}catch(w){v.call(this,w);break}}try{d=rU.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Oh(this.defaults,t);const n=zq(t.baseURL,t.url,t.allowAbsoluteUrls);return jq(n,t.params,t.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(t){mh.prototype[t]=function(n,r){return this.request(Oh(r||{},{method:t,url:n,data:(r||{}).data}))}});Be.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Oh(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}mh.prototype[t]=n(),mh.prototype[t+"Form"]=n(!0)});let SEe=class Yq{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new Ag(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Yq(function(i){t=i}),cancel:t}}};function OEe(e){return function(n){return e.apply(null,n)}}function AEe(e){return Be.isObject(e)&&e.isAxiosError===!0}const V3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(V3).forEach(([e,t])=>{V3[t]=e});function Zq(e){const t=new mh(e),n=Tq(mh.prototype.request,t);return Be.extend(n,mh.prototype,t,{allOwnKeys:!0}),Be.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Zq(Oh(e,i))},n}const Zn=Zq(Y1);Zn.Axios=mh;Zn.CanceledError=Ag;Zn.CancelToken=SEe;Zn.isCancel=Wq;Zn.VERSION=Jq;Zn.toFormData=v2;Zn.AxiosError=Sn;Zn.Cancel=Zn.CanceledError;Zn.all=function(t){return Promise.all(t)};Zn.spread=OEe;Zn.isAxiosError=AEe;Zn.mergeConfig=Oh;Zn.AxiosHeaders=Ro;Zn.formToJSON=e=>Kq(Be.isHTMLForm(e)?new FormData(e):e);Zn.getAdapter=Gq.getAdapter;Zn.HttpStatusCode=V3;Zn.default=Zn;const{Axios:rUe,AxiosError:iUe,CanceledError:sUe,isCancel:oUe,CancelToken:aUe,VERSION:cUe,all:lUe,Cancel:uUe,isAxiosError:dUe,spread:fUe,toFormData:hUe,AxiosHeaders:pUe,HttpStatusCode:gUe,formToJSON:mUe,getAdapter:yUe,mergeConfig:vUe}=Zn,gs=[];for(let e=0;e<256;++e)gs.push((e+256).toString(16).slice(1));function TEe(e,t=0){return(gs[e[t+0]]+gs[e[t+1]]+gs[e[t+2]]+gs[e[t+3]]+"-"+gs[e[t+4]]+gs[e[t+5]]+"-"+gs[e[t+6]]+gs[e[t+7]]+"-"+gs[e[t+8]]+gs[e[t+9]]+"-"+gs[e[t+10]]+gs[e[t+11]]+gs[e[t+12]]+gs[e[t+13]]+gs[e[t+14]]+gs[e[t+15]]).toLowerCase()}let hA;const REe=new Uint8Array(16);function NEe(){if(!hA){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hA=crypto.getRandomValues.bind(crypto)}return hA(REe)}const PEe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sU={randomUUID:PEe};function Qq(e,t,n){if(sU.randomUUID&&!e)return sU.randomUUID();e=e||{};const r=e.random??e.rng?.()??NEe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,TEe(r)}class Py extends Error{}Py.prototype.name="InvalidTokenError";function IEe(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function DEe(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return IEe(t)}catch{return atob(t)}}function kEe(e,t){if(typeof e!="string")throw new Py("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new Py(`Invalid token specified: missing part #${n+1}`);let i;try{i=DEe(r)}catch(s){throw new Py(`Invalid token specified: invalid base64 for part #${n+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new Py(`Invalid token specified: invalid json for part #${n+1} (${s.message})`)}}const MEe=Symbol(),oU=Object.getPrototypeOf,X3=new WeakMap,LEe=e=>e&&(X3.has(e)?X3.get(e):oU(e)===Object.prototype||oU(e)===Array.prototype),UEe=e=>LEe(e)&&e[MEe]||null,aU=(e,t=!0)=>{X3.set(e,t)},fC={},pA=e=>typeof e=="object"&&e!==null,Ju=new WeakMap,Iy=new WeakSet,BEe=(e=Object.is,t=(u,d)=>new Proxy(u,d),n=u=>pA(u)&&!Iy.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,d,h=r)=>{const p=i.get(u);if(p?.[0]===d)return p[1];const m=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return aU(m,!0),i.set(u,[d,m]),Reflect.ownKeys(u).forEach(y=>{if(Object.getOwnPropertyDescriptor(m,y))return;const v=Reflect.get(u,y),{enumerable:w}=Reflect.getOwnPropertyDescriptor(u,y),C={value:v,enumerable:w,configurable:!0};if(Iy.has(v))aU(v,!1);else if(v instanceof Promise)delete C.value,C.get=()=>h(v);else if(Ju.has(v)){const[_,O]=Ju.get(v);C.value=s(_,O(),h)}Object.defineProperty(m,y,C)}),Object.preventExtensions(m)},o=new WeakMap,a=[1,1],c=u=>{if(!pA(u))throw new Error("object required");const d=o.get(u);if(d)return d;let h=a[0];const p=new Set,m=(A,D=++a[0])=>{h!==D&&(h=D,p.forEach(k=>k(A,D)))};let y=a[1];const v=(A=++a[1])=>(y!==A&&!p.size&&(y=A,C.forEach(([D])=>{const k=D[1](A);k>h&&(h=k)})),h),w=A=>(D,k)=>{const U=[...D];U[1]=[A,...U[1]],m(U,k)},C=new Map,_=(A,D)=>{if((fC?"prod":void 0)!=="production"&&C.has(A))throw new Error("prop listener already exists");if(p.size){const k=D[3](w(A));C.set(A,[D,k])}else C.set(A,[D])},O=A=>{var D;const k=C.get(A);k&&(C.delete(A),(D=k[1])==null||D.call(k))},R=A=>(p.add(A),p.size===1&&C.forEach(([k,U],H)=>{if((fC?"prod":void 0)!=="production"&&U)throw new Error("remove already exists");const F=k[3](w(H));C.set(H,[k,F])}),()=>{p.delete(A),p.size===0&&C.forEach(([k,U],H)=>{U&&(U(),C.set(H,[k]))})}),S=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),x=t(S,{deleteProperty(A,D){const k=Reflect.get(A,D);O(D);const U=Reflect.deleteProperty(A,D);return U&&m(["delete",[D],k]),U},set(A,D,k,U){const H=Reflect.has(A,D),F=Reflect.get(A,D,U);if(H&&(e(F,k)||o.has(k)&&e(F,o.get(k))))return!0;O(D),pA(k)&&(k=UEe(k)||k);let P=k;if(k instanceof Promise)k.then(I=>{k.status="fulfilled",k.value=I,m(["resolve",[D],I])}).catch(I=>{k.status="rejected",k.reason=I,m(["reject",[D],I])});else{!Ju.has(k)&&n(k)&&(P=c(k));const I=!Iy.has(P)&&Ju.get(P);I&&_(D,I)}return Reflect.set(A,D,P,U),m(["set",[D],k,F]),!0}});o.set(u,x);const N=[S,v,s,R];return Ju.set(x,N),Reflect.ownKeys(u).forEach(A=>{const D=Object.getOwnPropertyDescriptor(u,A);"value"in D&&(x[A]=u[A],delete D.value,delete D.writable),Object.defineProperty(S,A,D)}),x})=>[c,Ju,Iy,e,t,n,r,i,s,o,a],[$Ee]=BEe();function jr(e={}){return $Ee(e)}function Ys(e,t,n){const r=Ju.get(e);(fC?"prod":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const u=o(d=>{s.push(d),i||(i=Promise.resolve().then(()=>{i=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function Mv(e,t){const n=Ju.get(e);(fC?"prod":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),t)}function Ah(e){return Iy.add(e),e}function Ps(e,t,n,r){let i=e[t];return Ys(e,()=>{const s=e[t];Object.is(i,s)||n(i=s)})}function jEe(e){const t=jr({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}var cU={};const Mt={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof cU<"u"?cU.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},eV={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(i=>i.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return Mt.CHAIN_NAME_MAP?.[r]||void 0}};var FEe=20,KEe=1,Tg=1e6,WEe=1e6,HEe=-7,zEe=21,qEe=!1,Z1="[big.js] ",Gh=Z1+"Invalid ",E2=Gh+"decimal places",VEe=Gh+"rounding mode",tV=Z1+"Division by zero",Ar={},Jc=void 0,XEe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function nV(){function e(t){var n=this;if(!(n instanceof e))return t===Jc?nV():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(Gh+"value");t=t===0&&1/t<0?"-0":String(t)}GEe(n,t)}n.constructor=e}return e.prototype=Ar,e.DP=FEe,e.RM=KEe,e.NE=HEe,e.PE=zEe,e.strict=qEe,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function GEe(e,t){var n,r,i;if(!XEe.test(t))throw Error(Gh+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&t.charAt(r)=="0";)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&t.charAt(--i)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}return e}function Jh(e,t,n,r){var i=e.c;if(n===Jc&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(VEe);if(t<1)r=n===3&&(r||!!i[0])||t===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Jc))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=n===1&&i[t]>=5||n===2&&(i[t]>5||i[t]===5&&(r||i[t+1]!==Jc||i[t-1]&1))||n===3&&(r||!!i[0]),i.length=t,r){for(;++i[--t]>9;)if(i[t]=0,t===0){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function Yh(e,t,n){var r=e.e,i=e.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}Ar.abs=function(){var e=new this.constructor(this);return e.s=1,e};Ar.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,s=n.s,o=e.s,a=n.e,c=e.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(t=s<0,a!=c)return a>c^t?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^t?1:-1;return a==c?0:a>c^t?1:-1};Ar.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,s=t.s==e.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Tg)throw Error(E2);if(!i[0])throw Error(tV);if(!r[0])return e.s=s,e.c=[e.e=0],e;var a,c,u,d,h,p=i.slice(),m=a=i.length,y=r.length,v=r.slice(0,a),w=v.length,C=e,_=C.c=[],O=0,R=o+(C.e=t.e-e.e)+1;for(C.s=s,s=R<0?0:R,p.unshift(0);w++<a;)v.push(0);do{for(u=0;u<10;u++){if(a!=(w=v.length))d=a>w?1:-1;else for(h=-1,d=0;++h<a;)if(i[h]!=v[h]){d=i[h]>v[h]?1:-1;break}if(d<0){for(c=w==a?i:p;w;){if(v[--w]<c[w]){for(h=w;h&&!v[--h];)v[h]=9;--v[h],v[w]+=10}v[w]-=c[w]}for(;!v[0];)v.shift()}else break}_[O++]=d?u:++u,v[0]&&d?v[w]=r[m]||0:v=[r[m]]}while((m++<y||v[0]!==Jc)&&s--);return!_[0]&&O!=1&&(_.shift(),C.e--,R--),O>R&&Jh(C,R,n.RM,v[0]!==Jc),C};Ar.eq=function(e){return this.cmp(e)===0};Ar.gt=function(e){return this.cmp(e)>0};Ar.gte=function(e){return this.cmp(e)>-1};Ar.lt=function(e){return this.cmp(e)<0};Ar.lte=function(e){return this.cmp(e)<1};Ar.minus=Ar.sub=function(e){var t,n,r,i,s=this,o=s.constructor,a=s.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,s.plus(e);var u=s.c.slice(),d=s.e,h=e.c,p=e.e;if(!u[0]||!h[0])return h[0]?e.s=-c:u[0]?e=new o(s):e.s=1,e;if(a=d-p){for((i=a<0)?(a=-a,r=u):(p=d,r=h),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=u.length<h.length)?u:h).length,a=c=0;c<n;c++)if(u[c]!=h[c]){i=u[c]<h[c];break}if(i&&(r=u,u=h,h=r,e.s=-e.s),(c=(n=h.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;n>a;){if(u[--n]<h[n]){for(t=n;t&&!u[--t];)u[t]=9;--u[t],u[n]+=10}u[n]-=h[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--p;return u[0]||(e.s=1,u=[p=0]),e.c=u,e.e=p,e};Ar.mod=function(e){var t,n=this,r=n.constructor,i=n.s,s=(e=new r(e)).s;if(!e.c[0])throw Error(tV);return n.s=e.s=1,t=e.cmp(n)==1,n.s=i,e.s=s,t?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=s,this.minus(n.times(e)))};Ar.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};Ar.plus=Ar.add=function(e){var t,n,r,i=this,s=i.constructor;if(e=new s(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var o=i.e,a=i.c,c=e.e,u=e.c;if(!a[0]||!u[0])return u[0]||(a[0]?e=new s(i):e.s=i.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,r=u):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-u.length<0&&(r=u,u=a,a=r),t=u.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+u[t]+n)/10|0;for(n&&(a.unshift(n),++c),t=a.length;a[--t]===0;)a.pop();return e.c=a,e.e=c,e};Ar.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-1e6||e>WEe)throw Error(Gh+"exponent");for(i&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return i?n.div(r):r};Ar.prec=function(e,t){if(e!==~~e||e<1||e>Tg)throw Error(Gh+"precision");return Jh(new this.constructor(this),e,t)};Ar.round=function(e,t){if(e===Jc)e=0;else if(e!==~~e||e<-1e6||e>Tg)throw Error(E2);return Jh(new this.constructor(this),e+this.e+1,t)};Ar.sqrt=function(){var e,t,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Z1+"No square root");s=Math.sqrt(+Yh(r,!0,!0)),s===0||s===1/0?(t=r.c.join(""),t.length+o&1||(t+="0"),s=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):e=new i(s+""),o=e.e+(i.DP+=4);do n=e,e=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return Jh(e,(i.DP-=4)+e.e+1,i.RM)};Ar.times=Ar.mul=function(e){var t,n=this,r=n.constructor,i=n.c,s=(e=new r(e)).c,o=i.length,a=s.length,c=n.e,u=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!s[0])return e.c=[e.e=0],e;for(e.e=c+u,o<a&&(t=i,i=s,s=t,u=o,o=a,a=u),t=new Array(u=o+a);u--;)t[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=t[u]+s[c]*i[u-c-1]+a,t[u--]=a%10,a=a/10|0;t[u]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};Ar.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==Jc){if(e!==~~e||e<0||e>Tg)throw Error(E2);for(n=Jh(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Yh(n,!0,!!r)};Ar.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==Jc){if(e!==~~e||e<0||e>Tg)throw Error(E2);for(n=Jh(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return Yh(n,!1,!!r)};Ar[Symbol.for("nodejs.util.inspect.custom")]=Ar.toJSON=Ar.toString=function(){var e=this,t=e.constructor;return Yh(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};Ar.toNumber=function(){var e=+Yh(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Z1+"Imprecise conversion");return e};Ar.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==Jc){if(e!==~~e||e<1||e>Tg)throw Error(Gh+"precision");for(n=Jh(new r(n),e,t);n.c.length<e;)n.c.push(0)}return Yh(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};Ar.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Z1+"valueOf disallowed");return Yh(e,e.e<=t.NE||e.e>=t.PE,!0)};var iy=nV();const JEe={bigNumber(e){return e?new iy(e):new iy(0)},multiply(e,t){if(e===void 0||t===void 0)return new iy(0);const n=new iy(e),r=new iy(t);return n.times(r)},formatNumberToLocalString(e,t=2){return e===void 0?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})},parseLocalStringToNumber(e){return e===void 0?0:parseFloat(e.replace(/,/gu,""))}},YEe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ZEe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],QEe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],e_e={getERC20Abi:e=>Mt.USDT_CONTRACT_ADDRESSES.includes(e)?QEe:YEe,getSwapAbi:()=>ZEe},La={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,i]=t;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},Cn={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function gA(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const wn={setItem(e,t){Dy()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Dy())return localStorage.getItem(e)||void 0},removeItem(e){Dy()&&localStorage.removeItem(e)},clear(){Dy()&&localStorage.clear()}};function Dy(){return typeof window<"u"&&typeof localStorage<"u"}function Hl(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var lU={};const mA=(typeof process<"u"&&typeof lU<"u"?lU.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",rV=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],t_e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Ir={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:mA,SECURE_SITE_DASHBOARD:`${mA}/dashboard`,SECURE_SITE_FAVICON:`${mA}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},Pt={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=Pt.getActiveNamespace(),t=Pt.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{wn.setItem(Cn.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=wn.getItem(Cn.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{wn.removeItem(Cn.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{wn.setItem(Cn.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{wn.setItem(Cn.ACTIVE_CAIP_NETWORK_ID,e),Pt.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return wn.getItem(Cn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{wn.removeItem(Cn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=gA(e);wn.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=Pt.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),wn.setItem(Cn.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=wn.getItem(Cn.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const n=gA(e);wn.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return wn.getItem(Cn.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=gA(e);return wn.getItem(t)}catch{console.info("Unable to get connected connector id in namespace ",e)}},setConnectedSocialProvider(e){try{wn.setItem(Cn.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return wn.getItem(Cn.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{wn.removeItem(Cn.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return wn.getItem(Cn.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return wn.getItem(Cn.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{wn.setItem(Cn.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return wn.getItem(Cn.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=wn.getItem(Cn.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));wn.setItem(Cn.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=Pt.getConnectedNamespaces();t.includes(e)||(t.push(e),Pt.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=Pt.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),Pt.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return wn.getItem(Cn.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{wn.setItem(Cn.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{wn.removeItem(Cn.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=wn.getItem(Cn.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=Pt.getBalanceCache();wn.setItem(Cn.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=Pt.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Pt.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=Pt.getBalanceCache();t[e.caipAddress]=e,wn.setItem(Cn.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=wn.getItem(Cn.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=Pt.getBalanceCache();wn.setItem(Cn.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=Pt.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),Pt.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=Pt.getNativeBalanceCache();t[e.caipAddress]=e,wn.setItem(Cn.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=wn.getItem(Cn.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=Pt.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Pt.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=Pt.getEnsCache();t[e.address]=e,wn.setItem(Cn.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=Pt.getEnsCache();wn.setItem(Cn.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=wn.getItem(Cn.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=Pt.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Pt.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=Pt.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},wn.setItem(Cn.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=Pt.getIdentityCache();wn.setItem(Cn.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{wn.removeItem(Cn.PORTFOLIO_CACHE),wn.removeItem(Cn.NATIVE_BALANCE_CACHE),wn.removeItem(Cn.ENS_CACHE),wn.removeItem(Cn.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{wn.setItem(Cn.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=wn.getItem(Cn.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n={...Pt.getConnections(),[t]:e};wn.setItem(Cn.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=wn.getItem(Cn.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}}},Qt={isMobile(){return this.isClient()?!!(window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return Qt.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=Ir.TEN_SEC_MS:!0},isAllowedRetry(e,t=Ir.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},getPairingExpiry(){return Date.now()+Ir.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function i(){e(...r)}n&&clearTimeout(n),n=setTimeout(i,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(Qt.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,i=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const s=encodeURIComponent(t);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(e,t){if(!Qt.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?Pt.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window.matchMedia?.("(display-mode: standalone)")?.matches,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=e});return Promise.race([t,Qt.wait(2e3)])},formatBalance(e,t){let n="0.000";if(typeof e=="string"){const r=Number(e);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${t?` ${t}`:""}`},formatBalance2(e,t){let n;if(e==="0")n="0";else if(typeof e=="string"){const r=Number(e);r&&(n=r.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:t}},getApiUrl(){return Mt.W3M_API_URL},getBlockchainApiUrl(){return Mt.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Mt.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,i)=>{n[r]=i}),t.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const i=r[t];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(e,t,n){const i=e.length===0?Ir.ADAPTER_TYPES.UNIVERSAL:e.map(s=>s.adapterType).join(",");return`${t}-${i}-${n}`},createAccount(e,t,n,r,i){return{namespace:e,address:t,type:n,publicKey:r,path:i}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in Mt.CHAIN_NAME_MAP},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const i="provider_authorization_url=",s=e.substring(e.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,t);return e.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const i=e.indexOf("&",r),s=t.length,o=i!==-1?i:e.length,a=e.substring(0,r+s),c=e.substring(r+s,o),u=e.substring(i),d=c+n;return a+d+u}};async function sy(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class Rg{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await sy(s,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const i=this.createUrl(r);return(await sy(i,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await sy(s,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await sy(s,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await sy(s,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const n_e={getFeatureValue(e,t){const n=t?.[e];return n===void 0?Ir.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(Qt.isTelegram()){if(Qt.isIos())return e.filter(t=>t!=="google");if(Qt.isMac())return e.filter(t=>t!=="x");if(Qt.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},on=jr({features:Ir.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Ir.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),nt={state:on,subscribeKey(e,t){return Ps(on,e,t)},setOptions(e){Object.assign(on,e)},setRemoteFeatures(e){if(!e)return;const t={...on.remoteFeatures,...e};on.remoteFeatures=t,on.remoteFeatures?.socials&&(on.remoteFeatures.socials=n_e.filterSocialsByPlatform(on.remoteFeatures.socials))},setFeatures(e){if(!e)return;on.features||(on.features=Ir.DEFAULT_FEATURES);const t={...on.features,...e};on.features=t},setProjectId(e){on.projectId=e},setCustomRpcUrls(e){on.customRpcUrls=e},setAllWallets(e){on.allWallets=e},setIncludeWalletIds(e){on.includeWalletIds=e},setExcludeWalletIds(e){on.excludeWalletIds=e},setFeaturedWalletIds(e){on.featuredWalletIds=e},setTokens(e){on.tokens=e},setTermsConditionsUrl(e){on.termsConditionsUrl=e},setPrivacyPolicyUrl(e){on.privacyPolicyUrl=e},setCustomWallets(e){on.customWallets=e},setIsSiweEnabled(e){on.isSiweEnabled=e},setIsUniversalProvider(e){on.isUniversalProvider=e},setSdkVersion(e){on.sdkVersion=e},setMetadata(e){on.metadata=e},setDisableAppend(e){on.disableAppend=e},setEIP6963Enabled(e){on.enableEIP6963=e},setDebug(e){on.debug=e},setEnableWalletConnect(e){on.enableWalletConnect=e},setEnableWalletGuide(e){on.enableWalletGuide=e},setEnableAuthLogger(e){on.enableAuthLogger=e},setEnableWallets(e){on.enableWallets=e},setPreferUniversalLinks(e){on.experimental_preferUniversalLinks=e},setHasMultipleAddresses(e){on.hasMultipleAddresses=e},setSIWX(e){on.siwx=e},setConnectMethodsOrder(e){on.features={...on.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){on.features={...on.features,walletFeaturesOrder:e}},setSocialsOrder(e){on.remoteFeatures={...on.remoteFeatures,socials:e}},setCollapseWallets(e){on.features={...on.features,collapseWallets:e}},setEnableEmbedded(e){on.enableEmbedded=e},setAllowUnsupportedChain(e){on.allowUnsupportedChain=e},setManualWCControl(e){on.manualWCControl=e},setEnableNetworkSwitch(e){on.enableNetworkSwitch=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(on.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){on.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return on.universalProviderConfigOverride},getSnapshot(){return Mv(on)}},r_e=Object.freeze({enabled:!0,events:[]}),i_e=new Rg({baseUrl:Qt.getAnalyticsUrl(),clientId:null}),s_e=5,o_e=60*1e3,ju=jr({...r_e}),a_e={state:ju,subscribeKey(e,t){return Ps(ju,e,t)},async sendError(e,t){if(!ju.enabled)return;const n=Date.now();if(ju.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<o_e}).length>=s_e)return;const i={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};ju.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=nt.state;await i_e.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Qt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch(s){console.error("Error sending telemetry event:",s)}},enable(){ju.enabled=!0},disable(){ju.enabled=!1},clearEvents(){ju.events=[]}};class Lv extends Error{constructor(t,n,r){super(t),this.name="AppKitError",this.category=n,this.originalError=r,Error.captureStackTrace&&Error.captureStackTrace(this,Lv)}}function uU(e,t){const n=e instanceof Lv?e:new Lv(e instanceof Error?e.message:String(e),t,e);throw a_e.sendError(n,n.category),n}function da(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const i=e[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return uU(a,t)}}:s=(...o)=>{try{return i(...o)}catch(a){return uU(a,t)}},n[r]=s}else n[r]=i}),n}const c_e={handleMobileDeeplinkRedirect(e){const t=window.location.href,n=encodeURIComponent(t);if(e==="Phantom"&&!("phantom"in window)){const r=t.startsWith("https")?"https":"http",i=t.split("/")[2],s=encodeURIComponent(`${r}://${i}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}de.state.activeChain===Mt.CHAIN.SOLANA&&e==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}},Vo=jr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),l_e={state:Vo,subscribeNetworkImages(e){return Ys(Vo.networkImages,()=>e(Vo.networkImages))},subscribeKey(e,t){return Ps(Vo,e,t)},subscribe(e){return Ys(Vo,()=>e(Vo))},setWalletImage(e,t){Vo.walletImages[e]=t},setNetworkImage(e,t){Vo.networkImages[e]=t},setChainImage(e,t){Vo.chainImages[e]=t},setConnectorImage(e,t){Vo.connectorImages={...Vo.connectorImages,[e]:t}},setTokenImage(e,t){Vo.tokenImages[e]=t},setCurrencyImage(e,t){Vo.currencyImages[e]=t}},cc=da(l_e),u_e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},yA=jr({networkImagePromises:{}}),ev={async fetchWalletImage(e){if(e)return await Zt._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(yA.networkImagePromises[e]||(yA.networkImagePromises[e]=Zt._fetchNetworkImage(e)),await yA.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return cc.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return cc.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return cc.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return cc.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.imageId)return cc.state.connectorImages[e.imageId]},getChainImage(e){return cc.state.networkImages[u_e[e]]}},Fu=jr({message:"",variant:"info",open:!1}),d_e={state:Fu,subscribeKey(e,t){return Ps(Fu,e,t)},open(e,t){const{debug:n}=nt.state,{shortMessage:r,longMessage:i}=e;n&&(Fu.message=r,Fu.variant=t,Fu.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Fu.open=!1,Fu.message="",Fu.variant="info"}},Hc=da(d_e),f_e=Qt.getAnalyticsUrl(),h_e=new Rg({baseUrl:f_e,clientId:null}),p_e=["MODAL_CREATED"],Tl=jr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),_r={state:Tl,subscribe(e){return Ys(Tl,()=>e(Tl))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=nt.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{const t=St.state.address;if(p_e.includes(e.data.event)||typeof window>"u")return;await h_e.post({path:"/e",params:_r.getSdkProperties(),body:{eventId:Qt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t}}}),Tl.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===Mt.HTTP_STATUS_CODES.FORBIDDEN&&!Tl.reportedErrors.FORBIDDEN&&(Hc.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Dy()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Tl.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){Tl.timestamp=Date.now(),Tl.data=e,nt.state.features?.analytics&&_r._sendAnalyticsEvent(Tl)}},vA={PHANTOM:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",COINBASE:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa"},g_e=Qt.getApiUrl(),go=new Rg({baseUrl:g_e,clientId:null}),m_e=40,dU=4,y_e=20,xn=jr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Zt={state:xn,subscribeKey(e,t){return Ps(xn,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=nt.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return nt.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${go.baseUrl}/getWalletImage/${e}`,n=await go.getBlob({path:t,params:Zt._getSdkProperties()});cc.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${go.baseUrl}/public/getAssetImage/${e}`,n=await go.getBlob({path:t,params:Zt._getSdkProperties()});cc.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${go.baseUrl}/public/getAssetImage/${e}`,n=await go.getBlob({path:t,params:Zt._getSdkProperties()});cc.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${go.baseUrl}/public/getCurrencyImage/${e}`,n=await go.getBlob({path:t,params:Zt._getSdkProperties()});cc.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${go.baseUrl}/public/getTokenImage/${e}`,n=await go.getBlob({path:t,params:Zt._getSdkProperties()});cc.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){return Qt.isMobile()?e?.filter(n=>n.mobile_link||n.id===vA.COINBASE||n.id===vA.PHANTOM&&de.state.activeChain==="solana"):e},async fetchProjectConfig(){return(await go.get({path:"/appkit/v1/config",params:Zt._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await go.get({path:"/projects/v1/origins",params:Zt._getSdkProperties()});return e}catch{return[]}},async fetchNetworkImages(){const t=de.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!ev.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>Zt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=bt.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>Zt._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>Zt._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>Zt._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];Zt._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(vA));const r=await go.get({path:"/getWallets",params:{...Zt._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}});return{data:Zt._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=nt.state;if(e?.length){const t={...Zt._getSdkProperties(),page:1,entries:e?.length??dU,include:e},{data:n}=await Zt.fetchWallets(t),r=[...n].sort((s,o)=>e.indexOf(s.id)-e.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Zt._fetchWalletImage(s))),xn.featured=r,xn.allFeatured=r}},async fetchRecommendedWallets(){try{xn.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=nt.state,r=[...t??[],...n??[]].filter(Boolean),i=de.getRequestedCaipNetworkIds().join(","),s={page:1,entries:dU,include:e,exclude:r,chains:i},{data:o,count:a}=await Zt.fetchWallets(s),c=Pt.getRecentWallets(),u=o.map(h=>h.image_id).filter(Boolean),d=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...u,...d].map(h=>Zt._fetchWalletImage(h))),xn.recommended=o,xn.allRecommended=o,xn.count=a??0}catch{}finally{xn.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=nt.state,i=de.getRequestedCaipNetworkIds().join(","),s=[...xn.recommended.map(({id:d})=>d),...n??[],...r??[]].filter(Boolean),o={page:e,entries:m_e,include:t,exclude:s,chains:i},{data:a,count:c}=await Zt.fetchWallets(o),u=a.slice(0,y_e).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(u.map(d=>Zt._fetchWalletImage(d))),xn.wallets=Qt.uniqueBy([...xn.wallets,...Zt._filterOutExtensions(a)],"id").filter(d=>d.chains?.some(h=>i.includes(h))),xn.count=c>xn.count?c:xn.count,xn.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await Zt.fetchWallets(t);n&&n.forEach(r=>{xn.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=nt.state,i=de.getRequestedCaipNetworkIds().join(",");xn.search=[];const s={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:i},{data:o}=await Zt.fetchWallets(s);_r.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Zt._fetchWalletImage(c)),Qt.wait(300)]),xn.search=Zt._filterOutExtensions(o)},initPromise(e,t){const n=xn.promises[e];return n||(xn.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[e&&Zt.initPromise("connectorImages",Zt.fetchConnectorImages),t&&Zt.initPromise("featuredWallets",Zt.fetchFeaturedWallets),n&&Zt.initPromise("recommendedWallets",Zt.fetchRecommendedWallets),r&&Zt.initPromise("networkImages",Zt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){nt.state.features?.analytics&&Zt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await go.get({path:"/getAnalyticsConfig",params:Zt._getSdkProperties()});nt.setFeatures({analytics:e})}catch{nt.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){xn.featured=xn.allFeatured,xn.recommended=xn.allRecommended;return}const t=de.getRequestedCaipNetworkIds().join(",");xn.featured=xn.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),xn.recommended=xn.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),xn.filteredWallets=xn.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){xn.filteredWallets=[]},setFilterByNamespace(e){if(!e){xn.featured=xn.allFeatured,xn.recommended=xn.allRecommended;return}const t=de.getRequestedCaipNetworkIds().join(",");xn.featured=xn.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),xn.recommended=xn.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),xn.filteredWallets=xn.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},Mr=jr({view:"Connect",history:["Connect"],transactionStack:[]}),v_e={state:Mr,subscribeKey(e,t){return Ps(Mr,e,t)},pushTransactionStack(e){Mr.transactionStack.push(e)},popTransactionStack(e){const t=Mr.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:i}=t;switch(e){case"success":n?.();break;case"error":r?.(),vn.goBack();break;case"cancel":i?.(),vn.goBack();break}},push(e,t){e!==Mr.view&&(Mr.view=e,Mr.history.push(e),Mr.data=t)},reset(e,t){Mr.view=e,Mr.history=[e],Mr.data=t},replace(e,t){Mr.history.at(-1)===e||(Mr.view=e,Mr.history[Mr.history.length-1]=e,Mr.data=t)},goBack(){const e=!de.state.activeCaipAddress&&vn.state.view==="ConnectingFarcaster";if(Mr.history.length>1){Mr.history.pop();const[t]=Mr.history.slice(-1);t&&(Mr.view=t)}else Wn.close();Mr.data?.wallet&&(Mr.data.wallet=void 0),setTimeout(()=>{if(e){St.setFarcasterUrl(void 0,de.state.activeChain);const t=bt.getAuthConnector();t?.provider?.reload();const n=Mv(nt.state);t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType})}},100)},goBackToIndex(e){if(Mr.history.length>1){Mr.history=Mr.history.slice(0,e+1);const[t]=Mr.history.slice(-1);t&&(Mr.view=t)}},goBackOrCloseModal(){vn.state.history.length>1?vn.goBack():Wn.close()}},vn=da(v_e),Rl=jr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),G3={state:Rl,subscribe(e){return Ys(Rl,()=>e(Rl))},setThemeMode(e){Rl.themeMode=e;try{const t=bt.getAuthConnector();if(t){const n=G3.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:Hl(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Rl.themeVariables={...Rl.themeVariables,...e};try{const t=bt.getAuthConnector();if(t){const n=G3.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:Hl(Rl.themeVariables,Rl.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Mv(Rl)}},Co=da(G3),iV={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},or=jr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...iV},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),w_e={state:or,subscribe(e){return Ys(or,()=>{e(or)})},subscribeKey(e,t){return Ps(or,e,t)},initialize(e){e.forEach(t=>{const n=Pt.getConnectedConnectorId(t);n&&bt.setConnectorId(n,t)})},setActiveConnector(e){e&&(or.activeConnector=Ah(e))},setConnectors(e){e.filter(i=>!or.allConnectors.some(s=>s.id===i.id&&bt.getConnectorName(s.name)===bt.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&or.allConnectors.push(Ah(i))});const n=bt.getEnabledNamespaces(),r=bt.getEnabledConnectors(n);or.connectors=bt.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(or.filterByNamespaceMap).forEach(t=>{or.filterByNamespaceMap[t]=!1}),e.forEach(t=>{or.filterByNamespaceMap[t]=!0}),bt.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){or.filterByNamespaceMap[e]=t,bt.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=bt.getEnabledNamespaces(),t=bt.getEnabledConnectors(e),n=bt.areAllNamespacesEnabled();or.connectors=bt.mergeMultiChainConnectors(t),n?Zt.clearFilterByNamespaces():Zt.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(or.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return or.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(or.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=bt.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const i=r[0],s=i?.id===Mt.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,i=bt.getConnectorName(r);if(!i)return;const s=t.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),t.set(i,s)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===Mt.CONNECTOR_ID.AUTH){const t=e,n=Mv(nt.state),r=Co.getSnapshot().themeMode,i=Co.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Hl(i,r)}),bt.setConnectors([e])}else bt.setConnectors([e])},getAuthConnector(e){const t=e||de.state.activeChain,n=or.connectors.find(r=>r.id===Mt.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===t):n},getAnnouncedConnectorRdns(){return or.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return or.allConnectors.find(t=>t.id===e)},getConnector(e,t){return or.allConnectors.filter(r=>r.chain===de.state.activeChain).find(r=>r.explorerId===e||r.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="ID_AUTH")return;const t=e,n=Mv(nt.state),r=Co.getSnapshot().themeMode,i=Co.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Hl(i,r)})},getConnectorsByNamespace(e){const t=or.allConnectors.filter(n=>n.chain===e);return bt.mergeMultiChainConnectors(t)},selectWalletConnector(e){const t=bt.getConnector(e.id,e.rdns);c_e.handleMobileDeeplinkRedirect(t?.name||e.name||""),t?vn.push("ConnectingExternal",{connector:t}):vn.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?bt.getConnectorsByNamespace(e):bt.mergeMultiChainConnectors(or.allConnectors)},setFilterByNamespace(e){or.filterByNamespace=e,or.connectors=bt.getConnectors(e),Zt.setFilterByNamespace(e)},setConnectorId(e,t){e&&(or.activeConnectorIds={...or.activeConnectorIds,[t]:e},Pt.setConnectedConnectorId(t,e))},removeConnectorId(e){or.activeConnectorIds={...or.activeConnectorIds,[e]:void 0},Pt.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return or.activeConnectorIds[e]},isConnected(e){return e?!!or.activeConnectorIds[e]:Object.values(or.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){or.activeConnectorIds={...iV}}},bt=da(w_e);function jb(e,t){return bt.getConnectorId(e)===t}function b_e(e){const t=Array.from(de.state.chains.keys());let n=[];return e?(n.push([e,de.state.chains.get(e)]),jb(e,Mt.CONNECTOR_ID.WALLET_CONNECT)?t.forEach(r=>{r!==e&&jb(r,Mt.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,de.state.chains.get(r)])}):jb(e,Mt.CONNECTOR_ID.AUTH)&&t.forEach(r=>{r!==e&&jb(r,Mt.CONNECTOR_ID.AUTH)&&n.push([r,de.state.chains.get(r)])})):n=Array.from(de.state.chains.entries()),n}var Fb={exports:{}},fU;function E_e(){if(fU)return Fb.exports;fU=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,E,x){return Function.prototype.apply.call(S,E,x)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(R){console&&console.warn&&console.warn(R)}var i=Number.isNaN||function(S){return S!==S};function s(){s.init.call(this)}Fb.exports=s,Fb.exports.once=C,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");o=R}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function c(R){return R._maxListeners===void 0?s.defaultMaxListeners:R._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(S){for(var E=[],x=1;x<arguments.length;x++)E.push(arguments[x]);var N=S==="error",A=this._events;if(A!==void 0)N=N&&A.error===void 0;else if(!N)return!1;if(N){var D;if(E.length>0&&(D=E[0]),D instanceof Error)throw D;var k=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw k.context=D,k}var U=A[S];if(U===void 0)return!1;if(typeof U=="function")t(U,this,E);else for(var H=U.length,F=y(U,H),x=0;x<H;++x)t(F[x],this,E);return!0};function u(R,S,E,x){var N,A,D;if(a(E),A=R._events,A===void 0?(A=R._events=Object.create(null),R._eventsCount=0):(A.newListener!==void 0&&(R.emit("newListener",S,E.listener?E.listener:E),A=R._events),D=A[S]),D===void 0)D=A[S]=E,++R._eventsCount;else if(typeof D=="function"?D=A[S]=x?[E,D]:[D,E]:x?D.unshift(E):D.push(E),N=c(R),N>0&&D.length>N&&!D.warned){D.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=R,k.type=S,k.count=D.length,r(k)}return R}s.prototype.addListener=function(S,E){return u(this,S,E,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(S,E){return u(this,S,E,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(R,S,E){var x={fired:!1,wrapFn:void 0,target:R,type:S,listener:E},N=d.bind(x);return N.listener=E,x.wrapFn=N,N}s.prototype.once=function(S,E){return a(E),this.on(S,h(this,S,E)),this},s.prototype.prependOnceListener=function(S,E){return a(E),this.prependListener(S,h(this,S,E)),this},s.prototype.removeListener=function(S,E){var x,N,A,D,k;if(a(E),N=this._events,N===void 0)return this;if(x=N[S],x===void 0)return this;if(x===E||x.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete N[S],N.removeListener&&this.emit("removeListener",S,x.listener||E));else if(typeof x!="function"){for(A=-1,D=x.length-1;D>=0;D--)if(x[D]===E||x[D].listener===E){k=x[D].listener,A=D;break}if(A<0)return this;A===0?x.shift():v(x,A),x.length===1&&(N[S]=x[0]),N.removeListener!==void 0&&this.emit("removeListener",S,k||E)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(S){var E,x,N;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[S]),this;if(arguments.length===0){var A=Object.keys(x),D;for(N=0;N<A.length;++N)D=A[N],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=x[S],typeof E=="function")this.removeListener(S,E);else if(E!==void 0)for(N=E.length-1;N>=0;N--)this.removeListener(S,E[N]);return this};function p(R,S,E){var x=R._events;if(x===void 0)return[];var N=x[S];return N===void 0?[]:typeof N=="function"?E?[N.listener||N]:[N]:E?w(N):y(N,N.length)}s.prototype.listeners=function(S){return p(this,S,!0)},s.prototype.rawListeners=function(S){return p(this,S,!1)},s.listenerCount=function(R,S){return typeof R.listenerCount=="function"?R.listenerCount(S):m.call(R,S)},s.prototype.listenerCount=m;function m(R){var S=this._events;if(S!==void 0){var E=S[R];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function y(R,S){for(var E=new Array(S),x=0;x<S;++x)E[x]=R[x];return E}function v(R,S){for(;S+1<R.length;S++)R[S]=R[S+1];R.pop()}function w(R){for(var S=new Array(R.length),E=0;E<S.length;++E)S[E]=R[E].listener||R[E];return S}function C(R,S){return new Promise(function(E,x){function N(D){R.removeListener(S,A),x(D)}function A(){typeof R.removeListener=="function"&&R.removeListener("error",N),E([].slice.call(arguments))}O(R,S,A,{once:!0}),S!=="error"&&_(R,N,{once:!0})})}function _(R,S,E){typeof R.on=="function"&&O(R,"error",S,E)}function O(R,S,E,x){if(typeof R.on=="function")x.once?R.once(S,E):R.on(S,E);else if(typeof R.addEventListener=="function")R.addEventListener(S,function N(A){x.once&&R.removeEventListener(S,N),E(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}return Fb.exports}var Va=E_e();const H5=rl(Va);var wA={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var J3=function(e,t){return J3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},J3(e,t)};function __e(e,t){J3(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Y3=function(){return Y3=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Y3.apply(this,arguments)};function C_e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function x_e(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function S_e(e,t){return function(n,r){t(n,r,e)}}function O_e(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function A_e(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function T_e(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function R_e(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function N_e(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Z3(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sV(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function P_e(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sV(arguments[t]));return e}function I_e(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Uv(e){return this instanceof Uv?(this.v=e,this):new Uv(e)}function D_e(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(y,v){s.push([p,m,y,v])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(y){h(s[0][3],y)}}function c(p){p.value instanceof Uv?Promise.resolve(p.value.v).then(u,d):h(s[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function h(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function k_e(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:Uv(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function M_e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Z3=="function"?Z3(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function L_e(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function U_e(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B_e(e){return e&&e.__esModule?e:{default:e}}function $_e(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function j_e(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const F_e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Y3},__asyncDelegator:k_e,__asyncGenerator:D_e,__asyncValues:M_e,__await:Uv,__awaiter:A_e,__classPrivateFieldGet:$_e,__classPrivateFieldSet:j_e,__createBinding:R_e,__decorate:x_e,__exportStar:N_e,__extends:__e,__generator:T_e,__importDefault:B_e,__importStar:U_e,__makeTemplateObject:L_e,__metadata:O_e,__param:S_e,__read:sV,__rest:C_e,__spread:P_e,__spreadArrays:I_e,__values:Z3},Symbol.toStringTag,{value:"Module"})),Q1=LC(F_e);var bA={},oy={},hU;function K_e(){if(hU)return oy;hU=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return oy.delay=e,oy}var Mf={},EA={},Lf={},pU;function W_e(){return pU||(pU=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.ONE_THOUSAND=Lf.ONE_HUNDRED=void 0,Lf.ONE_HUNDRED=100,Lf.ONE_THOUSAND=1e3),Lf}var _A={},gU;function H_e(){return gU||(gU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(_A)),_A}var mU;function oV(){return mU||(mU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Q1;t.__exportStar(W_e(),e),t.__exportStar(H_e(),e)}(EA)),EA}var yU;function z_e(){if(yU)return Mf;yU=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.fromMiliseconds=Mf.toMiliseconds=void 0;const e=oV();function t(r){return r*e.ONE_THOUSAND}Mf.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Mf.fromMiliseconds=n,Mf}var vU;function q_e(){return vU||(vU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Q1;t.__exportStar(K_e(),e),t.__exportStar(z_e(),e)}(bA)),bA}var zp={},wU;function V_e(){if(wU)return zp;wU=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return zp.Watch=e,zp.default=e,zp}var CA={},ay={},bU;function X_e(){if(bU)return ay;bU=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.IWatch=void 0;class e{}return ay.IWatch=e,ay}var EU;function G_e(){return EU||(EU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Q1.__exportStar(X_e(),e)}(CA)),CA}var _U;function J_e(){return _U||(_U=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Q1;t.__exportStar(q_e(),e),t.__exportStar(V_e(),e),t.__exportStar(G_e(),e),t.__exportStar(oV(),e)}(wA)),wA}var ht=J_e();class Zh{}let Y_e=class extends Zh{constructor(t){super()}};const CU=ht.FIVE_SECONDS,Ng={pulse:"heartbeat_pulse"};let Z_e=class aV extends Y_e{constructor(t){super(t),this.events=new Va.EventEmitter,this.interval=CU,this.interval=t?.interval||CU}static async init(t){const n=new aV(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ht.toMiliseconds(this.interval))}pulse(){this.events.emit(Ng.pulse)}};const Q_e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,eCe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,tCe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function nCe(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){rCe(e);return}return t}function rCe(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Kb(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!tCe.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Q_e.test(e)||eCe.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,nCe)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function iCe(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function ts(e,...t){try{return iCe(e(...t))}catch(n){return Promise.reject(n)}}function sCe(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function oCe(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function h_(e){if(sCe(e))return String(e);if(oCe(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return h_(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Q3="base64:";function aCe(e){return typeof e=="string"?e:Q3+uCe(e)}function cCe(e){return typeof e!="string"||!e.startsWith(Q3)?e:lCe(e.slice(Q3.length))}function lCe(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function uCe(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Eo(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function dCe(...e){return Eo(e.join(":"))}function Wb(e){return e=Eo(e),e?e+":":""}function fCe(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function hCe(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const pCe="memory",gCe=()=>{const e=new Map;return{name:pCe,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function mCe(e={}){const t={mounts:{"":e.driver||gCe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const d of t.mountpoints)if(u.startsWith(d))return{base:d,relativeKey:u.slice(d.length),driver:t.mounts[d]};return{base:"",relativeKey:u,driver:t.mounts[""]}},r=(u,d)=>t.mountpoints.filter(h=>h.startsWith(u)||d&&u.startsWith(h)).map(h=>({relativeBase:u.length>h.length?u.slice(h.length):void 0,mountpoint:h,driver:t.mounts[h]})),i=(u,d)=>{if(t.watching){d=Eo(d);for(const h of t.watchListeners)h(u,d)}},s=async()=>{if(!t.watching){t.watching=!0;for(const u in t.mounts)t.unwatch[u]=await xU(t.mounts[u],i,u)}},o=async()=>{if(t.watching){for(const u in t.unwatch)await t.unwatch[u]();t.unwatch={},t.watching=!1}},a=(u,d,h)=>{const p=new Map,m=y=>{let v=p.get(y.base);return v||(v={driver:y.driver,base:y.base,items:[]},p.set(y.base,v)),v};for(const y of u){const v=typeof y=="string",w=Eo(v?y:y.key),C=v?void 0:y.value,_=v||!y.options?d:{...d,...y.options},O=n(w);m(O).items.push({key:w,value:C,relativeKey:O.relativeKey,options:_})}return Promise.all([...p.values()].map(y=>h(y))).then(y=>y.flat())},c={hasItem(u,d={}){u=Eo(u);const{relativeKey:h,driver:p}=n(u);return ts(p.hasItem,h,d)},getItem(u,d={}){u=Eo(u);const{relativeKey:h,driver:p}=n(u);return ts(p.getItem,h,d).then(m=>Kb(m))},getItems(u,d={}){return a(u,d,h=>h.driver.getItems?ts(h.driver.getItems,h.items.map(p=>({key:p.relativeKey,options:p.options})),d).then(p=>p.map(m=>({key:dCe(h.base,m.key),value:Kb(m.value)}))):Promise.all(h.items.map(p=>ts(h.driver.getItem,p.relativeKey,p.options).then(m=>({key:p.key,value:Kb(m)})))))},getItemRaw(u,d={}){u=Eo(u);const{relativeKey:h,driver:p}=n(u);return p.getItemRaw?ts(p.getItemRaw,h,d):ts(p.getItem,h,d).then(m=>cCe(m))},async setItem(u,d,h={}){if(d===void 0)return c.removeItem(u);u=Eo(u);const{relativeKey:p,driver:m}=n(u);m.setItem&&(await ts(m.setItem,p,h_(d),h),m.watch||i("update",u))},async setItems(u,d){await a(u,d,async h=>{if(h.driver.setItems)return ts(h.driver.setItems,h.items.map(p=>({key:p.relativeKey,value:h_(p.value),options:p.options})),d);h.driver.setItem&&await Promise.all(h.items.map(p=>ts(h.driver.setItem,p.relativeKey,h_(p.value),p.options)))})},async setItemRaw(u,d,h={}){if(d===void 0)return c.removeItem(u,h);u=Eo(u);const{relativeKey:p,driver:m}=n(u);if(m.setItemRaw)await ts(m.setItemRaw,p,d,h);else if(m.setItem)await ts(m.setItem,p,aCe(d),h);else return;m.watch||i("update",u)},async removeItem(u,d={}){typeof d=="boolean"&&(d={removeMeta:d}),u=Eo(u);const{relativeKey:h,driver:p}=n(u);p.removeItem&&(await ts(p.removeItem,h,d),(d.removeMeta||d.removeMata)&&await ts(p.removeItem,h+"$",d),p.watch||i("remove",u))},async getMeta(u,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),u=Eo(u);const{relativeKey:h,driver:p}=n(u),m=Object.create(null);if(p.getMeta&&Object.assign(m,await ts(p.getMeta,h,d)),!d.nativeOnly){const y=await ts(p.getItem,h+"$",d).then(v=>Kb(v));y&&typeof y=="object"&&(typeof y.atime=="string"&&(y.atime=new Date(y.atime)),typeof y.mtime=="string"&&(y.mtime=new Date(y.mtime)),Object.assign(m,y))}return m},setMeta(u,d,h={}){return this.setItem(u+"$",d,h)},removeMeta(u,d={}){return this.removeItem(u+"$",d)},async getKeys(u,d={}){u=Wb(u);const h=r(u,!0);let p=[];const m=[];let y=!0;for(const w of h){w.driver.flags?.maxDepth||(y=!1);const C=await ts(w.driver.getKeys,w.relativeBase,d);for(const _ of C){const O=w.mountpoint+Eo(_);p.some(R=>O.startsWith(R))||m.push(O)}p=[w.mountpoint,...p.filter(_=>!_.startsWith(w.mountpoint))]}const v=d.maxDepth!==void 0&&!y;return m.filter(w=>(!v||fCe(w,d.maxDepth))&&hCe(w,u))},async clear(u,d={}){u=Wb(u),await Promise.all(r(u,!1).map(async h=>{if(h.driver.clear)return ts(h.driver.clear,h.relativeBase,d);if(h.driver.removeItem){const p=await h.driver.getKeys(h.relativeBase||"",d);return Promise.all(p.map(m=>h.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(u=>SU(u)))},async watch(u){return await s(),t.watchListeners.push(u),async()=>{t.watchListeners=t.watchListeners.filter(d=>d!==u),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(u,d){if(u=Wb(u),u&&t.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(t.mountpoints.push(u),t.mountpoints.sort((h,p)=>p.length-h.length)),t.mounts[u]=d,t.watching&&Promise.resolve(xU(d,i,u)).then(h=>{t.unwatch[u]=h}).catch(console.error),c},async unmount(u,d=!0){u=Wb(u),!(!u||!t.mounts[u])&&(t.watching&&u in t.unwatch&&(t.unwatch[u]?.(),delete t.unwatch[u]),d&&await SU(t.mounts[u]),t.mountpoints=t.mountpoints.filter(h=>h!==u),delete t.mounts[u])},getMount(u=""){u=Eo(u)+":";const d=n(u);return{driver:d.driver,base:d.base}},getMounts(u="",d={}){return u=Eo(u),r(u,d.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(u,d={})=>c.getKeys(u,d),get:(u,d={})=>c.getItem(u,d),set:(u,d,h={})=>c.setItem(u,d,h),has:(u,d={})=>c.hasItem(u,d),del:(u,d={})=>c.removeItem(u,d),remove:(u,d={})=>c.removeItem(u,d)};return c}function xU(e,t,n){return e.watch?e.watch((r,i)=>t(r,n+i)):()=>{}}async function SU(e){typeof e.dispose=="function"&&await ts(e.dispose)}function Qh(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function cV(e,t){let n;const r=()=>{if(n)return n;const i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),n=Qh(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(o=>s(o.transaction(t,i).objectStore(t)))}let xA;function ew(){return xA||(xA=cV("keyval-store","keyval")),xA}function OU(e,t=ew()){return t("readonly",n=>Qh(n.get(e)))}function yCe(e,t,n=ew()){return n("readwrite",r=>(r.put(t,e),Qh(r.transaction)))}function vCe(e,t=ew()){return t("readwrite",n=>(n.delete(e),Qh(n.transaction)))}function wCe(e=ew()){return e("readwrite",t=>(t.clear(),Qh(t.transaction)))}function bCe(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Qh(e.transaction)}function ECe(e=ew()){return e("readonly",t=>{if(t.getAllKeys)return Qh(t.getAllKeys());const n=[];return bCe(t,r=>n.push(r.key)).then(()=>n)})}const _Ce=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),CCe=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Th(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return CCe(e)}catch{return e}}function tu(e){return typeof e=="string"?e:_Ce(e)||""}const xCe="idb-keyval";var SCe=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=i=>t+i;let r;return e.dbName&&e.storeName&&(r=cV(e.dbName,e.storeName)),{name:xCe,options:e,async hasItem(i){return!(typeof await OU(n(i),r)>"u")},async getItem(i){return await OU(n(i),r)??null},setItem(i,s){return yCe(n(i),s,r)},removeItem(i){return vCe(n(i),r)},getKeys(){return ECe(r)},clear(){return wCe(r)}}};const OCe="WALLET_CONNECT_V2_INDEXED_DB",ACe="keyvaluestorage";let TCe=class{constructor(){this.indexedDb=mCe({driver:SCe({dbName:OCe,storeName:ACe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,tu(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p_={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof SA<"u"&&SA.localStorage?p_.exports=SA.localStorage:typeof window<"u"&&window.localStorage?p_.exports=window.localStorage:p_.exports=new t})();function RCe(e){var t;return[e[0],Th((t=e[1])!=null?t:"")]}let NCe=class{constructor(){this.localStorage=p_.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(RCe)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return Th(n)}async setItem(t,n){this.localStorage.setItem(t,tu(n))}async removeItem(t){this.localStorage.removeItem(t)}};const PCe="wc_storage_version",AU=1,ICe=async(e,t,n)=>{const r=PCe,i=await t.getItem(r);if(i&&i>=AU){n(t);return}const s=await e.getKeys();if(!s.length){n(t);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await e.getItem(a);await t.setItem(a,u),o.push(a)}}await t.setItem(r,AU),n(t),DCe(e,o)},DCe=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let kCe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new NCe;this.storage=t;try{const n=new TCe;ICe(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};var OA,TU;function MCe(){if(TU)return OA;TU=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}OA=t;function t(n,r,i){var s=i&&i.stringify||e,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=s(n);for(var u=1;u<a;u++)c[u]=s(r[u]);return c.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var h="",p=1-o,m=-1,y=n&&n.length||0,v=0;v<y;){if(n.charCodeAt(v)===37&&v+1<y){switch(m=m>-1?m:0,n.charCodeAt(v+1)){case 100:case 102:if(p>=d||r[p]==null)break;m<v&&(h+=n.slice(m,v)),h+=Number(r[p]),m=v+2,v++;break;case 105:if(p>=d||r[p]==null)break;m<v&&(h+=n.slice(m,v)),h+=Math.floor(Number(r[p])),m=v+2,v++;break;case 79:case 111:case 106:if(p>=d||r[p]===void 0)break;m<v&&(h+=n.slice(m,v));var w=typeof r[p];if(w==="string"){h+="'"+r[p]+"'",m=v+2,v++;break}if(w==="function"){h+=r[p].name||"<anonymous>",m=v+2,v++;break}h+=s(r[p]),m=v+2,v++;break;case 115:if(p>=d)break;m<v&&(h+=n.slice(m,v)),h+=String(r[p]),m=v+2,v++;break;case 37:m<v&&(h+=n.slice(m,v)),h+="%",m=v+2,v++,p--;break}++p}++v}return m===-1?n:(m<y&&(h+=n.slice(m)),h)}return OA}var AA,RU;function LCe(){if(RU)return AA;RU=1;const e=MCe();AA=i;const t=S().console||{},n={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:y,res:y,err:p};function r(E,x){return Array.isArray(E)?E.filter(function(A){return A!=="!stdSerializers.err"}):E===!0?Object.keys(x):!1}function i(E){E=E||{},E.browser=E.browser||{};const x=E.browser.transmit;if(x&&typeof x.send!="function")throw Error("pino: transmit option must have a send function");const N=E.browser.write||t;E.browser.write&&(E.browser.asObject=!0);const A=E.serializers||{},D=r(E.browser.serialize,A);let k=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(k=!1);const U=["error","fatal","warn","info","debug","trace"];typeof N=="function"&&(N.error=N.fatal=N.warn=N.info=N.debug=N.trace=N),E.enabled===!1&&(E.level="silent");const H=E.level||"info",F=Object.create(N);F.log||(F.log=w),Object.defineProperty(F,"levelVal",{get:I}),Object.defineProperty(F,"level",{get:$,set:W});const P={transmit:x,serialize:D,asObject:E.browser.asObject,levels:U,timestamp:m(E)};F.levels=i.levels,F.level=H,F.setMaxListeners=F.getMaxListeners=F.emit=F.addListener=F.on=F.prependListener=F.once=F.prependOnceListener=F.removeListener=F.removeAllListeners=F.listeners=F.listenerCount=F.eventNames=F.write=F.flush=w,F.serializers=A,F._serialize=D,F._stdErrSerialize=k,F.child=X,x&&(F._logEvent=h());function I(){return this.level==="silent"?1/0:this.levels.values[this.level]}function $(){return this._level}function W(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,s(P,F,"error","log"),s(P,F,"fatal","error"),s(P,F,"warn","error"),s(P,F,"info","log"),s(P,F,"debug","log"),s(P,F,"trace","log")}function X(j,G){if(!j)throw new Error("missing bindings for child Pino");G=G||{},D&&j.serializers&&(G.serializers=j.serializers);const ae=G.serializers;if(D&&ae){var ce=Object.assign({},A,ae),oe=E.browser.serialize===!0?Object.keys(ce):D;delete j.serializers,c([j],oe,ce,this._stdErrSerialize)}function Ce(Ae){this._childLevel=(Ae._childLevel|0)+1,this.error=u(Ae,j,"error"),this.fatal=u(Ae,j,"fatal"),this.warn=u(Ae,j,"warn"),this.info=u(Ae,j,"info"),this.debug=u(Ae,j,"debug"),this.trace=u(Ae,j,"trace"),ce&&(this.serializers=ce,this._serialize=oe),x&&(this._logEvent=h([].concat(Ae._logEvent.bindings,j)))}return Ce.prototype=this,new Ce(this)}return F}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:C,epochTime:_,unixTime:O,isoTime:R});function s(E,x,N,A){const D=Object.getPrototypeOf(x);x[N]=x.levelVal>x.levels.values[N]?w:D[N]?D[N]:t[N]||t[A]||w,o(E,x,N)}function o(E,x,N){!E.transmit&&x[N]===w||(x[N]=function(A){return function(){const k=E.timestamp(),U=new Array(arguments.length),H=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var F=0;F<U.length;F++)U[F]=arguments[F];if(E.serialize&&!E.asObject&&c(U,this._serialize,this.serializers,this._stdErrSerialize),E.asObject?A.call(H,a(this,N,U,k)):A.apply(H,U),E.transmit){const P=E.transmit.level||x.level,I=i.levels.values[P],$=i.levels.values[N];if($<I)return;d(this,{ts:k,methodLevel:N,methodValue:$,transmitValue:i.levels.values[E.transmit.level||x.level],send:E.transmit.send,val:x.levelVal},U)}}}(x[N]))}function a(E,x,N,A){E._serialize&&c(N,E._serialize,E.serializers,E._stdErrSerialize);const D=N.slice();let k=D[0];const U={};A&&(U.time=A),U.level=i.levels.values[x];let H=(E._childLevel|0)+1;if(H<1&&(H=1),k!==null&&typeof k=="object"){for(;H--&&typeof D[0]=="object";)Object.assign(U,D.shift());k=D.length?e(D.shift(),D):void 0}else typeof k=="string"&&(k=e(D.shift(),D));return k!==void 0&&(U.msg=k),U}function c(E,x,N,A){for(const D in E)if(A&&E[D]instanceof Error)E[D]=i.stdSerializers.err(E[D]);else if(typeof E[D]=="object"&&!Array.isArray(E[D]))for(const k in E[D])x&&x.indexOf(k)>-1&&k in N&&(E[D][k]=N[k](E[D][k]))}function u(E,x,N){return function(){const A=new Array(1+arguments.length);A[0]=x;for(var D=1;D<A.length;D++)A[D]=arguments[D-1];return E[N].apply(this,A)}}function d(E,x,N){const A=x.send,D=x.ts,k=x.methodLevel,U=x.methodValue,H=x.val,F=E._logEvent.bindings;c(N,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=D,E._logEvent.messages=N.filter(function(P){return F.indexOf(P)===-1}),E._logEvent.level.label=k,E._logEvent.level.value=U,A(k,E._logEvent,H),E._logEvent=h(F)}function h(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function p(E){const x={type:E.constructor.name,msg:E.message,stack:E.stack};for(const N in E)x[N]===void 0&&(x[N]=E[N]);return x}function m(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?C:_}function y(){return{}}function v(E){return E}function w(){}function C(){return!1}function _(){return Date.now()}function O(){return Math.round(Date.now()/1e3)}function R(){return new Date(Date.now()).toISOString()}function S(){function E(x){return typeof x<"u"&&x}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return AA}var h0=LCe();const tw=rl(h0),UCe={level:"info"},nw="custom_context",z5=1e3*1024;let BCe=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},NU=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new BCe(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},lV=class{constructor(t,n=z5){this.level=t??"error",this.levelValue=h0.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new NU(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===h0.levels.values.error?console.error(t):n===h0.levels.values.warn?console.warn(t):n===h0.levels.values.debug?console.debug(t):n===h0.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(tu({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new NU(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(tu({extraMetadata:t})),new Blob(n,{type:"application/json"})}},$Ce=class{constructor(t,n=z5){this.baseChunkLogger=new lV(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},jCe=class{constructor(t,n=z5){this.baseChunkLogger=new lV(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var FCe=Object.defineProperty,KCe=Object.defineProperties,WCe=Object.getOwnPropertyDescriptors,PU=Object.getOwnPropertySymbols,HCe=Object.prototype.hasOwnProperty,zCe=Object.prototype.propertyIsEnumerable,IU=(e,t,n)=>t in e?FCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hC=(e,t)=>{for(var n in t||(t={}))HCe.call(t,n)&&IU(e,n,t[n]);if(PU)for(var n of PU(t))zCe.call(t,n)&&IU(e,n,t[n]);return e},pC=(e,t)=>KCe(e,WCe(t));function Pg(e){return pC(hC({},e),{level:e?.level||UCe.level})}function qCe(e,t=nw){return e[t]||""}function VCe(e,t,n=nw){return e[n]=t,e}function Do(e,t=nw){let n="";return typeof e.bindings>"u"?n=qCe(e,t):n=e.bindings().context||"",n}function XCe(e,t,n=nw){const r=Do(e,n);return r.trim()?`${r}/${t}`:t}function Qs(e,t,n=nw){const r=XCe(e,t,n),i=e.child({context:r});return VCe(i,r,n)}function GCe(e){var t,n;const r=new $Ce((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:tw(pC(hC({},e.opts),{level:"trace",browser:pC(hC({},(n=e.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function JCe(e){var t;const n=new jCe((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:tw(pC(hC({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function q5(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?GCe(e):JCe(e)}var YCe=Object.defineProperty,ZCe=(e,t,n)=>t in e?YCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DU=(e,t,n)=>ZCe(e,typeof t!="symbol"?t+"":t,n);let QCe=class extends Zh{constructor(t){super(),this.opts=t,DU(this,"protocol","wc"),DU(this,"version",2)}};var e2e=Object.defineProperty,t2e=(e,t,n)=>t in e?e2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n2e=(e,t,n)=>t2e(e,t+"",n);let r2e=class extends Zh{constructor(t,n){super(),this.core=t,this.logger=n,n2e(this,"records",new Map)}},i2e=class{constructor(t,n){this.logger=t,this.core=n}},s2e=class extends Zh{constructor(t,n){super(),this.relayer=t,this.logger=n}},o2e=class extends Zh{constructor(t){super()}},a2e=class{constructor(t,n,r,i){this.core=t,this.logger=n,this.name=r}},c2e=class extends Zh{constructor(t,n){super(),this.relayer=t,this.logger=n}},l2e=class extends Zh{constructor(t,n){super(),this.core=t,this.logger=n}},u2e=class{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}},d2e=class{constructor(t,n){this.projectId=t,this.logger=n}},f2e=class{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}};var h2e=Object.defineProperty,p2e=(e,t,n)=>t in e?h2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kU=(e,t,n)=>p2e(e,typeof t!="symbol"?t+"":t,n);let g2e=class{constructor(t){this.opts=t,kU(this,"protocol","wc"),kU(this,"version",2)}},m2e=class{constructor(t){this.client=t}};function y2e(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function uV(e,...t){if(!y2e(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function MU(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function v2e(e,t){uV(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const qp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TA=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function w2e(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function dV(e){return typeof e=="string"&&(e=w2e(e)),uV(e),e}let b2e=class{clone(){return this._cloneInto()}};function E2e(e){const t=r=>e().update(dV(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function fV(e=32){if(qp&&typeof qp.getRandomValues=="function")return qp.getRandomValues(new Uint8Array(e));if(qp&&typeof qp.randomBytes=="function")return qp.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function _2e(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}let C2e=class extends b2e{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=TA(this.buffer)}update(t){MU(this);const{view:n,buffer:r,blockLen:i}=this;t=dV(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=TA(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){MU(this),v2e(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;_2e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=TA(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};const Hb=BigInt(2**32-1),eT=BigInt(32);function hV(e,t=!1){return t?{h:Number(e&Hb),l:Number(e>>eT&Hb)}:{h:Number(e>>eT&Hb)|0,l:Number(e&Hb)|0}}function x2e(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=hV(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const S2e=(e,t)=>BigInt(e>>>0)<<eT|BigInt(t>>>0),O2e=(e,t,n)=>e>>>n,A2e=(e,t,n)=>e<<32-n|t>>>n,T2e=(e,t,n)=>e>>>n|t<<32-n,R2e=(e,t,n)=>e<<32-n|t>>>n,N2e=(e,t,n)=>e<<64-n|t>>>n-32,P2e=(e,t,n)=>e>>>n-32|t<<64-n,I2e=(e,t)=>t,D2e=(e,t)=>e,k2e=(e,t,n)=>e<<n|t>>>32-n,M2e=(e,t,n)=>t<<n|e>>>32-n,L2e=(e,t,n)=>t<<n-32|e>>>64-n,U2e=(e,t,n)=>e<<n-32|t>>>64-n;function B2e(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const $2e=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),j2e=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,F2e=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),K2e=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,W2e=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),H2e=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Nn={fromBig:hV,split:x2e,toBig:S2e,shrSH:O2e,shrSL:A2e,rotrSH:T2e,rotrSL:R2e,rotrBH:N2e,rotrBL:P2e,rotr32H:I2e,rotr32L:D2e,rotlSH:k2e,rotlSL:M2e,rotlBH:L2e,rotlBL:U2e,add:B2e,add3L:$2e,add3H:j2e,add4L:F2e,add4H:K2e,add5H:H2e,add5L:W2e},[z2e,q2e]=Nn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ku=new Uint32Array(80),Wu=new Uint32Array(80);let V2e=class extends C2e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:d,Fh:h,Fl:p,Gh:m,Gl:y,Hh:v,Hl:w}=this;return[t,n,r,i,s,o,a,c,u,d,h,p,m,y,v,w]}set(t,n,r,i,s,o,a,c,u,d,h,p,m,y,v,w){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=p|0,this.Gh=m|0,this.Gl=y|0,this.Hh=v|0,this.Hl=w|0}process(t,n){for(let O=0;O<16;O++,n+=4)Ku[O]=t.getUint32(n),Wu[O]=t.getUint32(n+=4);for(let O=16;O<80;O++){const R=Ku[O-15]|0,S=Wu[O-15]|0,E=Nn.rotrSH(R,S,1)^Nn.rotrSH(R,S,8)^Nn.shrSH(R,S,7),x=Nn.rotrSL(R,S,1)^Nn.rotrSL(R,S,8)^Nn.shrSL(R,S,7),N=Ku[O-2]|0,A=Wu[O-2]|0,D=Nn.rotrSH(N,A,19)^Nn.rotrBH(N,A,61)^Nn.shrSH(N,A,6),k=Nn.rotrSL(N,A,19)^Nn.rotrBL(N,A,61)^Nn.shrSL(N,A,6),U=Nn.add4L(x,k,Wu[O-7],Wu[O-16]),H=Nn.add4H(U,E,D,Ku[O-7],Ku[O-16]);Ku[O]=H|0,Wu[O]=U|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:d,Eh:h,El:p,Fh:m,Fl:y,Gh:v,Gl:w,Hh:C,Hl:_}=this;for(let O=0;O<80;O++){const R=Nn.rotrSH(h,p,14)^Nn.rotrSH(h,p,18)^Nn.rotrBH(h,p,41),S=Nn.rotrSL(h,p,14)^Nn.rotrSL(h,p,18)^Nn.rotrBL(h,p,41),E=h&m^~h&v,x=p&y^~p&w,N=Nn.add5L(_,S,x,q2e[O],Wu[O]),A=Nn.add5H(N,C,R,E,z2e[O],Ku[O]),D=N|0,k=Nn.rotrSH(r,i,28)^Nn.rotrBH(r,i,34)^Nn.rotrBH(r,i,39),U=Nn.rotrSL(r,i,28)^Nn.rotrBL(r,i,34)^Nn.rotrBL(r,i,39),H=r&s^r&a^s&a,F=i&o^i&c^o&c;C=v|0,_=w|0,v=m|0,w=y|0,m=h|0,y=p|0,{h,l:p}=Nn.add(u|0,d|0,A|0,D|0),u=a|0,d=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const P=Nn.add3L(D,U,F);r=Nn.add3H(P,A,k,H),i=P|0}({h:r,l:i}=Nn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Nn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Nn.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:d}=Nn.add(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:p}=Nn.add(this.Eh|0,this.El|0,h|0,p|0),{h:m,l:y}=Nn.add(this.Fh|0,this.Fl|0,m|0,y|0),{h:v,l:w}=Nn.add(this.Gh|0,this.Gl|0,v|0,w|0),{h:C,l:_}=Nn.add(this.Hh|0,this.Hl|0,C|0,_|0),this.set(r,i,s,o,a,c,u,d,h,p,m,y,v,w,C,_)}roundClean(){Ku.fill(0),Wu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const X2e=E2e(()=>new V2e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V5=BigInt(0),pV=BigInt(1),G2e=BigInt(2);function X5(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function G5(e){if(!X5(e))throw new Error("Uint8Array expected")}function RA(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const J2e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function J5(e){G5(e);let t="";for(let n=0;n<e.length;n++)t+=J2e[e[n]];return t}function gV(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?V5:BigInt("0x"+e)}const Nl={_0:48,_9:57,A:65,F:70,a:97,f:102};function LU(e){if(e>=Nl._0&&e<=Nl._9)return e-Nl._0;if(e>=Nl.A&&e<=Nl.F)return e-(Nl.A-10);if(e>=Nl.a&&e<=Nl.f)return e-(Nl.a-10)}function mV(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=LU(e.charCodeAt(s)),a=LU(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Y2e(e){return gV(J5(e))}function g_(e){return G5(e),gV(J5(Uint8Array.from(e).reverse()))}function yV(e,t){return mV(e.toString(16).padStart(t*2,"0"))}function tT(e,t){return yV(e,t).reverse()}function Pl(e,t,n){let r;if(typeof t=="string")try{r=mV(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(X5(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function UU(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];G5(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const NA=e=>typeof e=="bigint"&&V5<=e;function Z2e(e,t,n){return NA(e)&&NA(t)&&NA(n)&&t<=e&&e<n}function cy(e,t,n,r){if(!Z2e(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Q2e(e){let t;for(t=0;e>V5;e>>=pV,t+=1);return t}const exe=e=>(G2e<<BigInt(e-1))-pV,txe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||X5(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Y5(e,t,n={}){const r=(i,s,o)=>{const a=txe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function BU(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const os=BigInt(0),Si=BigInt(1),Gf=BigInt(2),nxe=BigInt(3),nT=BigInt(4),$U=BigInt(5),jU=BigInt(8);function zi(e,t){const n=e%t;return n>=os?n:t+n}function rxe(e,t,n){if(t<os)throw new Error("invalid exponent, negatives unsupported");if(n<=os)throw new Error("invalid modulus");if(n===Si)return os;let r=Si;for(;t>os;)t&Si&&(r=r*e%n),e=e*e%n,t>>=Si;return r}function kc(e,t,n){let r=e;for(;t-- >os;)r*=r,r%=n;return r}function FU(e,t){if(e===os)throw new Error("invert: expected non-zero number");if(t<=os)throw new Error("invert: expected positive modulus, got "+t);let n=zi(e,t),r=t,i=os,s=Si;for(;n!==os;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Si)throw new Error("invert: does not exist");return zi(i,t)}function ixe(e){const t=(e-Si)/Gf;let n,r,i;for(n=e-Si,r=0;n%Gf===os;n/=Gf,r++);for(i=Gf;i<e&&rxe(i,t,e)!==e-Si;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+Si)/nT;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+Si)/Gf;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),d=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let p=1;for(let y=o.sqr(h);p<c&&!o.eql(y,o.ONE);p++)y=o.sqr(y);const m=o.pow(u,Si<<BigInt(c-p-1));u=o.sqr(m),d=o.mul(d,m),h=o.mul(h,u),c=p}return d}}function sxe(e){if(e%nT===nxe){const t=(e+Si)/nT;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%jU===$U){const t=(e-$U)/jU;return function(n,r){const i=n.mul(r,Gf),s=n.pow(i,t),o=n.mul(r,s),a=n.mul(n.mul(o,Gf),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return ixe(e)}const oxe=(e,t)=>(zi(e,t)&Si)===Si,axe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cxe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=axe.reduce((r,i)=>(r[i]="function",r),t);return Y5(e,n)}function lxe(e,t,n){if(n<os)throw new Error("invalid exponent, negatives unsupported");if(n===os)return e.ONE;if(n===Si)return t;let r=e.ONE,i=t;for(;n>os;)n&Si&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Si;return r}function uxe(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function vV(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wV(e,t,n=!1,r={}){if(e<=os)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=vV(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:exe(i),ZERO:os,ONE:Si,create:c=>zi(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return os<=c&&c<e},is0:c=>c===os,isOdd:c=>(c&Si)===Si,neg:c=>zi(-c,e),eql:(c,u)=>c===u,sqr:c=>zi(c*c,e),add:(c,u)=>zi(c+u,e),sub:(c,u)=>zi(c-u,e),mul:(c,u)=>zi(c*u,e),pow:(c,u)=>lxe(a,c,u),div:(c,u)=>zi(c*FU(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>FU(c,e),sqrt:r.sqrt||(c=>(o||(o=sxe(e)),o(a,c))),invertBatch:c=>uxe(a,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?tT(c,s):yV(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?g_(c):Y2e(c)}});return Object.freeze(a)}const KU=BigInt(0),zb=BigInt(1);function PA(e,t){const n=t.negate();return e?n:t}function bV(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function IA(e,t){bV(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function dxe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function fxe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const DA=new WeakMap,EV=new WeakMap;function kA(e){return EV.get(e)||1}function hxe(e,t){return{constTimeNegate:PA,hasPrecomputes(n){return kA(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>KU;)r&zb&&(i=i.add(s)),s=s.double(),r>>=zb;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=IA(r,t),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=IA(n,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let y=Number(i&u);i>>=h,y>o&&(y-=d,i+=zb);const v=m,w=m+Math.abs(y)-1,C=p%2!==0,_=y<0;y===0?c=c.add(PA(C,r[v])):a=a.add(PA(_,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=e.ZERO){const{windows:o,windowSize:a}=IA(n,t),c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<o;h++){const p=h*a;if(i===KU)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=u,i+=zb),m===0)continue;let y=r[p+Math.abs(m)-1];m<0&&(y=y.negate()),s=s.add(y)}return s},getPrecomputes(n,r,i){let s=DA.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&DA.set(r,i(s))),s},wNAFCached(n,r,i){const s=kA(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=kA(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){bV(r,t),EV.set(n,r),DA.delete(n)}}}function pxe(e,t,n,r){if(dxe(n,e),fxe(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=Q2e(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let d=i;for(let h=u;h>=0;h-=o){c.fill(i);for(let m=0;m<r.length;m++){const y=r[m],v=Number(y>>BigInt(h)&BigInt(a));c[v]=c[v].add(n[m])}let p=i;for(let m=c.length-1,y=i;m>0;m--)y=y.add(c[m]),p=p.add(y);if(d=d.add(p),h!==0)for(let m=0;m<o;m++)d=d.double()}return d}function gxe(e){return cxe(e.Fp),Y5(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vV(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const tc=BigInt(0),mo=BigInt(1),qb=BigInt(2),mxe=BigInt(8),yxe={zip215:!0};function vxe(e){const t=gxe(e);return Y5(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function wxe(e){const t=vxe(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=qb<<BigInt(a*8)-mo,d=n.create,h=wV(t.n,t.nBitLength),p=t.uvRatio||((P,I)=>{try{return{isValid:!0,value:n.sqrt(P*n.inv(I))}}catch{return{isValid:!1,value:tc}}}),m=t.adjustScalarBytes||(P=>P),y=t.domain||((P,I,$)=>{if(RA("phflag",$),I.length||$)throw new Error("Contexts/pre-hash are not supported");return P});function v(P,I){cy("coordinate "+P,I,tc,u)}function w(P){if(!(P instanceof O))throw new Error("ExtendedPoint expected")}const C=BU((P,I)=>{const{ex:$,ey:W,ez:X}=P,j=P.is0();I==null&&(I=j?mxe:n.inv(X));const G=d($*I),ae=d(W*I),ce=d(X*I);if(j)return{x:tc,y:mo};if(ce!==mo)throw new Error("invZ was invalid");return{x:G,y:ae}}),_=BU(P=>{const{a:I,d:$}=t;if(P.is0())throw new Error("bad point: ZERO");const{ex:W,ey:X,ez:j,et:G}=P,ae=d(W*W),ce=d(X*X),oe=d(j*j),Ce=d(oe*oe),Ae=d(ae*I),ue=d(oe*d(Ae+ce)),Y=d(Ce+d($*d(ae*ce)));if(ue!==Y)throw new Error("bad point: equation left != right (1)");const ee=d(W*X),B=d(j*G);if(ee!==B)throw new Error("bad point: equation left != right (2)");return!0});class O{constructor(I,$,W,X){this.ex=I,this.ey=$,this.ez=W,this.et=X,v("x",I),v("y",$),v("z",W),v("t",X),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof O)throw new Error("extended point not allowed");const{x:$,y:W}=I||{};return v("x",$),v("y",W),new O($,W,mo,d($*W))}static normalizeZ(I){const $=n.invertBatch(I.map(W=>W.ez));return I.map((W,X)=>W.toAffine($[X])).map(O.fromAffine)}static msm(I,$){return pxe(O,h,I,$)}_setWindowSize(I){E.setWindowSize(this,I)}assertValidity(){_(this)}equals(I){w(I);const{ex:$,ey:W,ez:X}=this,{ex:j,ey:G,ez:ae}=I,ce=d($*ae),oe=d(j*X),Ce=d(W*ae),Ae=d(G*X);return ce===oe&&Ce===Ae}is0(){return this.equals(O.ZERO)}negate(){return new O(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:I}=t,{ex:$,ey:W,ez:X}=this,j=d($*$),G=d(W*W),ae=d(qb*d(X*X)),ce=d(I*j),oe=$+W,Ce=d(d(oe*oe)-j-G),Ae=ce+G,ue=Ae-ae,Y=ce-G,ee=d(Ce*ue),B=d(Ae*Y),te=d(Ce*Y),we=d(ue*Ae);return new O(ee,B,we,te)}add(I){w(I);const{a:$,d:W}=t,{ex:X,ey:j,ez:G,et:ae}=this,{ex:ce,ey:oe,ez:Ce,et:Ae}=I;if($===BigInt(-1)){const Kt=d((j-X)*(oe+ce)),en=d((j+X)*(oe-ce)),ln=d(en-Kt);if(ln===tc)return this.double();const Gt=d(G*qb*Ae),Wt=d(ae*qb*Ce),Ht=Wt+Gt,pn=en+Kt,ct=Wt-Gt,yt=d(Ht*ln),vt=d(pn*ct),zt=d(Ht*ct),In=d(ln*pn);return new O(yt,vt,In,zt)}const ue=d(X*ce),Y=d(j*oe),ee=d(ae*W*Ae),B=d(G*Ce),te=d((X+j)*(ce+oe)-ue-Y),we=B-ee,Ne=B+ee,Fe=d(Y-$*ue),Ve=d(te*we),Et=d(Ne*Fe),Nt=d(te*Fe),at=d(we*Ne);return new O(Ve,Et,at,Nt)}subtract(I){return this.add(I.negate())}wNAF(I){return E.wNAFCached(this,I,O.normalizeZ)}multiply(I){const $=I;cy("scalar",$,mo,r);const{p:W,f:X}=this.wNAF($);return O.normalizeZ([W,X])[0]}multiplyUnsafe(I,$=O.ZERO){const W=I;return cy("scalar",W,tc,r),W===tc?S:this.is0()||W===mo?this:E.wNAFCachedUnsafe(this,W,O.normalizeZ,$)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,r).is0()}toAffine(I){return C(this,I)}clearCofactor(){const{h:I}=t;return I===mo?this:this.multiplyUnsafe(I)}static fromHex(I,$=!1){const{d:W,a:X}=t,j=n.BYTES;I=Pl("pointHex",I,j),RA("zip215",$);const G=I.slice(),ae=I[j-1];G[j-1]=ae&-129;const ce=g_(G),oe=$?u:n.ORDER;cy("pointHex.y",ce,tc,oe);const Ce=d(ce*ce),Ae=d(Ce-mo),ue=d(W*Ce-X);let{isValid:Y,value:ee}=p(Ae,ue);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const B=(ee&mo)===mo,te=(ae&128)!==0;if(!$&&ee===tc&&te)throw new Error("Point.fromHex: x=0 and x_0=1");return te!==B&&(ee=d(-ee)),O.fromAffine({x:ee,y:ce})}static fromPrivateKey(I){return A(I).point}toRawBytes(){const{x:I,y:$}=this.toAffine(),W=tT($,n.BYTES);return W[W.length-1]|=I&mo?128:0,W}toHex(){return J5(this.toRawBytes())}}O.BASE=new O(t.Gx,t.Gy,mo,d(t.Gx*t.Gy)),O.ZERO=new O(tc,mo,mo,tc);const{BASE:R,ZERO:S}=O,E=hxe(O,a*8);function x(P){return zi(P,r)}function N(P){return x(g_(P))}function A(P){const I=n.BYTES;P=Pl("private key",P,I);const $=Pl("hashed private key",s(P),2*I),W=m($.slice(0,I)),X=$.slice(I,2*I),j=N(W),G=R.multiply(j),ae=G.toRawBytes();return{head:W,prefix:X,scalar:j,point:G,pointBytes:ae}}function D(P){return A(P).pointBytes}function k(P=new Uint8Array,...I){const $=UU(...I);return N(s(y($,Pl("context",P),!!i)))}function U(P,I,$={}){P=Pl("message",P),i&&(P=i(P));const{prefix:W,scalar:X,pointBytes:j}=A(I),G=k($.context,W,P),ae=R.multiply(G).toRawBytes(),ce=k($.context,ae,j,P),oe=x(G+ce*X);cy("signature.s",oe,tc,r);const Ce=UU(ae,tT(oe,n.BYTES));return Pl("result",Ce,n.BYTES*2)}const H=yxe;function F(P,I,$,W=H){const{context:X,zip215:j}=W,G=n.BYTES;P=Pl("signature",P,2*G),I=Pl("message",I),$=Pl("publicKey",$,G),j!==void 0&&RA("zip215",j),i&&(I=i(I));const ae=g_(P.slice(G,2*G));let ce,oe,Ce;try{ce=O.fromHex($,j),oe=O.fromHex(P.slice(0,G),j),Ce=R.multiplyUnsafe(ae)}catch{return!1}if(!j&&ce.isSmallOrder())return!1;const Ae=k(X,oe.toRawBytes(),ce.toRawBytes(),I);return oe.add(ce.multiplyUnsafe(Ae)).subtract(Ce).clearCofactor().equals(O.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:D,sign:U,verify:F,ExtendedPoint:O,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>o(n.BYTES),precompute(P=8,I=O.BASE){return I._setWindowSize(P),I.multiply(BigInt(3)),I}}}}BigInt(0),BigInt(1);const Z5=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),WU=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const bxe=BigInt(1),HU=BigInt(2);BigInt(3);const Exe=BigInt(5),_xe=BigInt(8);function Cxe(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Z5,o=e*e%s*e%s,a=kc(o,HU,s)*o%s,c=kc(a,bxe,s)*e%s,u=kc(c,Exe,s)*c%s,d=kc(u,t,s)*u%s,h=kc(d,n,s)*d%s,p=kc(h,r,s)*h%s,m=kc(p,i,s)*p%s,y=kc(m,i,s)*p%s,v=kc(y,t,s)*u%s;return{pow_p_5_8:kc(v,HU,s)*e%s,b2:o}}function xxe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Sxe(e,t){const n=Z5,r=zi(t*t*t,n),i=zi(r*r*t,n),s=Cxe(e*i).pow_p_5_8;let o=zi(e*r*s,n);const a=zi(t*o*o,n),c=o,u=zi(o*WU,n),d=a===e,h=a===zi(-e,n),p=a===zi(-e*WU,n);return d&&(o=c),(h||p)&&(o=u),oxe(o,n)&&(o=zi(-o,n)),{isValid:d||h,value:o}}const Oxe=wV(Z5,void 0,!0),Axe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Oxe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_xe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:X2e,randomBytes:fV,adjustScalarBytes:xxe,uvRatio:Sxe},_V=wxe(Axe),Txe="EdDSA",Rxe="JWT",gC=".",_2="base64url",CV="utf8",xV="utf8",Nxe=":",Pxe="did",Ixe="key",zU="base58btc",Dxe="z",kxe="K36",Mxe=32;function Q5(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function SV(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Q5(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function OV(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const n=SV(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return Q5(n)}function Lxe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,w=0,C=0,_=y.length;C!==_&&y[C]===0;)C++,v++;for(var O=(_-C)*d+1>>>0,R=new Uint8Array(O);C!==_;){for(var S=y[C],E=0,x=O-1;(S!==0||E<w)&&x!==-1;x--,E++)S+=256*R[x]>>>0,R[x]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");w=E,C++}for(var N=O-w;N!==O&&R[N]===0;)N++;for(var A=c.repeat(v);N<O;++N)A+=e.charAt(R[N]);return A}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var w=0,C=0;y[v]===c;)w++,v++;for(var _=(y.length-v)*u+1>>>0,O=new Uint8Array(_);y[v];){var R=n[y.charCodeAt(v)];if(R===255)return;for(var S=0,E=_-1;(R!==0||S<C)&&E!==-1;E--,S++)R+=a*O[E]>>>0,O[E]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");C=S,v++}if(y[v]!==" "){for(var x=_-C;x!==_&&O[x]===0;)x++;for(var N=new Uint8Array(w+(_-x)),A=w;x!==_;)N[A++]=O[x++];return N}}}function m(y){var v=p(y);if(v)return v;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:p,decode:m}}var Uxe=Lxe,Bxe=Uxe;const AV=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},$xe=e=>new TextEncoder().encode(e),jxe=e=>new TextDecoder().decode(e);let Fxe=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Kxe=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return TV(this,t)}},Wxe=class{constructor(t){this.decoders=t}or(t){return TV(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const TV=(e,t)=>new Wxe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let Hxe=class{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Fxe(t,n,r),this.decoder=new Kxe(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const C2=({name:e,prefix:t,encode:n,decode:r})=>new Hxe(e,t,n,r),rw=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Bxe(n,t);return C2({prefix:e,name:t,encode:r,decode:s=>AV(i(s))})},zxe=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let d=0;d<s;++d){const h=i[e[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},qxe=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Is=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>C2({prefix:t,name:e,encode(i){return qxe(i,r,n)},decode(i){return zxe(i,r,n,e)}}),Vxe=C2({prefix:"\0",name:"identity",encode:e=>jxe(e),decode:e=>$xe(e)});var Xxe=Object.freeze({__proto__:null,identity:Vxe});const Gxe=Is({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Jxe=Object.freeze({__proto__:null,base2:Gxe});const Yxe=Is({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Zxe=Object.freeze({__proto__:null,base8:Yxe});const Qxe=rw({prefix:"9",name:"base10",alphabet:"0123456789"});var eSe=Object.freeze({__proto__:null,base10:Qxe});const tSe=Is({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),nSe=Is({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var rSe=Object.freeze({__proto__:null,base16:tSe,base16upper:nSe});const iSe=Is({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sSe=Is({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oSe=Is({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aSe=Is({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),cSe=Is({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),lSe=Is({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),uSe=Is({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dSe=Is({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fSe=Is({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hSe=Object.freeze({__proto__:null,base32:iSe,base32upper:sSe,base32pad:oSe,base32padupper:aSe,base32hex:cSe,base32hexupper:lSe,base32hexpad:uSe,base32hexpadupper:dSe,base32z:fSe});const pSe=rw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gSe=rw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var mSe=Object.freeze({__proto__:null,base36:pSe,base36upper:gSe});const ySe=rw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vSe=rw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var wSe=Object.freeze({__proto__:null,base58btc:ySe,base58flickr:vSe});const bSe=Is({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ESe=Is({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_Se=Is({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),CSe=Is({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var xSe=Object.freeze({__proto__:null,base64:bSe,base64pad:ESe,base64url:_Se,base64urlpad:CSe});const RV=Array.from(""),SSe=RV.reduce((e,t,n)=>(e[n]=t,e),[]),OSe=RV.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function ASe(e){return e.reduce((t,n)=>(t+=SSe[n],t),"")}function TSe(e){const t=[];for(const n of e){const r=OSe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const RSe=C2({prefix:"",name:"base256emoji",encode:ASe,decode:TSe});var NSe=Object.freeze({__proto__:null,base256emoji:RSe}),PSe=NV,qU=128,ISe=-128,DSe=Math.pow(2,31);function NV(e,t,n){t=t||[],n=n||0;for(var r=n;e>=DSe;)t[n++]=e&255|qU,e/=128;for(;e&ISe;)t[n++]=e&255|qU,e>>>=7;return t[n]=e|0,NV.bytes=n-r+1,t}var kSe=rT,MSe=128,VU=127;function rT(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw rT.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&VU)<<i:(o&VU)*Math.pow(2,i),i+=7}while(o>=MSe);return rT.bytes=s-r,n}var LSe=Math.pow(2,7),USe=Math.pow(2,14),BSe=Math.pow(2,21),$Se=Math.pow(2,28),jSe=Math.pow(2,35),FSe=Math.pow(2,42),KSe=Math.pow(2,49),WSe=Math.pow(2,56),HSe=Math.pow(2,63),zSe=function(e){return e<LSe?1:e<USe?2:e<BSe?3:e<$Se?4:e<jSe?5:e<FSe?6:e<KSe?7:e<WSe?8:e<HSe?9:10},qSe={encode:PSe,decode:kSe,encodingLength:zSe},PV=qSe;const XU=(e,t,n=0)=>(PV.encode(e,t,n),t),GU=e=>PV.encodingLength(e),iT=(e,t)=>{const n=t.byteLength,r=GU(e),i=r+GU(n),s=new Uint8Array(i+n);return XU(e,s,0),XU(n,s,r),s.set(t,i),new VSe(e,n,t,s)};let VSe=class{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}};const IV=({name:e,code:t,encode:n})=>new XSe(e,t,n);let XSe=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?iT(this.code,n):n.then(r=>iT(this.code,r))}else throw Error("Unknown type, must be binary type")}};const DV=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),GSe=IV({name:"sha2-256",code:18,encode:DV("SHA-256")}),JSe=IV({name:"sha2-512",code:19,encode:DV("SHA-512")});var YSe=Object.freeze({__proto__:null,sha256:GSe,sha512:JSe});const kV=0,ZSe="identity",MV=AV,QSe=e=>iT(kV,MV(e)),eOe={code:kV,name:ZSe,encode:MV,digest:QSe};var tOe=Object.freeze({__proto__:null,identity:eOe});new TextEncoder,new TextDecoder;const JU={...Xxe,...Jxe,...Zxe,...eSe,...rSe,...hSe,...mSe,...wSe,...xSe,...NSe};({...YSe,...tOe});function LV(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const YU=LV("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),MA=LV("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=SV(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),UV={utf8:YU,"utf-8":YU,hex:JU.base16,latin1:MA,ascii:MA,binary:MA,...JU};function x2(e,t="utf8"){const n=UV[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function Ig(e,t="utf8"){const n=UV[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Q5(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function ZU(e){return Th(x2(Ig(e,_2),CV))}function mC(e){return x2(Ig(tu(e),CV),_2)}function BV(e){const t=Ig(kxe,zU),n=Dxe+x2(OV([t,e]),zU);return[Pxe,Ixe,n].join(Nxe)}function nOe(e){return x2(e,_2)}function rOe(e){return Ig(e,_2)}function iOe(e){return Ig([mC(e.header),mC(e.payload)].join(gC),xV)}function sOe(e){return[mC(e.header),mC(e.payload),nOe(e.signature)].join(gC)}function sT(e){const t=e.split(gC),n=ZU(t[0]),r=ZU(t[1]),i=rOe(t[2]),s=Ig(t.slice(0,2).join(gC),xV);return{header:n,payload:r,signature:i,data:s}}function QU(e=fV(Mxe)){const t=_V.getPublicKey(e);return{secretKey:OV([e,t]),publicKey:t}}async function oOe(e,t,n,r,i=ht.fromMiliseconds(Date.now())){const s={alg:Txe,typ:Rxe},o=BV(r.publicKey),a=i+n,c={iss:o,sub:e,aud:t,iat:i,exp:a},u=iOe({header:s,payload:c}),d=_V.sign(u,r.secretKey.slice(0,32));return sOe({header:s,payload:c,signature:d})}var eB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},aOe=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),cOe=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),lOe=function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e}(),uOe=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),dOe=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),fOe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hOe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,tB=3,pOe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fOe]],nB=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function gOe(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new dOe:typeof navigator<"u"?yOe(navigator.userAgent):wOe()}function mOe(e){return e!==""&&pOe.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function yOe(e){var t=mOe(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new uOe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<tB&&(i=eB(eB([],i,!0),bOe(tB-i.length),!0)):i=[];var s=i.join("."),o=vOe(e),a=hOe.exec(e);return a&&a[1]?new lOe(n,s,o,a[1]):new aOe(n,s,o)}function vOe(e){for(var t=0,n=nB.length;t<n;t++){var r=nB[t],i=r[0],s=r[1],o=s.exec(e);if(o)return i}return null}function wOe(){var e=typeof process<"u"&&process.version;return e?new cOe(process.version.slice(1)):null}function bOe(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var Lr={},rB;function $V(){if(rB)return Lr;rB=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.getLocalStorage=Lr.getLocalStorageOrThrow=Lr.getCrypto=Lr.getCryptoOrThrow=Lr.getLocation=Lr.getLocationOrThrow=Lr.getNavigator=Lr.getNavigatorOrThrow=Lr.getDocument=Lr.getDocumentOrThrow=Lr.getFromWindowOrThrow=Lr.getFromWindow=void 0;function e(p){let m;return typeof window<"u"&&typeof window[p]<"u"&&(m=window[p]),m}Lr.getFromWindow=e;function t(p){const m=e(p);if(!m)throw new Error(`${p} is not defined in Window`);return m}Lr.getFromWindowOrThrow=t;function n(){return t("document")}Lr.getDocumentOrThrow=n;function r(){return e("document")}Lr.getDocument=r;function i(){return t("navigator")}Lr.getNavigatorOrThrow=i;function s(){return e("navigator")}Lr.getNavigator=s;function o(){return t("location")}Lr.getLocationOrThrow=o;function a(){return e("location")}Lr.getLocation=a;function c(){return t("crypto")}Lr.getCryptoOrThrow=c;function u(){return e("crypto")}Lr.getCrypto=u;function d(){return t("localStorage")}Lr.getLocalStorageOrThrow=d;function h(){return e("localStorage")}return Lr.getLocalStorage=h,Lr}var Rh=$V(),ly={},iB;function EOe(){if(iB)return ly;iB=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.getWindowMetadata=void 0;const e=$V();function t(){let n,r;try{n=e.getDocumentOrThrow(),r=e.getLocationOrThrow()}catch{return null}function i(){const m=n.getElementsByTagName("link"),y=[];for(let v=0;v<m.length;v++){const w=m[v],C=w.getAttribute("rel");if(C&&C.toLowerCase().indexOf("icon")>-1){const _=w.getAttribute("href");if(_)if(_.toLowerCase().indexOf("https:")===-1&&_.toLowerCase().indexOf("http:")===-1&&_.indexOf("//")!==0){let O=r.protocol+"//"+r.host;if(_.indexOf("/")===0)O+=_;else{const R=r.pathname.split("/");R.pop();const S=R.join("/");O+=S+"/"+_}y.push(O)}else if(_.indexOf("//")===0){const O=r.protocol+_;y.push(O)}else y.push(_)}}return y}function s(...m){const y=n.getElementsByTagName("meta");for(let v=0;v<y.length;v++){const w=y[v],C=["itemprop","property","name"].map(_=>w.getAttribute(_)).filter(_=>_?m.includes(_):!1);if(C.length&&C){const _=w.getAttribute("content");if(_)return _}}return""}function o(){let m=s("name","og:site_name","og:title","twitter:title");return m||(m=n.title),m}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),u=a(),d=r.origin,h=i();return{description:u,url:d,icons:h,name:c}}return ly.getWindowMetadata=t,ly}var _Oe=EOe();function Bv(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function sB(e){return Bv(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const jV="2.23.2";let LA={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${jV}`},S2=class oT extends Error{constructor(t,n={}){const r=n.cause instanceof oT?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof oT&&n.cause.docsPath||n.docsPath,s=LA.getDocsUrl?.({...n,docsPath:i}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...LA.version?[`Version: ${LA.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=jV}walk(t){return FV(this,t)}};function FV(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?FV(e.cause,t):t?null:e}let KV=class extends S2{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function Dg(e,{dir:t,size:n=32}={}){return typeof e=="string"?COe(e,{dir:t,size:n}):xOe(e,{dir:t,size:n})}function COe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new KV({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function xOe(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new KV({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}let SOe=class extends S2{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},OOe=class extends S2{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function kg(e,{size:t}){if(sB(e)>t)throw new OOe({givenSize:sB(e),maxSize:t})}function aT(e,t={}){const{signed:n}=t;t.size&&kg(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function AOe(e,t={}){return Number(aT(e,t))}const TOe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function cT(e,t={}){return typeof e=="number"||typeof e=="bigint"?HV(e,t):typeof e=="string"?POe(e,t):typeof e=="boolean"?ROe(e,t):WV(e,t)}function ROe(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(kg(n,{size:t.size}),Dg(n,{size:t.size})):n}function WV(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=TOe[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(kg(r,{size:t.size}),Dg(r,{dir:"right",size:t.size})):r}function HV(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new SOe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Dg(a,{size:r}):a}const NOe=new TextEncoder;function POe(e,t={}){const n=NOe.encode(e);return WV(n,t)}const IOe=new TextEncoder;function DOe(e,t={}){return typeof e=="number"||typeof e=="bigint"?MOe(e,t):typeof e=="boolean"?kOe(e,t):Bv(e)?zV(e,t):qV(e,t)}function kOe(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(kg(n,{size:t.size}),Dg(n,{size:t.size})):n}const Il={zero:48,nine:57,A:65,F:70,a:97,f:102};function oB(e){if(e>=Il.zero&&e<=Il.nine)return e-Il.zero;if(e>=Il.A&&e<=Il.F)return e-(Il.A-10);if(e>=Il.a&&e<=Il.f)return e-(Il.a-10)}function zV(e,t={}){let n=e;t.size&&(kg(n,{size:t.size}),n=Dg(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=oB(r.charCodeAt(a++)),u=oB(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new S2(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+u}return s}function MOe(e,t){const n=HV(e,t);return zV(n)}function qV(e,t={}){const n=IOe.encode(e);return typeof t.size=="number"?(kg(n,{size:t.size}),Dg(n,{dir:"right",size:t.size})):n}function yC(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function LOe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function O2(e,...t){if(!LOe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function QUe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yC(e.outputLen),yC(e.blockLen)}function aB(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function UOe(e,t){O2(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Vb=BigInt(2**32-1),cB=BigInt(32);function BOe(e,t=!1){return t?{h:Number(e&Vb),l:Number(e>>cB&Vb)}:{h:Number(e>>cB&Vb)|0,l:Number(e&Vb)|0}}function $Oe(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=BOe(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const jOe=(e,t,n)=>e<<n|t>>>32-n,FOe=(e,t,n)=>t<<n|e>>>32-n,KOe=(e,t,n)=>t<<n-32|e>>>64-n,WOe=(e,t,n)=>e<<n-32|t>>>64-n,Vp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HOe(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function eBe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tBe(e,t){return e<<32-t|e>>>t}const lB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function zOe(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function uB(e){for(let t=0;t<e.length;t++)e[t]=zOe(e[t])}function qOe(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function VV(e){return typeof e=="string"&&(e=qOe(e)),O2(e),e}function nBe(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];O2(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class VOe{clone(){return this._cloneInto()}}function XOe(e){const t=r=>e().update(VV(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function rBe(e=32){if(Vp&&typeof Vp.getRandomValues=="function")return Vp.getRandomValues(new Uint8Array(e));if(Vp&&typeof Vp.randomBytes=="function")return Vp.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const XV=[],GV=[],JV=[],GOe=BigInt(0),uy=BigInt(1),JOe=BigInt(2),YOe=BigInt(7),ZOe=BigInt(256),QOe=BigInt(113);for(let e=0,t=uy,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],XV.push(2*(5*r+n)),GV.push((e+1)*(e+2)/2%64);let i=GOe;for(let s=0;s<7;s++)t=(t<<uy^(t>>YOe)*QOe)%ZOe,t&JOe&&(i^=uy<<(uy<<BigInt(s))-uy);JV.push(i)}const[eAe,tAe]=$Oe(JV,!0),dB=(e,t,n)=>n>32?KOe(e,t,n):jOe(e,t,n),fB=(e,t,n)=>n>32?WOe(e,t,n):FOe(e,t,n);function nAe(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],d=n[c+1],h=dB(u,d,1)^n[a],p=fB(u,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[o+m]^=h,e[o+m+1]^=p}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=GV[o],c=dB(i,s,a),u=fB(i,s,a),d=XV[o];i=e[d],s=e[d+1],e[d]=c,e[d+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=eAe[r],e[1]^=tAe[r]}n.fill(0)}class e6 extends VOe{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,yC(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=HOe(this.state)}keccak(){lB||uB(this.state32),nAe(this.state32,this.rounds),lB||uB(this.state32),this.posOut=0,this.pos=0}update(t){aB(this);const{blockLen:n,state:r}=this;t=VV(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){aB(this,!1),O2(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return yC(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(UOe(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new e6(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const rAe=(e,t,n)=>XOe(()=>new e6(t,e,n)),iAe=rAe(1,136,256/8);function YV(e,t){const n=t||"hex",r=iAe(Bv(e,{strict:!1})?DOe(e):e);return n==="bytes"?r:cT(r)}let sAe=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const UA=new sAe(8192);function oAe(e,t){if(UA.has(`${e}.${t}`))return UA.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=YV(qV(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return UA.set(`${e}.${t}`,s),s}function aAe(e){const t=YV(`0x${e.substring(4)}`).substring(26);return oAe(`0x${t}`)}async function cAe({hash:e,signature:t}){const n=Bv(e)?e:cT(e),{secp256k1:r}=await it(async()=>{const{secp256k1:o}=await import("./secp256k1-CzdoiOKL.js");return{secp256k1:o}},__vite__mapDeps([0,1]),import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:h,yParity:p}=t,m=Number(p??h),y=hB(m);return new r.Signature(aT(u),aT(d)).addRecoveryBit(y)}const o=Bv(t)?t:cT(t),a=AOe(`0x${o.slice(130)}`),c=hB(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function hB(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function lAe({hash:e,signature:t}){return aAe(await cAe({hash:e,signature:t}))}function uAe(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const d=e.charAt(u),h=d.charCodeAt(0);if(t[h]!==255)throw new TypeError(d+" is ambiguous");t[h]=u}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,h=0,p=0;const m=u.length;for(;p!==m&&u[p]===0;)p++,d++;const y=(m-p)*s+1>>>0,v=new Uint8Array(y);for(;p!==m;){let _=u[p],O=0;for(let R=y-1;(_!==0||O<h)&&R!==-1;R--,O++)_+=256*v[R]>>>0,v[R]=_%n>>>0,_=_/n>>>0;if(_!==0)throw new Error("Non-zero carry");h=O,p++}let w=y-h;for(;w!==y&&v[w]===0;)w++;let C=r.repeat(d);for(;w<y;++w)C+=e.charAt(v[w]);return C}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,h=0,p=0;for(;u[d]===r;)h++,d++;const m=(u.length-d)*i+1>>>0,y=new Uint8Array(m);for(;d<u.length;){const _=u.charCodeAt(d);if(_>255)return;let O=t[_];if(O===255)return;let R=0;for(let S=m-1;(O!==0||R<p)&&S!==-1;S--,R++)O+=n*y[S]>>>0,y[S]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");p=R,d++}let v=m-p;for(;v!==m&&y[v]===0;)v++;const w=new Uint8Array(h+(m-v));let C=h;for(;v!==m;)w[C++]=y[v++];return w}function c(u){const d=a(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var dAe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ZV=uAe(dAe);function tv(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const n=iz(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Ba(e,t="utf8"){const n=oz[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):n.decoder.decode(`${n.prefix}${e}`)}const fAe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var hAe={};const pAe=":";function U0(e){const[t,n]=e.split(pAe);return{namespace:t,reference:n}}function QV(e,t){return e.includes(":")?[e]:t.chains||[]}var gAe=Object.defineProperty,mAe=Object.defineProperties,yAe=Object.getOwnPropertyDescriptors,pB=Object.getOwnPropertySymbols,vAe=Object.prototype.hasOwnProperty,wAe=Object.prototype.propertyIsEnumerable,gB=(e,t,n)=>t in e?gAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mB=(e,t)=>{for(var n in t||(t={}))vAe.call(t,n)&&gB(e,n,t[n]);if(pB)for(var n of pB(t))wAe.call(t,n)&&gB(e,n,t[n]);return e},bAe=(e,t)=>mAe(e,yAe(t));const EAe="ReactNative",oa={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},_Ae="js";function vC(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function xd(){return!Rh.getDocument()&&!!Rh.getNavigator()&&navigator.product===EAe}function CAe(){return xd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function xAe(){return xd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function iw(){return!vC()&&!!Rh.getNavigator()&&!!Rh.getDocument()}function sw(){return xd()?oa.reactNative:vC()?oa.node:iw()?oa.browser:oa.unknown}function yB(){var e;try{return xd()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function SAe(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const i=t[r];i!==void 0&&n.set(r,i)}return n.toString()}function OAe(e){var t,n;const r=eX();try{return e!=null&&e.url&&r.url&&e.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(i=>i!=="")),bAe(mB(mB({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:(n=e?.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function eX(){return _Oe.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function AAe(){if(sw()===oa.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=gOe();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function TAe(){var e;const t=sw();return t===oa.browser?[t,((e=Rh.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function tX(e,t,n){const r=AAe(),i=TAe();return[[e,t].join("-"),[_Ae,n].join("-"),r,i].join("/")}function RAe({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=n.split("?"),d=tX(e,t,r),h={auth:i,ua:d,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},p=SAe(u[1]||"",h);return u[0]+"?"+p}function ah(e,t){return e.filter(n=>t.includes(n)).length===e.length}function lT(e){return Object.fromEntries(e.entries())}function uT(e){return new Map(Object.entries(e))}function Kf(e=ht.FIVE_MINUTES,t){const n=ht.toMiliseconds(e||ht.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(t);o=Promise.reject(u),c(u)},n),r=a,i=c})}}function id(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{const o=await e;r(o)}catch(o){i(o)}clearTimeout(s)})}function nX(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function NAe(e){return nX("topic",e)}function PAe(e){return nX("id",e)}function rX(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function Hi(e,t){return ht.fromMiliseconds(Date.now()+ht.toMiliseconds(e))}function Yu(e){return Date.now()>=ht.toMiliseconds(e)}function vr(e,t){return`${e}${t?`:${t}`:""}`}function m_(e=[],t=[]){return[...new Set([...e,...t])]}async function IAe({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=DAe(s,e,t),a=sw();if(a===oa.browser){if(!((r=Rh.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}kAe(o)}else a===oa.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function DAe(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${BAe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function kAe(e){let t="_self";UAe()?t="_top":(LAe()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function MAe(e,t){let n="";try{if(iw()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function vB(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function wB(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function t6(){return typeof process<"u"&&hAe.IS_VITEST==="true"}function LAe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function UAe(){try{return window.self!==window.top}catch{return!1}}function BAe(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function iX(e){return Buffer.from(e,"base64").toString("utf-8")}function $Ae(e){return new Promise(t=>setTimeout(t,e))}function $v(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function jAe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ow(e,...t){if(!jAe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function n6(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$v(e.outputLen),$v(e.blockLen)}function J0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function sX(e,t){ow(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Xb=BigInt(2**32-1),bB=BigInt(32);function FAe(e,t=!1){return t?{h:Number(e&Xb),l:Number(e>>bB&Xb)}:{h:Number(e>>bB&Xb)|0,l:Number(e&Xb)|0}}function KAe(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=FAe(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const WAe=(e,t,n)=>e<<n|t>>>32-n,HAe=(e,t,n)=>t<<n|e>>>32-n,zAe=(e,t,n)=>t<<n-32|e>>>64-n,qAe=(e,t,n)=>e<<n-32|t>>>64-n,Xp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function VAe(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function BA(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Mc(e,t){return e<<32-t|e>>>t}const EB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function XAe(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function _B(e){for(let t=0;t<e.length;t++)e[t]=XAe(e[t])}function GAe(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Y0(e){return typeof e=="string"&&(e=GAe(e)),ow(e),e}function JAe(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];ow(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}let r6=class{clone(){return this._cloneInto()}};function oX(e){const t=r=>e().update(Y0(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Mg(e=32){if(Xp&&typeof Xp.getRandomValues=="function")return Xp.getRandomValues(new Uint8Array(e));if(Xp&&typeof Xp.randomBytes=="function")return Xp.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const aX=[],cX=[],lX=[],YAe=BigInt(0),dy=BigInt(1),ZAe=BigInt(2),QAe=BigInt(7),e4e=BigInt(256),t4e=BigInt(113);for(let e=0,t=dy,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],aX.push(2*(5*r+n)),cX.push((e+1)*(e+2)/2%64);let i=YAe;for(let s=0;s<7;s++)t=(t<<dy^(t>>QAe)*t4e)%e4e,t&ZAe&&(i^=dy<<(dy<<BigInt(s))-dy);lX.push(i)}const[n4e,r4e]=KAe(lX,!0),CB=(e,t,n)=>n>32?zAe(e,t,n):WAe(e,t,n),xB=(e,t,n)=>n>32?qAe(e,t,n):HAe(e,t,n);function i4e(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],d=n[c+1],h=CB(u,d,1)^n[a],p=xB(u,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[o+m]^=h,e[o+m+1]^=p}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=cX[o],c=CB(i,s,a),u=xB(i,s,a),d=aX[o];i=e[d],s=e[d+1],e[d]=c,e[d+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=n4e[r],e[1]^=r4e[r]}n.fill(0)}let s4e=class uX extends r6{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$v(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=VAe(this.state)}keccak(){EB||_B(this.state32),i4e(this.state32,this.rounds),EB||_B(this.state32),this.posOut=0,this.pos=0}update(t){J0(this);const{blockLen:n,state:r}=this;t=Y0(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){J0(this,!1),ow(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return $v(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(sX(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new uX(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};const o4e=(e,t,n)=>oX(()=>new s4e(t,e,n)),a4e=o4e(1,136,256/8),c4e="https://rpc.walletconnect.org/v1";function dX(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(a4e(n)).toString("hex")}async function l4e(e,t,n,r,i,s){switch(n.t){case"eip191":return await u4e(e,t,n.s);case"eip1271":return await d4e(e,t,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function u4e(e,t,n){return(await lAe({hash:dX(t),signature:n})).toLowerCase()===e.toLowerCase()}async function d4e(e,t,n,r,i,s){const o=U0(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",d=n.substring(2),h=dX(t).substring(2),p=a+h+c+u+d,m=await fetch(`${s||c4e}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:f4e(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:p},"latest"]})}),{result:y}=await m.json();return y?y.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function f4e(){return Date.now()+Math.floor(Math.random()*1e3)}function h4e(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return ZV.encode(s)}var p4e=Object.defineProperty,g4e=Object.defineProperties,m4e=Object.getOwnPropertyDescriptors,SB=Object.getOwnPropertySymbols,y4e=Object.prototype.hasOwnProperty,v4e=Object.prototype.propertyIsEnumerable,OB=(e,t,n)=>t in e?p4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w4e=(e,t)=>{for(var n in t||(t={}))y4e.call(t,n)&&OB(e,n,t[n]);if(SB)for(var n of SB(t))v4e.call(t,n)&&OB(e,n,t[n]);return e},b4e=(e,t)=>g4e(e,m4e(t));const E4e="did:pkh:",i6=e=>e?.split(":"),_4e=e=>{const t=e&&i6(e);if(t)return e.includes(E4e)?t[3]:t[1]},dT=e=>{const t=e&&i6(e);if(t)return t[2]+":"+t[3]},wC=e=>{const t=e&&i6(e);if(t)return t.pop()};async function AB(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=fX(i,i.iss),o=wC(i.iss);return await l4e(o,s,r,dT(i.iss),n)}const fX=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=wC(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${_4e(t)}`,c=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,p=e.requestId?`Request ID: ${e.requestId}`:void 0,m=e.resources?`Resources:${e.resources.map(v=>`
- ${v}`).join("")}`:void 0,y=y_(e.resources);if(y){const v=jv(y);i=P4e(i,v)}return[n,r,"",i,"",s,o,a,c,u,d,h,p,m].filter(v=>v!=null).join(`
`)};function C4e(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function x4e(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Nh(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function S4e(e,t,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[e]:O4e(t,n,r)}}}function O4e(e,t,n={}){t=t?.sort((i,s)=>i.localeCompare(s));const r=t.map(i=>({[`${e}/${i}`]:[n]}));return Object.assign({},...r)}function hX(e){return Nh(e),`urn:recap:${C4e(e).replace(/=/g,"")}`}function jv(e){const t=x4e(e.replace("urn:recap:",""));return Nh(t),t}function A4e(e,t,n){const r=S4e(e,t,n);return hX(r)}function T4e(e){return e&&e.includes("urn:recap:")}function R4e(e,t){const n=jv(e),r=jv(t),i=N4e(n,r);return hX(i)}function N4e(e,t){Nh(e),Nh(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=e.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;r.att[i]=b4e(w4e({},r.att[i]),{[a]:((c=e.att[i])==null?void 0:c[a])||((u=t.att[i])==null?void 0:u[a])})})}),r}function P4e(e="",t){Nh(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(a=>{const c=Object.keys(t.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));c.sort((h,p)=>h.action.localeCompare(p.action));const u={};c.forEach(h=>{u[h.ability]||(u[h.ability]=[]),u[h.ability].push(h.action)});const d=Object.keys(u).map(h=>(i++,`(${i}) '${h}': '${u[h].join("', '")}' for '${a}'.`));r.push(d.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${e?e+" ":""}${o}`}function TB(e){var t;const n=jv(e);Nh(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function RB(e){const t=jv(e);Nh(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function y_(e){if(!e)return;const t=e?.[e.length-1];return T4e(t)?t:void 0}function $A(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function pX(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ta(e,...t){if(!pX(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function NB(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function I4e(e,t){ta(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function PB(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}const ad=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),D4e=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),k4e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!k4e)throw new Error("Non little-endian hardware is not supported");function M4e(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function fT(e){if(typeof e=="string")e=M4e(e);else if(pX(e))e=hT(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function L4e(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function U4e(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const B4e=(e,t)=>{function n(r,...i){if(ta(r),e.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?ta(u):ta(u,e.nonceLength)}const s=e.tagLength;s&&i[1]!==void 0&&ta(i[1]);const o=t(r,...i),a=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");ta(d)}};let c=!1;return{encrypt(u,d){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ta(u),a(o.encrypt.length,d),o.encrypt(u,d)},decrypt(u,d){if(ta(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,d),o.decrypt(u,d)}}}return Object.assign(n,e),n};function IB(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!$4e(t))throw new Error("invalid output, must be aligned");return t}function DB(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);e.setUint32(t+4,o,r),e.setUint32(t+0,a,r)}function $4e(e){return e.byteOffset%4===0}function hT(e){return Uint8Array.from(e)}function Z0(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const gX=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),j4e=gX("expand 16-byte k"),F4e=gX("expand 32-byte k"),K4e=ad(j4e),W4e=ad(F4e);function ar(e,t){return e<<t|e>>>32-t}function pT(e){return e.byteOffset%4===0}const Gb=64,H4e=16,mX=2**32-1,kB=new Uint32Array;function z4e(e,t,n,r,i,s,o,a){const c=i.length,u=new Uint8Array(Gb),d=ad(u),h=pT(i)&&pT(s),p=h?ad(i):kB,m=h?ad(s):kB;for(let y=0;y<c;o++){if(e(t,n,r,d,o,a),o>=mX)throw new Error("arx: counter overflow");const v=Math.min(Gb,c-y);if(h&&v===Gb){const w=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let C=0,_;C<H4e;C++)_=w+C,m[_]=p[_]^d[C];y+=Gb;continue}for(let w=0,C;w<v;w++)C=y+w,s[C]=i[C]^u[w];y+=v}}function q4e(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=L4e({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return $A(i),$A(o),PB(s),PB(n),(a,c,u,d,h=0)=>{ta(a),ta(c),ta(u);const p=u.length;if(d===void 0&&(d=new Uint8Array(p)),ta(d),$A(h),h<0||h>=mX)throw new Error("arx: counter overflow");if(d.length<p)throw new Error(`arx: output (${d.length}) is shorter than data (${p})`);const m=[];let y=a.length,v,w;if(y===32)m.push(v=hT(a)),w=W4e;else if(y===16&&n)v=new Uint8Array(32),v.set(a),v.set(a,16),w=K4e,m.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);pT(c)||m.push(c=hT(c));const C=ad(v);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,C,ad(c.subarray(0,16)),C),c=c.subarray(16)}const _=16-i;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const R=new Uint8Array(12);R.set(c,s?0:12-c.length),c=R,m.push(c)}const O=ad(c);return z4e(e,w,C,O,u,d,h,o),Z0(...m),d}}const fs=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class V4e{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=fT(t),ta(t,32);const n=fs(t,0),r=fs(t,2),i=fs(t,4),s=fs(t,6),o=fs(t,8),a=fs(t,10),c=fs(t,12),u=fs(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let d=0;d<8;d++)this.pad[d]=fs(t,16+2*d)}process(t,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],d=o[3],h=o[4],p=o[5],m=o[6],y=o[7],v=o[8],w=o[9],C=fs(t,n+0),_=fs(t,n+2),O=fs(t,n+4),R=fs(t,n+6),S=fs(t,n+8),E=fs(t,n+10),x=fs(t,n+12),N=fs(t,n+14);let A=s[0]+(C&8191),D=s[1]+((C>>>13|_<<3)&8191),k=s[2]+((_>>>10|O<<6)&8191),U=s[3]+((O>>>7|R<<9)&8191),H=s[4]+((R>>>4|S<<12)&8191),F=s[5]+(S>>>1&8191),P=s[6]+((S>>>14|E<<2)&8191),I=s[7]+((E>>>11|x<<5)&8191),$=s[8]+((x>>>8|N<<8)&8191),W=s[9]+(N>>>5|i),X=0,j=X+A*a+D*(5*w)+k*(5*v)+U*(5*y)+H*(5*m);X=j>>>13,j&=8191,j+=F*(5*p)+P*(5*h)+I*(5*d)+$*(5*u)+W*(5*c),X+=j>>>13,j&=8191;let G=X+A*c+D*a+k*(5*w)+U*(5*v)+H*(5*y);X=G>>>13,G&=8191,G+=F*(5*m)+P*(5*p)+I*(5*h)+$*(5*d)+W*(5*u),X+=G>>>13,G&=8191;let ae=X+A*u+D*c+k*a+U*(5*w)+H*(5*v);X=ae>>>13,ae&=8191,ae+=F*(5*y)+P*(5*m)+I*(5*p)+$*(5*h)+W*(5*d),X+=ae>>>13,ae&=8191;let ce=X+A*d+D*u+k*c+U*a+H*(5*w);X=ce>>>13,ce&=8191,ce+=F*(5*v)+P*(5*y)+I*(5*m)+$*(5*p)+W*(5*h),X+=ce>>>13,ce&=8191;let oe=X+A*h+D*d+k*u+U*c+H*a;X=oe>>>13,oe&=8191,oe+=F*(5*w)+P*(5*v)+I*(5*y)+$*(5*m)+W*(5*p),X+=oe>>>13,oe&=8191;let Ce=X+A*p+D*h+k*d+U*u+H*c;X=Ce>>>13,Ce&=8191,Ce+=F*a+P*(5*w)+I*(5*v)+$*(5*y)+W*(5*m),X+=Ce>>>13,Ce&=8191;let Ae=X+A*m+D*p+k*h+U*d+H*u;X=Ae>>>13,Ae&=8191,Ae+=F*c+P*a+I*(5*w)+$*(5*v)+W*(5*y),X+=Ae>>>13,Ae&=8191;let ue=X+A*y+D*m+k*p+U*h+H*d;X=ue>>>13,ue&=8191,ue+=F*u+P*c+I*a+$*(5*w)+W*(5*v),X+=ue>>>13,ue&=8191;let Y=X+A*v+D*y+k*m+U*p+H*h;X=Y>>>13,Y&=8191,Y+=F*d+P*u+I*c+$*a+W*(5*w),X+=Y>>>13,Y&=8191;let ee=X+A*w+D*v+k*y+U*m+H*p;X=ee>>>13,ee&=8191,ee+=F*h+P*d+I*u+$*c+W*a,X+=ee>>>13,ee&=8191,X=(X<<2)+X|0,X=X+j|0,j=X&8191,X=X>>>13,G+=X,s[0]=j,s[1]=G,s[2]=ae,s[3]=ce,s[4]=oe,s[5]=Ce,s[6]=Ae,s[7]=ue,s[8]=Y,s[9]=ee}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+n[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+n[a]|0)+(o>>>16)|0,t[a]=o&65535;Z0(r)}update(t){NB(this);const{buffer:n,blockLen:r}=this;t=fT(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Z0(this.h,this.r,this.buffer,this.pad)}digestInto(t){NB(this),I4e(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)t[s++]=r[o]>>>0,t[s++]=r[o]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function X4e(e){const t=(r,i)=>e(i).update(fT(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const G4e=X4e(e=>new V4e(e));function J4e(e,t,n,r,i,s=20){let o=e[0],a=e[1],c=e[2],u=e[3],d=t[0],h=t[1],p=t[2],m=t[3],y=t[4],v=t[5],w=t[6],C=t[7],_=i,O=n[0],R=n[1],S=n[2],E=o,x=a,N=c,A=u,D=d,k=h,U=p,H=m,F=y,P=v,I=w,$=C,W=_,X=O,j=R,G=S;for(let ce=0;ce<s;ce+=2)E=E+D|0,W=ar(W^E,16),F=F+W|0,D=ar(D^F,12),E=E+D|0,W=ar(W^E,8),F=F+W|0,D=ar(D^F,7),x=x+k|0,X=ar(X^x,16),P=P+X|0,k=ar(k^P,12),x=x+k|0,X=ar(X^x,8),P=P+X|0,k=ar(k^P,7),N=N+U|0,j=ar(j^N,16),I=I+j|0,U=ar(U^I,12),N=N+U|0,j=ar(j^N,8),I=I+j|0,U=ar(U^I,7),A=A+H|0,G=ar(G^A,16),$=$+G|0,H=ar(H^$,12),A=A+H|0,G=ar(G^A,8),$=$+G|0,H=ar(H^$,7),E=E+k|0,G=ar(G^E,16),I=I+G|0,k=ar(k^I,12),E=E+k|0,G=ar(G^E,8),I=I+G|0,k=ar(k^I,7),x=x+U|0,W=ar(W^x,16),$=$+W|0,U=ar(U^$,12),x=x+U|0,W=ar(W^x,8),$=$+W|0,U=ar(U^$,7),N=N+H|0,X=ar(X^N,16),F=F+X|0,H=ar(H^F,12),N=N+H|0,X=ar(X^N,8),F=F+X|0,H=ar(H^F,7),A=A+D|0,j=ar(j^A,16),P=P+j|0,D=ar(D^P,12),A=A+D|0,j=ar(j^A,8),P=P+j|0,D=ar(D^P,7);let ae=0;r[ae++]=o+E|0,r[ae++]=a+x|0,r[ae++]=c+N|0,r[ae++]=u+A|0,r[ae++]=d+D|0,r[ae++]=h+k|0,r[ae++]=p+U|0,r[ae++]=m+H|0,r[ae++]=y+F|0,r[ae++]=v+P|0,r[ae++]=w+I|0,r[ae++]=C+$|0,r[ae++]=_+W|0,r[ae++]=O+X|0,r[ae++]=R+j|0,r[ae++]=S+G|0}const Y4e=q4e(J4e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Z4e=new Uint8Array(16),MB=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Z4e.subarray(n))},Q4e=new Uint8Array(32);function LB(e,t,n,r,i){const s=e(t,n,Q4e),o=G4e.create(s);i&&MB(o,i),MB(o,r);const a=new Uint8Array(16),c=D4e(a);DB(c,0,BigInt(i?i.length:0),!0),DB(c,8,BigInt(r.length),!0),o.update(a);const u=o.digest();return Z0(s,a),u}const e3e=e=>(t,n,r)=>({encrypt(i,s){const o=i.length;s=IB(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);e(t,n,a,a,1);const c=LB(e,t,n,a,r);return s.set(c,o),Z0(c),s},decrypt(i,s){s=IB(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=LB(e,t,n,o,r);if(!U4e(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,n,s,s,1),Z0(c),s}}),yX=B4e({blockSize:64,nonceLength:12,tagLength:16},e3e(Y4e));let vX=class extends r6{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,n6(t);const r=Y0(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return J0(this),this.iHash.update(t),this}digestInto(t){J0(this),ow(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const A2=(e,t,n)=>new vX(e,t).update(n).digest();A2.create=(e,t)=>new vX(e,t);function t3e(e,t,n){return n6(e),n===void 0&&(n=new Uint8Array(e.outputLen)),A2(e,Y0(n),Y0(t))}const jA=new Uint8Array([0]),UB=new Uint8Array;function n3e(e,t,n,r=32){if(n6(e),$v(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=UB);const s=new Uint8Array(i*e.outputLen),o=A2.create(e,t),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)jA[0]=u+1,a.update(u===0?UB:c).update(n).update(jA).digestInto(c),s.set(c,e.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),jA.fill(0),s.slice(0,r)}const r3e=(e,t,n,r,i)=>n3e(e,t3e(e,t,n),r,i);function i3e(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function s3e(e,t,n){return e&t^~e&n}function o3e(e,t,n){return e&t^e&n^t&n}let a3e=class extends r6{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=BA(this.buffer)}update(t){J0(this);const{view:n,buffer:r,blockLen:i}=this;t=Y0(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=BA(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){J0(this),sX(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;i3e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=BA(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};const c3e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zu=new Uint32Array(64);class l3e extends a3e{constructor(){super(64,32,8,!1),this.A=Hu[0]|0,this.B=Hu[1]|0,this.C=Hu[2]|0,this.D=Hu[3]|0,this.E=Hu[4]|0,this.F=Hu[5]|0,this.G=Hu[6]|0,this.H=Hu[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let h=0;h<16;h++,n+=4)zu[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const p=zu[h-15],m=zu[h-2],y=Mc(p,7)^Mc(p,18)^p>>>3,v=Mc(m,17)^Mc(m,19)^m>>>10;zu[h]=v+zu[h-7]+y+zu[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const p=Mc(a,6)^Mc(a,11)^Mc(a,25),m=d+p+s3e(a,c,u)+c3e[h]+zu[h]|0,y=(Mc(r,2)^Mc(r,13)^Mc(r,22))+o3e(r,i,s)|0;d=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,u,d)}roundClean(){zu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const aw=oX(()=>new l3e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T2=BigInt(0),R2=BigInt(1),u3e=BigInt(2);function Ph(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function cw(e){if(!Ph(e))throw new Error("Uint8Array expected")}function Q0(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const d3e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eg(e){cw(e);let t="";for(let n=0;n<e.length;n++)t+=d3e[e[n]];return t}function A0(e){const t=e.toString(16);return t.length&1?"0"+t:t}function s6(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?T2:BigInt("0x"+e)}const Dl={_0:48,_9:57,A:65,F:70,a:97,f:102};function BB(e){if(e>=Dl._0&&e<=Dl._9)return e-Dl._0;if(e>=Dl.A&&e<=Dl.F)return e-(Dl.A-10);if(e>=Dl.a&&e<=Dl.f)return e-(Dl.a-10)}function tg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=BB(e.charCodeAt(s)),a=BB(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function yh(e){return s6(eg(e))}function Fv(e){return cw(e),s6(eg(Uint8Array.from(e).reverse()))}function ng(e,t){return tg(e.toString(16).padStart(t*2,"0"))}function N2(e,t){return ng(e,t).reverse()}function f3e(e){return tg(A0(e))}function Zo(e,t,n){let r;if(typeof t=="string")try{r=tg(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Ph(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Kv(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];cw(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function h3e(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function p3e(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const FA=e=>typeof e=="bigint"&&T2<=e;function P2(e,t,n){return FA(e)&&FA(t)&&FA(n)&&t<=e&&e<n}function Gl(e,t,n,r){if(!P2(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function wX(e){let t;for(t=0;e>T2;e>>=R2,t+=1);return t}function g3e(e,t){return e>>BigInt(t)&R2}function m3e(e,t,n){return e|(n?R2:T2)<<BigInt(t)}const o6=e=>(u3e<<BigInt(e-1))-R2,KA=e=>new Uint8Array(e),$B=e=>Uint8Array.from(e);function bX(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=KA(e),i=KA(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=KA())=>{i=a($B([0]),d),r=a(),d.length!==0&&(i=a($B([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){r=a();const p=r.slice();h.push(p),d+=r.length}return Kv(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(u()));)c();return o(),p}}const y3e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ph(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Lg(e,t,n={}){const r=(i,s,o)=>{const a=y3e[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const v3e=()=>{throw new Error("not implemented")};function gT(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}var w3e=Object.freeze({__proto__:null,isBytes:Ph,abytes:cw,abool:Q0,bytesToHex:eg,numberToHexUnpadded:A0,hexToNumber:s6,hexToBytes:tg,bytesToNumberBE:yh,bytesToNumberLE:Fv,numberToBytesBE:ng,numberToBytesLE:N2,numberToVarBytesBE:f3e,ensureBytes:Zo,concatBytes:Kv,equalBytes:h3e,utf8ToBytes:p3e,inRange:P2,aInRange:Gl,bitLen:wX,bitGet:g3e,bitSet:m3e,bitMask:o6,createHmacDrbg:bX,validateObject:Lg,notImplemented:v3e,memoized:gT});const as=BigInt(0),Oi=BigInt(1),Jf=BigInt(2),b3e=BigInt(3),mT=BigInt(4),jB=BigInt(5),FB=BigInt(8);function So(e,t){const n=e%t;return n>=as?n:t+n}function EX(e,t,n){if(t<as)throw new Error("invalid exponent, negatives unsupported");if(n<=as)throw new Error("invalid modulus");if(n===Oi)return as;let r=Oi;for(;t>as;)t&Oi&&(r=r*e%n),e=e*e%n,t>>=Oi;return r}function sc(e,t,n){let r=e;for(;t-- >as;)r*=r,r%=n;return r}function yT(e,t){if(e===as)throw new Error("invert: expected non-zero number");if(t<=as)throw new Error("invert: expected positive modulus, got "+t);let n=So(e,t),r=t,i=as,s=Oi;for(;n!==as;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Oi)throw new Error("invert: does not exist");return So(i,t)}function E3e(e){const t=(e-Oi)/Jf;let n,r,i;for(n=e-Oi,r=0;n%Jf===as;n/=Jf,r++);for(i=Jf;i<e&&EX(i,t,e)!==e-Oi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+Oi)/mT;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+Oi)/Jf;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),d=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let p=1;for(let y=o.sqr(h);p<c&&!o.eql(y,o.ONE);p++)y=o.sqr(y);const m=o.pow(u,Oi<<BigInt(c-p-1));u=o.sqr(m),d=o.mul(d,m),h=o.mul(h,u),c=p}return d}}function _3e(e){if(e%mT===b3e){const t=(e+Oi)/mT;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%FB===jB){const t=(e-jB)/FB;return function(n,r){const i=n.mul(r,Jf),s=n.pow(i,t),o=n.mul(r,s),a=n.mul(n.mul(o,Jf),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return E3e(e)}const C3e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function x3e(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=C3e.reduce((r,i)=>(r[i]="function",r),t);return Lg(e,n)}function S3e(e,t,n){if(n<as)throw new Error("invalid exponent, negatives unsupported");if(n===as)return e.ONE;if(n===Oi)return t;let r=e.ONE,i=t;for(;n>as;)n&Oi&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Oi;return r}function O3e(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function _X(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function CX(e,t,n=!1,r={}){if(e<=as)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=_X(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:o6(i),ZERO:as,ONE:Oi,create:c=>So(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return as<=c&&c<e},is0:c=>c===as,isOdd:c=>(c&Oi)===Oi,neg:c=>So(-c,e),eql:(c,u)=>c===u,sqr:c=>So(c*c,e),add:(c,u)=>So(c+u,e),sub:(c,u)=>So(c-u,e),mul:(c,u)=>So(c*u,e),pow:(c,u)=>S3e(a,c,u),div:(c,u)=>So(c*yT(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>yT(c,e),sqrt:r.sqrt||(c=>(o||(o=_3e(e)),o(a,c))),invertBatch:c=>O3e(a,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?N2(c,s):ng(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Fv(c):yh(c)}});return Object.freeze(a)}function xX(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function SX(e){const t=xX(e);return t+Math.ceil(t/2)}function A3e(e,t,n=!1){const r=e.length,i=xX(t),s=SX(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Fv(e):yh(e),a=So(o,t-Oi)+Oi;return n?N2(a,i):ng(a,i)}const KB=BigInt(0),Jb=BigInt(1);function WA(e,t){const n=t.negate();return e?n:t}function OX(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function HA(e,t){OX(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function T3e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function R3e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const zA=new WeakMap,AX=new WeakMap;function qA(e){return AX.get(e)||1}function N3e(e,t){return{constTimeNegate:WA,hasPrecomputes(n){return qA(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>KB;)r&Jb&&(i=i.add(s)),s=s.double(),r>>=Jb;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=HA(r,t),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=HA(n,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let y=Number(i&u);i>>=h,y>o&&(y-=d,i+=Jb);const v=m,w=m+Math.abs(y)-1,C=p%2!==0,_=y<0;y===0?c=c.add(WA(C,r[v])):a=a.add(WA(_,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=e.ZERO){const{windows:o,windowSize:a}=HA(n,t),c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<o;h++){const p=h*a;if(i===KB)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=u,i+=Jb),m===0)continue;let y=r[p+Math.abs(m)-1];m<0&&(y=y.negate()),s=s.add(y)}return s},getPrecomputes(n,r,i){let s=zA.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&zA.set(r,i(s))),s},wNAFCached(n,r,i){const s=qA(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=qA(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){OX(r,t),AX.set(n,r),zA.delete(n)}}}function P3e(e,t,n,r){if(T3e(n,e),R3e(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=wX(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let d=i;for(let h=u;h>=0;h-=o){c.fill(i);for(let m=0;m<r.length;m++){const y=r[m],v=Number(y>>BigInt(h)&BigInt(a));c[v]=c[v].add(n[m])}let p=i;for(let m=c.length-1,y=i;m>0;m--)y=y.add(c[m]),p=p.add(y);if(d=d.add(p),h!==0)for(let m=0;m<o;m++)d=d.double()}return d}function TX(e){return x3e(e.Fp),Lg(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._X(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Gp=BigInt(0),VA=BigInt(1);function I3e(e){return Lg(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function D3e(e){const t=I3e(e),{P:n}=t,r=_=>So(_,n),i=t.montgomeryBits,s=Math.ceil(i/8),o=t.nByteLength,a=t.adjustScalarBytes||(_=>_),c=t.powPminus2||(_=>EX(_,n-BigInt(2),n));function u(_,O,R){const S=r(_*(O-R));return O=r(O-S),R=r(R+S),[O,R]}const d=(t.a-BigInt(2))/BigInt(4);function h(_,O){Gl("u",_,Gp,n),Gl("scalar",O,Gp,n);const R=O,S=_;let E=VA,x=Gp,N=_,A=VA,D=Gp,k;for(let H=BigInt(i-1);H>=Gp;H--){const F=R>>H&VA;D^=F,k=u(D,E,N),E=k[0],N=k[1],k=u(D,x,A),x=k[0],A=k[1],D=F;const P=E+x,I=r(P*P),$=E-x,W=r($*$),X=I-W,j=N+A,G=N-A,ae=r(G*P),ce=r(j*$),oe=ae+ce,Ce=ae-ce;N=r(oe*oe),A=r(S*r(Ce*Ce)),E=r(I*W),x=r(X*(I+r(d*X)))}k=u(D,E,N),E=k[0],N=k[1],k=u(D,x,A),x=k[0],A=k[1];const U=c(x);return r(E*U)}function p(_){return N2(r(_),s)}function m(_){const O=Zo("u coordinate",_,s);return o===32&&(O[31]&=127),Fv(O)}function y(_){const O=Zo("scalar",_),R=O.length;if(R!==s&&R!==o){let S=""+s+" or "+o;throw new Error("invalid scalar, expected "+S+" bytes, got "+R)}return Fv(a(O))}function v(_,O){const R=m(O),S=y(_),E=h(R,S);if(E===Gp)throw new Error("invalid private or public key received");return p(E)}const w=p(t.Gu);function C(_){return v(_,w)}return{scalarMult:v,scalarMultBase:C,getSharedSecret:(_,O)=>v(_,O),getPublicKey:_=>C(_),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:w}}const vT=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const k3e=BigInt(1),WB=BigInt(2),M3e=BigInt(3),L3e=BigInt(5);BigInt(8);function U3e(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=vT,o=e*e%s*e%s,a=sc(o,WB,s)*o%s,c=sc(a,k3e,s)*e%s,u=sc(c,L3e,s)*c%s,d=sc(u,t,s)*u%s,h=sc(d,n,s)*d%s,p=sc(h,r,s)*h%s,m=sc(p,i,s)*p%s,y=sc(m,i,s)*p%s,v=sc(y,t,s)*u%s;return{pow_p_5_8:sc(v,WB,s)*e%s,b2:o}}function B3e(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const wT=D3e({P:vT,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=vT,{pow_p_5_8:n,b2:r}=U3e(e);return So(sc(n,M3e,t)*r,t)},adjustScalarBytes:B3e,randomBytes:Mg});function HB(e){e.lowS!==void 0&&Q0("lowS",e.lowS),e.prehash!==void 0&&Q0("prehash",e.prehash)}function $3e(e){const t=TX(e);Lg(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:j3e,hexToBytes:F3e}=w3e;class K3e extends Error{constructor(t=""){super(t)}}const Fl={Err:K3e,_tlv:{encode:(e,t)=>{const{Err:n}=Fl;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=A0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?A0(i.length/2|128):"";return A0(e)+s+i+t},decode(e,t){const{Err:n}=Fl;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Fl;if(e<Kl)throw new t("integer: negative integers are not allowed");let n=A0(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Fl;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return j3e(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Fl,i=typeof e=="string"?F3e(e):e;cw(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Fl,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}},Kl=BigInt(0),rs=BigInt(1);BigInt(2);const zB=BigInt(3);BigInt(4);function W3e(e){const t=$3e(e),{Fp:n}=t,r=CX(t.n,t.nBitLength),i=t.toBytes||((v,w,C)=>{const _=w.toAffine();return Kv(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=t.fromBytes||(v=>{const w=v.subarray(1),C=n.fromBytes(w.subarray(0,n.BYTES)),_=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:C,y:_}});function o(v){const{a:w,b:C}=t,_=n.sqr(v),O=n.mul(_,v);return n.add(n.add(O,n.mul(v,w)),C)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(v){return P2(v,rs,t.n)}function c(v){const{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:_,n:O}=t;if(w&&typeof v!="bigint"){if(Ph(v)&&(v=eg(v)),typeof v!="string"||!w.includes(v.length))throw new Error("invalid private key");v=v.padStart(C*2,"0")}let R;try{R=typeof v=="bigint"?v:yh(Zo("private key",v,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof v)}return _&&(R=So(R,O)),Gl("private key",R,rs,O),R}function u(v){if(!(v instanceof p))throw new Error("ProjectivePoint expected")}const d=gT((v,w)=>{const{px:C,py:_,pz:O}=v;if(n.eql(O,n.ONE))return{x:C,y:_};const R=v.is0();w==null&&(w=R?n.ONE:n.inv(O));const S=n.mul(C,w),E=n.mul(_,w),x=n.mul(O,w);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(x,n.ONE))throw new Error("invZ was invalid");return{x:S,y:E}}),h=gT(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:w,y:C}=v.toAffine();if(!n.isValid(w)||!n.isValid(C))throw new Error("bad point: x or y not FE");const _=n.sqr(C),O=o(w);if(!n.eql(_,O))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(w,C,_){if(this.px=w,this.py=C,this.pz=_,w==null||!n.isValid(w))throw new Error("x required");if(C==null||!n.isValid(C))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:C,y:_}=w||{};if(!w||!n.isValid(C)||!n.isValid(_))throw new Error("invalid affine point");if(w instanceof p)throw new Error("projective point not allowed");const O=R=>n.eql(R,n.ZERO);return O(C)&&O(_)?p.ZERO:new p(C,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const C=n.invertBatch(w.map(_=>_.pz));return w.map((_,O)=>_.toAffine(C[O])).map(p.fromAffine)}static fromHex(w){const C=p.fromAffine(s(Zo("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return p.BASE.multiply(c(w))}static msm(w,C){return P3e(p,r,w,C)}_setWindowSize(w){y.setWindowSize(this,w)}assertValidity(){h(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){u(w);const{px:C,py:_,pz:O}=this,{px:R,py:S,pz:E}=w,x=n.eql(n.mul(C,E),n.mul(R,O)),N=n.eql(n.mul(_,E),n.mul(S,O));return x&&N}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:C}=t,_=n.mul(C,zB),{px:O,py:R,pz:S}=this;let E=n.ZERO,x=n.ZERO,N=n.ZERO,A=n.mul(O,O),D=n.mul(R,R),k=n.mul(S,S),U=n.mul(O,R);return U=n.add(U,U),N=n.mul(O,S),N=n.add(N,N),E=n.mul(w,N),x=n.mul(_,k),x=n.add(E,x),E=n.sub(D,x),x=n.add(D,x),x=n.mul(E,x),E=n.mul(U,E),N=n.mul(_,N),k=n.mul(w,k),U=n.sub(A,k),U=n.mul(w,U),U=n.add(U,N),N=n.add(A,A),A=n.add(N,A),A=n.add(A,k),A=n.mul(A,U),x=n.add(x,A),k=n.mul(R,S),k=n.add(k,k),A=n.mul(k,U),E=n.sub(E,A),N=n.mul(k,D),N=n.add(N,N),N=n.add(N,N),new p(E,x,N)}add(w){u(w);const{px:C,py:_,pz:O}=this,{px:R,py:S,pz:E}=w;let x=n.ZERO,N=n.ZERO,A=n.ZERO;const D=t.a,k=n.mul(t.b,zB);let U=n.mul(C,R),H=n.mul(_,S),F=n.mul(O,E),P=n.add(C,_),I=n.add(R,S);P=n.mul(P,I),I=n.add(U,H),P=n.sub(P,I),I=n.add(C,O);let $=n.add(R,E);return I=n.mul(I,$),$=n.add(U,F),I=n.sub(I,$),$=n.add(_,O),x=n.add(S,E),$=n.mul($,x),x=n.add(H,F),$=n.sub($,x),A=n.mul(D,I),x=n.mul(k,F),A=n.add(x,A),x=n.sub(H,A),A=n.add(H,A),N=n.mul(x,A),H=n.add(U,U),H=n.add(H,U),F=n.mul(D,F),I=n.mul(k,I),H=n.add(H,F),F=n.sub(U,F),F=n.mul(D,F),I=n.add(I,F),U=n.mul(H,I),N=n.add(N,U),U=n.mul($,I),x=n.mul(P,x),x=n.sub(x,U),U=n.mul(P,H),A=n.mul($,A),A=n.add(A,U),new p(x,N,A)}subtract(w){return this.add(w.negate())}is0(){return this.equals(p.ZERO)}wNAF(w){return y.wNAFCached(this,w,p.normalizeZ)}multiplyUnsafe(w){const{endo:C,n:_}=t;Gl("scalar",w,Kl,_);const O=p.ZERO;if(w===Kl)return O;if(this.is0()||w===rs)return this;if(!C||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,w,p.normalizeZ);let{k1neg:R,k1:S,k2neg:E,k2:x}=C.splitScalar(w),N=O,A=O,D=this;for(;S>Kl||x>Kl;)S&rs&&(N=N.add(D)),x&rs&&(A=A.add(D)),D=D.double(),S>>=rs,x>>=rs;return R&&(N=N.negate()),E&&(A=A.negate()),A=new p(n.mul(A.px,C.beta),A.py,A.pz),N.add(A)}multiply(w){const{endo:C,n:_}=t;Gl("scalar",w,rs,_);let O,R;if(C){const{k1neg:S,k1:E,k2neg:x,k2:N}=C.splitScalar(w);let{p:A,f:D}=this.wNAF(E),{p:k,f:U}=this.wNAF(N);A=y.constTimeNegate(S,A),k=y.constTimeNegate(x,k),k=new p(n.mul(k.px,C.beta),k.py,k.pz),O=A.add(k),R=D.add(U)}else{const{p:S,f:E}=this.wNAF(w);O=S,R=E}return p.normalizeZ([O,R])[0]}multiplyAndAddUnsafe(w,C,_){const O=p.BASE,R=(E,x)=>x===Kl||x===rs||!E.equals(O)?E.multiplyUnsafe(x):E.multiply(x),S=R(this,C).add(R(w,_));return S.is0()?void 0:S}toAffine(w){return d(this,w)}isTorsionFree(){const{h:w,isTorsionFree:C}=t;if(w===rs)return!0;if(C)return C(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:C}=t;return w===rs?this:C?C(p,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return Q0("isCompressed",w),this.assertValidity(),i(p,this,w)}toHex(w=!0){return Q0("isCompressed",w),eg(this.toRawBytes(w))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,y=N3e(p,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function H3e(e){const t=TX(e);return Lg(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function z3e(e){const t=H3e(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(F){return So(F,r)}function a(F){return yT(F,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=W3e({...t,toBytes(F,P,I){const $=P.toAffine(),W=n.toBytes($.x),X=Kv;return Q0("isCompressed",I),I?X(Uint8Array.from([P.hasEvenY()?2:3]),W):X(Uint8Array.from([4]),W,n.toBytes($.y))},fromBytes(F){const P=F.length,I=F[0],$=F.subarray(1);if(P===i&&(I===2||I===3)){const W=yh($);if(!P2(W,rs,n.ORDER))throw new Error("Point is not on curve");const X=d(W);let j;try{j=n.sqrt(X)}catch(ae){const ce=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+ce)}const G=(j&rs)===rs;return(I&1)===1!==G&&(j=n.neg(j)),{x:W,y:j}}else if(P===s&&I===4){const W=n.fromBytes($.subarray(0,n.BYTES)),X=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:W,y:X}}else{const W=i,X=s;throw new Error("invalid Point, expected length of "+W+", or uncompressed "+X+", got "+P)}}}),p=F=>eg(ng(F,t.nByteLength));function m(F){const P=r>>rs;return F>P}function y(F){return m(F)?o(-F):F}const v=(F,P,I)=>yh(F.slice(P,I));class w{constructor(P,I,$){this.r=P,this.s=I,this.recovery=$,this.assertValidity()}static fromCompact(P){const I=t.nByteLength;return P=Zo("compactSignature",P,I*2),new w(v(P,0,I),v(P,I,2*I))}static fromDER(P){const{r:I,s:$}=Fl.toSig(Zo("DER",P));return new w(I,$)}assertValidity(){Gl("r",this.r,rs,r),Gl("s",this.s,rs,r)}addRecoveryBit(P){return new w(this.r,this.s,P)}recoverPublicKey(P){const{r:I,s:$,recovery:W}=this,X=E(Zo("msgHash",P));if(W==null||![0,1,2,3].includes(W))throw new Error("recovery id invalid");const j=W===2||W===3?I+t.n:I;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(W&1)===0?"02":"03",ae=c.fromHex(G+p(j)),ce=a(j),oe=o(-X*ce),Ce=o($*ce),Ae=c.BASE.multiplyAndAddUnsafe(ae,oe,Ce);if(!Ae)throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return tg(this.toDERHex())}toDERHex(){return Fl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return tg(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const C={isValidPrivateKey(F){try{return u(F),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const F=SX(t.n);return A3e(t.randomBytes(F),t.n)},precompute(F=8,P=c.BASE){return P._setWindowSize(F),P.multiply(BigInt(3)),P}};function _(F,P=!0){return c.fromPrivateKey(F).toRawBytes(P)}function O(F){const P=Ph(F),I=typeof F=="string",$=(P||I)&&F.length;return P?$===i||$===s:I?$===2*i||$===2*s:F instanceof c}function R(F,P,I=!0){if(O(F))throw new Error("first arg must be private key");if(!O(P))throw new Error("second arg must be public key");return c.fromHex(P).multiply(u(F)).toRawBytes(I)}const S=t.bits2int||function(F){if(F.length>8192)throw new Error("input is too large");const P=yh(F),I=F.length*8-t.nBitLength;return I>0?P>>BigInt(I):P},E=t.bits2int_modN||function(F){return o(S(F))},x=o6(t.nBitLength);function N(F){return Gl("num < 2^"+t.nBitLength,F,Kl,x),ng(F,t.nByteLength)}function A(F,P,I=D){if(["recovered","canonical"].some(Y=>Y in I))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:W}=t;let{lowS:X,prehash:j,extraEntropy:G}=I;X==null&&(X=!0),F=Zo("msgHash",F),HB(I),j&&(F=Zo("prehashed msgHash",$(F)));const ae=E(F),ce=u(P),oe=[N(ce),N(ae)];if(G!=null&&G!==!1){const Y=G===!0?W(n.BYTES):G;oe.push(Zo("extraEntropy",Y))}const Ce=Kv(...oe),Ae=ae;function ue(Y){const ee=S(Y);if(!h(ee))return;const B=a(ee),te=c.BASE.multiply(ee).toAffine(),we=o(te.x);if(we===Kl)return;const Ne=o(B*o(Ae+we*ce));if(Ne===Kl)return;let Fe=(te.x===we?0:2)|Number(te.y&rs),Ve=Ne;return X&&m(Ne)&&(Ve=y(Ne),Fe^=1),new w(we,Ve,Fe)}return{seed:Ce,k2sig:ue}}const D={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function U(F,P,I=D){const{seed:$,k2sig:W}=A(F,P,I),X=t;return bX(X.hash.outputLen,X.nByteLength,X.hmac)($,W)}c.BASE._setWindowSize(8);function H(F,P,I,$=k){const W=F;P=Zo("msgHash",P),I=Zo("publicKey",I);const{lowS:X,prehash:j,format:G}=$;if(HB($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const ae=typeof W=="string"||Ph(W),ce=!ae&&!G&&typeof W=="object"&&W!==null&&typeof W.r=="bigint"&&typeof W.s=="bigint";if(!ae&&!ce)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let oe,Ce;try{if(ce&&(oe=new w(W.r,W.s)),ae){try{G!=="compact"&&(oe=w.fromDER(W))}catch(Ne){if(!(Ne instanceof Fl.Err))throw Ne}!oe&&G!=="der"&&(oe=w.fromCompact(W))}Ce=c.fromHex(I)}catch{return!1}if(!oe||X&&oe.hasHighS())return!1;j&&(P=t.hash(P));const{r:Ae,s:ue}=oe,Y=E(P),ee=a(ue),B=o(Y*ee),te=o(Ae*ee),we=c.BASE.multiplyAndAddUnsafe(Ce,B,te)?.toAffine();return we?o(we.x)===Ae:!1}return{CURVE:t,getPublicKey:_,getSharedSecret:R,sign:U,verify:H,ProjectivePoint:c,Signature:w,utils:C}}function q3e(e){return{hash:e,hmac:(t,...n)=>A2(e,t,JAe(...n)),randomBytes:Mg}}function V3e(e,t){const n=r=>z3e({...e,...q3e(r)});return{...n(t),create:n}}const RX=CX(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),X3e=RX.create(BigInt("-3")),G3e=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),J3e=V3e({a:X3e,b:G3e,Fp:RX,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},aw),NX="base10",lo="base16",uc="base64pad",ed="base64url",lw="utf8",PX=0,Jl=1,uw=2,Y3e=0,qB=1,nv=12,a6=32;function Z3e(){const e=wT.utils.randomPrivateKey(),t=wT.getPublicKey(e);return{privateKey:co(e,lo),publicKey:co(t,lo)}}function bT(){const e=Mg(a6);return co(e,lo)}function Q3e(e,t){const n=wT.getSharedSecret(Ba(e,lo),Ba(t,lo)),r=r3e(aw,n,void 0,void 0,a6);return co(r,lo)}function v_(e){const t=aw(Ba(e,lo));return co(t,lo)}function Fc(e){const t=aw(Ba(e,lw));return co(t,lo)}function IX(e){return Ba(`${e}`,NX)}function Ih(e){return Number(co(e,NX))}function DX(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function kX(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function eTe(e){const t=IX(typeof e.type<"u"?e.type:PX);if(Ih(t)===Jl&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Ba(e.senderPublicKey,lo):void 0,r=typeof e.iv<"u"?Ba(e.iv,lo):Mg(nv),i=Ba(e.symKey,lo),s=yX(i,r).encrypt(Ba(e.message,lw)),o=MX({type:t,sealed:s,iv:r,senderPublicKey:n});return e.encoding===ed?DX(o):o}function tTe(e){const t=Ba(e.symKey,lo),{sealed:n,iv:r}=Wv({encoded:e.encoded,encoding:e.encoding}),i=yX(t,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return co(i,lw)}function nTe(e,t){const n=IX(uw),r=Mg(nv),i=Ba(e,lw),s=MX({type:n,sealed:i,iv:r});return t===ed?DX(s):s}function rTe(e,t){const{sealed:n}=Wv({encoded:e,encoding:t});return co(n,lw)}function MX(e){if(Ih(e.type)===uw)return co(tv([e.type,e.sealed]),uc);if(Ih(e.type)===Jl){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return co(tv([e.type,e.senderPublicKey,e.iv,e.sealed]),uc)}return co(tv([e.type,e.iv,e.sealed]),uc)}function Wv(e){const t=(e.encoding||uc)===ed?kX(e.encoded):e.encoded,n=Ba(t,uc),r=n.slice(Y3e,qB),i=qB;if(Ih(r)===Jl){const c=i+a6,u=c+nv,d=n.slice(i,c),h=n.slice(c,u),p=n.slice(u);return{type:r,sealed:p,iv:h,senderPublicKey:d}}if(Ih(r)===uw){const c=n.slice(i),u=Mg(nv);return{type:r,sealed:c,iv:u}}const s=i+nv,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function iTe(e,t){const n=Wv({encoded:e,encoding:t?.encoding});return LX({type:Ih(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?co(n.senderPublicKey,lo):void 0,receiverPublicKey:t?.receiverPublicKey})}function LX(e){const t=e?.type||PX;if(t===Jl){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function VB(e){return e.type===Jl&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function XB(e){return e.type===uw}function sTe(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return tv([new Uint8Array([4]),t,n])}function oTe(e,t){const[n,r,i]=e.split("."),s=Buffer.from(kX(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,u=aw(c),d=sTe(t);if(!J3e.verify(tv([o,a]),u,d))throw new Error("Invalid signature");return sT(e).payload}const aTe="irn";function bC(e){return e?.relay||{protocol:aTe}}function ky(e){const t=fAe[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function cTe(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=e[i];n[s]=o}}),n}function GB(e){if(!e.includes("wc:")){const u=iX(e);u!=null&&u.includes("wc:")&&(e=u)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((u,d)=>{a[d]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:lTe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:cTe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function lTe(e){return e.startsWith("//")?e.substring(2):e}function uTe(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(i=>{const s=i,o=n+t+s;e[s]&&(r[o]=e[s])}),r}function JB(e){const t=new URLSearchParams,n=uTe(e.relay);Object.keys(n).sort().forEach(i=>{t.set(i,n[i])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function Yb(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}function Ug(e){const t=[];return e.forEach(n=>{const[r,i]=n.split(":");t.push(`${r}:${i}`)}),t}function dTe(e){const t=[];return Object.values(e).forEach(n=>{t.push(...Ug(n.accounts))}),t}function fTe(e,t){const n=[];return Object.values(e).forEach(r=>{Ug(r.accounts).includes(t)&&n.push(...r.methods)}),n}function hTe(e,t){const n=[];return Object.values(e).forEach(r=>{Ug(r.accounts).includes(t)&&n.push(...r.events)}),n}function c6(e){return e.includes(":")}function My(e){return c6(e)?e.split(":")[0]:e}function pTe(e){const t={};return e?.forEach(n=>{var r;const[i,s]=n.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[],methods:[]}),t[i].accounts.push(n),(r=t[i].chains)==null||r.push(`${i}:${s}`)}),t}function YB(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=pTe(t);for(const[r,i]of Object.entries(n))i.methods?i.methods=m_(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}const gTe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},mTe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function mt(e,t){const{message:n,code:r}=mTe[e];return{message:t?`${n} ${t}`:n,code:r}}function Pr(e,t){const{message:n,code:r}=gTe[e];return{message:t?`${n} ${t}`:n,code:r}}function cd(e,t){return!!Array.isArray(e)}function Hv(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ws(e){return typeof e>"u"}function Mi(e,t){return t&&ws(e)?!0:typeof e=="string"&&!!e.trim().length}function l6(e,t){return t&&ws(e)?!0:typeof e=="number"&&!isNaN(e)}function yTe(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return ah(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:u}=e.namespaces[o],d=Ug(a),h=n[o];(!ah(QV(o,h),d)||!ah(h.methods,c)||!ah(h.events,u))&&(s=!1)}),s):!1}function EC(e){return Mi(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function vTe(e){if(Mi(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&EC(n)}}return!1}function wTe(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Mi(e,!1)){if(t(e))return!0;const n=iX(e);return t(n)}}catch{}return!1}function bTe(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function ETe(e){return e?.topic}function _Te(e,t){let n=null;return Mi(e?.publicKey,!1)||(n=mt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function ZB(e){let t=!0;return cd(e)?e.length&&(t=e.every(n=>Mi(n,!1))):t=!1,t}function CTe(e,t,n){let r=null;return cd(t)&&t.length?t.forEach(i=>{r||EC(i)||(r=Pr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):EC(e)||(r=Pr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function xTe(e,t,n){let r=null;return Object.entries(e).forEach(([i,s])=>{if(r)return;const o=CTe(i,QV(i,s),`${t} ${n}`);o&&(r=o)}),r}function STe(e,t){let n=null;return cd(e)?e.forEach(r=>{n||vTe(r)||(n=Pr("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Pr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function OTe(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=STe(r?.accounts,`${t} namespace`);i&&(n=i)}),n}function ATe(e,t){let n=null;return ZB(e?.methods)?ZB(e?.events)||(n=Pr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Pr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function UX(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=ATe(r,`${t}, namespace`);i&&(n=i)}),n}function TTe(e,t,n){let r=null;if(e&&Hv(e)){const i=UX(e,t);i&&(r=i);const s=xTe(e,t,n);s&&(r=s)}else r=mt("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function XA(e,t){let n=null;if(e&&Hv(e)){const r=UX(e,t);r&&(n=r);const i=OTe(e,t);i&&(n=i)}else n=mt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function BX(e){return Mi(e.protocol,!0)}function RTe(e,t){let n=!1;return e?e&&cd(e)&&e.length&&e.forEach(r=>{n=BX(r)}):n=!0,n}function NTe(e){return typeof e=="number"}function _o(e){return typeof e<"u"&&typeof e!==null}function PTe(e){return!(!e||typeof e!="object"||!e.code||!l6(e.code,!1)||!e.message||!Mi(e.message,!1))}function ITe(e){return!(ws(e)||!Mi(e.method,!1))}function DTe(e){return!(ws(e)||ws(e.result)&&ws(e.error)||!l6(e.id,!1)||!Mi(e.jsonrpc,!1))}function kTe(e){return!(ws(e)||!Mi(e.name,!1))}function QB(e,t){return!(!EC(t)||!dTe(e).includes(t))}function MTe(e,t,n){return Mi(n,!1)?fTe(e,t).includes(n):!1}function LTe(e,t,n){return Mi(n,!1)?hTe(e,t).includes(n):!1}function e$(e,t,n){let r=null;const i=UTe(e),s=BTe(t),o=Object.keys(i),a=Object.keys(s),c=t$(Object.keys(e)),u=t$(Object.keys(t)),d=c.filter(h=>!u.includes(h));return d.length&&(r=mt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(t).toString()}`)),ah(o,a)||(r=mt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(h=>{if(!h.includes(":")||r)return;const p=Ug(t[h].accounts);p.includes(h)||(r=mt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${p.toString()}`))}),o.forEach(h=>{r||(ah(i[h].methods,s[h].methods)?ah(i[h].events,s[h].events)||(r=mt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=mt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function UTe(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(i=>{t[i]={methods:e[n].methods,events:e[n].events}})}),t}function t$(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function BTe(e){const t={};return Object.keys(e).forEach(n=>{n.includes(":")?t[n]=e[n]:Ug(e[n].accounts)?.forEach(i=>{t[i]={accounts:e[n].accounts.filter(s=>s.includes(`${i}:`)),methods:e[n].methods,events:e[n].events}})}),t}function $Te(e,t){return l6(e,!1)&&e<=t.max&&e>=t.min}function n$(){const e=sw();return new Promise(t=>{switch(e){case oa.browser:t(jTe());break;case oa.reactNative:t(FTe());break;case oa.node:t(KTe());break;default:t(!0)}})}function jTe(){return iw()&&navigator?.onLine}async function FTe(){return xd()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function KTe(){return!0}function WTe(e){switch(sw()){case oa.browser:HTe(e);break;case oa.reactNative:zTe(e);break}}function HTe(e){!xd()&&iw()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function zTe(e){xd()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}const GA={};class fy{static get(t){return GA[t]}static set(t,n){GA[t]=n}static delete(t){delete GA[t]}}const qTe="PARSE_ERROR",VTe="INVALID_REQUEST",XTe="METHOD_NOT_FOUND",GTe="INVALID_PARAMS",$X="INTERNAL_ERROR",u6="SERVER_ERROR",JTe=[-32700,-32600,-32601,-32602,-32603],rv={[qTe]:{code:-32700,message:"Parse error"},[VTe]:{code:-32600,message:"Invalid Request"},[XTe]:{code:-32601,message:"Method not found"},[GTe]:{code:-32602,message:"Invalid params"},[$X]:{code:-32603,message:"Internal error"},[u6]:{code:-32e3,message:"Server error"}},jX=u6;function YTe(e){return JTe.includes(e)}function r$(e){return Object.keys(rv).includes(e)?rv[e]:rv[jX]}function ZTe(e){const t=Object.values(rv).find(n=>n.code===e);return t||rv[jX]}function FX(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var JA={},kl={},i$;function QTe(){if(i$)return kl;i$=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.isBrowserCryptoAvailable=kl.getSubtleCrypto=kl.getBrowerCrypto=void 0;function e(){return mr?.crypto||mr?.msCrypto||{}}kl.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}kl.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return kl.isBrowserCryptoAvailable=n,kl}var Ml={},s$;function eRe(){if(s$)return Ml;s$=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.isBrowser=Ml.isNode=Ml.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ml.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ml.isNode=t;function n(){return!e()&&!t()}return Ml.isBrowser=n,Ml}var o$;function tRe(){return o$||(o$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Q1;t.__exportStar(QTe(),e),t.__exportStar(eRe(),e)}(JA)),JA}var nRe=tRe();function $c(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function ch(e=6){return BigInt($c(e))}function sd(e,t,n){return{id:n||$c(),jsonrpc:"2.0",method:e,params:t}}function I2(e,t){return{id:e,jsonrpc:"2.0",result:t}}function D2(e,t,n){return{id:e,jsonrpc:"2.0",error:rRe(t)}}function rRe(e,t){return typeof e>"u"?r$($X):(typeof e=="string"&&(e=Object.assign(Object.assign({},r$(u6)),{message:e})),YTe(e.code)&&(e=ZTe(e.code)),e)}let iRe=class{},sRe=class extends iRe{constructor(){super()}},oRe=class extends sRe{constructor(t){super()}};const aRe="^https?:",cRe="^wss?:";function lRe(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function KX(e,t){const n=lRe(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function a$(e){return KX(e,aRe)}function c$(e){return KX(e,cRe)}function uRe(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function WX(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function d6(e){return WX(e)&&"method"in e}function k2(e){return WX(e)&&(jc(e)||Ua(e))}function jc(e){return"result"in e}function Ua(e){return"error"in e}let Xa=class extends oRe{constructor(t){super(t),this.events=new Va.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(sd(t.method,t.params||[],t.id||ch().toString()),n)}async requestStrict(t,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${t.id}`,s=>{Ua(s)?i(s.error):r(s.result)});try{await this.connection.send(t,n)}catch(s){i(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),k2(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const dRe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),fRe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",l$=e=>e.split("?")[0],u$=10,hRe=dRe();let pRe=class{constructor(t){if(this.url=t,this.events=new Va.EventEmitter,this.registering=!1,!c$(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(tu(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!c$(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const i=nRe.isReactNative()?void 0:{rejectUnauthorized:!uRe(t)},s=new hRe(t,[],i);fRe()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Th(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),s=D2(t,i);this.events.emit("payload",s)}parseError(t,n=this.url){return FX(t,l$(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>u$&&this.events.setMaxListeners(u$)}emitError(t){const n=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${l$(this.url)}`));return this.events.emit("register_error",n),n}};var gRe={};const HX="wc",zX=2,ET="core",el=`${HX}@2:${ET}:`,mRe={logger:"error"},yRe={database:":memory:"},vRe="crypto",d$="client_ed25519_seed",wRe=ht.ONE_DAY,bRe="keychain",ERe="0.3",_Re="messages",CRe="0.3",f$=ht.SIX_HOURS,xRe="publisher",qX="irn",SRe="error",VX="wss://relay.walletconnect.org",ORe="relayer",is={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},ARe="_subscription",Oa={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},TRe=.1,_T="2.20.2",Xr={link_mode:"link_mode",relay:"relay"},w_={inbound:"inbound",outbound:"outbound"},RRe="0.3",NRe="WALLETCONNECT_CLIENT_ID",h$="WALLETCONNECT_LINK_MODE_APPS",Jo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},PRe="subscription",IRe="0.3",DRe="pairing",kRe="0.3",hy={wc_pairingDelete:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ht.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ht.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:0},res:{ttl:ht.ONE_DAY,prompt:!1,tag:0}}},Yf={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},nc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},MRe="history",LRe="0.3",URe="expirer",Da={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},BRe="0.3",$Re="verify-api",jRe="https://verify.walletconnect.com",XX="https://verify.walletconnect.org",iv=XX,FRe=`${iv}/v3`,KRe=[jRe,XX],WRe="echo",HRe="https://echo.walletconnect.com",Bc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ll={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},rc={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Uf={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Bf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},py={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},zRe=.1,qRe="event-client",VRe=86400,XRe="https://pulse.walletconnect.org/batch";function GRe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,w=0,C=0,_=y.length;C!==_&&y[C]===0;)C++,v++;for(var O=(_-C)*d+1>>>0,R=new Uint8Array(O);C!==_;){for(var S=y[C],E=0,x=O-1;(S!==0||E<w)&&x!==-1;x--,E++)S+=256*R[x]>>>0,R[x]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");w=E,C++}for(var N=O-w;N!==O&&R[N]===0;)N++;for(var A=c.repeat(v);N<O;++N)A+=e.charAt(R[N]);return A}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var w=0,C=0;y[v]===c;)w++,v++;for(var _=(y.length-v)*u+1>>>0,O=new Uint8Array(_);y[v];){var R=n[y.charCodeAt(v)];if(R===255)return;for(var S=0,E=_-1;(R!==0||S<C)&&E!==-1;E--,S++)R+=a*O[E]>>>0,O[E]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");C=S,v++}if(y[v]!==" "){for(var x=_-C;x!==_&&O[x]===0;)x++;for(var N=new Uint8Array(w+(_-x)),A=w;x!==_;)N[A++]=O[x++];return N}}}function m(y){var v=p(y);if(v)return v;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:p,decode:m}}var JRe=GRe,YRe=JRe;const GX=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},ZRe=e=>new TextEncoder().encode(e),QRe=e=>new TextDecoder().decode(e);class e5e{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class t5e{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return JX(this,t)}}class n5e{constructor(t){this.decoders=t}or(t){return JX(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const JX=(e,t)=>new n5e({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class r5e{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new e5e(t,n,r),this.decoder=new t5e(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const M2=({name:e,prefix:t,encode:n,decode:r})=>new r5e(e,t,n,r),dw=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=YRe(n,t);return M2({prefix:e,name:t,encode:r,decode:s=>GX(i(s))})},i5e=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let d=0;d<s;++d){const h=i[e[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},s5e=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Ds=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>M2({prefix:t,name:e,encode(i){return s5e(i,r,n)},decode(i){return i5e(i,r,n,e)}}),o5e=M2({prefix:"\0",name:"identity",encode:e=>QRe(e),decode:e=>ZRe(e)});var a5e=Object.freeze({__proto__:null,identity:o5e});const c5e=Ds({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var l5e=Object.freeze({__proto__:null,base2:c5e});const u5e=Ds({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var d5e=Object.freeze({__proto__:null,base8:u5e});const f5e=dw({prefix:"9",name:"base10",alphabet:"0123456789"});var h5e=Object.freeze({__proto__:null,base10:f5e});const p5e=Ds({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),g5e=Ds({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var m5e=Object.freeze({__proto__:null,base16:p5e,base16upper:g5e});const y5e=Ds({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),v5e=Ds({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),w5e=Ds({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),b5e=Ds({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),E5e=Ds({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_5e=Ds({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),C5e=Ds({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),x5e=Ds({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),S5e=Ds({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var O5e=Object.freeze({__proto__:null,base32:y5e,base32upper:v5e,base32pad:w5e,base32padupper:b5e,base32hex:E5e,base32hexupper:_5e,base32hexpad:C5e,base32hexpadupper:x5e,base32z:S5e});const A5e=dw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),T5e=dw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var R5e=Object.freeze({__proto__:null,base36:A5e,base36upper:T5e});const N5e=dw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),P5e=dw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var I5e=Object.freeze({__proto__:null,base58btc:N5e,base58flickr:P5e});const D5e=Ds({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),k5e=Ds({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),M5e=Ds({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),L5e=Ds({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var U5e=Object.freeze({__proto__:null,base64:D5e,base64pad:k5e,base64url:M5e,base64urlpad:L5e});const YX=Array.from(""),B5e=YX.reduce((e,t,n)=>(e[n]=t,e),[]),$5e=YX.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function j5e(e){return e.reduce((t,n)=>(t+=B5e[n],t),"")}function F5e(e){const t=[];for(const n of e){const r=$5e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const K5e=M2({prefix:"",name:"base256emoji",encode:j5e,decode:F5e});var W5e=Object.freeze({__proto__:null,base256emoji:K5e}),H5e=ZX,p$=128,z5e=-128,q5e=Math.pow(2,31);function ZX(e,t,n){t=t||[],n=n||0;for(var r=n;e>=q5e;)t[n++]=e&255|p$,e/=128;for(;e&z5e;)t[n++]=e&255|p$,e>>>=7;return t[n]=e|0,ZX.bytes=n-r+1,t}var V5e=CT,X5e=128,g$=127;function CT(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw CT.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&g$)<<i:(o&g$)*Math.pow(2,i),i+=7}while(o>=X5e);return CT.bytes=s-r,n}var G5e=Math.pow(2,7),J5e=Math.pow(2,14),Y5e=Math.pow(2,21),Z5e=Math.pow(2,28),Q5e=Math.pow(2,35),e6e=Math.pow(2,42),t6e=Math.pow(2,49),n6e=Math.pow(2,56),r6e=Math.pow(2,63),i6e=function(e){return e<G5e?1:e<J5e?2:e<Y5e?3:e<Z5e?4:e<Q5e?5:e<e6e?6:e<t6e?7:e<n6e?8:e<r6e?9:10},s6e={encode:H5e,decode:V5e,encodingLength:i6e},QX=s6e;const m$=(e,t,n=0)=>(QX.encode(e,t,n),t),y$=e=>QX.encodingLength(e),xT=(e,t)=>{const n=t.byteLength,r=y$(e),i=r+y$(n),s=new Uint8Array(i+n);return m$(e,s,0),m$(n,s,r),s.set(t,i),new o6e(e,n,t,s)};class o6e{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const eG=({name:e,code:t,encode:n})=>new a6e(e,t,n);class a6e{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?xT(this.code,n):n.then(r=>xT(this.code,r))}else throw Error("Unknown type, must be binary type")}}const tG=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),c6e=eG({name:"sha2-256",code:18,encode:tG("SHA-256")}),l6e=eG({name:"sha2-512",code:19,encode:tG("SHA-512")});var u6e=Object.freeze({__proto__:null,sha256:c6e,sha512:l6e});const nG=0,d6e="identity",rG=GX,f6e=e=>xT(nG,rG(e)),h6e={code:nG,name:d6e,encode:rG,digest:f6e};var p6e=Object.freeze({__proto__:null,identity:h6e});new TextEncoder,new TextDecoder;const v$={...a5e,...l5e,...d5e,...h5e,...m5e,...O5e,...R5e,...I5e,...U5e,...W5e};({...u6e,...p6e});function g6e(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function iG(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const w$=iG("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),YA=iG("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=g6e(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),m6e={utf8:w$,"utf-8":w$,hex:v$.base16,latin1:YA,ascii:YA,binary:YA,...v$};function y6e(e,t="utf8"){const n=m6e[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):n.decoder.decode(`${n.prefix}${e}`)}var v6e=Object.defineProperty,w6e=(e,t,n)=>t in e?v6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lc=(e,t,n)=>w6e(e,typeof t!="symbol"?t+"":t,n);class b6e{constructor(t,n){this.core=t,this.logger=n,Lc(this,"keychain",new Map),Lc(this,"name",bRe),Lc(this,"version",ERe),Lc(this,"initialized",!1),Lc(this,"storagePrefix",el),Lc(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Lc(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Lc(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Lc(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=mt("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Lc(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=Qs(n,this.name)}get context(){return Do(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,lT(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?uT(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var E6e=Object.defineProperty,_6e=(e,t,n)=>t in e?E6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hs=(e,t,n)=>_6e(e,typeof t!="symbol"?t+"":t,n);class C6e{constructor(t,n,r){this.core=t,this.logger=n,hs(this,"name",vRe),hs(this,"keychain"),hs(this,"randomSessionIdentifier",bT()),hs(this,"initialized",!1),hs(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),hs(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),hs(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=QU(i);return BV(s.publicKey)}),hs(this,"generateKeyPair",()=>{this.isInitialized();const i=Z3e();return this.setPrivateKey(i.publicKey,i.privateKey)}),hs(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=QU(s),a=this.randomSessionIdentifier;return await oOe(a,i,wRe,o)}),hs(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=Q3e(a,s);return this.setSymKey(c,o)}),hs(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||v_(i);return await this.keychain.set(o,i),o}),hs(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),hs(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),hs(this,"encode",async(i,s,o)=>{this.isInitialized();const a=LX(o),c=tu(s);if(XB(a))return nTe(c,o?.encoding);if(VB(a)){const p=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(p,m)}const u=this.getSymKey(i),{type:d,senderPublicKey:h}=a;return eTe({type:d,symKey:u,message:c,senderPublicKey:h,encoding:o?.encoding})}),hs(this,"decode",async(i,s,o)=>{this.isInitialized();const a=iTe(s,o);if(XB(a)){const c=rTe(s,o?.encoding);return Th(c)}if(VB(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=tTe({symKey:c,encoded:s,encoding:o?.encoding});return Th(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),hs(this,"getPayloadType",(i,s=uc)=>{const o=Wv({encoded:i,encoding:s});return Ih(o.type)}),hs(this,"getPayloadSenderPublicKey",(i,s=uc)=>{const o=Wv({encoded:i,encoding:s});return o.senderPublicKey?co(o.senderPublicKey,lo):void 0}),this.core=t,this.logger=Qs(n,this.name),this.keychain=r||new b6e(this.core,this.logger)}get context(){return Do(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(d$)}catch{t=bT(),await this.keychain.set(d$,t)}return y6e(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var x6e=Object.defineProperty,S6e=Object.defineProperties,O6e=Object.getOwnPropertyDescriptors,b$=Object.getOwnPropertySymbols,A6e=Object.prototype.hasOwnProperty,T6e=Object.prototype.propertyIsEnumerable,ST=(e,t,n)=>t in e?x6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R6e=(e,t)=>{for(var n in t||(t={}))A6e.call(t,n)&&ST(e,n,t[n]);if(b$)for(var n of b$(t))T6e.call(t,n)&&ST(e,n,t[n]);return e},N6e=(e,t)=>S6e(e,O6e(t)),Xo=(e,t,n)=>ST(e,typeof t!="symbol"?t+"":t,n);class P6e extends i2e{constructor(t,n){super(t,n),this.logger=t,this.core=n,Xo(this,"messages",new Map),Xo(this,"messagesWithoutClientAck",new Map),Xo(this,"name",_Re),Xo(this,"version",CRe),Xo(this,"initialized",!1),Xo(this,"storagePrefix",el),Xo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Xo(this,"set",async(r,i,s)=>{this.isInitialized();const o=Fc(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===w_.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,N6e(R6e({},c),{[o]:i}))}return await this.persist(),o}),Xo(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Xo(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Xo(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Fc(i);return typeof s[o]<"u"}),Xo(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Fc(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Xo(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Qs(t,this.name),this.core=n}get context(){return Do(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,lT(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,lT(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?uT(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?uT(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var I6e=Object.defineProperty,D6e=Object.defineProperties,k6e=Object.getOwnPropertyDescriptors,E$=Object.getOwnPropertySymbols,M6e=Object.prototype.hasOwnProperty,L6e=Object.prototype.propertyIsEnumerable,OT=(e,t,n)=>t in e?I6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zb=(e,t)=>{for(var n in t||(t={}))M6e.call(t,n)&&OT(e,n,t[n]);if(E$)for(var n of E$(t))L6e.call(t,n)&&OT(e,n,t[n]);return e},ZA=(e,t)=>D6e(e,k6e(t)),ic=(e,t,n)=>OT(e,typeof t!="symbol"?t+"":t,n);class U6e extends s2e{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,ic(this,"events",new Va.EventEmitter),ic(this,"name",xRe),ic(this,"queue",new Map),ic(this,"publishTimeout",ht.toMiliseconds(ht.ONE_MINUTE)),ic(this,"initialPublishTimeout",ht.toMiliseconds(ht.ONE_SECOND*15)),ic(this,"needsTransportRestart",!1),ic(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=s?.ttl||f$,c=bC(s),u=s?.prompt||!1,d=s?.tag||0,h=s?.id||ch().toString(),p={topic:r,message:i,opts:{ttl:a,relay:c,prompt:u,tag:d,id:h,attestation:s?.attestation,tvf:s?.tvf}},m=`Failed to publish payload, please try again. id:${h} tag:${d}`;try{const y=new Promise(async v=>{const w=({id:_})=>{p.opts.id===_&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(is.publish,w),v(p))};this.relayer.events.on(is.publish,w);const C=id(new Promise((_,O)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:u,tag:d,id:h,attestation:s?.attestation,tvf:s?.tvf}).then(_).catch(R=>{this.logger.warn(R,R?.message),O(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${d}`);try{await C,this.events.removeListener(is.publish,w)}catch(_){this.queue.set(h,ZA(Zb({},p),{attempt:1})),this.logger.warn(_,_?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:r,message:i,opts:s}}),await id(y,this.publishTimeout,m)}catch(y){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(y),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw y}finally{this.queue.delete(h)}}),ic(this,"on",(r,i)=>{this.events.on(r,i)}),ic(this,"once",(r,i)=>{this.events.once(r,i)}),ic(this,"off",(r,i)=>{this.events.off(r,i)}),ic(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=t,this.logger=Qs(n,this.name),this.registerEventListeners()}get context(){return Do(this.logger)}async rpcPublish(t){var n,r,i,s;const{topic:o,message:a,ttl:c=f$,prompt:u,tag:d,id:h,attestation:p,tvf:m}=t,y={method:ky(bC().protocol).publish,params:Zb({topic:o,message:a,ttl:c,prompt:u,tag:d,attestation:p},m),id:h};ws((n=y.params)==null?void 0:n.prompt)&&((r=y.params)==null||delete r.prompt),ws((i=y.params)==null?void 0:i.tag)&&((s=y.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:y});const v=await this.relayer.request(y);return this.relayer.events.emit(is.publish,t),this.logger.debug("Successfully Published Payload"),v}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{const r=t.attempt+1;this.queue.set(n,ZA(Zb({},t),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${r}`),await this.rpcPublish(ZA(Zb({},t),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ng.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(is.connection_stalled);return}this.checkQueue()}),this.relayer.on(is.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var B6e=Object.defineProperty,$6e=(e,t,n)=>t in e?B6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jp=(e,t,n)=>$6e(e,typeof t!="symbol"?t+"":t,n);class j6e{constructor(){Jp(this,"map",new Map),Jp(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),Jp(this,"get",t=>this.map.get(t)||[]),Jp(this,"exists",(t,n)=>this.get(t).includes(n)),Jp(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(t);return}this.map.set(t,i)}),Jp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var F6e=Object.defineProperty,K6e=Object.defineProperties,W6e=Object.getOwnPropertyDescriptors,_$=Object.getOwnPropertySymbols,H6e=Object.prototype.hasOwnProperty,z6e=Object.prototype.propertyIsEnumerable,AT=(e,t,n)=>t in e?F6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gy=(e,t)=>{for(var n in t||(t={}))H6e.call(t,n)&&AT(e,n,t[n]);if(_$)for(var n of _$(t))z6e.call(t,n)&&AT(e,n,t[n]);return e},QA=(e,t)=>K6e(e,W6e(t)),Ur=(e,t,n)=>AT(e,typeof t!="symbol"?t+"":t,n);class q6e extends c2e{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Ur(this,"subscriptions",new Map),Ur(this,"topicMap",new j6e),Ur(this,"events",new Va.EventEmitter),Ur(this,"name",PRe),Ur(this,"version",IRe),Ur(this,"pending",new Map),Ur(this,"cached",[]),Ur(this,"initialized",!1),Ur(this,"storagePrefix",el),Ur(this,"subscribeTimeout",ht.toMiliseconds(ht.ONE_MINUTE)),Ur(this,"initialSubscribeTimeout",ht.toMiliseconds(ht.ONE_SECOND*15)),Ur(this,"clientId"),Ur(this,"batchSubscribeTopicsLimit",500),Ur(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Ur(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=bC(i),o={topic:r,relay:s,transportType:i?.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Ur(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Ur(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Ur(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Ur(this,"on",(r,i)=>{this.events.on(r,i)}),Ur(this,"once",(r,i)=>{this.events.once(r,i)}),Ur(this,"off",(r,i)=>{this.events.off(r,i)}),Ur(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Ur(this,"start",async()=>{await this.onConnect()}),Ur(this,"stop",async()=>{await this.onDisconnect()}),Ur(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Ur(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Ur(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ng.pulse,async()=>{await this.checkPending()}),this.events.on(Jo.created,async r=>{const i=Jo.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Jo.deleted,async r=>{const i=Jo.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=t,this.logger=Qs(n,this.name),this.clientId=""}get context(){return Do(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async i=>await this.unsubscribeById(t,i,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const i=bC(r);await this.restartToComplete({topic:t,id:n,relay:i}),await this.rpcUnsubscribe(t,n,i);const s=Pr("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,n,r){var i;(!r||r?.transportType===Xr.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const s={method:ky(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(t);if(r?.transportType===Xr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(d=>this.logger.warn(d))},ht.toMiliseconds(ht.ONE_SECOND)),a;const c=new Promise(async d=>{const h=p=>{p.topic===t&&(this.events.removeListener(Jo.created,h),d(p.id))};this.events.on(Jo.created,h);try{const p=await id(new Promise((m,y)=>{this.relayer.request(s).catch(v=>{this.logger.warn(v,v?.message),y(v)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(Jo.created,h),d(p)}catch{}}),u=await id(c,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${t} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(is.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:ky(n.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await id(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(is.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:ky(n.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await id(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(is.connection_stalled)}return i}rpcUnsubscribe(t,n,r){const i={method:ky(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,n){this.setSubscription(t,QA(gy({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,gy({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,gy({},n)),this.topicMap.set(n.topic,t),this.events.emit(Jo.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=mt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Jo.deleted,QA(gy({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Jo.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Jo.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:n}=mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>QA(gy({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await $Ae(ht.toMiliseconds(ht.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return Fc(t+await this.getClientId())}}var V6e=Object.defineProperty,C$=Object.getOwnPropertySymbols,X6e=Object.prototype.hasOwnProperty,G6e=Object.prototype.propertyIsEnumerable,TT=(e,t,n)=>t in e?V6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x$=(e,t)=>{for(var n in t||(t={}))X6e.call(t,n)&&TT(e,n,t[n]);if(C$)for(var n of C$(t))G6e.call(t,n)&&TT(e,n,t[n]);return e},cr=(e,t,n)=>TT(e,typeof t!="symbol"?t+"":t,n);class J6e extends o2e{constructor(t){super(t),cr(this,"protocol","wc"),cr(this,"version",2),cr(this,"core"),cr(this,"logger"),cr(this,"events",new Va.EventEmitter),cr(this,"provider"),cr(this,"messages"),cr(this,"subscriber"),cr(this,"publisher"),cr(this,"name",ORe),cr(this,"transportExplicitlyClosed",!1),cr(this,"initialized",!1),cr(this,"connectionAttemptInProgress",!1),cr(this,"relayUrl"),cr(this,"projectId"),cr(this,"packageName"),cr(this,"bundleId"),cr(this,"hasExperiencedNetworkDisruption",!1),cr(this,"pingTimeout"),cr(this,"heartBeatTimeout",ht.toMiliseconds(ht.THIRTY_SECONDS+ht.FIVE_SECONDS)),cr(this,"reconnectTimeout"),cr(this,"connectPromise"),cr(this,"reconnectInProgress",!1),cr(this,"requestsInFlight",[]),cr(this,"connectTimeout",ht.toMiliseconds(ht.ONE_SECOND*15)),cr(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||ch().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),cr(this,"resetPingTimeout",()=>{vC()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),cr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),cr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(is.connect)}),cr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),cr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(is.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),cr(this,"registerProviderListeners",()=>{this.provider.on(Oa.payload,this.onPayloadHandler),this.provider.on(Oa.connect,this.onConnectHandler),this.provider.on(Oa.disconnect,this.onDisconnectHandler),this.provider.on(Oa.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Qs(t.logger,this.name):tw(Pg({level:t.logger||SRe})),this.messages=new P6e(this.logger,t.core),this.subscriber=new q6e(this,this.logger),this.publisher=new U6e(this,this.logger),this.relayUrl=t?.relayUrl||VX,this.projectId=t.projectId,CAe()?this.packageName=yB():xAe()&&(this.bundleId=yB()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}}get context(){return Do(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:Xr.relay},w_.outbound)}async subscribe(t,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(t))==null?void 0:s[0])||"",c;const u=d=>{d.topic===t&&(this.subscriber.off(Jo.created,u),c())};return await Promise.all([new Promise(d=>{c=d,this.subscriber.on(Jo.created,u)}),new Promise(async(d,h)=>{a=await this.subscriber.subscribe(t,x$({internal:{throwOnFailedPublish:o}},n)).catch(p=>{o&&h(p)})||a,d()})]),a}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await id(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await n$())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const i=Hi(ht.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(is.message,t),await this.recordMessageEvent(t,w_.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Oa.disconnect,s),await id(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Oa.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Oa.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Oa.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ht.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,i,s;if(vC())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xa(new pRe(RAe({sdkVersion:_T,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:i}=t;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),d6(t)){if(!t.method.endsWith(ARe))return;const n=t.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Xr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(x$({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else k2(t)&&this.events.emit(is.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,w_.inbound),this.events.emit(is.message,t))}async acknowledgePayload(t){const n=I2(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Oa.payload,this.onPayloadHandler),this.provider.off(Oa.connect,this.onConnectHandler),this.provider.off(Oa.disconnect,this.onDisconnectHandler),this.provider.off(Oa.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await n$();WTe(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(is.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ht.toMiliseconds(TRe)))))}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Y6e(){}function S$(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function O$(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function A$(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Z6e="[object RegExp]",Q6e="[object String]",eNe="[object Number]",tNe="[object Boolean]",T$="[object Arguments]",nNe="[object Symbol]",rNe="[object Date]",iNe="[object Map]",sNe="[object Set]",oNe="[object Array]",aNe="[object Function]",cNe="[object ArrayBuffer]",e4="[object Object]",lNe="[object Error]",uNe="[object DataView]",dNe="[object Uint8Array]",fNe="[object Uint8ClampedArray]",hNe="[object Uint16Array]",pNe="[object Uint32Array]",gNe="[object BigUint64Array]",mNe="[object Int8Array]",yNe="[object Int16Array]",vNe="[object Int32Array]",wNe="[object BigInt64Array]",bNe="[object Float32Array]",ENe="[object Float64Array]";function _Ne(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function CNe(e,t,n){return Ly(e,t,void 0,void 0,void 0,void 0,n)}function Ly(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return sv(e,t,s,o)}return sv(e,t,s,o)}function sv(e,t,n,r){if(Object.is(e,t))return!0;let i=A$(e),s=A$(t);if(i===T$&&(i=e4),s===T$&&(s=e4),i!==s)return!1;switch(i){case Q6e:return e.toString()===t.toString();case eNe:{const c=e.valueOf(),u=t.valueOf();return _Ne(c,u)}case tNe:case rNe:case nNe:return Object.is(e.valueOf(),t.valueOf());case Z6e:return e.source===t.source&&e.flags===t.flags;case aNe:return e===t}n=n??new Map;const o=n.get(e),a=n.get(t);if(o!=null&&a!=null)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case iNe:{if(e.size!==t.size)return!1;for(const[c,u]of e.entries())if(!t.has(c)||!Ly(u,t.get(c),c,e,t,n,r))return!1;return!0}case sNe:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),u=Array.from(t.values());for(let d=0;d<c.length;d++){const h=c[d],p=u.findIndex(m=>Ly(h,m,void 0,e,t,n,r));if(p===-1)return!1;u.splice(p,1)}return!0}case oNe:case dNe:case fNe:case hNe:case pNe:case gNe:case mNe:case yNe:case vNe:case wNe:case bNe:case ENe:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!Ly(e[c],t[c],c,e,t,n,r))return!1;return!0}case cNe:return e.byteLength!==t.byteLength?!1:sv(new Uint8Array(e),new Uint8Array(t),n,r);case uNe:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:sv(new Uint8Array(e),new Uint8Array(t),n,r);case lNe:return e.name===t.name&&e.message===t.message;case e4:{if(!(sv(e.constructor,t.constructor,n,r)||S$(e)&&S$(t)))return!1;const c=[...Object.keys(e),...O$(e)],u=[...Object.keys(t),...O$(t)];if(c.length!==u.length)return!1;for(let d=0;d<c.length;d++){const h=c[d],p=e[h];if(!Object.hasOwn(t,h))return!1;const m=t[h];if(!Ly(p,m,h,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function xNe(e,t){return CNe(e,t,Y6e)}var SNe=Object.defineProperty,R$=Object.getOwnPropertySymbols,ONe=Object.prototype.hasOwnProperty,ANe=Object.prototype.propertyIsEnumerable,RT=(e,t,n)=>t in e?SNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N$=(e,t)=>{for(var n in t||(t={}))ONe.call(t,n)&&RT(e,n,t[n]);if(R$)for(var n of R$(t))ANe.call(t,n)&&RT(e,n,t[n]);return e},yo=(e,t,n)=>RT(e,typeof t!="symbol"?t+"":t,n);class ep extends a2e{constructor(t,n,r,i=el,s=void 0){super(t,n,r,i),this.core=t,this.logger=n,this.name=r,yo(this,"map",new Map),yo(this,"version",RRe),yo(this,"cached",[]),yo(this,"initialized",!1),yo(this,"getKey"),yo(this,"storagePrefix",el),yo(this,"recentlyDeleted",[]),yo(this,"recentlyDeletedLimit",200),yo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ws(o)?this.map.set(this.getKey(o),o):bTe(o)?this.map.set(o.id,o):ETe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),yo(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),yo(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),yo(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>xNe(a[c],o[c]))):this.values)),yo(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=N$(N$({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),yo(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Qs(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Do(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:i}=mt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:r}=mt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var TNe=Object.defineProperty,RNe=(e,t,n)=>t in e?TNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qn=(e,t,n)=>RNe(e,typeof t!="symbol"?t+"":t,n);class NNe{constructor(t,n){this.core=t,this.logger=n,qn(this,"name",DRe),qn(this,"version",kRe),qn(this,"events",new H5),qn(this,"pairings"),qn(this,"initialized",!1),qn(this,"storagePrefix",el),qn(this,"ignoredPayloadTypes",[Jl]),qn(this,"registeredMethods",[]),qn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),qn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),qn(this,"create",async r=>{this.isInitialized();const i=bT(),s=await this.core.crypto.setSymKey(i),o=Hi(ht.FIVE_MINUTES),a={protocol:qX},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},u=JB({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(Yf.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType}),{topic:s,uri:u}}),qn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Bc.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=GB(r.uri);i.props.properties.topic=s,i.addTrace(Bc.pairing_uri_validation_success),i.addTrace(Bc.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(s)){if(d=this.pairings.get(s),i.addTrace(Bc.existing_pairing),d.active)throw i.setError(Ll.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Bc.pairing_not_expired)}const h=c||Hi(ht.FIVE_MINUTES),p={topic:s,relay:a,expiry:h,active:!1,methods:u};this.core.expirer.set(s,h),await this.pairings.set(s,p),i.addTrace(Bc.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Yf.create,p),i.addTrace(Bc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Bc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Ll.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(m){throw i.setError(Ll.subscribe_pairing_topic_failure),m}return i.addTrace(Bc.subscribe_pairing_topic_success),p}),qn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Hi(ht.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),qn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Kf();this.events.once(vr("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),qn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),qn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),qn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),qn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Pr("USER_DISCONNECTED")),await this.deletePairing(i))}),qn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return JB({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),qn(this,"sendRequest",async(r,i,s)=>{const o=sd(i,s),a=await this.core.crypto.encode(r,o),c=hy[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),qn(this,"sendResult",async(r,i,s)=>{const o=I2(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=hy[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),qn(this,"sendError",async(r,i,s)=>{const o=D2(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=hy[c]?hy[c].res:hy.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),qn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Pr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),qn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Yu(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),qn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),qn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),qn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Yf.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),qn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{jc(i)?this.events.emit(vr("pairing_ping",s),{}):Ua(i)&&this.events.emit(vr("pairing_ping",s),{error:i.error})},500)}),qn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Yf.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),qn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Pr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),qn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Pr("WC_METHOD_UNSUPPORTED",r))}),qn(this,"isValidPair",(r,i)=>{var s;if(!_o(r)){const{message:a}=mt("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Ll.malformed_pairing_uri),new Error(a)}if(!wTe(r.uri)){const{message:a}=mt("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Ll.malformed_pairing_uri),new Error(a)}const o=GB(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=mt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Ll.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=mt("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Ll.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ht.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(Ll.pairing_expired);const{message:a}=mt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),qn(this,"isValidPing",async r=>{if(!_o(r)){const{message:s}=mt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),qn(this,"isValidDisconnect",async r=>{if(!_o(r)){const{message:s}=mt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),qn(this,"isValidPairingTopic",async r=>{if(!Mi(r,!1)){const{message:i}=mt("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=mt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Yu(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=mt("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=t,this.logger=Qs(n,this.name),this.pairings=new ep(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Do(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(is.message,async t=>{const{topic:n,message:r,transportType:i}=t;if(this.pairings.keys.includes(n)&&i!==Xr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);d6(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):k2(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Da.expired,async t=>{const{topic:n}=rX(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Yf.expire,{topic:n}))})}}var PNe=Object.defineProperty,INe=(e,t,n)=>t in e?PNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ps=(e,t,n)=>INe(e,typeof t!="symbol"?t+"":t,n);class DNe extends r2e{constructor(t,n){super(t,n),this.core=t,this.logger=n,ps(this,"records",new Map),ps(this,"events",new Va.EventEmitter),ps(this,"name",MRe),ps(this,"version",LRe),ps(this,"cached",[]),ps(this,"initialized",!1),ps(this,"storagePrefix",el),ps(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ps(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Hi(ht.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(nc.created,o)}),ps(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Ua(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(nc.updated,i))}),ps(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ps(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(nc.deleted,s)}}),this.persist()}),ps(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ps(this,"on",(r,i)=>{this.events.on(r,i)}),ps(this,"once",(r,i)=>{this.events.once(r,i)}),ps(this,"off",(r,i)=>{this.events.off(r,i)}),ps(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Qs(n,this.name)}get context(){return Do(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:sd(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=mt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(nc.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(nc.created,t=>{const n=nc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(nc.updated,t=>{const n=nc.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(nc.deleted,t=>{const n=nc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(Ng.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{ht.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(nc.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var kNe=Object.defineProperty,MNe=(e,t,n)=>t in e?kNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bs=(e,t,n)=>MNe(e,typeof t!="symbol"?t+"":t,n);class LNe extends l2e{constructor(t,n){super(t,n),this.core=t,this.logger=n,Bs(this,"expirations",new Map),Bs(this,"events",new Va.EventEmitter),Bs(this,"name",URe),Bs(this,"version",BRe),Bs(this,"cached",[]),Bs(this,"initialized",!1),Bs(this,"storagePrefix",el),Bs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Bs(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Bs(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Da.created,{target:s,expiration:o})}),Bs(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Bs(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Da.deleted,{target:i,expiration:s})}}),Bs(this,"on",(r,i)=>{this.events.on(r,i)}),Bs(this,"once",(r,i)=>{this.events.once(r,i)}),Bs(this,"off",(r,i)=>{this.events.off(r,i)}),Bs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Qs(n,this.name)}get context(){return Do(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return NAe(t);if(typeof t=="number")return PAe(t);const{message:n}=mt("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Da.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=mt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;ht.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Da.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(Ng.pulse,()=>this.checkExpirations()),this.events.on(Da.created,t=>{const n=Da.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Da.expired,t=>{const n=Da.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Da.deleted,t=>{const n=Da.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var UNe=Object.defineProperty,BNe=(e,t,n)=>t in e?UNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Di=(e,t,n)=>BNe(e,typeof t!="symbol"?t+"":t,n);class $Ne extends u2e{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,Di(this,"name",$Re),Di(this,"abortController"),Di(this,"isDevEnv"),Di(this,"verifyUrlV3",FRe),Di(this,"storagePrefix",el),Di(this,"version",zX),Di(this,"publicKey"),Di(this,"fetchPromise"),Di(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ht.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Di(this,"register",async i=>{if(!iw()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=Rh.getDocument(),d=this.startAbortTimer(ht.ONE_SECOND*5),h=await new Promise((p,m)=>{const y=()=>{window.removeEventListener("message",w),u.body.removeChild(v),m("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const v=u.createElement("iframe");v.src=c,v.style.display="none",v.addEventListener("error",y,{signal:this.abortController.signal});const w=C=>{if(C.data&&typeof C.data=="string")try{const _=JSON.parse(C.data);if(_.type==="verify_attestation"){if(sT(_.attestation).payload.id!==o)return;clearInterval(d),u.body.removeChild(v),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",w),p(_.attestation===null?"":_.attestation)}}catch(_){this.logger.warn(_)}};u.body.appendChild(v),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(u){this.logger.warn(u)}return""}),Di(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(sT(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Di(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ht.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Di(this,"getVerifyUrl",i=>{let s=i||iv;return KRe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${iv}`),s=iv),s}),Di(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ht.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Di(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Di(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Di(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Di(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Di(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Di(this,"validateAttestation",(i,s)=>{const o=oTe(i,s.publicKey),a={hasExpired:ht.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Qs(n,this.name),this.abortController=new AbortController,this.isDevEnv=t6(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Do(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ht.toMiliseconds(t))}}var jNe=Object.defineProperty,FNe=(e,t,n)=>t in e?jNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P$=(e,t,n)=>FNe(e,typeof t!="symbol"?t+"":t,n);class KNe extends d2e{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,P$(this,"context",WRe),P$(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${HRe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Qs(n,this.context)}}var WNe=Object.defineProperty,I$=Object.getOwnPropertySymbols,HNe=Object.prototype.hasOwnProperty,zNe=Object.prototype.propertyIsEnumerable,NT=(e,t,n)=>t in e?WNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,my=(e,t)=>{for(var n in t||(t={}))HNe.call(t,n)&&NT(e,n,t[n]);if(I$)for(var n of I$(t))zNe.call(t,n)&&NT(e,n,t[n]);return e},Qi=(e,t,n)=>NT(e,typeof t!="symbol"?t+"":t,n);class qNe extends f2e{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Qi(this,"context",qRe),Qi(this,"storagePrefix",el),Qi(this,"storageVersion",zRe),Qi(this,"events",new Map),Qi(this,"shouldPersist",!1),Qi(this,"init",async()=>{if(!t6())try{const i={eventId:wB(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:tX(this.core.relayer.protocol,this.core.relayer.version,_T)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Qi(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=wB(),d=this.core.projectId||"",h=Date.now(),p=my({eventId:u,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:d,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,p),this.shouldPersist=!0),p}),Qi(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return my(my({},a),this.setMethods(a.eventId))}),Qi(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Qi(this,"setEventListeners",()=>{this.core.heartbeat.on(Ng.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ht.fromMiliseconds(Date.now())-ht.fromMiliseconds(i.timestamp)>VRe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Qi(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Qi(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Qi(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Qi(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Qi(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,my(my({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Qi(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Qi(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${XRe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_T}${s}`,{method:"POST",body:JSON.stringify(i)})}),Qi(this,"getAppDomain",()=>eX().url),this.logger=Qs(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var VNe=Object.defineProperty,D$=Object.getOwnPropertySymbols,XNe=Object.prototype.hasOwnProperty,GNe=Object.prototype.propertyIsEnumerable,PT=(e,t,n)=>t in e?VNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k$=(e,t)=>{for(var n in t||(t={}))XNe.call(t,n)&&PT(e,n,t[n]);if(D$)for(var n of D$(t))GNe.call(t,n)&&PT(e,n,t[n]);return e},Hr=(e,t,n)=>PT(e,typeof t!="symbol"?t+"":t,n);let JNe=class sG extends QCe{constructor(t){var n;super(t),Hr(this,"protocol",HX),Hr(this,"version",zX),Hr(this,"name",ET),Hr(this,"relayUrl"),Hr(this,"projectId"),Hr(this,"customStoragePrefix"),Hr(this,"events",new Va.EventEmitter),Hr(this,"logger"),Hr(this,"heartbeat"),Hr(this,"relayer"),Hr(this,"crypto"),Hr(this,"storage"),Hr(this,"history"),Hr(this,"expirer"),Hr(this,"pairing"),Hr(this,"verify"),Hr(this,"echoClient"),Hr(this,"linkModeSupportedApps"),Hr(this,"eventClient"),Hr(this,"initialized",!1),Hr(this,"logChunkController"),Hr(this,"on",(a,c)=>this.events.on(a,c)),Hr(this,"once",(a,c)=>this.events.once(a,c)),Hr(this,"off",(a,c)=>this.events.off(a,c)),Hr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Hr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const d={topic:a,message:c,publishedAt:Date.now(),transportType:Xr.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:u})});const r=this.getGlobalCore(t?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||VX,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=Pg({level:typeof t?.logger=="string"&&t.logger?t.logger:mRe.logger,name:ET}),{logger:s,chunkLoggerController:o}=q5({opts:i,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Qs(s,this.name),this.heartbeat=new Z_e,this.crypto=new C6e(this,this.logger,t?.keychain),this.history=new DNe(this,this.logger),this.expirer=new LNe(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new kCe(k$(k$({},yRe),t?.storageOptions)),this.relayer=new J6e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new NNe(this,this.logger),this.verify=new $Ne(this,this.logger,this.storage),this.echoClient=new KNe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new qNe(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new sG(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(NRe,r),n}get context(){return Do(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(h$,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(h$)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&gRe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const YNe=JNe,oG="wc",aG=2,cG="client",f6=`${oG}@${aG}:${cG}:`,t4={name:cG,logger:"error"},M$="WALLETCONNECT_DEEPLINK_CHOICE",ZNe="proposal",L$="Proposal expired",QNe="session",Yp=ht.SEVEN_DAYS,e8e="engine",es={wc_sessionPropose:{req:{ttl:ht.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ht.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ht.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ht.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ht.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1119}}},n4={min:ht.FIVE_MINUTES,max:ht.SEVEN_DAYS},Uc={idle:"IDLE",active:"ACTIVE"},U$={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},t8e="request",n8e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],r8e="wc",i8e="auth",s8e="authKeys",o8e="pairingTopics",a8e="requests",L2=`${r8e}@${1.5}:${i8e}:`,b_=`${L2}:PUB_KEY`;var c8e=Object.defineProperty,l8e=Object.defineProperties,u8e=Object.getOwnPropertyDescriptors,B$=Object.getOwnPropertySymbols,d8e=Object.prototype.hasOwnProperty,f8e=Object.prototype.propertyIsEnumerable,IT=(e,t,n)=>t in e?c8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Br=(e,t)=>{for(var n in t||(t={}))d8e.call(t,n)&&IT(e,n,t[n]);if(B$)for(var n of B$(t))f8e.call(t,n)&&IT(e,n,t[n]);return e},ro=(e,t)=>l8e(e,u8e(t)),tt=(e,t,n)=>IT(e,typeof t!="symbol"?t+"":t,n);class h8e extends m2e{constructor(t){super(t),tt(this,"name",e8e),tt(this,"events",new H5),tt(this,"initialized",!1),tt(this,"requestQueue",{state:Uc.idle,queue:[]}),tt(this,"sessionRequestQueue",{state:Uc.idle,queue:[]}),tt(this,"requestQueueDelay",ht.ONE_SECOND),tt(this,"expectedPairingMethodMap",new Map),tt(this,"recentlyDeletedMap",new Map),tt(this,"recentlyDeletedLimit",200),tt(this,"relayMessageCache",[]),tt(this,"pendingSessions",new Map),tt(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(es)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ht.toMiliseconds(this.requestQueueDelay)))}),tt(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ro(Br({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=r;let d=i,h,p=!1;try{if(d){const E=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),p=E.active}}catch(E){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),E}if(!d||!p){const{topic:E,uri:x}=await this.client.core.pairing.create();d=E,h=x}if(!d){const{message:E}=mt("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(E)}const m=await this.client.core.crypto.generateKeyPair(),y=es.wc_sessionPropose.req.ttl||ht.FIVE_MINUTES,v=Hi(y),w=ro(Br(Br({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:qX}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:d},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:$c()}),C=vr("session_connect",w.id),{reject:_,resolve:O,done:R}=Kf(y,L$),S=({id:E})=>{E===w.id&&(this.client.events.off("proposal_expire",S),this.pendingSessions.delete(w.id),this.events.emit(C,{error:{message:L$,code:0}}))};return this.client.events.on("proposal_expire",S),this.events.once(C,({error:E,session:x})=>{this.client.events.off("proposal_expire",S),E?_(E):x&&O(x)}),await this.sendRequest({topic:d,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:h,approval:R}}),tt(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),tt(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[rc.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(A){throw o.setError(Uf.no_internet_connection),A}try{await this.isValidProposalId(n?.id)}catch(A){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(Uf.proposal_not_found),A}try{await this.isValidApprove(n)}catch(A){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Uf.session_approve_namespace_validation_failure),A}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:d,scopedProperties:h,sessionConfig:p}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:y,proposer:v,requiredNamespaces:w,optionalNamespaces:C}=m;let _=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:y});_||(_=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:rc.session_approve_started,properties:{topic:y,trace:[rc.session_approve_started,rc.session_namespaces_validation_success]}}));const O=await this.client.core.crypto.generateKeyPair(),R=v.publicKey,S=await this.client.core.crypto.generateSharedKey(O,R),E=Br(Br(Br({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:O,metadata:this.client.metadata},expiry:Hi(Yp)},d&&{sessionProperties:d}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),x=Xr.relay;_.addTrace(rc.subscribing_session_topic);try{await this.client.core.relayer.subscribe(S,{transportType:x})}catch(A){throw _.setError(Uf.subscribe_session_topic_failure),A}_.addTrace(rc.subscribe_session_topic_success);const N=ro(Br({},E),{topic:S,requiredNamespaces:w,optionalNamespaces:C,pairingTopic:y,acknowledged:!1,self:E.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:O,transportType:Xr.relay});await this.client.session.set(S,N),_.addTrace(rc.store_session);try{_.addTrace(rc.publishing_session_settle),await this.sendRequest({topic:S,method:"wc_sessionSettle",params:E,throwOnFailedPublish:!0}).catch(A=>{throw _?.setError(Uf.session_settle_publish_failure),A}),_.addTrace(rc.session_settle_publish_success),_.addTrace(rc.publishing_session_approve),await this.sendResult({id:a,topic:y,result:{relay:{protocol:c??"irn"},responderPublicKey:O},throwOnFailedPublish:!0}).catch(A=>{throw _?.setError(Uf.session_approve_publish_failure),A}),_.addTrace(rc.session_approve_publish_success)}catch(A){throw this.client.logger.error(A),this.client.session.delete(S,Pr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(S),A}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:v.metadata}),await this.client.proposal.delete(a,Pr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(S,Hi(Yp)),{topic:S,acknowledged:()=>Promise.resolve(this.client.session.get(S))}}),tt(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:es.wc_sessionPropose.reject}),await this.client.proposal.delete(r,Pr("USER_DISCONNECTED")))}),tt(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Kf(),c=$c(),u=ch().toString(),d=this.client.session.get(r).namespaces;return this.events.once(vr("session_update",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:d}),a(h)}),{acknowledged:s}}),tt(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=$c(),{done:s,resolve:o,reject:a}=Kf();return this.events.once(vr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Hi(Yp)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),tt(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(C){throw this.client.logger.error("request() -> isValidRequest() failed"),C}const{chainId:r,request:i,topic:s,expiry:o=es.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===Xr.relay&&await this.confirmOnlineStateOrThrow();const c=$c(),u=ch().toString(),{done:d,resolve:h,reject:p}=Kf(o,"Request expired. Please try again.");this.events.once(vr("session_request",c),({error:C,result:_})=>{C?p(C):h(_)});const m="wc_sessionRequest",y=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(y)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:{request:ro(Br({},i),{expiryTimestamp:Hi(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:y}).catch(C=>p(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await d();const v={request:ro(Br({},i),{expiryTimestamp:Hi(o)}),chainId:r},w=this.shouldSetTVF(m,v);return await Promise.all([new Promise(async C=>{await this.sendRequest(Br({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:v,expiry:o,throwOnFailedPublish:!0},w&&{tvf:this.getTVFParams(c,v)})).catch(_=>p(_)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),C()}),new Promise(async C=>{var _;if(!((_=a.sessionConfig)!=null&&_.disableDeepLink)){const O=await MAe(this.client.core.storage,M$);await IAe({id:c,topic:s,wcDeepLink:O})}C()}),d()]).then(C=>C[2])}),tt(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Xr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);jc(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Ua(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),tt(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=$c(),s=ch().toString(),{done:o,resolve:a,reject:c}=Kf();this.events.once(vr("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),tt(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=ch().toString(),a=$c();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),tt(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Pr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=mt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),tt(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>yTe(r,n)))),tt(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),tt(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Xr.link_mode:Xr.relay;o===Xr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:d,nonce:h,type:p,exp:m,nbf:y,methods:v=[],expiry:w}=n,C=[...n.resources||[]],{topic:_,uri:O}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:_,uri:O}});const R=await this.client.core.crypto.generateKeyPair(),S=v_(R);if(await Promise.all([this.client.auth.authKeys.set(b_,{responseTopic:S,publicKey:R}),this.client.auth.pairingTopics.set(S,{topic:S,pairingTopic:_})]),await this.client.core.relayer.subscribe(S,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${_}`),v.length>0){const{namespace:X}=U0(a[0]);let j=A4e(X,"request",v);y_(C)&&(j=R4e(j,C.pop())),C.push(j)}const E=w&&w>es.wc_sessionAuthenticate.req.ttl?w:es.wc_sessionAuthenticate.req.ttl,x={authPayload:{type:p??"caip122",chains:a,statement:c,aud:u,domain:d,version:"1",nonce:h,iat:new Date().toISOString(),exp:m,nbf:y,resources:C},requester:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:Hi(E)},N={eip155:{chains:a,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},A={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:"irn"}],pairingTopic:_,proposer:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:Hi(es.wc_sessionPropose.req.ttl),id:$c()},{done:D,resolve:k,reject:U}=Kf(E,"Request expired"),H=$c(),F=vr("session_connect",A.id),P=vr("session_request",H),I=async({error:X,session:j})=>{this.events.off(P,$),X?U(X):j&&k({session:j})},$=async X=>{var j,G,ae;if(await this.deletePendingAuthRequest(H,{message:"fulfilled",code:0}),X.error){const ee=Pr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return X.error.code===ee.code?void 0:(this.events.off(F,I),U(X.error.message))}await this.deleteProposal(A.id),this.events.off(F,I);const{cacaos:ce,responder:oe}=X.result,Ce=[],Ae=[];for(const ee of ce){await AB({cacao:ee,projectId:this.client.core.projectId})||(this.client.logger.error(ee,"Signature verification failed"),U(Pr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:B}=ee,te=y_(B.resources),we=[dT(B.iss)],Ne=wC(B.iss);if(te){const Fe=TB(te),Ve=RB(te);Ce.push(...Fe),we.push(...Ve)}for(const Fe of we)Ae.push(`${Fe}:${Ne}`)}const ue=await this.client.core.crypto.generateSharedKey(R,oe.publicKey);let Y;Ce.length>0&&(Y={topic:ue,acknowledged:!0,self:{publicKey:R,metadata:this.client.metadata},peer:oe,controller:oe.publicKey,expiry:Hi(Yp),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:_,namespaces:YB([...new Set(Ce)],[...new Set(Ae)]),transportType:o},await this.client.core.relayer.subscribe(ue,{transportType:o}),await this.client.session.set(ue,Y),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:oe.metadata}),Y=this.client.session.get(ue)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(G=oe.metadata.redirect)!=null&&G.linkMode&&(ae=oe.metadata.redirect)!=null&&ae.universal&&r&&(this.client.core.addLinkModeSupportedApp(oe.metadata.redirect.universal),this.client.session.update(ue,{transportType:Xr.link_mode})),k({auths:ce,session:Y})};this.events.once(F,I),this.events.once(P,$);let W;try{if(s){const X=sd("wc_sessionAuthenticate",x,H);this.client.core.history.set(_,X);const j=await this.client.core.crypto.encode("",X,{type:uw,encoding:ed});W=Yb(r,_,j)}else await Promise.all([this.sendRequest({topic:_,method:"wc_sessionAuthenticate",params:x,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:H}),this.sendRequest({topic:_,method:"wc_sessionPropose",params:A,expiry:es.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(X){throw this.events.off(F,I),this.events.off(P,$),X}return await this.setProposal(A.id,A),await this.setAuthRequest(H,{request:ro(Br({},x),{verifyContext:{}}),pairingTopic:_,transportType:o}),{uri:W??O,response:D}}),tt(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Bf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(py.no_internet_connection),w}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(py.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Xr.relay;a===Xr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),d=v_(c),h={type:Jl,receiverPublicKey:c,senderPublicKey:u},p=[],m=[];for(const w of i){if(!await AB({cacao:w,projectId:this.client.core.projectId})){s.setError(py.invalid_cacao);const S=Pr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:S,encodeOpts:h}),new Error(S.message)}s.addTrace(Bf.cacaos_verified);const{p:C}=w,_=y_(C.resources),O=[dT(C.iss)],R=wC(C.iss);if(_){const S=TB(_),E=RB(_);p.push(...S),O.push(...E)}for(const S of O)m.push(`${S}:${R}`)}const y=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(Bf.create_authenticated_session_topic);let v;if(p?.length>0){v={topic:y,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Hi(Yp),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:YB([...new Set(p)],[...new Set(m)]),transportType:a},s.addTrace(Bf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:a})}catch(w){throw s.setError(py.subscribe_authenticated_session_topic_failure),w}s.addTrace(Bf.subscribe_authenticated_session_topic_success),await this.client.session.set(y,v),s.addTrace(Bf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Bf.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(py.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:v}}),tt(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Xr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=v_(o),u={type:Jl,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:u,rpcOpts:es.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,Pr("USER_DISCONNECTED"))}),tt(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return fX(r,i)}),tt(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),tt(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),tt(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Pr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(M$).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Pr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Uc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),tt(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Uf.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Pr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),tt(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Uc.idle,this.client.events.emit("session_request_expire",{id:n}))}),tt(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),tt(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),tt(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Hi(es.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),tt(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Xr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),tt(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Hi(es.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),tt(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:d,tvf:h}=n,p=sd(i,s,c);let m;const y=!!d;try{const C=y?ed:uc;m=await this.client.core.crypto.encode(r,p,{encoding:C})}catch(C){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),C}let v;if(n8e.includes(i)){const C=Fc(JSON.stringify(p)),_=Fc(m);v=await this.client.core.verify.register({id:_,decryptedId:C})}const w=es[i].req;if(w.attestation=v,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,p),y){const C=Yb(d,r,m);await global.Linking.openURL(C,this.client.name)}else{const C=es[i].req;o&&(C.ttl=o),a&&(C.id=a),C.tvf=ro(Br({},h),{correlationId:p.id}),u?(C.internal=ro(Br({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,C)):this.client.core.relayer.publish(r,m,C).catch(_=>this.client.logger.error(_))}return p.id}),tt(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,u=I2(r,s);let d;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const y=h?ed:uc;d=await this.client.core.crypto.encode(i,u,ro(Br({},a||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),y}let p,m;try{p=await this.client.core.history.get(i,r);const y=p.request;try{this.shouldSetTVF(y.method,y.params)&&(m=this.getTVFParams(r,y.params,s))}catch(v){this.client.logger.warn("sendResult() -> getTVFParams() failed",v)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),y}if(h){const y=Yb(c,i,d);await global.Linking.openURL(y,this.client.name)}else{const y=p.request.method,v=es[y].res;v.tvf=ro(Br({},m),{correlationId:r}),o?(v.internal=ro(Br({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,v)):this.client.core.relayer.publish(i,d,v).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(u)}),tt(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,u=D2(r,s);let d;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=h?ed:uc;d=await this.client.core.crypto.encode(i,u,ro(Br({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let p;try{p=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(h){const m=Yb(c,i,d);await global.Linking.openURL(m,this.client.name)}else{const m=p.request.method,y=a||es[m].res;this.client.core.relayer.publish(i,d,y)}await this.client.core.history.resolve(u)}),tt(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Yu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Yu(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),tt(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),tt(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),tt(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Uc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Uc.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Uc.idle}),tt(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),tt(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),tt(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=mt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),tt(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),tt(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(Ll.proposal_listener_not_found)),this.isValidConnect(Br({},i.params));const d=a.expiryTimestamp||Hi(es.wc_sessionPropose.req.ttl),h=Br({id:c,pairingTopic:r,expiryTimestamp:d},a);await this.setProposal(c,h);const p=await this.getVerifyContext({attestationId:s,hash:Fc(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});u?.addTrace(Bc.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:h,verifyContext:p})}catch(u){await this.sendError({id:c,topic:r,error:u,rpcOpts:es.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),tt(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(jc(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const d=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:d,pairingTopic:n,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(Ua(r)){await this.client.proposal.delete(s,Pr("USER_DISCONNECTED"));const o=vr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),tt(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:d,scopedProperties:h,sessionConfig:p}=r.params,m=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const y=this.client.proposal.get(m.proposalId),v=ro(Br(Br(Br({topic:n,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),{transportType:Xr.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(vr("session_connect",m.proposalId),{session:v}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),tt(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;jc(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(vr("session_approve",i),{})):Ua(r)&&(await this.client.session.delete(n,Pr("USER_DISCONNECTED")),this.events.emit(vr("session_approve",i),{error:r.error}))}),tt(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=fy.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Pr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Br({topic:n},i));try{fy.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw fy.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),tt(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),tt(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=vr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);jc(r)?this.events.emit(vr("session_update",i),{}):Ua(r)&&this.events.emit(vr("session_update",i),{error:r.error})}),tt(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Hi(Yp)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),tt(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=vr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);jc(r)?this.events.emit(vr("session_extend",i),{}):Ua(r)&&this.events.emit(vr("session_extend",i),{error:r.error})}),tt(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),tt(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=vr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);jc(r)?this.events.emit(vr("session_ping",i),{}):Ua(r)&&this.events.emit(vr("session_ping",i),{error:r.error})},500)}),tt(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(is.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Pr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),tt(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:d}=n,{id:h,params:p}=a;try{await this.isValidRequest(Br({topic:o},p));const m=this.client.session.get(o),y=await this.getVerifyContext({attestationId:c,hash:Fc(JSON.stringify(sd("wc_sessionRequest",p,h))),encryptedId:u,metadata:m.peer.metadata,transportType:d}),v={id:h,topic:o,params:p,verifyContext:y};await this.setPendingSessionRequest(v),d===Xr.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(m){await this.sendError({id:h,topic:o,error:m}),this.client.logger.error(m)}}),tt(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=vr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);jc(r)?this.events.emit(vr("session_request",i),{result:r.result}):Ua(r)&&this.events.emit(vr("session_request",i),{error:r.error})}),tt(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=fy.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Br({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),fy.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),tt(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),jc(r)?this.events.emit(vr("session_request",i),{result:r.result}):Ua(r)&&this.events.emit(vr("session_request",i),{error:r.error})}),tt(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:u,authPayload:d,expiryTimestamp:h}=s.params,p=await this.getVerifyContext({attestationId:o,hash:Fc(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),m={requester:u,pairingTopic:i,id:s.id,authPayload:d,verifyContext:p,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:m,pairingTopic:i,transportType:c}),c===Xr.link_mode&&(r=u.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:p})}catch(u){this.client.logger.error(u);const d=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(s.params.requester.metadata,c),m={type:Jl,receiverPublicKey:d,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:m,rpcOpts:es.wc_sessionAuthenticate.autoReject,appLink:p})}}),tt(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),tt(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Uc.idle,this.processSessionRequestQueue()},ht.toMiliseconds(this.requestQueueDelay))}),tt(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=vr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(vr("session_request",s.request.id),{error:r})})}),tt(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Uc.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Uc.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),tt(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),tt(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:sd("wc_sessionPropose",ro(Br({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),tt(this,"isValidConnect",async n=>{if(!_o(n)){const{message:u}=mt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(u)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(ws(r)||await this.isValidPairingTopic(r),!RTe(c)){const{message:u}=mt("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!ws(i)&&Hv(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!ws(s)&&Hv(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),ws(o)||this.validateSessionProps(o,"sessionProperties"),!ws(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(d=>u.includes(d)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),tt(this,"validateNamespaces",(n,r)=>{const i=TTe(n,"connect()",r);if(i)throw new Error(i.message)}),tt(this,"isValidApprove",async n=>{if(!_o(n))throw new Error(mt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),u=XA(i,"approve()");if(u)throw new Error(u.message);const d=e$(c.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!Mi(s,!0)){const{message:h}=mt("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(ws(o)||this.validateSessionProps(o,"sessionProperties"),!ws(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(p=>h.has(p)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),tt(this,"isValidReject",async n=>{if(!_o(n)){const{message:s}=mt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!PTe(i)){const{message:s}=mt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),tt(this,"isValidSessionSettleRequest",n=>{if(!_o(n)){const{message:u}=mt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(u)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!BX(r)){const{message:u}=mt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=_Te(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=XA(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Yu(o)){const{message:u}=mt("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),tt(this,"isValidUpdate",async n=>{if(!_o(n)){const{message:c}=mt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=XA(i,"update()");if(o)throw new Error(o.message);const a=e$(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),tt(this,"isValidExtend",async n=>{if(!_o(n)){const{message:i}=mt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),tt(this,"isValidRequest",async n=>{if(!_o(n)){const{message:c}=mt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!QB(a,s)){const{message:c}=mt("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!ITe(i)){const{message:c}=mt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!MTe(a,s,i.method)){const{message:c}=mt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!$Te(o,n4)){const{message:c}=mt("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${n4.min} and ${n4.max}`);throw new Error(c)}}),tt(this,"isValidRespond",async n=>{var r;if(!_o(n)){const{message:o}=mt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!DTe(s)){const{message:o}=mt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),tt(this,"isValidPing",async n=>{if(!_o(n)){const{message:i}=mt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),tt(this,"isValidEmit",async n=>{if(!_o(n)){const{message:a}=mt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!QB(o,s)){const{message:a}=mt("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!kTe(i)){const{message:a}=mt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!LTe(o,s,i.name)){const{message:a}=mt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),tt(this,"isValidDisconnect",async n=>{if(!_o(n)){const{message:i}=mt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),tt(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Mi(i,!1))throw new Error("uri is required parameter");if(!Mi(s,!1))throw new Error("domain is required parameter");if(!Mi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>U0(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=U0(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),tt(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||iv,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Xr.link_mode){const d=this.getAppLinkIfEnabled(o,a);return c.verified.validation=d&&new URL(d).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),tt(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=mt("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),tt(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),tt(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),tt(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=mt("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),tt(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,u,d,h,p;return!n||r!==Xr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((d=n?.redirect)==null?void 0:d.universal)!==void 0&&((h=n?.redirect)==null?void 0:h.universal)!==""&&((p=n?.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),tt(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),tt(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=vB(n,"topic")||"",i=decodeURIComponent(vB(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Xr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),tt(this,"registerLinkModeListeners",async()=>{var n;if(t6()||xd()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),tt(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(U$).includes(i.method)}),tt(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return ro(Br({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),tt(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),tt(this,"extractTxHashesFromResult",(n,r)=>{try{const i=U$[n];if(typeof r=="string")return[r];const s=r[i.key];if(cd(s))return n==="solana_signAllTransactions"?s.map(o=>h4e(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=mt("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(is.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:i,transportType:s}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(b_)?this.client.auth.authKeys.get(b_):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Xr.link_mode?ed:uc});d6(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Fc(r)})):k2(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Da.expired,async t=>{const{topic:n,id:r}=rX(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,mt("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,mt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Yf.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Yf.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Mi(t,!1)){const{message:n}=mt("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=mt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(Yu(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=mt("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!Mi(t,!1)){const{message:n}=mt("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=mt("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(Yu(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=mt("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=mt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Mi(t,!1)){const{message:n}=mt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=mt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!NTe(t)){const{message:n}=mt("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=mt("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(Yu(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=mt("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class p8e extends ep{constructor(t,n){super(t,n,ZNe,f6),this.core=t,this.logger=n}}let g8e=class extends ep{constructor(t,n){super(t,n,QNe,f6),this.core=t,this.logger=n}};class m8e extends ep{constructor(t,n){super(t,n,t8e,f6,r=>r.id),this.core=t,this.logger=n}}class y8e extends ep{constructor(t,n){super(t,n,s8e,L2,()=>b_),this.core=t,this.logger=n}}class v8e extends ep{constructor(t,n){super(t,n,o8e,L2),this.core=t,this.logger=n}}class w8e extends ep{constructor(t,n){super(t,n,a8e,L2,r=>r.id),this.core=t,this.logger=n}}var b8e=Object.defineProperty,E8e=(e,t,n)=>t in e?b8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r4=(e,t,n)=>E8e(e,typeof t!="symbol"?t+"":t,n);class _8e{constructor(t,n){this.core=t,this.logger=n,r4(this,"authKeys"),r4(this,"pairingTopics"),r4(this,"requests"),this.authKeys=new y8e(this.core,this.logger),this.pairingTopics=new v8e(this.core,this.logger),this.requests=new w8e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var C8e=Object.defineProperty,x8e=(e,t,n)=>t in e?C8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vn=(e,t,n)=>x8e(e,typeof t!="symbol"?t+"":t,n);let S8e=class lG extends g2e{constructor(t){super(t),Vn(this,"protocol",oG),Vn(this,"version",aG),Vn(this,"name",t4.name),Vn(this,"metadata"),Vn(this,"core"),Vn(this,"logger"),Vn(this,"events",new Va.EventEmitter),Vn(this,"engine"),Vn(this,"session"),Vn(this,"proposal"),Vn(this,"pendingRequest"),Vn(this,"auth"),Vn(this,"signConfig"),Vn(this,"on",(r,i)=>this.events.on(r,i)),Vn(this,"once",(r,i)=>this.events.once(r,i)),Vn(this,"off",(r,i)=>this.events.off(r,i)),Vn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Vn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Vn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Vn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Vn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Vn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=t?.name||t4.name,this.metadata=OAe(t?.metadata),this.signConfig=t?.signConfig;const n=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:tw(Pg({level:t?.logger||t4.logger}));this.core=t?.core||new YNe(t),this.logger=Qs(n,this.name),this.session=new g8e(this.core,this.logger),this.proposal=new p8e(this.core,this.logger),this.pendingRequest=new m8e(this.core,this.logger),this.engine=new h8e(this),this.auth=new _8e(this.core,this.logger)}static async init(t){const n=new lG(t);return await n.initialize(),n}get context(){return Do(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ht.toMiliseconds(ht.ONE_SECOND))}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var O8e=Pz();const $$=rl(O8e);var A8e=Object.defineProperty,T8e=Object.defineProperties,R8e=Object.getOwnPropertyDescriptors,j$=Object.getOwnPropertySymbols,N8e=Object.prototype.hasOwnProperty,P8e=Object.prototype.propertyIsEnumerable,F$=(e,t,n)=>t in e?A8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K$=(e,t)=>{for(var n in t||(t={}))N8e.call(t,n)&&F$(e,n,t[n]);if(j$)for(var n of j$(t))P8e.call(t,n)&&F$(e,n,t[n]);return e},W$=(e,t)=>T8e(e,R8e(t));const I8e={Accept:"application/json","Content-Type":"application/json"},D8e="POST",H$={headers:I8e,method:D8e},z$=10;let Sc=class{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new Va.EventEmitter,this.isAvailable=!1,this.registering=!1,!a$(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=tu(t),r=await(await $$(this.url,W$(K$({},H$),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!a$(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=tu({id:1,jsonrpc:"2.0",method:"test",params:[]});await $$(t,W$(K$({},H$),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Th(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),s=D2(t,i);this.events.emit("payload",s)}parseError(t,n=this.url){return FX(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>z$&&this.events.setMaxListeners(z$)}};const q$="error",k8e="wss://relay.walletconnect.org",M8e="wc",L8e="universal_provider",Qb=`${M8e}@2:${L8e}:`,uG="https://rpc.walletconnect.org/v1/",p0="generic",U8e=`${uG}bundler`,Ga={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function B8e(){}function h6(e){return e==null||typeof e!="object"&&typeof e!="function"}function p6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $8e(e){if(h6(e))return e;if(Array.isArray(e)||p6(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function V$(e){return typeof e=="object"&&e!==null}function dG(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function fG(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const j8e="[object RegExp]",hG="[object String]",pG="[object Number]",gG="[object Boolean]",mG="[object Arguments]",F8e="[object Symbol]",K8e="[object Date]",W8e="[object Map]",H8e="[object Set]",z8e="[object Array]",q8e="[object ArrayBuffer]",V8e="[object Object]",X8e="[object DataView]",G8e="[object Uint8Array]",J8e="[object Uint8ClampedArray]",Y8e="[object Uint16Array]",Z8e="[object Uint32Array]",Q8e="[object Int8Array]",ePe="[object Int16Array]",tPe="[object Int32Array]",nPe="[object Float32Array]",rPe="[object Float64Array]";function iPe(e,t){return T0(e,void 0,e,new Map,t)}function T0(e,t,n,r=new Map,i=void 0){const s=i?.(e,t,n,r);if(s!=null)return s;if(h6(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const o=new Array(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=T0(e[a],a,n,r,i);return Object.hasOwn(e,"index")&&(o.index=e.index),Object.hasOwn(e,"input")&&(o.input=e.input),o}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const o=new RegExp(e.source,e.flags);return o.lastIndex=e.lastIndex,o}if(e instanceof Map){const o=new Map;r.set(e,o);for(const[a,c]of e)o.set(a,T0(c,a,n,r,i));return o}if(e instanceof Set){const o=new Set;r.set(e,o);for(const a of e)o.add(T0(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(p6(e)){const o=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=T0(e[a],a,n,r,i);return o}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const o=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,o),Zf(o,e,n,r,i),o}if(typeof File<"u"&&e instanceof File){const o=new File([e],e.name,{type:e.type});return r.set(e,o),Zf(o,e,n,r,i),o}if(e instanceof Blob){const o=new Blob([e],{type:e.type});return r.set(e,o),Zf(o,e,n,r,i),o}if(e instanceof Error){const o=new e.constructor;return r.set(e,o),o.message=e.message,o.name=e.name,o.stack=e.stack,o.cause=e.cause,Zf(o,e,n,r,i),o}if(typeof e=="object"&&sPe(e)){const o=Object.create(Object.getPrototypeOf(e));return r.set(e,o),Zf(o,e,n,r,i),o}return e}function Zf(e,t,n=e,r,i){const s=[...Object.keys(t),...dG(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=T0(t[a],a,n,r,i))}}function sPe(e){switch(fG(e)){case mG:case z8e:case q8e:case X8e:case gG:case K8e:case nPe:case rPe:case Q8e:case ePe:case tPe:case W8e:case pG:case V8e:case j8e:case H8e:case hG:case F8e:case G8e:case J8e:case Y8e:case Z8e:return!0;default:return!1}}function oPe(e,t){return iPe(e,(n,r,i,s)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case pG:case hG:case gG:{const o=new e.constructor(e?.valueOf());return Zf(o,e),o}case mG:{const o={};return Zf(o,e),o.length=e.length,o[Symbol.iterator]=e[Symbol.iterator],o}default:return}})}function X$(e){return oPe(e)}function G$(e){return e!==null&&typeof e=="object"&&fG(e)==="[object Arguments]"}function aPe(e){return p6(e)}function cPe(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const n=e[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${n}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function lPe(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let i=e;for(let s=0;s<n.length;s++){const o=n[s];i=DT(i,o,r,new Map)}return i}function DT(e,t,n,r){if(h6(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return $8e(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let s=0;s<t.length;s++)t[s]=t[s]??void 0}const i=[...Object.keys(t),...dG(t)];for(let s=0;s<i.length;s++){const o=i[s];let a=t[o],c=e[o];if(G$(a)&&(a={...a}),G$(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=X$(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const d=[],h=Reflect.ownKeys(c);for(let p=0;p<h.length;p++){const m=h[p];d[m]=c[m]}c=d}else c=[];const u=n(c,a,o,e,t,r);u!=null?e[o]=u:Array.isArray(a)||V$(c)&&V$(a)?e[o]=DT(c,a,n,r):c==null&&cPe(a)?e[o]=DT({},a,n,r):c==null&&aPe(a)?e[o]=X$(a):(c===void 0||a!==void 0)&&(e[o]=a)}return e}function uPe(e,...t){return lPe(e,...t,B8e)}var dPe=Object.defineProperty,fPe=Object.defineProperties,hPe=Object.getOwnPropertyDescriptors,J$=Object.getOwnPropertySymbols,pPe=Object.prototype.hasOwnProperty,gPe=Object.prototype.propertyIsEnumerable,Y$=(e,t,n)=>t in e?dPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eE=(e,t)=>{for(var n in t||(t={}))pPe.call(t,n)&&Y$(e,n,t[n]);if(J$)for(var n of J$(t))gPe.call(t,n)&&Y$(e,n,t[n]);return e},mPe=(e,t)=>fPe(e,hPe(t));function aa(e,t,n){var r;const i=U0(e);return((r=t.rpcMap)==null?void 0:r[i.reference])||`${uG}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function tp(e){return e.includes(":")?e.split(":")[1]:e}function yG(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function yPe(e,t){const n=Object.keys(t.namespaces).filter(i=>i.includes(e));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=t.namespaces[i].accounts;r.push(...s)}),r}function i4(e={},t={}){const n=Z$(e),r=Z$(t);return uPe(n,r)}function Z$(e){var t,n,r,i;const s={};if(!Hv(e))return s;for(const[o,a]of Object.entries(e)){const c=c6(o)?[o]:a.chains,u=a.methods||[],d=a.events||[],h=a.rpcMap||{},p=My(o);s[p]=mPe(eE(eE({},s[p]),a),{chains:m_(c,(t=s[p])==null?void 0:t.chains),methods:m_(u,(n=s[p])==null?void 0:n.methods),events:m_(d,(r=s[p])==null?void 0:r.events),rpcMap:eE(eE({},h),(i=s[p])==null?void 0:i.rpcMap)})}return s}function Q$(e){return e.includes(":")?e.split(":")[2]:e}function ej(e){const t={};for(const[n,r]of Object.entries(e)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=c6(n)?[n]:r.chains?r.chains:yG(r.accounts);t[n]={chains:a,methods:i,events:s,accounts:o}}return t}function s4(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const vG={},dr=e=>vG[e],o4=(e,t)=>{vG[e]=t};var vPe=Object.defineProperty,wPe=(e,t,n)=>t in e?vPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zp=(e,t,n)=>wPe(e,typeof t!="symbol"?t+"":t,n);let bPe=class{constructor(t){Zp(this,"name","polkadot"),Zp(this,"client"),Zp(this,"httpProviders"),Zp(this,"events"),Zp(this,"namespace"),Zp(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=tp(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}};var EPe=Object.defineProperty,_Pe=Object.defineProperties,CPe=Object.getOwnPropertyDescriptors,tj=Object.getOwnPropertySymbols,xPe=Object.prototype.hasOwnProperty,SPe=Object.prototype.propertyIsEnumerable,kT=(e,t,n)=>t in e?EPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nj=(e,t)=>{for(var n in t||(t={}))xPe.call(t,n)&&kT(e,n,t[n]);if(tj)for(var n of tj(t))SPe.call(t,n)&&kT(e,n,t[n]);return e},rj=(e,t)=>_Pe(e,CPe(t)),Qp=(e,t,n)=>kT(e,typeof t!="symbol"?t+"":t,n);let OPe=class{constructor(t){Qp(this,"name","eip155"),Qp(this,"client"),Qp(this,"chainId"),Qp(this,"namespace"),Qp(this,"httpProviders"),Qp(this,"events"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n),this.chainId=parseInt(t),this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||aa(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(tp(n));t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}async handleSwitchChain(t){var n,r;let i=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,i;const s=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(t.topic),a=((i=o?.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a?.[s];const c=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:rj(nj({},o.sessionProperties||{}),{capabilities:rj(nj({},a||{}),{[s]:c})})})}catch(u){console.warn("Failed to update session with capabilities",u)}return c}async getCallStatus(t){var n,r;const i=this.client.session.get(t.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(t.chainId,s);try{return await this.getUserOperationReceipt(a,t)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,t)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const i=new URL(t),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(sd("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(t,n){return`${U8e}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}};var APe=Object.defineProperty,TPe=(e,t,n)=>t in e?APe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e0=(e,t,n)=>TPe(e,typeof t!="symbol"?t+"":t,n);class RPe{constructor(t){e0(this,"name","solana"),e0(this,"client"),e0(this,"httpProviders"),e0(this,"events"),e0(this,"namespace"),e0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=tp(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}}var NPe=Object.defineProperty,PPe=(e,t,n)=>t in e?NPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t0=(e,t,n)=>PPe(e,typeof t!="symbol"?t+"":t,n);class IPe{constructor(t){t0(this,"name","cosmos"),t0(this,"client"),t0(this,"httpProviders"),t0(this,"events"),t0(this,"namespace"),t0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=tp(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}}var DPe=Object.defineProperty,kPe=(e,t,n)=>t in e?DPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n0=(e,t,n)=>kPe(e,typeof t!="symbol"?t+"":t,n);class MPe{constructor(t){n0(this,"name","algorand"),n0(this,"client"),n0(this,"httpProviders"),n0(this,"events"),n0(this,"namespace"),n0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(!this.httpProviders[t]){const r=n||aa(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Xa(new Sc(r,dr("disableProviderPing")))}}var LPe=Object.defineProperty,UPe=(e,t,n)=>t in e?LPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r0=(e,t,n)=>UPe(e,typeof t!="symbol"?t+"":t,n);class BPe{constructor(t){r0(this,"name","cip34"),r0(this,"client"),r0(this,"httpProviders"),r0(this,"events"),r0(this,"namespace"),r0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=tp(n);t[i]=this.createHttpProvider(i,r)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}getCardanoRPCUrl(t){const n=this.namespace.rpcMap;if(n)return n[t]}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}}var $Pe=Object.defineProperty,jPe=(e,t,n)=>t in e?$Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i0=(e,t,n)=>jPe(e,typeof t!="symbol"?t+"":t,n);class FPe{constructor(t){i0(this,"name","elrond"),i0(this,"client"),i0(this,"httpProviders"),i0(this,"events"),i0(this,"namespace"),i0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=tp(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}}var KPe=Object.defineProperty,WPe=(e,t,n)=>t in e?KPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s0=(e,t,n)=>WPe(e,typeof t!="symbol"?t+"":t,n);let HPe=class{constructor(t){s0(this,"name","multiversx"),s0(this,"client"),s0(this,"httpProviders"),s0(this,"events"),s0(this,"namespace"),s0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=tp(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}};var zPe=Object.defineProperty,qPe=(e,t,n)=>t in e?zPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o0=(e,t,n)=>qPe(e,typeof t!="symbol"?t+"":t,n);class VPe{constructor(t){o0(this,"name","near"),o0(this,"client"),o0(this,"httpProviders"),o0(this,"events"),o0(this,"namespace"),o0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||aa(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace);return typeof r>"u"?void 0:new Xa(new Sc(r,dr("disableProviderPing")))}}var XPe=Object.defineProperty,GPe=(e,t,n)=>t in e?XPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a0=(e,t,n)=>GPe(e,typeof t!="symbol"?t+"":t,n);class JPe{constructor(t){a0(this,"name","tezos"),a0(this,"client"),a0(this,"httpProviders"),a0(this,"events"),a0(this,"namespace"),a0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||aa(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{t[n]=this.createHttpProvider(n)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace);return typeof r>"u"?void 0:new Xa(new Sc(r))}}var YPe=Object.defineProperty,ZPe=(e,t,n)=>t in e?YPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c0=(e,t,n)=>ZPe(e,typeof t!="symbol"?t+"":t,n);class QPe{constructor(t){c0(this,"name",p0),c0(this,"client"),c0(this,"httpProviders"),c0(this,"events"),c0(this,"namespace"),c0(this,"chainId"),this.namespace=t.namespace,this.events=dr("events"),this.client=dr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ga.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(i=>{const s=U0(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(t){const n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||aa(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xa(new Sc(r,dr("disableProviderPing")))}}var eIe=Object.defineProperty,tIe=Object.defineProperties,nIe=Object.getOwnPropertyDescriptors,ij=Object.getOwnPropertySymbols,rIe=Object.prototype.hasOwnProperty,iIe=Object.prototype.propertyIsEnumerable,MT=(e,t,n)=>t in e?eIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tE=(e,t)=>{for(var n in t||(t={}))rIe.call(t,n)&&MT(e,n,t[n]);if(ij)for(var n of ij(t))iIe.call(t,n)&&MT(e,n,t[n]);return e},a4=(e,t)=>tIe(e,nIe(t)),Aa=(e,t,n)=>MT(e,typeof t!="symbol"?t+"":t,n);let sIe=class wG{constructor(t){Aa(this,"client"),Aa(this,"namespaces"),Aa(this,"optionalNamespaces"),Aa(this,"sessionProperties"),Aa(this,"scopedProperties"),Aa(this,"events",new H5),Aa(this,"rpcProviders",{}),Aa(this,"session"),Aa(this,"providerOpts"),Aa(this,"logger"),Aa(this,"uri"),Aa(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:tw(Pg({level:t?.logger||q$})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const n=new wG(t);return await n.initialize(),n}async request(t,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:tE({},t),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,i){const s=new Date().getTime();this.request(t,r,i).then(o=>n(null,I2(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Pr("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=ej(this.session.namespaces);this.namespaces=i4(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){const{uri:n,approval:r}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=ej(i.namespaces);return this.namespaces=i4(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,i]=this.validateChain(t),s=this.getProvider(r);s.name===p0?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(cd(n)){for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await S8e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||q$,relayUrl:this.providerOpts.relayUrl||k8e,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>My(n)))];o4("client",this.client),o4("events",this.events),o4("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=yPe(n,this.session),i=yG(r),s=i4(this.namespaces,this.optionalNamespaces),o=a4(tE({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new OPe({namespace:o});break;case"algorand":this.rpcProviders[n]=new MPe({namespace:o});break;case"solana":this.rpcProviders[n]=new RPe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new IPe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new bPe({namespace:o});break;case"cip34":this.rpcProviders[n]=new BPe({namespace:o});break;case"elrond":this.rpcProviders[n]=new FPe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new HPe({namespace:o});break;case"near":this.rpcProviders[n]=new VPe({namespace:o});break;case"tezos":this.rpcProviders[n]=new JPe({namespace:o});break;default:this.rpcProviders[p0]?this.rpcProviders[p0].updateNamespace(o):this.rpcProviders[p0]=new QPe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:i}=t;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&cd(o)&&this.events.emit("accountsChanged",o.map(Q$))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=My(o),u=s4(o)!==s4(a)?`${c}:${s4(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,i;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(t);this.session=a4(tE({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",a4(tE({},Pr("USER_DISCONNECTED")),{data:t.topic})))}),this.on(Ga.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[p0]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s}=t;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=s}validateChain(t){const[n,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>My(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=My(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(t);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[t])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(Q$);if(!cd(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Qb}/${t}${i}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Qb}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Qb}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Qb)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var rg={};const oIe="https://secure.walletconnect.org/sdk",aIe=(typeof process<"u"&&typeof rg<"u"?rg.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||oIe,cIe=(typeof process<"u"&&typeof rg<"u"?rg.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",lIe=(typeof process<"u"&&typeof rg<"u"?rg.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Lt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Ss={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Wf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Wi=jr({...Wf}),uIe={state:Wi,subscribeKey(e,t){return Ps(Wi,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=Qt.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Wi.message=Wf.message,Wi.variant=Wf.variant,Wi.svg=Wf.svg,Wi.open=Wf.open,Wi.autoClose=Wf.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=Wf.autoClose}){Wi.open?(Wi.open=!1,setTimeout(()=>{Wi.message=e,Wi.variant=n,Wi.svg=t,Wi.open=!0,Wi.autoClose=r},150)):(Wi.message=e,Wi.variant=n,Wi.svg=t,Wi.open=!0,Wi.autoClose=r)}},lc=uIe,ov={getSIWX(){return nt.state.siwx},async initializeIfEnabled(){const e=nt.state.siwx,t=de.getActiveCaipAddress();if(!(e&&t))return;const[n,r,i]=t.split(":");if(de.checkIfSupportedNetwork(n))try{if((await e.getSessions(`${n}:${r}`,i)).length)return;await Wn.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),_r.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await an._getClient()?.disconnect().catch(console.error),vn.reset("Connect"),lc.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=nt.state.siwx,t=Qt.getPlainAddress(de.getActiveCaipAddress()),n=de.getActiveCaipNetwork(),r=an._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),s=i.toString();bt.getConnectorId(n.chainNamespace)===Mt.CONNECTOR_ID.AUTH&&vn.pushTransactionStack({});const a=await r.signMessage(s);await e.addSession({data:i,message:s,signature:a}),Wn.close(),_r.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!Wn.state.open||vn.state.view==="ApproveTransaction")&&await Wn.open({view:"SIWXSignMessage"}),s.isSmartAccount?lc.showError("This application might not support Smart Accounts"):lc.showError("Signature declined"),_r.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await an.disconnect():Wn.close(),vn.reset("Connect"),_r.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const e=nt.state.siwx,t=Qt.getPlainAddress(de.getActiveCaipAddress()),n=de.getActiveCaipNetwork();return e&&t&&n?e.getSessions(n.caipNetworkId,t):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=vn.state.view==="ApproveTransaction",n=vn.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=ov.getSIWX(),i=new Set(t.map(a=>a.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:de.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await e.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...t.filter(a=>a!==s.chainId)]});if(lc.showLoading("Authenticating...",{autoClose:!1}),St.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),o?.auths?.length){const a=o.auths.map(c=>{const u=e.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||s.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:u,signature:c.s.s,cacao:c}});try{await r.setSessions(a),_r.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ov.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),_r.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ov.getSIWXEventProperties()}),await e.disconnect().catch(console.error),c}finally{lc.hide()}}return!0},getSIWXEventProperties(){const e=de.state.activeChain;return{network:de.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:St.state.preferredAccountTypes?.[e]===Ss.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},zr=jr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),dIe={state:zr,subscribe(e){return Ys(zr,()=>e(zr))},setLastNetworkInView(e){zr.lastNetworkInView=e},async fetchTransactions(e,t){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");zr.loading=!0;try{const n=await hn.fetchTransactions({account:e,cursor:zr.next,onramp:t,cache:t==="coinbase"?"no-cache":void 0,chainId:de.state.activeCaipNetwork?.caipNetworkId}),r=Uy.filterSpamTransactions(n.data),i=Uy.filterByConnectedChain(r),s=[...zr.transactions,...i];zr.loading=!1,t==="coinbase"?zr.coinbaseTransactions=Uy.groupTransactionsByYearAndMonth(zr.coinbaseTransactions,n.data):(zr.transactions=s,zr.transactionsByYear=Uy.groupTransactionsByYearAndMonth(zr.transactionsByYear,i)),zr.empty=s.length===0,zr.next=n.next?n.next:void 0}catch{const r=de.state.activeChain;_r.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:nt.state.projectId,cursor:zr.next,isSmartAccount:St.state.preferredAccountTypes?.[r]===Ss.ACCOUNT_TYPES.SMART_ACCOUNT}}),lc.showError("Failed to fetch transactions"),zr.loading=!1,zr.empty=!0,zr.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(u=>u.id!==r.id);n[i]={...o,[s]:[...c,r].sort((u,d)=>new Date(d.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=de.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){zr.next=void 0},resetTransactions(){zr.transactions=[],zr.transactionsByYear={},zr.lastNetworkInView=void 0,zr.loading=!1,zr.empty=!1,zr.next=void 0}},Uy=da(dIe,"API_ERROR"),Vr=jr({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let $f;const fIe={state:Vr,subscribeKey(e,t){return Ps(Vr,e,t)},_getClient(){return Vr._client},setClient(e){Vr._client=Ah(e)},async connectWalletConnect(){if(Qt.isTelegram()||Qt.isSafari()&&Qt.isIos()){if($f){await $f,$f=void 0;return}if(!Qt.isPairingExpired(Vr?.wcPairingExpiry)){const e=Vr.wcUri;Vr.wcUri=e;return}$f=an._getClient()?.connectWalletConnect?.().catch(()=>{}),an.state.status="connecting",await $f,$f=void 0,Vr.wcPairingExpiry=void 0,an.state.status="connected"}else await an._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){await an._getClient()?.connectExternal?.(e),n&&de.setActiveNamespace(t)},async reconnectExternal(e){await an._getClient()?.reconnectExternal?.(e);const t=e.chain||de.state.activeChain;t&&bt.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){Wn.setLoading(!0,de.state.activeChain);const n=bt.getAuthConnector();n&&(St.setPreferredAccountType(e,t),await n.provider.setPreferredAccount(e),Pt.setPreferredAccountTypes(St.state.preferredAccountTypes??{[t]:e}),await an.reconnectExternal(n),Wn.setLoading(!1,de.state.activeChain),_r.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:de.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return an._getClient()?.signMessage(e)},parseUnits(e,t){return an._getClient()?.parseUnits(e,t)},formatUnits(e,t){return an._getClient()?.formatUnits(e,t)},async sendTransaction(e){return an._getClient()?.sendTransaction(e)},async getCapabilities(e){return an._getClient()?.getCapabilities(e)},async grantPermissions(e){return an._getClient()?.grantPermissions(e)},async walletGetAssets(e){return an._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return an._getClient()?.estimateGas(e)},async writeContract(e){return an._getClient()?.writeContract(e)},async getEnsAddress(e){return an._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return an._getClient()?.getEnsAvatar(e)},checkInstalled(e){return an._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){Vr.wcUri=void 0,Vr.wcPairingExpiry=void 0,Vr.wcLinking=void 0,Vr.recentWallet=void 0,Vr.status="disconnected",Uy.resetTransactions(),Pt.deleteWalletConnectDeepLink()},resetUri(){Vr.wcUri=void 0,Vr.wcPairingExpiry=void 0,$f=void 0},finalizeWcConnection(){const{wcLinking:e,recentWallet:t}=an.state;e&&Pt.setWalletConnectDeepLink(e),t&&Pt.setAppKitRecent(t),_r.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:e?"mobile":"qrcode",name:vn.state.data?.wallet?.name||"Unknown"}})},setWcBasic(e){Vr.wcBasic=e},setUri(e){Vr.wcUri=e,Vr.wcPairingExpiry=Qt.getPairingExpiry()},setWcLinking(e){Vr.wcLinking=e},setWcError(e){Vr.wcError=e,Vr.buffering=!1},setRecentWallet(e){Vr.recentWallet=e},setBuffering(e){Vr.buffering=e},setStatus(e){Vr.status=e},async disconnect(e){try{Wn.setLoading(!0,e),await ov.clearSessions(),await de.disconnect(e),Wn.setLoading(!1,e),bt.setFilterByNamespace(void 0)}catch(t){throw new Lv("Failed to disconnect","INTERNAL_SDK_ERROR",t)}},setConnections(e,t){Vr.connections.set(t,e)},switchAccount({connection:e,address:t,namespace:n}){if(bt.state.activeConnectorIds[n]===e.connectorId){const s=de.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${t}`;St.setCaipAddress(o,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const s=bt.getConnector(e.connectorId);s?an.connectExternal(s,n):console.warn(`No connector found for namespace "${n}"`)}}},an=da(fIe),l0=jr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Yc={state:l0,subscribe(e){return Ys(l0,()=>e(l0))},subscribeOpen(e){return Ps(l0,"open",e)},set(e){Object.assign(l0,{...l0,...e})}};function hIe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function sj(e){return hIe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const bG="2.30.5";let c4={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${bG}`};class ca extends Error{constructor(t,n={}){const r=n.cause instanceof ca?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof ca&&n.cause.docsPath||n.docsPath,s=c4.getDocsUrl?.({...n,docsPath:i}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...c4.version?[`Version: ${c4.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=bG}walk(t){return EG(this,t)}}function EG(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?EG(e.cause,t):t?null:e}class _G extends ca{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function g6(e,{dir:t,size:n=32}={}){return typeof e=="string"?pIe(e,{dir:t,size:n}):gIe(e,{dir:t,size:n})}function pIe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new _G({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function gIe(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new _G({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}class mIe extends ca{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class yIe extends ca{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function CG(e,{size:t}){if(sj(e)>t)throw new yIe({givenSize:sj(e),maxSize:t})}const vIe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function oj(e,t={}){return typeof e=="number"||typeof e=="bigint"?bIe(e,t):typeof e=="string"?SG(e,t):typeof e=="boolean"?wIe(e,t):xG(e,t)}function wIe(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(CG(n,{size:t.size}),g6(n,{size:t.size})):n}function xG(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=vIe[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(CG(r,{size:t.size}),g6(r,{dir:"right",size:t.size})):r}function bIe(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new mIe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?g6(a,{size:r}):a}const EIe=new TextEncoder;function SG(e,t={}){const n=EIe.encode(e);return xG(n,t)}class _Ie extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const vh=(e,t,n)=>JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString():i,n);function CIe(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}const m6=e=>e;class av extends ca{constructor({body:t,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${m6(o)}`,t&&`Request body: ${vh(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=i,this.status=s,this.url=o}}class OG extends ca{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${m6(r)}`,`Request body: ${vh(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class aj extends ca{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${m6(n)}`,`Request body: ${vh(t)}`],name:"TimeoutError"})}}const xIe=-1;class ko extends ca{constructor(t,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:i||t?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||t.name,this.code=t instanceof OG?t.code:n??xIe}}class fa extends ko{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class zv extends ko{constructor(t){super(t,{code:zv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class qv extends ko{constructor(t){super(t,{code:qv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Vv extends ko{constructor(t,{method:n}={}){super(t,{code:Vv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Xv extends ko{constructor(t){super(t,{code:Xv.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ig extends ko{constructor(t){super(t,{code:ig.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Gv extends ko{constructor(t){super(t,{code:Gv.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Jv extends ko{constructor(t){super(t,{code:Jv.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Yv extends ko{constructor(t){super(t,{code:Yv.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class sg extends ko{constructor(t){super(t,{code:sg.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class lh extends ko{constructor(t,{method:n}={}){super(t,{code:lh.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class og extends ko{constructor(t){super(t,{code:og.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(og,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Zv extends ko{constructor(t){super(t,{code:Zv.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wh extends fa{constructor(t){super(t,{code:wh.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Qv extends fa{constructor(t){super(t,{code:Qv.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class e1 extends fa{constructor(t,{method:n}={}){super(t,{code:e1.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(e1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class t1 extends fa{constructor(t){super(t,{code:t1.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(t1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class n1 extends fa{constructor(t){super(t,{code:n1.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(n1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class r1 extends fa{constructor(t){super(t,{code:r1.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(r1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class i1 extends fa{constructor(t){super(t,{code:i1.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(i1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class s1 extends fa{constructor(t){super(t,{code:s1.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(s1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class o1 extends fa{constructor(t){super(t,{code:o1.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(o1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class a1 extends fa{constructor(t){super(t,{code:a1.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(a1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class c1 extends fa{constructor(t){super(t,{code:c1.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(c1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class l1 extends fa{constructor(t){super(t,{code:l1.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(l1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class u1 extends fa{constructor(t){super(t,{code:u1.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(u1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class SIe extends ko{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class y6 extends ca{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(y6,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(y6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function OIe(){let e=()=>{},t=()=>{};return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}const l4=new Map;function AIe({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const d=c();o();const h=d.map(({args:p})=>p);h.length!==0&&e(h).then(p=>{i&&Array.isArray(p)&&p.sort(i);for(let m=0;m<d.length;m++){const{resolve:y}=d[m];y?.([p[m],p])}}).catch(p=>{for(let m=0;m<d.length;m++){const{reject:y}=d[m];y?.(p)}})},o=()=>l4.delete(t),a=()=>c().map(({args:d})=>d),c=()=>l4.get(t)||[],u=d=>l4.set(t,[...c(),d]);return{flush:o,async schedule(d){const{promise:h,resolve:p,reject:m}=OIe();return n?.([...a(),d])&&s(),c().length>0?(u({args:d,resolve:p,reject:m}),h):(u({args:d,resolve:p,reject:m}),setTimeout(s,r),h)}}}async function AG(e){return new Promise(t=>setTimeout(t,e))}const LT=256;let nE=LT,rE;function TIe(e=11){if(!rE||nE+e>LT*2){rE="",nE=0;for(let t=0;t<LT;t++)rE+=(256+Math.random()*256|0).toString(16).substring(1)}return rE.substring(nE,nE+++e)}const iE=new _Ie(8192);function RIe(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(iE.get(n))return iE.get(n);const r=e().finally(()=>iE.delete(n));return iE.set(n,r),r}function NIe(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await AG(d),o({count:a+1})};try{const u=await e();i(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});s(u)}};o()})}function PIe(e,t={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(s?.exclude?.includes(u))throw new lh(new Error("method not supported"),{method:u});if(s?.include&&!s.include.includes(u))throw new lh(new Error("method not supported"),{method:u});const d=i?SG(`${c}.${vh(n)}`):void 0;return RIe(()=>NIe(async()=>{try{return await e(n)}catch(h){const p=h;switch(p.code){case zv.code:throw new zv(p);case qv.code:throw new qv(p);case Vv.code:throw new Vv(p,{method:n.method});case Xv.code:throw new Xv(p);case ig.code:throw new ig(p);case Gv.code:throw new Gv(p);case Jv.code:throw new Jv(p);case Yv.code:throw new Yv(p);case sg.code:throw new sg(p);case lh.code:throw new lh(p,{method:n.method});case og.code:throw new og(p);case Zv.code:throw new Zv(p);case wh.code:throw new wh(p);case Qv.code:throw new Qv(p);case e1.code:throw new e1(p);case t1.code:throw new t1(p);case n1.code:throw new n1(p);case r1.code:throw new r1(p);case i1.code:throw new i1(p);case s1.code:throw new s1(p);case o1.code:throw new o1(p);case a1.code:throw new a1(p);case c1.code:throw new c1(p);case l1.code:throw new l1(p);case u1.code:throw new u1(p);case 5e3:throw new wh(p);default:throw h instanceof ca?h:new SIe(p)}}},{delay:({count:h,error:p})=>{if(p&&p instanceof av){const m=p?.headers?.get("Retry-After");if(m?.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>IIe(h)}),{enabled:i,id:d})}}function IIe(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===og.code||e.code===ig.code:e instanceof av&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function TG({key:e,methods:t,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=TIe();return{config:{key:e,methods:t,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:PIe(r,{methods:t,retryCount:i,retryDelay:s,uid:u}),value:c}}function cj(e,t={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=DIe,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:u=4e3,timeout:d,...h})=>{let p=e,m=()=>{};const y=TG({key:n,name:r,async request({method:v,params:w}){let C;const _=async(O=0)=>{const R=p[O]({...h,chain:c,retryCount:0,timeout:d});try{const S=await R.request({method:v,params:w});return m({method:v,params:w,response:S,transport:R,status:"success"}),S}catch(S){if(m({error:S,method:v,params:w,transport:R,status:"error"}),s(S)||O===p.length-1||(C??=p.slice(O+1).some(E=>{const{include:x,exclude:N}=E({chain:c}).config.methods||{};return x?x.includes(v):N?!N.includes(v):!0}),!C))throw S;return _(O+1)}};return _()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:v=>m=v,transports:p.map(v=>v({chain:c,retryCount:0}))});if(i){const v=typeof i=="object"?i:{};kIe({chain:c,interval:v.interval??u,onTransports:w=>p=w,ping:v.ping,sampleCount:v.sampleCount,timeout:v.timeout,transports:p,weights:v.weights})}return y}}function DIe(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===sg.code||e.code===wh.code||y6.nodeMessage.test(e.message)||e.code===5e3))}function kIe({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,d=[],h=async()=>{const p=await Promise.all(o.map(async v=>{const w=v({chain:e,retryCount:0,timeout:s}),C=Date.now();let _,O;try{await(r?r({transport:w}):w.request({method:"net_listening"})),O=1}catch{O=0}finally{_=Date.now()}return{latency:_-C,success:O}}));d.push(p),d.length>i&&d.shift();const m=Math.max(...d.map(v=>Math.max(...v.map(({latency:w})=>w)))),y=o.map((v,w)=>{const C=d.map(E=>E[w].latency),O=1-C.reduce((E,x)=>E+x,0)/C.length/m,R=d.map(E=>E[w].success),S=R.reduce((E,x)=>E+x,0)/R.length;return S===0?[0,w]:[u*O+c*S,w]}).sort((v,w)=>w[0]-v[0]);n(y.map(([,v])=>o[v])),await AG(t),h()};h()}class MIe extends ca{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function LIe(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function UIe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const lj=UIe();function BIe(e,t={}){return{async request(n){const{body:r,onRequest:i=t.onRequest,onResponse:s=t.onResponse,timeout:o=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:d}=a;try{const h=await LIe(async({signal:m})=>{const y={...a,body:Array.isArray(r)?vh(r.map(_=>({jsonrpc:"2.0",id:_.id??lj.take(),..._}))):vh({jsonrpc:"2.0",id:r.id??lj.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:d||(o>0?m:null)},v=new Request(e,y),w=await i?.(v,y)??{...y,url:e};return await fetch(w.url??e,w)},{errorInstance:new aj({body:r,url:e}),timeout:o,signal:!0});s&&await s(h);let p;if(h.headers.get("Content-Type")?.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(m){if(h.ok)throw m;p={error:p}}}if(!h.ok)throw new av({body:r,details:vh(p.error)||h.statusText,headers:h.headers,status:h.status,url:e});return p}catch(h){throw h instanceof av||h instanceof aj?h:new av({body:r,cause:h,url:e})}}}}function sE(e,t={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:d}=t;return({chain:h,retryCount:p,timeout:m})=>{const{batchSize:y=1e3,wait:v=0}=typeof n=="object"?n:{},w=t.retryCount??p,C=m??t.timeout??1e4,_=e||h?.rpcUrls.default.http[0];if(!_)throw new MIe;const O=BIe(_,{fetchOptions:r,onRequest:a,onResponse:c,timeout:C});return TG({key:i,methods:s,name:o,async request({method:R,params:S}){const E={method:R,params:S},{schedule:x}=AIe({id:_,wait:v,shouldSplitBatch(k){return k.length>y},fn:k=>O.request({body:k}),sort:(k,U)=>k.id-U.id}),N=async k=>n?x(k):[await O.request({body:k})],[{error:A,result:D}]=await N(E);if(d)return{error:A,result:D};if(A)throw new OG({body:E,error:A,url:_});return D},retryCount:w,retryDelay:u,timeout:C,type:"http"},{fetchOptions:r,url:_})}}function RG(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const u4={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return CIe(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},uj={async getMyTokensWithBalance(e){const t=St.state.address,n=de.state.activeCaipNetwork;if(!t||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(t,n);if(i)return this.filterLowQualityTokens(i)}const r=await hn.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(e,t){try{const n=u4.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await an.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const i=await an.walletGetAssets({account:e,chainFilter:[n]});return u4.isWalletGetAssetsResponse(i)?(i[n]||[]).map(o=>u4.createBalance(o,t.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:de.getActiveNetworkTokenAddress(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]}},Or=jr({tokenBalances:[],loading:!1}),$Ie={state:Or,subscribe(e){return Ys(Or,()=>e(Or))},subscribeKey(e,t){return Ps(Or,e,t)},setToken(e){e&&(Or.token=Ah(e))},setTokenAmount(e){Or.sendTokenAmount=e},setReceiverAddress(e){Or.receiverAddress=e},setReceiverProfileImageUrl(e){Or.receiverProfileImageUrl=e},setReceiverProfileName(e){Or.receiverProfileName=e},setNetworkBalanceInUsd(e){Or.networkBalanceInUSD=e},setLoading(e){Or.loading=e},async sendToken(){try{switch(gr.setLoading(!0),de.state.activeCaipNetwork?.chainNamespace){case"eip155":await gr.sendEvmToken();return;case"solana":await gr.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{gr.setLoading(!1)}},async sendEvmToken(){const e=de.state.activeChain,t=St.state.preferredAccountTypes?.[e];if(!gr.state.sendTokenAmount||!gr.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!gr.state.token)throw new Error("A token is required");gr.state.token?.address?(_r.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Ss.ACCOUNT_TYPES.SMART_ACCOUNT,token:gr.state.token.address,amount:gr.state.sendTokenAmount,network:de.state.activeCaipNetwork?.caipNetworkId||""}}),await gr.sendERC20Token({receiverAddress:gr.state.receiverAddress,tokenAddress:gr.state.token.address,sendTokenAmount:gr.state.sendTokenAmount,decimals:gr.state.token.quantity.decimals})):(_r.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Ss.ACCOUNT_TYPES.SMART_ACCOUNT,token:gr.state.token.symbol||"",amount:gr.state.sendTokenAmount,network:de.state.activeCaipNetwork?.caipNetworkId||""}}),await gr.sendNativeToken({receiverAddress:gr.state.receiverAddress,sendTokenAmount:gr.state.sendTokenAmount,decimals:gr.state.token.quantity.decimals}))},async fetchTokenBalance(e){Or.loading=!0;const t=de.state.activeCaipNetwork?.caipNetworkId,n=de.state.activeCaipNetwork?.chainNamespace,r=de.state.activeCaipAddress,i=r?Qt.getPlainAddress(r):void 0;if(Or.lastRetry&&!Qt.isAllowedRetry(Or.lastRetry,30*Ir.ONE_SEC_MS))return Or.loading=!1,[];try{if(i&&t&&n){const s=await uj.getMyTokensWithBalance();return Or.tokenBalances=s,Or.lastRetry=void 0,s}}catch(s){Or.lastRetry=Date.now(),e?.(s),lc.showError("Token Balance Unavailable")}finally{Or.loading=!1}return[]},fetchNetworkBalance(){if(Or.tokenBalances.length===0)return;const e=uj.mapBalancesToSwapTokens(Or.tokenBalances);if(!e)return;const t=e.find(n=>n.address===de.getActiveNetworkTokenAddress());t&&(Or.networkBalanceInUSD=t?JEe.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){vn.pushTransactionStack({});const t=e.receiverAddress,n=St.state.address,r=an.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await an.sendTransaction({chainNamespace:"eip155",to:t,address:n,data:"0x",value:r??BigInt(0)}),_r.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:St.state.preferredAccountTypes?.eip155===Ss.ACCOUNT_TYPES.SMART_ACCOUNT,token:gr.state.token?.symbol||"",amount:e.sendTokenAmount,network:de.state.activeCaipNetwork?.caipNetworkId||""}}),an._getClient()?.updateBalance("eip155"),gr.resetSend()},async sendERC20Token(e){vn.pushTransactionStack({onSuccess(){vn.replace("Account")}});const t=an.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(St.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=Qt.getPlainAddress(e.tokenAddress);await an.writeContract({fromAddress:St.state.address,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:e_e.getERC20Abi(n),chainNamespace:"eip155"}),gr.resetSend()}},async sendSolanaToken(){if(!gr.state.sendTokenAmount||!gr.state.receiverAddress)throw new Error("An amount and receiver address are required");vn.pushTransactionStack({onSuccess(){vn.replace("Account")}}),await an.sendTransaction({chainNamespace:"solana",to:gr.state.receiverAddress,value:gr.state.sendTokenAmount}),an._getClient()?.updateBalance("solana"),gr.resetSend()},resetSend(){Or.token=void 0,Or.sendTokenAmount=void 0,Or.receiverAddress=void 0,Or.receiverProfileImageUrl=void 0,Or.receiverProfileName=void 0,Or.loading=!1,Or.tokenBalances=[]}},gr=da($Ie),d4={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},oE={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ot=jr({chains:jEe(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),jIe={state:Ot,subscribe(e){return Ys(Ot,()=>{e(Ot)})},subscribeKey(e,t){return Ps(Ot,e,t)},subscribeChainProp(e,t,n){let r;return Ys(Ot.chains,()=>{const i=n||Ot.activeChain;if(i){const s=Ot.chains.get(i)?.[e];r!==s&&(r=s,t(s))}})},initialize(e,t,n){const{chainId:r,namespace:i}=Pt.getActiveNetworkProps(),s=t?.find(d=>d.id.toString()===r?.toString()),a=e.find(d=>d?.namespace===i)||e?.[0],c=e.map(d=>d.namespace).filter(d=>d!==void 0),u=nt.state.enableEmbedded?new Set([...c]):new Set([...t?.map(d=>d.chainNamespace)??[]]);(e?.length===0||!a)&&(Ot.noAdapters=!0),Ot.noAdapters||(Ot.activeChain=a?.namespace,Ot.activeCaipNetwork=s,de.setChainNetworkData(a?.namespace,{caipNetwork:s}),Ot.activeChain&&Yc.set({activeChain:a?.namespace})),u.forEach(d=>{const h=t?.filter(p=>p.chainNamespace===d);de.state.chains.set(d,{namespace:d,networkState:jr({...oE,caipNetwork:h?.[0]}),accountState:jr(d4),caipNetworks:h??[],...n}),de.setRequestedCaipNetworks(h??[],d)})},removeAdapter(e){if(Ot.activeChain===e){const t=Array.from(Ot.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&de.setActiveCaipNetwork(n)}}Ot.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:n},r){Ot.chains.set(e.namespace,{namespace:e.namespace,networkState:{...oE,caipNetwork:r[0]},accountState:d4,caipNetworks:r,connectionControllerClient:n,networkControllerClient:t}),de.setRequestedCaipNetworks(r?.filter(i=>i.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=Ot.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),Ot.chains.set(e.chainNamespace,{...t,caipNetworks:n}),de.setRequestedCaipNetworks(n,e.chainNamespace),bt.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=Ot.chains.get(e);if(n){const r=Ot.activeCaipNetwork?.id===t,i=[...n.caipNetworks?.filter(s=>s.id!==t)||[]];r&&n?.caipNetworks?.[0]&&de.setActiveCaipNetwork(n.caipNetworks[0]),Ot.chains.set(e,{...n,caipNetworks:i}),de.setRequestedCaipNetworks(i||[],e),i.length===0&&bt.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=Ot.chains.get(e);n&&(n.networkState={...n.networkState||oE,...t},Ot.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=Ot.chains.get(e);if(r){const i={...r.accountState||d4,...t};Ot.chains.set(e,{...r,accountState:i}),(Ot.chains.size===1||Ot.activeChain===e)&&(t.caipAddress&&(Ot.activeCaipAddress=t.caipAddress),St.replaceState(i))}},setChainNetworkData(e,t){if(!e)return;const n=Ot.chains.get(e);if(n){const r={...n.networkState||oE,...t};Ot.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){de.setChainAccountData(n,{[e]:t},r),e==="status"&&t==="disconnected"&&n&&bt.removeConnectorId(n)},setActiveNamespace(e){Ot.activeChain=e;const t=e?Ot.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(Ot.activeCaipAddress=t?.accountState?.caipAddress,Ot.activeCaipNetwork=n,de.setChainNetworkData(e,{caipNetwork:n}),Pt.setActiveCaipNetworkId(n?.caipNetworkId),Yc.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;Ot.activeChain!==e.chainNamespace&&de.setIsSwitchingNamespace(!0);const t=Ot.chains.get(e.chainNamespace);Ot.activeChain=e.chainNamespace,Ot.activeCaipNetwork=e,de.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),t?.accountState?.address?Ot.activeCaipAddress=`${e.chainNamespace}:${e.id}:${t?.accountState?.address}`:Ot.activeCaipAddress=void 0,de.setAccountProp("caipAddress",Ot.activeCaipAddress,e.chainNamespace),t&&St.replaceState(t.accountState),gr.resetSend(),Yc.set({activeChain:Ot.activeChain,selectedNetworkId:Ot.activeCaipNetwork?.caipNetworkId}),Pt.setActiveCaipNetworkId(e.caipNetworkId),!de.checkIfSupportedNetwork(e.chainNamespace)&&nt.state.enableNetworkSwitch&&!nt.state.allowUnsupportedChain&&!an.state.wcBasic&&de.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=Ot.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==de.state.activeChain,n=de.getNetworkData(e)?.caipNetwork,r=de.getCaipNetworkByNamespace(e,n?.id);t&&r&&await de.switchActiveNetwork(r)},async switchActiveNetwork(e){const n=!de.state.chains.get(de.state.activeChain)?.caipNetworks?.some(i=>i.id===Ot.activeCaipNetwork?.id),r=de.getNetworkControllerClient(e.chainNamespace);if(r){try{await r.switchCaipNetwork(e),n&&Wn.close()}catch{vn.goBack()}_r.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||Ot.activeChain,n=Ot.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||Ot.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=Ot.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(e,t){let n=Ot.activeChain;if(t&&(n=t),!n)return;const r=Ot.chains.get(n)?.accountState;if(r)return r[e]},getNetworkProp(e,t){const n=Ot.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=Ot.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return Qt.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const e=[];return Ot.chains.forEach(t=>{const n=de.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){de.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=de.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));bt.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const e=[];return Ot.chains.forEach(t=>{const n=de.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(){return Ot.activeCaipNetwork},getActiveCaipAddress(){return Ot.activeCaipAddress},getApprovedCaipNetworkIds(e){return Ot.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(e){const n=await de.getNetworkControllerClient()?.getApprovedCaipNetworksData();de.setAdapterNetworkState(e,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const n=t||Ot.activeCaipNetwork,r=de.getRequestedCaipNetworks(e);return r.length?r?.some(i=>i.id===n?.id):!0},checkIfSupportedChainId(e){return Ot.activeChain?de.getRequestedCaipNetworks(Ot.activeChain)?.some(n=>n.id===e):!0},setSmartAccountEnabledNetworks(e,t){de.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){const e=eV.caipNetworkIdToNumber(Ot.activeCaipNetwork?.caipNetworkId),t=Ot.activeChain;return!t||!e?!1:!!de.getNetworkProp("smartAccountEnabledNetworks",t)?.includes(Number(e))},getActiveNetworkTokenAddress(){const e=Ot.activeCaipNetwork?.chainNamespace||"eip155",t=Ot.activeCaipNetwork?.id||1,n=Ir.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`},showUnsupportedChainUI(){Wn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=Ot.activeCaipNetwork;return!!(e?.chainNamespace&&Ir.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){de.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");Ot.activeCaipAddress=void 0,de.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),bt.removeConnectorId(t)},async disconnect(e){const t=b_e(e);try{gr.resetSend();const n=await Promise.allSettled(t.map(async([i,s])=>{try{const{caipAddress:o}=de.getAccountData(i)||{};o&&s.connectionControllerClient?.disconnect&&await s.connectionControllerClient.disconnect(i),de.resetAccount(i),de.resetNetwork(i)}catch(o){throw new Error(`Failed to disconnect chain ${i}: ${o.message}`)}}));an.resetWcConnection();const r=n.filter(i=>i.status==="rejected");if(r.length>0)throw new Error(r.map(i=>i.reason.message).join(", "));Pt.deleteConnectedSocialProvider(),e?bt.removeConnectorId(e):bt.resetConnectorIds(),_r.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),_r.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(e){Ot.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(Ot.chains.forEach(n=>{Mt.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?Ot.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){return e?de.state.chains.get(e)?.accountState:St.state},getNetworkData(e){const t=e||Ot.activeChain;if(t)return de.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=de.state.chains.get(e),r=n?.caipNetworks?.find(i=>i.id===t);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=bt.state.filterByNamespace;return(e?[Ot.chains.get(e)]:Array.from(Ot.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?de.getRequestedCaipNetworks(e):de.getAllRequestedCaipNetworks()}},de=da(jIe),FIe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},NG=Qt.getBlockchainApiUrl(),vo=jr({clientId:null,api:new Rg({baseUrl:NG,clientId:null}),supportedChains:{http:[],ws:[]}}),hn={state:vo,async get(e){const{st:t,sv:n}=hn.getSdkProperties(),r=nt.state.projectId,i={...e.params||{},st:t,sv:n,projectId:r};return vo.api.get({...e,params:i})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=nt.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{vo.supportedChains.http.length||await hn.getSupportedNetworks()}catch{return!1}return vo.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await hn.get({path:"v1/supported-chains"});return vo.supportedChains=e,e}catch{return vo.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await hn.isNetworkSupported(t))return{avatar:"",name:""};const r=Pt.getIdentityFromCacheForAddress(e);if(r)return r;const i=await hn.get({path:`/v1/identity/${e}`,params:{sender:de.state.activeCaipAddress?Qt.getPlainAddress(de.state.activeCaipAddress):void 0}});return Pt.updateIdentityCache({address:e,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:e,cursor:t,onramp:n,signal:r,cache:i,chainId:s}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:`/v1/account/${e}/history`,params:{cursor:t,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:i}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?vo.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:nt.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=hn.getSdkProperties();if(!await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return hn.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:i}){if(!await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return vo.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:Ir.CONVERT_SLIPPAGE_TOLERANCE},projectId:nt.state.projectId,from:t,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:i}=hn.getSdkProperties();if(!await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return hn.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:i}})},async getBalance(e,t,n){const{st:r,sv:i}=hn.getSdkProperties();if(!await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))return lc.showError("Token Balance Unavailable"),{balances:[]};const o=`${t}:${e}`,a=Pt.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await hn.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:i}});return Pt.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:`/v1/profile/reverse/${e}`,params:{sender:St.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?vo.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?(await vo.api.post({path:"/v1/generators/onrampurl",params:{projectId:nt.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await hn.get({path:"/v1/onramp/options"})}catch{return FIe}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?await vo.api.post({path:"/v1/onramp/quote",params:{projectId:nt.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:t.id},networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?hn.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await hn.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?vo.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:nt.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){vo.clientId=e,vo.api=new Rg({baseUrl:NG,clientId:e})}},Ta=jr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),KIe={state:Ta,replaceState(e){e&&Object.assign(Ta,Ah(e))},subscribe(e){return de.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,n){let r;return de.subscribeChainProp("accountState",i=>{if(i){const s=i[e];r!==s&&(r=s,t(s))}},n)},setStatus(e,t){de.setAccountProp("status",e,t)},getCaipAddress(e){return de.getAccountProp("caipAddress",e)},setCaipAddress(e,t){const n=e?Qt.getPlainAddress(e):void 0;t===de.state.activeChain&&(de.state.activeCaipAddress=e),de.setAccountProp("caipAddress",e,t),de.setAccountProp("address",n,t)},setBalance(e,t,n){de.setAccountProp("balance",e,n),de.setAccountProp("balanceSymbol",t,n)},setProfileName(e,t){de.setAccountProp("profileName",e,t)},setProfileImage(e,t){de.setAccountProp("profileImage",e,t)},setUser(e,t){de.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){de.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){de.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){de.setAccountProp("currentTab",e,de.state.activeChain)},setTokenBalance(e,t){e&&de.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){de.setAccountProp("shouldUpdateToAddress",e,t)},setAllAccounts(e,t){de.setAccountProp("allAccounts",e,t)},addAddressLabel(e,t,n){const r=de.getAccountProp("addressLabels",n)||new Map;r.set(e,t),de.setAccountProp("addressLabels",r,n)},removeAddressLabel(e,t){const n=de.getAccountProp("addressLabels",t)||new Map;n.delete(e),de.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo(e,t){de.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){de.setAccountProp("preferredAccountTypes",{...Ta.preferredAccountTypes,[t]:e},t)},setPreferredAccountTypes(e){Ta.preferredAccountTypes=e},setSocialProvider(e,t){e&&de.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){de.setAccountProp("socialWindow",e?Ah(e):void 0,t)},setFarcasterUrl(e,t){de.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){Ta.balanceLoading=!0;const t=de.state.activeCaipNetwork?.caipNetworkId,n=de.state.activeCaipNetwork?.chainNamespace,r=de.state.activeCaipAddress,i=r?Qt.getPlainAddress(r):void 0;if(Ta.lastRetry&&!Qt.isAllowedRetry(Ta.lastRetry,30*Ir.ONE_SEC_MS))return Ta.balanceLoading=!1,[];try{if(i&&t&&n){const o=(await hn.getBalance(i,t)).balances.filter(a=>a.quantity.decimals!=="0");return St.setTokenBalance(o,n),Ta.lastRetry=void 0,Ta.balanceLoading=!1,o}}catch(s){Ta.lastRetry=Date.now(),e?.(s),lc.showError("Token Balance Unavailable")}finally{Ta.balanceLoading=!1}return[]},resetAccount(e){de.resetAccount(e)}},St=da(KIe),wo=jr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),WIe={state:wo,subscribe(e){return Ys(wo,()=>e(wo))},subscribeKey(e,t){return Ps(wo,e,t)},async open(e){const t=St.state.status==="connected";an.state.wcBasic?Zt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Zt.prefetch({fetchConnectorImages:!t,fetchFeaturedWallets:!t,fetchRecommendedWallets:!t}),e?.namespace?(await de.switchActiveNamespace(e.namespace),Wn.setLoading(!0,e.namespace)):Wn.setLoading(!0),bt.setFilterByNamespace(e?.namespace);const n=de.getAccountData(e?.namespace)?.caipAddress,r=de.state.noAdapters;nt.state.manualWCControl||r&&!n?Qt.isMobile()?vn.reset("AllWallets"):vn.reset("ConnectingWalletConnectBasic"):e?.view?vn.reset(e.view,e.data):n?vn.reset("Account"):vn.reset("Connect"),wo.open=!0,Yc.set({open:!0}),_r.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(){const e=nt.state.enableEmbedded,t=!!de.state.activeCaipAddress;wo.open&&_r.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),wo.open=!1,Wn.clearLoading(),e?t?vn.replace("Account"):vn.push("Connect"):Yc.set({open:!1}),an.resetUri()},setLoading(e,t){t&&wo.loadingNamespaceMap.set(t,e),wo.loading=e,Yc.set({loading:e})},clearLoading(){wo.loadingNamespaceMap.clear(),wo.loading=!1},shake(){wo.shake||(wo.shake=!0,setTimeout(()=>{wo.shake=!1},500))}},Wn=da(WIe),cv={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},UT={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},HIe={providers:rV,selectedProvider:null,error:null,purchaseCurrency:cv,paymentCurrency:UT,purchaseCurrencies:[cv],paymentCurrencies:[],quotesLoading:!1},tr=jr(HIe),zIe={state:tr,subscribe(e){return Ys(tr,()=>e(tr))},subscribeKey(e,t){return Ps(tr,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){const t=de.state.activeChain===Mt.CHAIN.SOLANA?"SOL":"USDC",n=St.state.address??"",r=new URL(e.url);r.searchParams.append("publicKey",t_e),r.searchParams.append("destinationCurrencyCode",t),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",nt.state.projectId),tr.selectedProvider={...e,url:r.toString()}}else tr.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,n=rV.filter(r=>t.includes(r.name));tr.providers=n}else tr.providers=[]},setPurchaseCurrency(e){tr.purchaseCurrency=e},setPaymentCurrency(e){tr.paymentCurrency=e},setPurchaseAmount(e){BT.state.purchaseAmount=e},setPaymentAmount(e){BT.state.paymentAmount=e},async getAvailableCurrencies(){const e=await hn.getOnrampOptions();tr.purchaseCurrencies=e.purchaseCurrencies,tr.paymentCurrencies=e.paymentCurrencies,tr.paymentCurrency=e.paymentCurrencies[0]||UT,tr.purchaseCurrency=e.purchaseCurrencies[0]||cv,await Zt.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await Zt.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){tr.quotesLoading=!0;try{const e=await hn.getOnrampQuote({purchaseCurrency:tr.purchaseCurrency,paymentCurrency:tr.paymentCurrency,amount:tr.paymentAmount?.toString()||"0",network:tr.purchaseCurrency?.symbol});return tr.quotesLoading=!1,tr.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return tr.error=e.message,tr.quotesLoading=!1,null}finally{tr.quotesLoading=!1}},resetState(){tr.selectedProvider=null,tr.error=null,tr.purchaseCurrency=cv,tr.paymentCurrency=UT,tr.purchaseCurrencies=[cv],tr.paymentCurrencies=[],tr.paymentAmount=void 0,tr.purchaseAmount=void 0,tr.quotesLoading=!1}},BT=da(zIe),dj=2147483648,qIe={convertEVMChainIdToCoinType(e){if(e>=dj)throw new Error("Invalid chainId");return(dj|e)>>>0}},Ra=jr({suggestions:[],loading:!1}),VIe={state:Ra,subscribe(e){return Ys(Ra,()=>e(Ra))},subscribeKey(e,t){return Ps(Ra,e,t)},async resolveName(e){try{return await hn.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await hn.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{Ra.loading=!0,Ra.suggestions=[];const t=await hn.getEnsNameSuggestions(e);return Ra.suggestions=t.suggestions.map(n=>({...n,name:n.name}))||[],Ra.suggestions}catch(t){const n=lv.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{Ra.loading=!1}},async getNamesForAddress(e){try{if(!de.state.activeCaipNetwork)return[];const n=Pt.getEnsFromCacheForAddress(e);if(n)return n;const r=await hn.reverseLookupEnsName({address:e});return Pt.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=lv.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=de.state.activeCaipNetwork;if(!t)throw new Error("Network not found");const n=St.state.address,r=bt.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Ra.loading=!0;try{const i=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});vn.pushTransactionStack({onCancel(){vn.replace("RegisterAccountName")}});const s=await an.signMessage(i);Ra.loading=!1;const o=t.id;if(!o)throw new Error("Network not found");const a=qIe.convertEVMChainIdToCoinType(Number(o));await hn.registerEnsName({coinType:a,address:n,signature:s,message:i}),St.setProfileName(e,t.chainNamespace),vn.replace("RegisterAccountNameSuccess")}catch(i){const s=lv.parseEnsApiError(i,`Error registering name ${e}`);throw vn.replace("RegisterAccountName"),new Error(s)}finally{Ra.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},lv=da(VIe),ag={Socials:["google","github","apple","facebook","x","discord","farcaster"],Email:"email",WalletButtonsIds:{coinbase:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",metamask:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",trust:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",okx:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",bitget:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",binance:"8a0ee50d1f22f6651afcae7eb4253e52a3310b90af5daef78a8c4929a9bb99d4",uniswap:"c03dfee351b6fcc421b4494ea33b9d4b92a984f87aa76d1663bb28705e95034a",safepal:"0b415a746fb9ee99cce155c2ceca0c6f6061b1dbca2d722b3ba16381d0562150",rainbow:"1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369",bybit:"15c8b91ade1a4e58f3ce4e7a0dd7f42b47db0c8df7e0d84f63eb39bcb96c4e0f",tokenpocket:"20459438007b75f4f4acb98bf29aa3b800550309646d375da5fd4aac6c2a2c66",ledger:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927","timeless-x":"344d0e58b139eb1b6da0c29ea71d52a8eace8b57897c6098cb9b46012665c193",safe:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",zerion:"ecc4036f814562b41a5268adc86270fba1365471402006302e70169465b7ac18",oneinch:"c286eebc742a537cd1d6818363e9dc53b21759a1e8e5d9b263d0c03ec7703576","crypto-com":"f2436c67184f158d1beda5df53298ee84abfc367581e4505134b5bcf5f46697d",imtoken:"ef333840daf915aafdc4a004525502d6d49d77bd9c65e0642dbaefb3c2893bef",kraken:"18450873727504ae9315a084fa7624b5297d2fe5880f0982979c17345a138277",ronin:"541d5dcd4ede02f3afaf75bf8e3e4c4f1fb09edb5fa6c4377ebf31c2785d9adf",robinhood:"8837dd9413b1d9b585ee937d27a816590248386d9dbf59f5cd3422dbbb65683e",exodus:"e9ff15be73584489ca4a66f64d32c4537711797e30b6660dbcb71ea72a42b1f4",argent:"bc949c5d968ae81310268bf9193f9c9fb7bb4e1283e1284af8f2bd4992535fd6",jupiter:"0ef262ca2a56b88d179c93a21383fee4e135bd7bc6680e5c2356ff8e38301037",solflare:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",phantom:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",coin98:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01","magic-eden":"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",backpack:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",frontier:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",xverse:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",leather:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",haha:"719bd888109f5e8dd23419b20e749900ce4d2fc6858cf588395f19c82fd036b3"}},XIe=Qt.getApiUrl(),GIe=new Rg({baseUrl:XIe,clientId:null}),yy=jr({walletButtons:[],fetching:!1}),B0={state:yy,subscribeKey(e,t){return Ps(yy,e,t)},async fetchWalletButtons(){if(yy.fetching)return;yy.fetching=!0;const e=Object.values(ag.WalletButtonsIds),{data:t}=await GIe.get({path:"/getWallets",params:{...Zt._getSdkProperties(),page:"1",entries:String(e.length),include:e?.join(",")}}),n=t.map(r=>r.image_id).filter(Boolean);await Promise.allSettled(n.map(r=>Zt._fetchWalletImage(r))),yy.walletButtons=t}},vy=jr({ready:!1,pending:!1}),f4={state:vy,setReady(e){vy.ready=e},setPending(e){vy.pending=e},setError(e){vy.error=e},setData(e){vy.data=e}},Oo={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},_C={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Mt.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Mt.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Mt.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Mt.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Mt.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Mt.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Mt.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Mt.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Mt.CONNECTOR_ID.COINBASE]:"Coinbase",[Mt.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Mt.CONNECTOR_ID.LEDGER]:"Ledger",[Mt.CONNECTOR_ID.SAFE]:"Safe"}},U2={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${Oo.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()}},JIe=new AbortController,Kc={EmbeddedWalletAbortController:JIe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${YIe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function YIe(){return typeof window<"u"}const ZIe={createLogger(e,t="error"){const n=Pg({level:t}),{logger:r}=q5({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){e(s,...i);return}e(void 0,...i)},r}},QIe="rpc.walletconnect.org";function fj(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const h4=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],g0={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===QIe}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:Mt.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${Mt.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return h4.includes(t)?fj(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const i=this.getChainNamespace(e),s=this.getCaipNetworkId(e),o=e.rpcUrls.default.http?.[0],a=this.getDefaultRpcUrl(e,s,n),c=e?.rpcUrls?.chainDefault?.http?.[0]||o,u=r?.[s]?.map(p=>p.url)||[],d=[...u,a],h=[...u];return c&&!h.includes(c)&&h.push(c),{...e,chainNamespace:i,caipNetworkId:s,assets:{imageId:_C.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:d},chainDefault:{http:h}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(i=>g0.extendCaipNetwork(i,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(i=>{r.push(sE(i.url,i.config))}),h4.includes(e.caipNetworkId)&&r.push(sE(fj(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(i=>{r.push(sE(i))}),cj(r)},extendWagmiTransports(e,t,n){if(h4.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return cj([n,sE(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:Mt.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=Pt.getActiveCaipNetworkId(),n=de.getAllRequestedCaipNetworks(),r=Array.from(de.state.chains?.keys()||[]),i=t?.split(":")[0],s=i?r.includes(i):!1,o=n?.find(c=>c.caipNetworkId===t);return s&&!o&&t?this.getUnsupportedNetwork(t):o||e||n?.[0]}},CC={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},bo=jr({providers:{...CC},providerIds:{...CC}}),Nr={state:bo,subscribeKey(e,t){return Ps(bo,e,t)},subscribe(e){return Ys(bo,()=>{e(bo)})},subscribeProviders(e){return Ys(bo.providers,()=>e(bo.providers))},setProvider(e,t){t&&(bo.providers[e]=Ah(t))},getProvider(e){return bo.providers[e]},setProviderId(e,t){t&&(bo.providerIds[e]=t)},getProviderId(e){if(e)return bo.providerIds[e]},reset(){bo.providers={...CC},bo.providerIds={...CC}},resetChain(e){bo.providers[e]=void 0,bo.providerIds[e]=void 0}};var $T;(function(e){e.Google="google",e.Github="github",e.Apple="apple",e.Facebook="facebook",e.X="x",e.Discord="discord",e.Farcaster="farcaster"})($T||($T={}));const eDe=1e3,Wl={connectWalletConnect({walletConnect:e,wallet:t,connector:n}){return new Promise(async(r,i)=>{e&&bt.setActiveConnector(n),await Wn.open(),Qt.isMobile()&&e?vn.replace("AllWallets"):vn.replace("ConnectingWalletConnect",{wallet:t});const s=Wn.subscribeKey("open",a=>{a||(vn.state.view!=="Connect"&&vn.replace("Connect"),s(),i(new Error("Modal closed")))}),o=de.subscribeKey("activeCaipAddress",a=>{a&&(Wn.close(),o(),r(La.parseCaipAddress(a)))})})},connectExternal(e){return new Promise((t,n)=>{const r=de.subscribeKey("activeCaipAddress",i=>{i&&(Wn.close(),r(),t(La.parseCaipAddress(i)))});an.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial(e){let t=St.state.socialWindow,n=St.state.socialProvider,r=!1,i=null;const s=de.subscribeKey("activeCaipAddress",o=>{o&&(Wn.close(),s())});return new Promise((o,a)=>{async function c(d){if(d.data?.resultUri)if(d.origin===Mt.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",c,!1);try{const h=bt.getAuthConnector();if(h&&!r){t&&(t.close(),St.setSocialWindow(void 0,de.state.activeChain),t=St.state.socialWindow),r=!0;const p=d.data.resultUri;if(n&&_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:n}}),await an.connectExternal({id:h.id,type:h.type,socialUri:p},h.chain),n){Pt.setConnectedSocialProvider(n),await an.connectExternal(h,h.chain);const m=de.state.activeCaipAddress;if(!m){a(new Error("Failed to connect"));return}o(La.parseCaipAddress(m)),_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}})}}}catch{a(new Error("Failed to connect")),n&&_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:n}})}}else n&&_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:n}})}async function u(){if(e&&(St.setSocialProvider(e,de.state.activeChain),n=St.state.socialProvider,_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:n}})),n===$T.Farcaster){Wn.open({view:"ConnectingFarcaster"});const d=Wn.subscribeKey("open",p=>{!p&&e==="farcaster"&&(a(new Error("Popup closed")),vn.push("Connect"),d())}),h=bt.getAuthConnector();if(h&&!St.state.farcasterUrl)try{const{url:p}=await h.provider.getFarcasterUri();St.setFarcasterUrl(p,de.state.activeChain)}catch{a(new Error("Failed to connect to farcaster"))}}else{const d=bt.getAuthConnector();i=Qt.returnOpenHref(`${Mt.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(d&&n){const{uri:h}=await d.provider.getSocialRedirectUri({provider:n});if(i&&h){St.setSocialWindow(i,de.state.activeChain),t=St.state.socialWindow,i.location.href=h;const p=setInterval(()=>{t?.closed&&!r&&(a(new Error("Popup closed")),clearInterval(p))},1e3);window.addEventListener("message",c,!1)}else i?.close(),a(new Error("Failed to initiate social connection"))}}catch{a(new Error("Failed to initiate social connection")),i?.close()}}}u()})},connectEmail(){return new Promise(async(e,t)=>{await Wn.open(),vn.push("EmailLogin");const n=Wn.subscribeKey("open",i=>{i||(vn.state.view!=="Connect"&&vn.push("Connect"),n(),t(new Error("Modal closed")))}),r=de.subscribeKey("activeCaipAddress",i=>{i&&(Wn.close(),r(),e(La.parseCaipAddress(i)))})})},async updateEmail(){const e=Pt.getConnectedConnectorId(de.state.activeChain),t=bt.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==Mt.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await Wn.open(),vn.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,i)=>{const s=setInterval(()=>{const a=t.provider.getEmail()??"";a!==n&&(Wn.close(),clearInterval(s),o(),r({email:a}))},eDe),o=Wn.subscribeKey("open",a=>{a||(vn.state.view!=="Connect"&&vn.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})}},Zu={getWalletButton(e){const t=ag.WalletButtonsIds;if(e in t)return B0.state.walletButtons.find(n=>n.id===t[e])},isWalletButtonReady(e){return e in ag.WalletButtonsIds?!!Zu.getWalletButton(e):!0}};let tDe=class{constructor(){this.isReady()||B0.fetchWalletButtons().then(()=>{B0.state.walletButtons.length&&f4.setReady(!0)})}isReady(){return f4.state.ready}subscribeIsReady(t){B0.subscribeKey("walletButtons",n=>{n.length?(f4.setReady(!0),t({isReady:!0})):t({isReady:!1})})}async connect(t){const n=bt.state.connectors;if(t===ag.Email)return Wl.connectEmail();if(ag.Socials.some(s=>s===t))return Wl.connectSocial(t);const r=Zu.getWalletButton(t),i=r?bt.getConnector(r.id,r.rdns):void 0;return i?Wl.connectExternal(i):Wl.connectWalletConnect({walletConnect:t==="walletConnect",connector:n.find(s=>s.id==="walletConnect"),wallet:r})}async updateEmail(){return Wl.updateEmail()}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E_=globalThis,v6=E_.ShadowRoot&&(E_.ShadyCSS===void 0||E_.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,w6=Symbol(),hj=new WeakMap;let PG=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==w6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(v6&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=hj.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&hj.set(n,t))}return t}toString(){return this.cssText}};const Pa=e=>new PG(typeof e=="string"?e:e+"",void 0,w6),Ka=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new PG(n,e,w6)},nDe=(e,t)=>{if(v6)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=E_.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},pj=v6?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Pa(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:rDe,defineProperty:iDe,getOwnPropertyDescriptor:sDe,getOwnPropertyNames:oDe,getOwnPropertySymbols:aDe,getPrototypeOf:cDe}=Object,B2=globalThis,gj=B2.trustedTypes,lDe=gj?gj.emptyScript:"",uDe=B2.reactiveElementPolyfillSupport,uv=(e,t)=>e,xC={toAttribute(e,t){switch(t){case Boolean:e=e?lDe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},b6=(e,t)=>!rDe(e,t),mj={attribute:!0,type:String,converter:xC,reflect:!1,useDefault:!1,hasChanged:b6};Symbol.metadata??=Symbol("metadata"),B2.litPropertyMetadata??=new WeakMap;let m0=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=mj){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&iDe(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=sDe(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??mj}static _$Ei(){if(this.hasOwnProperty(uv("elementProperties")))return;const t=cDe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(uv("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(uv("properties"))){const n=this.properties,r=[...oDe(n),...aDe(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(pj(i))}else t!==void 0&&n.push(pj(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return nDe(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:xC).toAttribute(n,r.type);this._$Em=t,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(t,n){const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:xC;this._$Em=i,this[i]=o.fromAttribute(n,s.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){const i=this.constructor,s=this[t];if(r??=i.getPropertyOptions(t),!((r.hasChanged??b6)(s,n)||r.useDefault&&r.reflect&&s===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,o??n??this[t]),s!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),i===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,s]of r){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(t){}firstUpdated(t){}};m0.elementStyles=[],m0.shadowRootOptions={mode:"open"},m0[uv("elementProperties")]=new Map,m0[uv("finalized")]=new Map,uDe?.({ReactiveElement:m0}),(B2.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E6=globalThis,SC=E6.trustedTypes,yj=SC?SC.createPolicy("lit-html",{createHTML:e=>e}):void 0,IG="$lit$",td=`lit$${Math.random().toFixed(9).slice(2)}$`,DG="?"+td,dDe=`<${DG}>`,Dh=document,d1=()=>Dh.createComment(""),f1=e=>e===null||typeof e!="object"&&typeof e!="function",_6=Array.isArray,fDe=e=>_6(e)||typeof e?.[Symbol.iterator]=="function",p4=`[ 	
\f\r]`,wy=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,vj=/-->/g,wj=/>/g,jf=RegExp(`>|${p4}(?:([^\\s"'>=/]+)(${p4}*=${p4}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),bj=/'/g,Ej=/"/g,kG=/^(?:script|style|textarea|title)$/i,MG=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),bs=MG(1),EBe=MG(2),nu=Symbol.for("lit-noChange"),qi=Symbol.for("lit-nothing"),_j=new WeakMap,uh=Dh.createTreeWalker(Dh,129);function LG(e,t){if(!_6(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return yj!==void 0?yj.createHTML(t):t}const hDe=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":t===3?"<math>":"",o=wy;for(let a=0;a<n;a++){const c=e[a];let u,d,h=-1,p=0;for(;p<c.length&&(o.lastIndex=p,d=o.exec(c),d!==null);)p=o.lastIndex,o===wy?d[1]==="!--"?o=vj:d[1]!==void 0?o=wj:d[2]!==void 0?(kG.test(d[2])&&(i=RegExp("</"+d[2],"g")),o=jf):d[3]!==void 0&&(o=jf):o===jf?d[0]===">"?(o=i??wy,h=-1):d[1]===void 0?h=-2:(h=o.lastIndex-d[2].length,u=d[1],o=d[3]===void 0?jf:d[3]==='"'?Ej:bj):o===Ej||o===bj?o=jf:o===vj||o===wj?o=wy:(o=jf,i=void 0);const m=o===jf&&e[a+1].startsWith("/>")?" ":"";s+=o===wy?c+dDe:h>=0?(r.push(u),c.slice(0,h)+IG+c.slice(h)+td+m):c+td+(h===-2?a:m)}return[LG(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let jT=class UG{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[u,d]=hDe(t,n);if(this.el=UG.createElement(u,r),uh.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=uh.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(IG)){const p=d[o++],m=i.getAttribute(h).split(td),y=/([.?@])?(.*)/.exec(p);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?gDe:y[1]==="?"?mDe:y[1]==="@"?yDe:$2}),i.removeAttribute(h)}else h.startsWith(td)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(kG.test(i.tagName)){const h=i.textContent.split(td),p=h.length-1;if(p>0){i.textContent=SC?SC.emptyScript:"";for(let m=0;m<p;m++)i.append(h[m],d1()),uh.nextNode(),c.push({type:2,index:++s});i.append(h[p],d1())}}}else if(i.nodeType===8)if(i.data===DG)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(td,h+1))!==-1;)c.push({type:7,index:s}),h+=td.length-1}s++}}static createElement(t,n){const r=Dh.createElement("template");return r.innerHTML=t,r}};function cg(e,t,n=e,r){if(t===nu)return t;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=f1(t)?void 0:t._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(t=cg(e,i._$AS(e,t.values),i,r)),t}let pDe=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=(t?.creationScope??Dh).importNode(n,!0);uh.currentNode=i;let s=uh.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new C6(s,s.nextSibling,this,t):c.type===1?u=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(u=new vDe(s,this,t)),this._$AV.push(u),c=r[++a]}o!==c?.index&&(s=uh.nextNode(),o++)}return uh.currentNode=Dh,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}},C6=class BG{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=qi,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=cg(this,t,n),f1(t)?t===qi||t==null||t===""?(this._$AH!==qi&&this._$AR(),this._$AH=qi):t!==this._$AH&&t!==nu&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):fDe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==qi&&f1(this._$AH)?this._$AA.nextSibling.data=t:this.T(Dh.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=jT.createElement(LG(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new pDe(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(t){let n=_j.get(t.strings);return n===void 0&&_j.set(t.strings,n=new jT(t)),n}k(t){_6(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new BG(this.O(d1()),this.O(d1()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t&&t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}},$2=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=qi,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=qi}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=cg(this,t,n,0),o=!f1(t)||t!==this._$AH&&t!==nu,o&&(this._$AH=t);else{const a=t;let c,u;for(t=s[0],c=0;c<s.length-1;c++)u=cg(this,a[r+c],n,c),u===nu&&(u=this._$AH[c]),o||=!f1(u)||u!==this._$AH[c],u===qi?t=qi:t!==qi&&(t+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(t)}j(t){t===qi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},gDe=class extends $2{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===qi?void 0:t}},mDe=class extends $2{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==qi)}},yDe=class extends $2{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=cg(this,t,n,0)??qi)===nu)return;const r=this._$AH,i=t===qi&&r!==qi||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==qi&&(r===qi||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}},vDe=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){cg(this,t)}};const wDe=E6.litHtmlPolyfillSupport;wDe?.(jT,C6),(E6.litHtmlVersions??=[]).push("3.3.0");const bDe=(e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new C6(t.insertBefore(d1(),s),s,void 0,n??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const x6=globalThis;let fc=class extends m0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=bDe(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return nu}};fc._$litElement$=!0,fc.finalized=!0,x6.litElementHydrateSupport?.({LitElement:fc});const EDe=x6.litElementPolyfillSupport;EDe?.({LitElement:fc});(x6.litElementVersions??=[]).push("4.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _De={attribute:!0,type:String,converter:xC,reflect:!1,hasChanged:b6},CDe=(e=_De,t,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((e=Object.create(e)).wrapped=!0),s.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.C(o,void 0,e,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function hr(e){return(t,n)=>typeof n=="object"?CDe(e,t,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Bg(e){return hr({...e,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const by=e=>e??qi;let dv,ld,ud;function RBe(e,t){dv=document.createElement("style"),ld=document.createElement("style"),ud=document.createElement("style"),dv.textContent=$0(e).core.cssText,ld.textContent=$0(e).dark.cssText,ud.textContent=$0(e).light.cssText,document.head.appendChild(dv),document.head.appendChild(ld),document.head.appendChild(ud),$G(t)}function $G(e){ld&&ud&&(e==="light"?(ld.removeAttribute("media"),ud.media="enabled"):(ud.removeAttribute("media"),ld.media="enabled"))}function xDe(e){dv&&ld&&ud&&(dv.textContent=$0(e).core.cssText,ld.textContent=$0(e).dark.cssText,ud.textContent=$0(e).light.cssText)}function $0(e){return{core:Ka`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Pa(e?.["--w3m-color-mix-strength"]?`${e["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Pa(e?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Pa(e?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${Pa(e?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${Pa(e?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Ka`
      :root {
        --w3m-color-mix: ${Pa(e?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${Pa(Hl(e,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Pa(Hl(e,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Ka`
      :root {
        --w3m-color-mix: ${Pa(e?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${Pa(Hl(e,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Pa(Hl(e,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const $g=Ka`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,jG=Ka`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,FG=Ka`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;function SDe(e,t){const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(i){customElements.get(e)||customElements.define(e,i)}}}function ODe(e,t){return customElements.get(e)||customElements.define(e,t),t}function np(e){return function(n){return typeof n=="function"?ODe(e,n):SDe(e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ADe=e=>e===null||typeof e!="object"&&typeof e!="function",TDe=e=>e.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const KG={ATTRIBUTE:1,CHILD:2},WG=e=>(...t)=>({_$litDirective$:e,values:t});let HG=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fv=(e,t)=>{const n=e._$AN;if(n===void 0)return!1;for(const r of n)r._$AO?.(t,!1),fv(r,t);return!0},OC=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while(n?.size===0)},zG=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),PDe(t)}};function RDe(e){this._$AN!==void 0?(OC(this),this._$AM=e,zG(this)):this._$AM=e}function NDe(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let s=n;s<r.length;s++)fv(r[s],!1),OC(r[s]);else r!=null&&(fv(r,!1),OC(r));else fv(this,e)}const PDe=e=>{e.type==KG.CHILD&&(e._$AP??=NDe,e._$AQ??=RDe)};let IDe=class extends HG{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),zG(this),this.isConnected=t._$AU}_$AO(t,n=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),n&&(fv(this,t),OC(this))}setValue(t){if(TDe(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class DDe{constructor(t){this.G=t}disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}}class kDe{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(t=>this.Z=t)}resume(){this.Z?.(),this.Y=this.Z=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Cj=e=>!ADe(e)&&typeof e.then=="function",xj=1073741823;class MDe extends IDe{constructor(){super(...arguments),this._$Cwt=xj,this._$Cbt=[],this._$CK=new DDe(this),this._$CX=new kDe}render(...t){return t.find(n=>!Cj(n))??nu}update(t,n){const r=this._$Cbt;let i=r.length;this._$Cbt=n;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<n.length&&!(a>this._$Cwt);a++){const c=n[a];if(!Cj(c))return this._$Cwt=a,c;a<i&&c===r[a]||(this._$Cwt=xj,i=0,Promise.resolve(c).then(async u=>{for(;o.get();)await o.get();const d=s.deref();if(d!==void 0){const h=d._$Cbt.indexOf(c);h>-1&&h<d._$Cwt&&(d._$Cwt=h,d.setValue(u))}}))}return nu}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const LDe=WG(MDe);class UDe{constructor(){this.cache=new Map}set(t,n){this.cache.set(t,n)}get(t){return this.cache.get(t)}has(t){return this.cache.has(t)}delete(t){this.cache.delete(t)}clear(){this.cache.clear()}}const g4=new UDe,BDe=Ka`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;var fw=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Sj={add:async()=>(await it(async()=>{const{addSvg:e}=await import("./add-B1QKvwZo.js");return{addSvg:e}},__vite__mapDeps([2,1]),import.meta.url)).addSvg,allWallets:async()=>(await it(async()=>{const{allWalletsSvg:e}=await import("./all-wallets-DLRmS_CS.js");return{allWalletsSvg:e}},__vite__mapDeps([3,1]),import.meta.url)).allWalletsSvg,arrowBottomCircle:async()=>(await it(async()=>{const{arrowBottomCircleSvg:e}=await import("./arrow-bottom-circle-BTQDYGEU.js");return{arrowBottomCircleSvg:e}},__vite__mapDeps([4,1]),import.meta.url)).arrowBottomCircleSvg,appStore:async()=>(await it(async()=>{const{appStoreSvg:e}=await import("./app-store-w1xvZxWQ.js");return{appStoreSvg:e}},__vite__mapDeps([5,1]),import.meta.url)).appStoreSvg,apple:async()=>(await it(async()=>{const{appleSvg:e}=await import("./apple-C6D06fkV.js");return{appleSvg:e}},__vite__mapDeps([6,1]),import.meta.url)).appleSvg,arrowBottom:async()=>(await it(async()=>{const{arrowBottomSvg:e}=await import("./arrow-bottom-C-0qsjkR.js");return{arrowBottomSvg:e}},__vite__mapDeps([7,1]),import.meta.url)).arrowBottomSvg,arrowLeft:async()=>(await it(async()=>{const{arrowLeftSvg:e}=await import("./arrow-left-43X4JjZb.js");return{arrowLeftSvg:e}},__vite__mapDeps([8,1]),import.meta.url)).arrowLeftSvg,arrowRight:async()=>(await it(async()=>{const{arrowRightSvg:e}=await import("./arrow-right-B6WY9BW1.js");return{arrowRightSvg:e}},__vite__mapDeps([9,1]),import.meta.url)).arrowRightSvg,arrowTop:async()=>(await it(async()=>{const{arrowTopSvg:e}=await import("./arrow-top-Bw2fm5yg.js");return{arrowTopSvg:e}},__vite__mapDeps([10,1]),import.meta.url)).arrowTopSvg,bank:async()=>(await it(async()=>{const{bankSvg:e}=await import("./bank-BGwBZs9V.js");return{bankSvg:e}},__vite__mapDeps([11,1]),import.meta.url)).bankSvg,browser:async()=>(await it(async()=>{const{browserSvg:e}=await import("./browser-BNqalaXt.js");return{browserSvg:e}},__vite__mapDeps([12,1]),import.meta.url)).browserSvg,card:async()=>(await it(async()=>{const{cardSvg:e}=await import("./card-CG9sin3B.js");return{cardSvg:e}},__vite__mapDeps([13,1]),import.meta.url)).cardSvg,checkmark:async()=>(await it(async()=>{const{checkmarkSvg:e}=await import("./checkmark-DYw5z9Pi.js");return{checkmarkSvg:e}},__vite__mapDeps([14,1]),import.meta.url)).checkmarkSvg,checkmarkBold:async()=>(await it(async()=>{const{checkmarkBoldSvg:e}=await import("./checkmark-bold-CKRPRym8.js");return{checkmarkBoldSvg:e}},__vite__mapDeps([15,1]),import.meta.url)).checkmarkBoldSvg,chevronBottom:async()=>(await it(async()=>{const{chevronBottomSvg:e}=await import("./chevron-bottom-D0oNfeQi.js");return{chevronBottomSvg:e}},__vite__mapDeps([16,1]),import.meta.url)).chevronBottomSvg,chevronLeft:async()=>(await it(async()=>{const{chevronLeftSvg:e}=await import("./chevron-left-HX2ZQ30B.js");return{chevronLeftSvg:e}},__vite__mapDeps([17,1]),import.meta.url)).chevronLeftSvg,chevronRight:async()=>(await it(async()=>{const{chevronRightSvg:e}=await import("./chevron-right-Cqm02SCD.js");return{chevronRightSvg:e}},__vite__mapDeps([18,1]),import.meta.url)).chevronRightSvg,chevronTop:async()=>(await it(async()=>{const{chevronTopSvg:e}=await import("./chevron-top-CVFML-TN.js");return{chevronTopSvg:e}},__vite__mapDeps([19,1]),import.meta.url)).chevronTopSvg,chromeStore:async()=>(await it(async()=>{const{chromeStoreSvg:e}=await import("./chrome-store-Drn3cx6h.js");return{chromeStoreSvg:e}},__vite__mapDeps([20,1]),import.meta.url)).chromeStoreSvg,clock:async()=>(await it(async()=>{const{clockSvg:e}=await import("./clock-CsOyRiJW.js");return{clockSvg:e}},__vite__mapDeps([21,1]),import.meta.url)).clockSvg,close:async()=>(await it(async()=>{const{closeSvg:e}=await import("./close-BEmnb_ZK.js");return{closeSvg:e}},__vite__mapDeps([22,1]),import.meta.url)).closeSvg,compass:async()=>(await it(async()=>{const{compassSvg:e}=await import("./compass-E6PhJvpV.js");return{compassSvg:e}},__vite__mapDeps([23,1]),import.meta.url)).compassSvg,coinPlaceholder:async()=>(await it(async()=>{const{coinPlaceholderSvg:e}=await import("./coinPlaceholder-_3N2_YpX.js");return{coinPlaceholderSvg:e}},__vite__mapDeps([24,1]),import.meta.url)).coinPlaceholderSvg,copy:async()=>(await it(async()=>{const{copySvg:e}=await import("./copy-Bhd6cf6D.js");return{copySvg:e}},__vite__mapDeps([25,1]),import.meta.url)).copySvg,cursor:async()=>(await it(async()=>{const{cursorSvg:e}=await import("./cursor-jcxFjlfJ.js");return{cursorSvg:e}},__vite__mapDeps([26,1]),import.meta.url)).cursorSvg,cursorTransparent:async()=>(await it(async()=>{const{cursorTransparentSvg:e}=await import("./cursor-transparent-BUiuOqqn.js");return{cursorTransparentSvg:e}},__vite__mapDeps([27,1]),import.meta.url)).cursorTransparentSvg,desktop:async()=>(await it(async()=>{const{desktopSvg:e}=await import("./desktop-D83y9SRr.js");return{desktopSvg:e}},__vite__mapDeps([28,1]),import.meta.url)).desktopSvg,disconnect:async()=>(await it(async()=>{const{disconnectSvg:e}=await import("./disconnect-CNjMMF8d.js");return{disconnectSvg:e}},__vite__mapDeps([29,1]),import.meta.url)).disconnectSvg,discord:async()=>(await it(async()=>{const{discordSvg:e}=await import("./discord-B1SuPbwm.js");return{discordSvg:e}},__vite__mapDeps([30,1]),import.meta.url)).discordSvg,etherscan:async()=>(await it(async()=>{const{etherscanSvg:e}=await import("./etherscan-BgG0l-AD.js");return{etherscanSvg:e}},__vite__mapDeps([31,1]),import.meta.url)).etherscanSvg,extension:async()=>(await it(async()=>{const{extensionSvg:e}=await import("./extension-DV3IT3by.js");return{extensionSvg:e}},__vite__mapDeps([32,1]),import.meta.url)).extensionSvg,externalLink:async()=>(await it(async()=>{const{externalLinkSvg:e}=await import("./external-link-Ba_GZVVg.js");return{externalLinkSvg:e}},__vite__mapDeps([33,1]),import.meta.url)).externalLinkSvg,facebook:async()=>(await it(async()=>{const{facebookSvg:e}=await import("./facebook-CHwwczd-.js");return{facebookSvg:e}},__vite__mapDeps([34,1]),import.meta.url)).facebookSvg,farcaster:async()=>(await it(async()=>{const{farcasterSvg:e}=await import("./farcaster-BVVf1A-k.js");return{farcasterSvg:e}},__vite__mapDeps([35,1]),import.meta.url)).farcasterSvg,filters:async()=>(await it(async()=>{const{filtersSvg:e}=await import("./filters-iXHkuIcg.js");return{filtersSvg:e}},__vite__mapDeps([36,1]),import.meta.url)).filtersSvg,github:async()=>(await it(async()=>{const{githubSvg:e}=await import("./github-CJTEHfO9.js");return{githubSvg:e}},__vite__mapDeps([37,1]),import.meta.url)).githubSvg,google:async()=>(await it(async()=>{const{googleSvg:e}=await import("./google-CEj5Ylaf.js");return{googleSvg:e}},__vite__mapDeps([38,1]),import.meta.url)).googleSvg,helpCircle:async()=>(await it(async()=>{const{helpCircleSvg:e}=await import("./help-circle-DQO9kTiM.js");return{helpCircleSvg:e}},__vite__mapDeps([39,1]),import.meta.url)).helpCircleSvg,image:async()=>(await it(async()=>{const{imageSvg:e}=await import("./image-bLuPzgqo.js");return{imageSvg:e}},__vite__mapDeps([40,1]),import.meta.url)).imageSvg,id:async()=>(await it(async()=>{const{idSvg:e}=await import("./id-bjodzfkZ.js");return{idSvg:e}},__vite__mapDeps([41,1]),import.meta.url)).idSvg,infoCircle:async()=>(await it(async()=>{const{infoCircleSvg:e}=await import("./info-circle-VAqdzxdO.js");return{infoCircleSvg:e}},__vite__mapDeps([42,1]),import.meta.url)).infoCircleSvg,lightbulb:async()=>(await it(async()=>{const{lightbulbSvg:e}=await import("./lightbulb-DHFRJB8V.js");return{lightbulbSvg:e}},__vite__mapDeps([43,1]),import.meta.url)).lightbulbSvg,mail:async()=>(await it(async()=>{const{mailSvg:e}=await import("./mail-CSpsSYmN.js");return{mailSvg:e}},__vite__mapDeps([44,1]),import.meta.url)).mailSvg,mobile:async()=>(await it(async()=>{const{mobileSvg:e}=await import("./mobile-DBvap7-e.js");return{mobileSvg:e}},__vite__mapDeps([45,1]),import.meta.url)).mobileSvg,more:async()=>(await it(async()=>{const{moreSvg:e}=await import("./more-CEBrsVg2.js");return{moreSvg:e}},__vite__mapDeps([46,1]),import.meta.url)).moreSvg,networkPlaceholder:async()=>(await it(async()=>{const{networkPlaceholderSvg:e}=await import("./network-placeholder-CO8JkJam.js");return{networkPlaceholderSvg:e}},__vite__mapDeps([47,1]),import.meta.url)).networkPlaceholderSvg,nftPlaceholder:async()=>(await it(async()=>{const{nftPlaceholderSvg:e}=await import("./nftPlaceholder-atQ50ZR_.js");return{nftPlaceholderSvg:e}},__vite__mapDeps([48,1]),import.meta.url)).nftPlaceholderSvg,off:async()=>(await it(async()=>{const{offSvg:e}=await import("./off-DK4r9O3h.js");return{offSvg:e}},__vite__mapDeps([49,1]),import.meta.url)).offSvg,playStore:async()=>(await it(async()=>{const{playStoreSvg:e}=await import("./play-store-WL-KLiN-.js");return{playStoreSvg:e}},__vite__mapDeps([50,1]),import.meta.url)).playStoreSvg,plus:async()=>(await it(async()=>{const{plusSvg:e}=await import("./plus-CIaoqEAJ.js");return{plusSvg:e}},__vite__mapDeps([51,1]),import.meta.url)).plusSvg,qrCode:async()=>(await it(async()=>{const{qrCodeIcon:e}=await import("./qr-code-DCZziLeO.js");return{qrCodeIcon:e}},__vite__mapDeps([52,1]),import.meta.url)).qrCodeIcon,recycleHorizontal:async()=>(await it(async()=>{const{recycleHorizontalSvg:e}=await import("./recycle-horizontal-DLMM39Tb.js");return{recycleHorizontalSvg:e}},__vite__mapDeps([53,1]),import.meta.url)).recycleHorizontalSvg,refresh:async()=>(await it(async()=>{const{refreshSvg:e}=await import("./refresh-CFzSWjU0.js");return{refreshSvg:e}},__vite__mapDeps([54,1]),import.meta.url)).refreshSvg,search:async()=>(await it(async()=>{const{searchSvg:e}=await import("./search-Ck8cZWV0.js");return{searchSvg:e}},__vite__mapDeps([55,1]),import.meta.url)).searchSvg,send:async()=>(await it(async()=>{const{sendSvg:e}=await import("./send-DhDk2oHu.js");return{sendSvg:e}},__vite__mapDeps([56,1]),import.meta.url)).sendSvg,swapHorizontal:async()=>(await it(async()=>{const{swapHorizontalSvg:e}=await import("./swapHorizontal-B28o7GWI.js");return{swapHorizontalSvg:e}},__vite__mapDeps([57,1]),import.meta.url)).swapHorizontalSvg,swapHorizontalMedium:async()=>(await it(async()=>{const{swapHorizontalMediumSvg:e}=await import("./swapHorizontalMedium-DiDQZXrd.js");return{swapHorizontalMediumSvg:e}},__vite__mapDeps([58,1]),import.meta.url)).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await it(async()=>{const{swapHorizontalBoldSvg:e}=await import("./swapHorizontalBold-B__Yv9t7.js");return{swapHorizontalBoldSvg:e}},__vite__mapDeps([59,1]),import.meta.url)).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await it(async()=>{const{swapHorizontalRoundedBoldSvg:e}=await import("./swapHorizontalRoundedBold-3pWQmlEd.js");return{swapHorizontalRoundedBoldSvg:e}},__vite__mapDeps([60,1]),import.meta.url)).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await it(async()=>{const{swapVerticalSvg:e}=await import("./swapVertical-C1zuScI2.js");return{swapVerticalSvg:e}},__vite__mapDeps([61,1]),import.meta.url)).swapVerticalSvg,telegram:async()=>(await it(async()=>{const{telegramSvg:e}=await import("./telegram-Oo5lKGYm.js");return{telegramSvg:e}},__vite__mapDeps([62,1]),import.meta.url)).telegramSvg,threeDots:async()=>(await it(async()=>{const{threeDotsSvg:e}=await import("./three-dots-DMvPMi8g.js");return{threeDotsSvg:e}},__vite__mapDeps([63,1]),import.meta.url)).threeDotsSvg,twitch:async()=>(await it(async()=>{const{twitchSvg:e}=await import("./twitch-BynaHXV2.js");return{twitchSvg:e}},__vite__mapDeps([64,1]),import.meta.url)).twitchSvg,twitter:async()=>(await it(async()=>{const{xSvg:e}=await import("./x-C3LLlMYn.js");return{xSvg:e}},__vite__mapDeps([65,1]),import.meta.url)).xSvg,twitterIcon:async()=>(await it(async()=>{const{twitterIconSvg:e}=await import("./twitterIcon-DQDdGZpv.js");return{twitterIconSvg:e}},__vite__mapDeps([66,1]),import.meta.url)).twitterIconSvg,verify:async()=>(await it(async()=>{const{verifySvg:e}=await import("./verify-D-sBHjvr.js");return{verifySvg:e}},__vite__mapDeps([67,1]),import.meta.url)).verifySvg,verifyFilled:async()=>(await it(async()=>{const{verifyFilledSvg:e}=await import("./verify-filled-eSAIFmkQ.js");return{verifyFilledSvg:e}},__vite__mapDeps([68,1]),import.meta.url)).verifyFilledSvg,wallet:async()=>(await it(async()=>{const{walletSvg:e}=await import("./wallet-BrtuHJMH.js");return{walletSvg:e}},__vite__mapDeps([69,1]),import.meta.url)).walletSvg,walletConnect:async()=>(await it(async()=>{const{walletConnectSvg:e}=await import("./walletconnect-B6ujvUVf.js");return{walletConnectSvg:e}},__vite__mapDeps([70,1]),import.meta.url)).walletConnectSvg,walletConnectLightBrown:async()=>(await it(async()=>{const{walletConnectLightBrownSvg:e}=await import("./walletconnect-B6ujvUVf.js");return{walletConnectLightBrownSvg:e}},__vite__mapDeps([70,1]),import.meta.url)).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await it(async()=>{const{walletConnectBrownSvg:e}=await import("./walletconnect-B6ujvUVf.js");return{walletConnectBrownSvg:e}},__vite__mapDeps([70,1]),import.meta.url)).walletConnectBrownSvg,walletPlaceholder:async()=>(await it(async()=>{const{walletPlaceholderSvg:e}=await import("./wallet-placeholder-Br8aomdQ.js");return{walletPlaceholderSvg:e}},__vite__mapDeps([71,1]),import.meta.url)).walletPlaceholderSvg,warningCircle:async()=>(await it(async()=>{const{warningCircleSvg:e}=await import("./warning-circle-CbO_TnfK.js");return{warningCircleSvg:e}},__vite__mapDeps([72,1]),import.meta.url)).warningCircleSvg,x:async()=>(await it(async()=>{const{xSvg:e}=await import("./x-C3LLlMYn.js");return{xSvg:e}},__vite__mapDeps([65,1]),import.meta.url)).xSvg,info:async()=>(await it(async()=>{const{infoSvg:e}=await import("./info-BIwijAQr.js");return{infoSvg:e}},__vite__mapDeps([73,1]),import.meta.url)).infoSvg,exclamationTriangle:async()=>(await it(async()=>{const{exclamationTriangleSvg:e}=await import("./exclamation-triangle-BKqY0k12.js");return{exclamationTriangleSvg:e}},__vite__mapDeps([74,1]),import.meta.url)).exclamationTriangleSvg,reown:async()=>(await it(async()=>{const{reownSvg:e}=await import("./reown-logo-CaqSPo7Y.js");return{reownSvg:e}},__vite__mapDeps([75,1]),import.meta.url)).reownSvg};async function $De(e){if(g4.has(e))return g4.get(e);const n=(Sj[e]??Sj.copy)();return g4.set(e,n),n}let kh=class extends fc{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,bs`${LDe($De(this.name),bs`<div class="fallback"></div>`)}`}};kh.styles=[$g,FG,BDe];fw([hr()],kh.prototype,"size",void 0);fw([hr()],kh.prototype,"name",void 0);fw([hr()],kh.prototype,"color",void 0);fw([hr()],kh.prototype,"aspectRatio",void 0);kh=fw([np("wui-icon")],kh);const jDe=Ka`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var j2=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let lg=class extends fc{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,bs`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};lg.styles=[$g,FG,jDe];j2([hr()],lg.prototype,"src",void 0);j2([hr()],lg.prototype,"alt",void 0);j2([hr()],lg.prototype,"size",void 0);lg=j2([np("wui-image")],lg);const FDe=Ka`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var S6=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let h1=class extends fc{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,bs`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};h1.styles=[$g,FDe];S6([hr()],h1.prototype,"color",void 0);S6([hr()],h1.prototype,"size",void 0);h1=S6([np("wui-loading-spinner")],h1);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const KDe=WG(class extends HG{constructor(e){if(super(e),e.type!==KG.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}const n=e.element.classList;for(const r of this.st)r in t||(n.remove(r),this.st.delete(r));for(const r in t){const i=!!t[r];i===this.st.has(r)||this.nt?.has(r)||(i?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return nu}}),WDe=Ka`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var hw=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Mh=class extends fc{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const t={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,bs`<slot class=${KDe(t)}></slot>`}};Mh.styles=[$g,WDe];hw([hr()],Mh.prototype,"variant",void 0);hw([hr()],Mh.prototype,"color",void 0);hw([hr()],Mh.prototype,"align",void 0);hw([hr()],Mh.prototype,"lineClamp",void 0);Mh=hw([np("wui-text")],Mh);const HDe=Ka`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var du=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let vc=class extends fc{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const t=this.iconSize||this.size,n=this.size==="lg",r=this.size==="xl",i=n?"12%":"16%",s=n?"xxs":r?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let u=`var(--wui-color-${this.backgroundColor})`;return c?u=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(u=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${u};
       --local-bg-mix: ${c||o?"100%":i};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,bs` <wui-icon color=${this.iconColor} size=${t} name=${this.icon}></wui-icon> `}};vc.styles=[$g,jG,HDe];du([hr()],vc.prototype,"size",void 0);du([hr()],vc.prototype,"backgroundColor",void 0);du([hr()],vc.prototype,"iconColor",void 0);du([hr()],vc.prototype,"iconSize",void 0);du([hr()],vc.prototype,"background",void 0);du([hr({type:Boolean})],vc.prototype,"border",void 0);du([hr()],vc.prototype,"borderColor",void 0);du([hr()],vc.prototype,"icon",void 0);vc=du([np("wui-icon-box")],vc);const zDe=Ka`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  :host > button {
    min-width: 40px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    background-color: var(--wui-wallet-button-bg);
    column-gap: var(--wui-spacing-2xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-002);
    height: var(--wui-spacing-3xl);
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    box-shadow:
      0px 8px 22px -6px var(--wui-color-gray-glass-010),
      0px 14px 64px -4px var(--wui-color-gray-glass-010);
  }

  :host > button > wui-text {
    text-transform: capitalize;
  }

  :host > button > wui-image {
    height: 24px;
    width: 24px;
    border-radius: var(--wui-border-radius-s);
  }

  :host([data-error='true']) > button {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  /* -- Disabled state --------------------------------------------------- */
  :host > button:disabled {
    cursor: default;
  }

  :host > button:disabled > wui-icon {
    filter: grayscale(1);
  }
`;var ol=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let qa=class extends fc{constructor(){super(...arguments),this.imageSrc="",this.name="",this.walletConnect=!1,this.loading=!1,this.error=!1,this.disabled=!1,this.shake=!1}render(){return this.dataset.error=`${this.error}`,bs`
      <button ?disabled=${this.disabled}>
        ${this.leftViewTemplate()} ${this.rightViewTemplate()}
      </button>
    `}leftViewTemplate(){return this.error?bs`<wui-icon-box
        icon="warningCircle"
        iconColor="error-100"
        backgroundColor="error-100"
        size="sm"
        iconSize="xs"
      ></wui-icon-box>`:this.loading?bs`<wui-loading-spinner size="md" color="fg-100"></wui-loading-spinner>`:this.icon?bs`<wui-icon
        size=${this.iconSize??"xl"}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:this.imageSrc?bs`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:bs`<wui-icon size="xl" color="fg-100" name="walletPlaceholder"></wui-icon>`}rightViewTemplate(){return bs`
      <wui-text variant="paragraph-500" color="fg-100">${this.name||"Unknown"} </wui-text>
    `}};qa.styles=[$g,jG,zDe];ol([hr()],qa.prototype,"imageSrc",void 0);ol([hr()],qa.prototype,"name",void 0);ol([hr({type:Boolean})],qa.prototype,"walletConnect",void 0);ol([hr()],qa.prototype,"icon",void 0);ol([hr()],qa.prototype,"iconSize",void 0);ol([hr({type:Boolean})],qa.prototype,"loading",void 0);ol([hr({type:Boolean})],qa.prototype,"error",void 0);ol([hr({type:Boolean})],qa.prototype,"disabled",void 0);ol([hr({type:Boolean})],qa.prototype,"shake",void 0);qa=ol([np("wui-wallet-button")],qa);var Sd=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ru=class extends fc{constructor(){super(),this.unsubscribe=[],this.wallet="metamask",this.connectors=bt.state.connectors,this.caipAddress=de.state.activeCaipAddress,this.loading=!1,this.error=!1,this.ready=Zu.isWalletButtonReady(this.wallet),this.modalLoading=Wn.state.loading,this.unsubscribe.push(Wn.subscribeKey("loading",t=>this.modalLoading=t),bt.subscribeKey("connectors",t=>this.connectors=t),de.subscribeKey("activeCaipAddress",t=>{t&&(this.error=!1),this.caipAddress=t}),B0.subscribeKey("walletButtons",()=>{this.ready=Zu.isWalletButtonReady(this.wallet)}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}firstUpdated(){Zu.isWalletButtonReady(this.wallet)||B0.fetchWalletButtons()}render(){if(this.wallet==="email")return this.emailTemplate();if(ag.Socials.some(r=>r===this.wallet))return this.socialTemplate();const t=Zu.getWalletButton(this.wallet),n=t?bt.getConnector(t.id,t.rdns):void 0;return n?this.externalTemplate(n):this.walletButtonTemplate()}walletButtonTemplate(){const t=this.wallet==="walletConnect",n=t?this.loading:this.loading||!this.ready,r=Zu.getWalletButton(this.wallet),i=ev.getWalletImageById(r?.image_id),s=this.wallet==="walletConnect"?"WalletConnect":r?.name;return bs`
      <wui-wallet-button
        data-testid="apkt-wallet-button"
        name=${!this.ready&&!t||this.modalLoading?"Loading...":by(s)}
        @click=${async()=>{this.loading=!0,await Wl.connectWalletConnect({walletConnect:this.wallet==="walletConnect",wallet:r,connector:this.connectors.find(o=>o.id==="walletConnect")}).catch(()=>{}).finally(()=>this.loading=!1)}}
        .icon=${by(this.wallet==="walletConnect"?"walletConnect":void 0)}
        .imageSrc=${by(i)}
        ?disabled=${!!this.caipAddress||n||this.modalLoading}
        ?loading=${n||this.modalLoading}
      ></wui-wallet-button>
    `}externalTemplate(t){const n=Zu.getWalletButton(this.wallet),r=ev.getWalletImageById(n?.image_id),i=ev.getConnectorImage(t);return bs`
      <wui-wallet-button
        data-testid="apkt-wallet-button-external"
        name=${this.modalLoading?"Loading...":by(t.name)}
        @click=${async()=>{this.loading=!0,this.error=!1,await Wl.connectExternal(t).catch(()=>this.error=!0).finally(()=>this.loading=!1)}}
        .imageSrc=${by(r??i)}
        ?disabled=${!!this.caipAddress||this.loading||this.modalLoading}
        ?loading=${this.loading||this.modalLoading}
        ?error=${this.error}
      ></wui-wallet-button>
    `}socialTemplate(){return bs`<wui-wallet-button
      data-testid="apkt-wallet-button-social"
      name=${this.modalLoading?"Loading...":this.wallet}
      @click=${async()=>{this.loading=!0,this.error=!1,await Wl.connectSocial(this.wallet).catch(()=>this.error=!0).finally(()=>this.loading=!1)}}
      .icon=${this.wallet}
      ?disabled=${!!this.caipAddress||this.loading||this.modalLoading}
      ?loading=${this.loading||this.modalLoading}
      ?error=${this.error}
    ></wui-wallet-button>`}emailTemplate(){return bs`<wui-wallet-button
      data-testid="apkt-wallet-button-email"
      name=${this.modalLoading?"Loading...":"Email"}
      @click=${async()=>{this.loading=!0,this.error=!1,await Wl.connectEmail().catch(()=>this.error=!0).finally(()=>this.loading=!1)}}
      .icon=${"mail"}
      .iconSize=${"lg"}
      ?disabled=${!!this.caipAddress||this.loading||this.modalLoading}
      ?loading=${this.loading||this.modalLoading}
      ?error=${this.error}
    ></wui-wallet-button>`}};Sd([hr()],ru.prototype,"wallet",void 0);Sd([Bg()],ru.prototype,"connectors",void 0);Sd([Bg()],ru.prototype,"caipAddress",void 0);Sd([Bg()],ru.prototype,"loading",void 0);Sd([Bg()],ru.prototype,"error",void 0);Sd([Bg()],ru.prototype,"ready",void 0);Sd([Bg()],ru.prototype,"modalLoading",void 0);ru=Sd([np("appkit-wallet-button")],ru);let m4;function qDe(){return m4||(m4=new tDe),m4}const Oj={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ms={set(e,t){na.isClient&&localStorage.setItem(`${Lt.STORAGE_KEY}${e}`,t)},get(e){return na.isClient?localStorage.getItem(`${Lt.STORAGE_KEY}${e}`):null},delete(e,t){na.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Lt.STORAGE_KEY}${e}`))}},aE=30*1e3,na={checkIfAllowedToTriggerEmail(){const e=ms.get(Lt.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<aE){const n=Math.ceil((aE-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const e=ms.get(Lt.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<aE)return Math.ceil((aE-t)/1e3)}return 0},checkIfRequestExists(e){return Ss.NOT_SAFE_RPC_METHODS.includes(e.method)||Ss.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(Oj.transactionHash)||e?.match(Oj.signedMessage))?Lt.RPC_RESPONSE_TYPE_TX:Lt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return Ss.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};var lr;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(lr||(lr={}));var FT;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(FT||(FT={}));const Rt=lr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nd=e=>{switch(typeof e){case"undefined":return Rt.undefined;case"string":return Rt.string;case"number":return isNaN(e)?Rt.nan:Rt.number;case"boolean":return Rt.boolean;case"function":return Rt.function;case"bigint":return Rt.bigint;case"symbol":return Rt.symbol;case"object":return Array.isArray(e)?Rt.array:e===null?Rt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Rt.promise:typeof Map<"u"&&e instanceof Map?Rt.map:typeof Set<"u"&&e instanceof Set?Rt.set:typeof Date<"u"&&e instanceof Date?Rt.date:Rt.object;default:return Rt.unknown}},lt=lr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),VDe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class hc extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,lr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}hc.create=e=>new hc(e);const p1=(e,t)=>{let n;switch(e.code){case lt.invalid_type:e.received===Rt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case lt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,lr.jsonStringifyReplacer)}`;break;case lt.unrecognized_keys:n=`Unrecognized key(s) in object: ${lr.joinValues(e.keys,", ")}`;break;case lt.invalid_union:n="Invalid input";break;case lt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${lr.joinValues(e.options)}`;break;case lt.invalid_enum_value:n=`Invalid enum value. Expected ${lr.joinValues(e.options)}, received '${e.received}'`;break;case lt.invalid_arguments:n="Invalid function arguments";break;case lt.invalid_return_type:n="Invalid function return type";break;case lt.invalid_date:n="Invalid date";break;case lt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:lr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case lt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case lt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case lt.custom:n="Invalid input";break;case lt.invalid_intersection_types:n="Intersection results could not be merged";break;case lt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case lt.not_finite:n="Number must be finite";break;default:n=t.defaultError,lr.assertNever(e)}return{message:n}};let qG=p1;function XDe(e){qG=e}function AC(){return qG}const TC=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}},GDe=[];function kt(e,t){const n=TC({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,AC(),p1].filter(r=>!!r)});e.common.issues.push(n)}class Zs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return _n;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Zs.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return _n;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const _n=Object.freeze({status:"aborted"}),VG=e=>({status:"dirty",value:e}),fo=e=>({status:"valid",value:e}),KT=e=>e.status==="aborted",WT=e=>e.status==="dirty",g1=e=>e.status==="valid",RC=e=>typeof Promise<"u"&&e instanceof Promise;var rn;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(rn||(rn={}));class tl{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Aj=(e,t)=>{if(g1(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hc(e.common.issues);return this._error=n,this._error}}};function On(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Pn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return nd(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:nd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Zs,ctx:{common:t.parent.common,data:t.data,parsedType:nd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(RC(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nd(t)},s=this._parseSync({data:t,path:i.path,parent:i});return Aj(i,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nd(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(RC(i)?i:Promise.resolve(i));return Aj(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:lt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new wc({schema:this,typeName:mn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Yl.create(this,this._def)}nullable(){return Bh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pc.create(this,this._def)}promise(){return dg.create(this,this._def)}or(t){return w1.create([this,t],this._def)}and(t){return b1.create(this,t,this._def)}transform(t){return new wc({...On(this._def),schema:this,typeName:mn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new S1({...On(this._def),innerType:this,defaultValue:n,typeName:mn.ZodDefault})}brand(){return new GG({typeName:mn.ZodBranded,type:this,...On(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new DC({...On(this._def),innerType:this,catchValue:n,typeName:mn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return pw.create(this,t)}readonly(){return MC.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const JDe=/^c[^\s-]{8,}$/i,YDe=/^[a-z][a-z0-9]*$/,ZDe=/^[0-9A-HJKMNP-TV-Z]{26}$/,QDe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e9e=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t9e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let y4;const n9e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,r9e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,i9e=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function s9e(e,t){return!!((t==="v4"||!t)&&n9e.test(e)||(t==="v6"||!t)&&r9e.test(e))}class dc extends Pn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Rt.string){const s=this._getOrReturnCtx(t);return kt(s,{code:lt.invalid_type,expected:Rt.string,received:s.parsedType}),_n}const r=new Zs;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?kt(i,{code:lt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&kt(i,{code:lt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")e9e.test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"email",code:lt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")y4||(y4=new RegExp(t9e,"u")),y4.test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"emoji",code:lt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")QDe.test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"uuid",code:lt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")JDe.test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"cuid",code:lt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")YDe.test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"cuid2",code:lt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")ZDe.test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"ulid",code:lt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),kt(i,{validation:"url",code:lt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"regex",code:lt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?i9e(s).test(t.data)||(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?s9e(t.data,s.version)||(i=this._getOrReturnCtx(t,i),kt(i,{validation:"ip",code:lt.invalid_string,message:s.message}),r.dirty()):lr.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:lt.invalid_string,...rn.errToObj(r)})}_addCheck(t){return new dc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...rn.errToObj(t)})}url(t){return this._addCheck({kind:"url",...rn.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...rn.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...rn.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...rn.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...rn.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...rn.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...rn.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,...rn.errToObj(t?.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...rn.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...rn.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...rn.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...rn.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...rn.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...rn.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...rn.errToObj(n)})}nonempty(t){return this.min(1,rn.errToObj(t))}trim(){return new dc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}dc.create=e=>{var t;return new dc({checks:[],typeName:mn.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...On(e)})};function o9e(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class md extends Pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Rt.number){const s=this._getOrReturnCtx(t);return kt(s,{code:lt.invalid_type,expected:Rt.number,received:s.parsedType}),_n}let r;const i=new Zs;for(const s of this._def.checks)s.kind==="int"?lr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?o9e(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.not_finite,message:s.message}),i.dirty()):lr.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,rn.toString(n))}gt(t,n){return this.setLimit("min",t,!1,rn.toString(n))}lte(t,n){return this.setLimit("max",t,!0,rn.toString(n))}lt(t,n){return this.setLimit("max",t,!1,rn.toString(n))}setLimit(t,n,r,i){return new md({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:rn.toString(i)}]})}_addCheck(t){return new md({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:rn.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:rn.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:rn.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:rn.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:rn.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:rn.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:rn.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:rn.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:rn.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&lr.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}md.create=e=>new md({checks:[],typeName:mn.ZodNumber,coerce:e?.coerce||!1,...On(e)});class yd extends Pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Rt.bigint){const s=this._getOrReturnCtx(t);return kt(s,{code:lt.invalid_type,expected:Rt.bigint,received:s.parsedType}),_n}let r;const i=new Zs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:lt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):lr.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,rn.toString(n))}gt(t,n){return this.setLimit("min",t,!1,rn.toString(n))}lte(t,n){return this.setLimit("max",t,!0,rn.toString(n))}lt(t,n){return this.setLimit("max",t,!1,rn.toString(n))}setLimit(t,n,r,i){return new yd({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:rn.toString(i)}]})}_addCheck(t){return new yd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:rn.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:rn.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:rn.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:rn.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:rn.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}yd.create=e=>{var t;return new yd({checks:[],typeName:mn.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...On(e)})};class m1 extends Pn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Rt.boolean){const r=this._getOrReturnCtx(t);return kt(r,{code:lt.invalid_type,expected:Rt.boolean,received:r.parsedType}),_n}return fo(t.data)}}m1.create=e=>new m1({typeName:mn.ZodBoolean,coerce:e?.coerce||!1,...On(e)});class Lh extends Pn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Rt.date){const s=this._getOrReturnCtx(t);return kt(s,{code:lt.invalid_type,expected:Rt.date,received:s.parsedType}),_n}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return kt(s,{code:lt.invalid_date}),_n}const r=new Zs;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),kt(i,{code:lt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):lr.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lh({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:rn.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:rn.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Lh.create=e=>new Lh({checks:[],coerce:e?.coerce||!1,typeName:mn.ZodDate,...On(e)});class NC extends Pn{_parse(t){if(this._getType(t)!==Rt.symbol){const r=this._getOrReturnCtx(t);return kt(r,{code:lt.invalid_type,expected:Rt.symbol,received:r.parsedType}),_n}return fo(t.data)}}NC.create=e=>new NC({typeName:mn.ZodSymbol,...On(e)});class y1 extends Pn{_parse(t){if(this._getType(t)!==Rt.undefined){const r=this._getOrReturnCtx(t);return kt(r,{code:lt.invalid_type,expected:Rt.undefined,received:r.parsedType}),_n}return fo(t.data)}}y1.create=e=>new y1({typeName:mn.ZodUndefined,...On(e)});class v1 extends Pn{_parse(t){if(this._getType(t)!==Rt.null){const r=this._getOrReturnCtx(t);return kt(r,{code:lt.invalid_type,expected:Rt.null,received:r.parsedType}),_n}return fo(t.data)}}v1.create=e=>new v1({typeName:mn.ZodNull,...On(e)});class ug extends Pn{constructor(){super(...arguments),this._any=!0}_parse(t){return fo(t.data)}}ug.create=e=>new ug({typeName:mn.ZodAny,...On(e)});class bh extends Pn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fo(t.data)}}bh.create=e=>new bh({typeName:mn.ZodUnknown,...On(e)});class iu extends Pn{_parse(t){const n=this._getOrReturnCtx(t);return kt(n,{code:lt.invalid_type,expected:Rt.never,received:n.parsedType}),_n}}iu.create=e=>new iu({typeName:mn.ZodNever,...On(e)});class PC extends Pn{_parse(t){if(this._getType(t)!==Rt.undefined){const r=this._getOrReturnCtx(t);return kt(r,{code:lt.invalid_type,expected:Rt.void,received:r.parsedType}),_n}return fo(t.data)}}PC.create=e=>new PC({typeName:mn.ZodVoid,...On(e)});class pc extends Pn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Rt.array)return kt(n,{code:lt.invalid_type,expected:Rt.array,received:n.parsedType}),_n;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(kt(n,{code:o?lt.too_big:lt.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(kt(n,{code:lt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(kt(n,{code:lt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new tl(n,o,n.path,a)))).then(o=>Zs.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new tl(n,o,n.path,a)));return Zs.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new pc({...this._def,minLength:{value:t,message:rn.toString(n)}})}max(t,n){return new pc({...this._def,maxLength:{value:t,message:rn.toString(n)}})}length(t,n){return new pc({...this._def,exactLength:{value:t,message:rn.toString(n)}})}nonempty(t){return this.min(1,t)}}pc.create=(e,t)=>new pc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:mn.ZodArray,...On(t)});function y0(e){if(e instanceof si){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Yl.create(y0(r))}return new si({...e._def,shape:()=>t})}else return e instanceof pc?new pc({...e._def,type:y0(e.element)}):e instanceof Yl?Yl.create(y0(e.unwrap())):e instanceof Bh?Bh.create(y0(e.unwrap())):e instanceof nl?nl.create(e.items.map(t=>y0(t))):e}class si extends Pn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=lr.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Rt.object){const u=this._getOrReturnCtx(t);return kt(u,{code:lt.invalid_type,expected:Rt.object,received:u.parsedType}),_n}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof iu&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=s[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new tl(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof iu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(kt(i,{code:lt.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new tl(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key;u.push({key:h,value:await d.value,alwaysSet:d.alwaysSet})}return u}).then(u=>Zs.mergeObjectSync(r,u)):Zs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return rn.errToObj,new si({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=rn.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new si({...this._def,unknownKeys:"strip"})}passthrough(){return new si({...this._def,unknownKeys:"passthrough"})}extend(t){return new si({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new si({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:mn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new si({...this._def,catchall:t})}pick(t){const n={};return lr.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new si({...this._def,shape:()=>n})}omit(t){const n={};return lr.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new si({...this._def,shape:()=>n})}deepPartial(){return y0(this)}partial(t){const n={};return lr.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new si({...this._def,shape:()=>n})}required(t){const n={};return lr.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Yl;)s=s._def.innerType;n[r]=s}}),new si({...this._def,shape:()=>n})}keyof(){return XG(lr.objectKeys(this.shape))}}si.create=(e,t)=>new si({shape:()=>e,unknownKeys:"strip",catchall:iu.create(),typeName:mn.ZodObject,...On(t)});si.strictCreate=(e,t)=>new si({shape:()=>e,unknownKeys:"strict",catchall:iu.create(),typeName:mn.ZodObject,...On(t)});si.lazycreate=(e,t)=>new si({shape:e,unknownKeys:"strip",catchall:iu.create(),typeName:mn.ZodObject,...On(t)});class w1 extends Pn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new hc(a.ctx.common.issues));return kt(n,{code:lt.invalid_union,unionErrors:o}),_n}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new hc(c));return kt(n,{code:lt.invalid_union,unionErrors:a}),_n}}get options(){return this._def.options}}w1.create=(e,t)=>new w1({options:e,typeName:mn.ZodUnion,...On(t)});const __=e=>e instanceof _1?__(e.schema):e instanceof wc?__(e.innerType()):e instanceof C1?[e.value]:e instanceof vd?e.options:e instanceof x1?Object.keys(e.enum):e instanceof S1?__(e._def.innerType):e instanceof y1?[void 0]:e instanceof v1?[null]:null;class F2 extends Pn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Rt.object)return kt(n,{code:lt.invalid_type,expected:Rt.object,received:n.parsedType}),_n;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(kt(n,{code:lt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),_n)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const o=__(s.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new F2({typeName:mn.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...On(r)})}}function HT(e,t){const n=nd(e),r=nd(t);if(e===t)return{valid:!0,data:e};if(n===Rt.object&&r===Rt.object){const i=lr.objectKeys(t),s=lr.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const c=HT(e[a],t[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Rt.array&&r===Rt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],c=HT(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Rt.date&&r===Rt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class b1 extends Pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(KT(s)||KT(o))return _n;const a=HT(s.value,o.value);return a.valid?((WT(s)||WT(o))&&n.dirty(),{status:n.value,value:a.data}):(kt(r,{code:lt.invalid_intersection_types}),_n)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}b1.create=(e,t,n)=>new b1({left:e,right:t,typeName:mn.ZodIntersection,...On(n)});class nl extends Pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Rt.array)return kt(r,{code:lt.invalid_type,expected:Rt.array,received:r.parsedType}),_n;if(r.data.length<this._def.items.length)return kt(r,{code:lt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_n;!this._def.rest&&r.data.length>this._def.items.length&&(kt(r,{code:lt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new tl(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Zs.mergeArray(n,o)):Zs.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new nl({...this._def,rest:t})}}nl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nl({items:e,typeName:mn.ZodTuple,rest:null,...On(t)})};class E1 extends Pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Rt.object)return kt(r,{code:lt.invalid_type,expected:Rt.object,received:r.parsedType}),_n;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new tl(r,a,r.path,a)),value:o._parse(new tl(r,r.data[a],r.path,a))});return r.common.async?Zs.mergeObjectAsync(n,i):Zs.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Pn?new E1({keyType:t,valueType:n,typeName:mn.ZodRecord,...On(r)}):new E1({keyType:dc.create(),valueType:t,typeName:mn.ZodRecord,...On(n)})}}class IC extends Pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Rt.map)return kt(r,{code:lt.invalid_type,expected:Rt.map,received:r.parsedType}),_n;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:i._parse(new tl(r,a,r.path,[u,"key"])),value:s._parse(new tl(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return _n;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return _n;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}IC.create=(e,t,n)=>new IC({valueType:t,keyType:e,typeName:mn.ZodMap,...On(n)});class Uh extends Pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Rt.set)return kt(r,{code:lt.invalid_type,expected:Rt.set,received:r.parsedType}),_n;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(kt(r,{code:lt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(kt(r,{code:lt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return _n;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>s._parse(new tl(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(t,n){return new Uh({...this._def,minSize:{value:t,message:rn.toString(n)}})}max(t,n){return new Uh({...this._def,maxSize:{value:t,message:rn.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Uh.create=(e,t)=>new Uh({valueType:e,minSize:null,maxSize:null,typeName:mn.ZodSet,...On(t)});class j0 extends Pn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Rt.function)return kt(n,{code:lt.invalid_type,expected:Rt.function,received:n.parsedType}),_n;function r(a,c){return TC({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,AC(),p1].filter(u=>!!u),issueData:{code:lt.invalid_arguments,argumentsError:c}})}function i(a,c){return TC({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,AC(),p1].filter(u=>!!u),issueData:{code:lt.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof dg){const a=this;return fo(async function(...c){const u=new hc([]),d=await a._def.args.parseAsync(c,s).catch(m=>{throw u.addIssue(r(c,m)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw u.addIssue(i(h,m)),u})})}else{const a=this;return fo(function(...c){const u=a._def.args.safeParse(c,s);if(!u.success)throw new hc([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new hc([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new j0({...this._def,args:nl.create(t).rest(bh.create())})}returns(t){return new j0({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new j0({args:t||nl.create([]).rest(bh.create()),returns:n||bh.create(),typeName:mn.ZodFunction,...On(r)})}}class _1 extends Pn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_1.create=(e,t)=>new _1({getter:e,typeName:mn.ZodLazy,...On(t)});class C1 extends Pn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return kt(n,{received:n.data,code:lt.invalid_literal,expected:this._def.value}),_n}return{status:"valid",value:t.data}}get value(){return this._def.value}}C1.create=(e,t)=>new C1({value:e,typeName:mn.ZodLiteral,...On(t)});function XG(e,t){return new vd({values:e,typeName:mn.ZodEnum,...On(t)})}class vd extends Pn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return kt(n,{expected:lr.joinValues(r),received:n.parsedType,code:lt.invalid_type}),_n}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return kt(n,{received:n.data,code:lt.invalid_enum_value,options:r}),_n}return fo(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return vd.create(t)}exclude(t){return vd.create(this.options.filter(n=>!t.includes(n)))}}vd.create=XG;class x1 extends Pn{_parse(t){const n=lr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Rt.string&&r.parsedType!==Rt.number){const i=lr.objectValues(n);return kt(r,{expected:lr.joinValues(i),received:r.parsedType,code:lt.invalid_type}),_n}if(n.indexOf(t.data)===-1){const i=lr.objectValues(n);return kt(r,{received:r.data,code:lt.invalid_enum_value,options:i}),_n}return fo(t.data)}get enum(){return this._def.values}}x1.create=(e,t)=>new x1({values:e,typeName:mn.ZodNativeEnum,...On(t)});class dg extends Pn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Rt.promise&&n.common.async===!1)return kt(n,{code:lt.invalid_type,expected:Rt.promise,received:n.parsedType}),_n;const r=n.parsedType===Rt.promise?n.data:Promise.resolve(n.data);return fo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}dg.create=(e,t)=>new dg({type:e,typeName:mn.ZodPromise,...On(t)});class wc extends Pn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===mn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{kt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?_n:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?_n:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!g1(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>g1(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);lr.assertNever(i)}}wc.create=(e,t,n)=>new wc({schema:e,typeName:mn.ZodEffects,effect:t,...On(n)});wc.createWithPreprocess=(e,t,n)=>new wc({schema:t,effect:{type:"preprocess",transform:e},typeName:mn.ZodEffects,...On(n)});class Yl extends Pn{_parse(t){return this._getType(t)===Rt.undefined?fo(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yl.create=(e,t)=>new Yl({innerType:e,typeName:mn.ZodOptional,...On(t)});class Bh extends Pn{_parse(t){return this._getType(t)===Rt.null?fo(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bh.create=(e,t)=>new Bh({innerType:e,typeName:mn.ZodNullable,...On(t)});class S1 extends Pn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}S1.create=(e,t)=>new S1({innerType:e,typeName:mn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...On(t)});class DC extends Pn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return RC(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}DC.create=(e,t)=>new DC({innerType:e,typeName:mn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...On(t)});class kC extends Pn{_parse(t){if(this._getType(t)!==Rt.nan){const r=this._getOrReturnCtx(t);return kt(r,{code:lt.invalid_type,expected:Rt.nan,received:r.parsedType}),_n}return{status:"valid",value:t.data}}}kC.create=e=>new kC({typeName:mn.ZodNaN,...On(e)});const a9e=Symbol("zod_brand");class GG extends Pn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class pw extends Pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?_n:s.status==="dirty"?(n.dirty(),VG(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?_n:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new pw({in:t,out:n,typeName:mn.ZodPipeline})}}class MC extends Pn{_parse(t){const n=this._def.innerType._parse(t);return g1(n)&&(n.value=Object.freeze(n.value)),n}}MC.create=(e,t)=>new MC({innerType:e,typeName:mn.ZodReadonly,...On(t)});const JG=(e,t={},n)=>e?ug.create().superRefine((r,i)=>{var s,o;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):ug.create(),c9e={object:si.lazycreate};var mn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(mn||(mn={}));const l9e=(e,t={message:`Input not instance of ${e.name}`})=>JG(n=>n instanceof e,t),YG=dc.create,ZG=md.create,u9e=kC.create,d9e=yd.create,QG=m1.create,f9e=Lh.create,h9e=NC.create,p9e=y1.create,g9e=v1.create,m9e=ug.create,y9e=bh.create,v9e=iu.create,w9e=PC.create,b9e=pc.create,E9e=si.create,_9e=si.strictCreate,C9e=w1.create,x9e=F2.create,S9e=b1.create,O9e=nl.create,A9e=E1.create,T9e=IC.create,R9e=Uh.create,N9e=j0.create,P9e=_1.create,I9e=C1.create,D9e=vd.create,k9e=x1.create,M9e=dg.create,Tj=wc.create,L9e=Yl.create,U9e=Bh.create,B9e=wc.createWithPreprocess,$9e=pw.create,j9e=()=>YG().optional(),F9e=()=>ZG().optional(),K9e=()=>QG().optional(),W9e={string:e=>dc.create({...e,coerce:!0}),number:e=>md.create({...e,coerce:!0}),boolean:e=>m1.create({...e,coerce:!0}),bigint:e=>yd.create({...e,coerce:!0}),date:e=>Lh.create({...e,coerce:!0})},H9e=_n;var se=Object.freeze({__proto__:null,defaultErrorMap:p1,setErrorMap:XDe,getErrorMap:AC,makeIssue:TC,EMPTY_PATH:GDe,addIssueToContext:kt,ParseStatus:Zs,INVALID:_n,DIRTY:VG,OK:fo,isAborted:KT,isDirty:WT,isValid:g1,isAsync:RC,get util(){return lr},get objectUtil(){return FT},ZodParsedType:Rt,getParsedType:nd,ZodType:Pn,ZodString:dc,ZodNumber:md,ZodBigInt:yd,ZodBoolean:m1,ZodDate:Lh,ZodSymbol:NC,ZodUndefined:y1,ZodNull:v1,ZodAny:ug,ZodUnknown:bh,ZodNever:iu,ZodVoid:PC,ZodArray:pc,ZodObject:si,ZodUnion:w1,ZodDiscriminatedUnion:F2,ZodIntersection:b1,ZodTuple:nl,ZodRecord:E1,ZodMap:IC,ZodSet:Uh,ZodFunction:j0,ZodLazy:_1,ZodLiteral:C1,ZodEnum:vd,ZodNativeEnum:x1,ZodPromise:dg,ZodEffects:wc,ZodTransformer:wc,ZodOptional:Yl,ZodNullable:Bh,ZodDefault:S1,ZodCatch:DC,ZodNaN:kC,BRAND:a9e,ZodBranded:GG,ZodPipeline:pw,ZodReadonly:MC,custom:JG,Schema:Pn,ZodSchema:Pn,late:c9e,get ZodFirstPartyTypeKind(){return mn},coerce:W9e,any:m9e,array:b9e,bigint:d9e,boolean:QG,date:f9e,discriminatedUnion:x9e,effect:Tj,enum:D9e,function:N9e,instanceof:l9e,intersection:S9e,lazy:P9e,literal:I9e,map:T9e,nan:u9e,nativeEnum:k9e,never:v9e,null:g9e,nullable:U9e,number:ZG,object:E9e,oboolean:K9e,onumber:F9e,optional:L9e,ostring:j9e,pipeline:$9e,preprocess:B9e,promise:M9e,record:A9e,set:R9e,strictObject:_9e,string:YG,symbol:h9e,transformer:Tj,tuple:O9e,undefined:p9e,union:C9e,unknown:y9e,void:w9e,NEVER:H9e,ZodIssueCode:lt,quotelessJson:VDe,ZodError:hc});const pi=se.object({message:se.string()});function It(e){return se.literal(Lt[e])}se.object({accessList:se.array(se.string()),blockHash:se.string().nullable(),blockNumber:se.string().nullable(),chainId:se.string().or(se.number()),from:se.string(),gas:se.string(),hash:se.string(),input:se.string().nullable(),maxFeePerGas:se.string(),maxPriorityFeePerGas:se.string(),nonce:se.string(),r:se.string(),s:se.string(),to:se.string(),transactionIndex:se.string().nullable(),type:se.string(),v:se.string(),value:se.string()});const z9e=se.object({chainId:se.string().or(se.number())}),q9e=se.object({email:se.string().email()}),V9e=se.object({otp:se.string()}),X9e=se.object({uri:se.string(),preferredAccountType:se.optional(se.string()),chainId:se.optional(se.string().or(se.number()))}),G9e=se.object({chainId:se.optional(se.string().or(se.number())),preferredAccountType:se.optional(se.string()),socialUri:se.optional(se.string())}),J9e=se.object({provider:se.enum(["google","github","apple","facebook","x","discord"])}),Y9e=se.object({email:se.string().email()}),Z9e=se.object({otp:se.string()}),Q9e=se.object({otp:se.string()}),eke=se.object({themeMode:se.optional(se.enum(["light","dark"])),themeVariables:se.optional(se.record(se.string(),se.string().or(se.number()))),w3mThemeVariables:se.optional(se.record(se.string(),se.string()))}),tke=se.object({metadata:se.object({name:se.string(),description:se.string(),url:se.string(),icons:se.array(se.string())}).optional(),sdkVersion:se.string().optional(),sdkType:se.string().optional(),projectId:se.string()}),nke=se.object({type:se.string()}),rke=se.object({action:se.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),ike=se.object({url:se.string()}),ske=se.object({userName:se.string()}),oke=se.object({email:se.string().optional().nullable(),address:se.string(),chainId:se.string().or(se.number()),accounts:se.array(se.object({address:se.string(),type:se.enum([Ss.ACCOUNT_TYPES.EOA,Ss.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:se.string().optional().nullable(),preferredAccountType:se.optional(se.string())}),ake=se.object({action:se.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),cke=se.object({email:se.string().email().optional().nullable(),address:se.string(),chainId:se.string().or(se.number()),smartAccountDeployed:se.optional(se.boolean()),accounts:se.array(se.object({address:se.string(),type:se.enum([Ss.ACCOUNT_TYPES.EOA,Ss.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:se.optional(se.string())}),lke=se.object({uri:se.string()}),uke=se.object({isConnected:se.boolean()}),dke=se.object({chainId:se.string().or(se.number())}),fke=se.object({chainId:se.string().or(se.number())}),hke=se.object({newEmail:se.string().email()}),pke=se.object({smartAccountEnabledNetworks:se.array(se.number())});se.object({address:se.string(),isDeployed:se.boolean()});const gke=se.object({version:se.string().optional()}),mke=se.object({type:se.string(),address:se.string()}),yke=se.any(),vke=se.object({method:se.literal("eth_accounts")}),wke=se.object({method:se.literal("eth_blockNumber")}),bke=se.object({method:se.literal("eth_call"),params:se.array(se.any())}),Eke=se.object({method:se.literal("eth_chainId")}),_ke=se.object({method:se.literal("eth_estimateGas"),params:se.array(se.any())}),Cke=se.object({method:se.literal("eth_feeHistory"),params:se.array(se.any())}),xke=se.object({method:se.literal("eth_gasPrice")}),Ske=se.object({method:se.literal("eth_getAccount"),params:se.array(se.any())}),Oke=se.object({method:se.literal("eth_getBalance"),params:se.array(se.any())}),Ake=se.object({method:se.literal("eth_getBlockByHash"),params:se.array(se.any())}),Tke=se.object({method:se.literal("eth_getBlockByNumber"),params:se.array(se.any())}),Rke=se.object({method:se.literal("eth_getBlockReceipts"),params:se.array(se.any())}),Nke=se.object({method:se.literal("eth_getBlockTransactionCountByHash"),params:se.array(se.any())}),Pke=se.object({method:se.literal("eth_getBlockTransactionCountByNumber"),params:se.array(se.any())}),Ike=se.object({method:se.literal("eth_getCode"),params:se.array(se.any())}),Dke=se.object({method:se.literal("eth_getFilterChanges"),params:se.array(se.any())}),kke=se.object({method:se.literal("eth_getFilterLogs"),params:se.array(se.any())}),Mke=se.object({method:se.literal("eth_getLogs"),params:se.array(se.any())}),Lke=se.object({method:se.literal("eth_getProof"),params:se.array(se.any())}),Uke=se.object({method:se.literal("eth_getStorageAt"),params:se.array(se.any())}),Bke=se.object({method:se.literal("eth_getTransactionByBlockHashAndIndex"),params:se.array(se.any())}),$ke=se.object({method:se.literal("eth_getTransactionByBlockNumberAndIndex"),params:se.array(se.any())}),jke=se.object({method:se.literal("eth_getTransactionByHash"),params:se.array(se.any())}),Fke=se.object({method:se.literal("eth_getTransactionCount"),params:se.array(se.any())}),Kke=se.object({method:se.literal("eth_getTransactionReceipt"),params:se.array(se.any())}),Wke=se.object({method:se.literal("eth_getUncleCountByBlockHash"),params:se.array(se.any())}),Hke=se.object({method:se.literal("eth_getUncleCountByBlockNumber"),params:se.array(se.any())}),zke=se.object({method:se.literal("eth_maxPriorityFeePerGas")}),qke=se.object({method:se.literal("eth_newBlockFilter")}),Vke=se.object({method:se.literal("eth_newFilter"),params:se.array(se.any())}),Xke=se.object({method:se.literal("eth_newPendingTransactionFilter")}),Gke=se.object({method:se.literal("eth_sendRawTransaction"),params:se.array(se.any())}),Jke=se.object({method:se.literal("eth_syncing"),params:se.array(se.any())}),Yke=se.object({method:se.literal("eth_uninstallFilter"),params:se.array(se.any())}),Rj=se.object({method:se.literal("personal_sign"),params:se.array(se.any())}),Zke=se.object({method:se.literal("eth_signTypedData_v4"),params:se.array(se.any())}),Qke=se.object({method:se.literal("eth_sendTransaction"),params:se.array(se.any())}),e7e=se.object({method:se.literal("solana_signMessage"),params:se.object({message:se.string(),pubkey:se.string()})}),t7e=se.object({method:se.literal("solana_signTransaction"),params:se.object({transaction:se.string()})}),n7e=se.object({method:se.literal("solana_signAllTransactions"),params:se.object({transactions:se.array(se.string())})}),r7e=se.object({method:se.literal("solana_signAndSendTransaction"),params:se.object({transaction:se.string(),options:se.object({skipPreflight:se.boolean().optional(),preflightCommitment:se.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:se.number().optional(),minContextSlot:se.number().optional()}).optional()})}),i7e=se.object({method:se.literal("wallet_sendCalls"),params:se.array(se.object({chainId:se.string().or(se.number()).optional(),from:se.string().optional(),version:se.string().optional(),capabilities:se.any().optional(),calls:se.array(se.object({to:se.string().startsWith("0x"),data:se.string().startsWith("0x").optional(),value:se.string().optional()}))}))}),s7e=se.object({method:se.literal("wallet_getCallsStatus"),params:se.array(se.string())}),o7e=se.object({method:se.literal("wallet_getCapabilities")}),a7e=se.object({method:se.literal("wallet_grantPermissions"),params:se.array(se.any())}),c7e=se.object({method:se.literal("wallet_revokePermissions"),params:se.any()}),l7e=se.object({method:se.literal("wallet_getAssets"),params:se.any()}),Nj=se.object({token:se.string()}),Dt=se.object({id:se.string().optional()}),Ey={appEvent:Dt.extend({type:It("APP_SWITCH_NETWORK"),payload:z9e}).or(Dt.extend({type:It("APP_CONNECT_EMAIL"),payload:q9e})).or(Dt.extend({type:It("APP_CONNECT_DEVICE")})).or(Dt.extend({type:It("APP_CONNECT_OTP"),payload:V9e})).or(Dt.extend({type:It("APP_CONNECT_SOCIAL"),payload:X9e})).or(Dt.extend({type:It("APP_GET_FARCASTER_URI")})).or(Dt.extend({type:It("APP_CONNECT_FARCASTER")})).or(Dt.extend({type:It("APP_GET_USER"),payload:se.optional(G9e)})).or(Dt.extend({type:It("APP_GET_SOCIAL_REDIRECT_URI"),payload:J9e})).or(Dt.extend({type:It("APP_SIGN_OUT")})).or(Dt.extend({type:It("APP_IS_CONNECTED"),payload:se.optional(Nj)})).or(Dt.extend({type:It("APP_GET_CHAIN_ID")})).or(Dt.extend({type:It("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Dt.extend({type:It("APP_INIT_SMART_ACCOUNT")})).or(Dt.extend({type:It("APP_SET_PREFERRED_ACCOUNT"),payload:nke})).or(Dt.extend({type:It("APP_RPC_REQUEST"),payload:Rj.or(l7e).or(vke).or(wke).or(bke).or(Eke).or(_ke).or(Cke).or(xke).or(Ske).or(Oke).or(Ake).or(Tke).or(Rke).or(Nke).or(Pke).or(Ike).or(Dke).or(kke).or(Mke).or(Lke).or(Uke).or(Bke).or($ke).or(jke).or(Fke).or(Kke).or(Wke).or(Hke).or(zke).or(qke).or(Vke).or(Xke).or(Gke).or(Jke).or(Yke).or(Rj).or(Zke).or(Qke).or(e7e).or(t7e).or(n7e).or(r7e).or(s7e).or(i7e).or(o7e).or(a7e).or(c7e)})).or(Dt.extend({type:It("APP_UPDATE_EMAIL"),payload:Y9e})).or(Dt.extend({type:It("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Z9e})).or(Dt.extend({type:It("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Q9e})).or(Dt.extend({type:It("APP_SYNC_THEME"),payload:eke})).or(Dt.extend({type:It("APP_SYNC_DAPP_DATA"),payload:tke})).or(Dt.extend({type:It("APP_RELOAD")})),frameEvent:Dt.extend({type:It("FRAME_SWITCH_NETWORK_ERROR"),payload:pi}).or(Dt.extend({type:It("FRAME_SWITCH_NETWORK_SUCCESS"),payload:fke})).or(Dt.extend({type:It("FRAME_CONNECT_EMAIL_SUCCESS"),payload:rke})).or(Dt.extend({type:It("FRAME_CONNECT_EMAIL_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:ike})).or(Dt.extend({type:It("FRAME_GET_FARCASTER_URI_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:ske})).or(Dt.extend({type:It("FRAME_CONNECT_FARCASTER_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_CONNECT_OTP_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_CONNECT_OTP_SUCCESS")})).or(Dt.extend({type:It("FRAME_CONNECT_DEVICE_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Dt.extend({type:It("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:oke})).or(Dt.extend({type:It("FRAME_CONNECT_SOCIAL_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_GET_USER_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_GET_USER_SUCCESS"),payload:cke})).or(Dt.extend({type:It("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:lke})).or(Dt.extend({type:It("FRAME_SIGN_OUT_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_SIGN_OUT_SUCCESS")})).or(Dt.extend({type:It("FRAME_IS_CONNECTED_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_IS_CONNECTED_SUCCESS"),payload:uke})).or(Dt.extend({type:It("FRAME_GET_CHAIN_ID_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_GET_CHAIN_ID_SUCCESS"),payload:dke})).or(Dt.extend({type:It("FRAME_RPC_REQUEST_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_RPC_REQUEST_SUCCESS"),payload:yke})).or(Dt.extend({type:It("FRAME_SESSION_UPDATE"),payload:Nj})).or(Dt.extend({type:It("FRAME_UPDATE_EMAIL_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_UPDATE_EMAIL_SUCCESS"),payload:ake})).or(Dt.extend({type:It("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Dt.extend({type:It("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:hke})).or(Dt.extend({type:It("FRAME_SYNC_THEME_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_SYNC_THEME_SUCCESS")})).or(Dt.extend({type:It("FRAME_SYNC_DAPP_DATA_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Dt.extend({type:It("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:pke})).or(Dt.extend({type:It("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:mke})).or(Dt.extend({type:It("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_READY"),payload:gke})).or(Dt.extend({type:It("FRAME_RELOAD_ERROR"),payload:pi})).or(Dt.extend({type:It("FRAME_RELOAD_SUCCESS")}))};function v4(e,t={}){return typeof t?.type=="string"&&t?.type?.includes(e)}class u7e{constructor({projectId:t,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=Mt.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:u}){if(!v4(Lt.FRAME_EVENT_KEY,u))return;const d=Ey.frameEvent.parse(u);d.id===s&&(o(d),window.removeEventListener("message",c))}na.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{na.isClient&&window.addEventListener("message",({data:o})=>{if(!v4(Lt.FRAME_EVENT_KEY,o))return;const a=Ey.frameEvent.parse(o);s(a)})},onAppEvent:s=>{na.isClient&&window.addEventListener("message",({data:o})=>{if(!v4(Lt.APP_EVENT_KEY,o))return;const a=Ey.appEvent.parse(o);s(a)})},postAppEvent:s=>{if(na.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");Ey.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(na.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Ey.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=t,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),na.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${aIe}?projectId=${t}&chainId=${r}&version=${lIe}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.border="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const t=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...t)}}class d7e{constructor(t){const n=Pg({level:cIe}),{logger:r,chunkLoggerController:i}=q5({opts:n});this.logger=Qs(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:t})})}}class f7e{constructor({projectId:t,chainId:n,enableLogger:r=!0,onTimeout:i,abortController:s}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new d7e(t)),this.abortController=s,this.w3mFrame=new u7e({projectId:t,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(t=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Lt.FRAME_READY&&setTimeout(()=>{t()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!ms.get(Lt.EMAIL_LOGIN_USED_KEY)}getEmail(){return ms.get(Lt.EMAIL)}getUsername(){return ms.get(Lt.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:Lt.APP_RELOAD})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(t){try{na.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:Lt.APP_CONNECT_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:Lt.APP_CONNECT_DEVICE})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting device"),t}}async connectOtp(t){try{return this.appEvent({type:Lt.APP_CONNECT_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const t=await this.appEvent({type:Lt.APP_IS_CONNECTED});return t?.isConnected||this.deleteAuthLoginCache(),t}catch(t){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:t},"Error checking connection"),t}}async getChainId(){try{const t=await this.appEvent({type:Lt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(t.chainId),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(t){try{return await this.init(),this.appEvent({type:Lt.APP_GET_SOCIAL_REDIRECT_URI,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(t){try{const n=await this.appEvent({type:Lt.APP_UPDATE_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(t){try{return this.appEvent({type:Lt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(t){try{const n=await this.appEvent({type:Lt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:t});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(t){try{return this.appEvent({type:Lt.APP_SYNC_THEME,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(t){try{return this.appEvent({type:Lt.APP_SYNC_DAPP_DATA,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const t=await this.appEvent({type:Lt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(t.smartAccountEnabledNetworks),t}catch(t){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(t){try{return this.appEvent({type:Lt.APP_SET_PREFERRED_ACCOUNT,payload:{type:t}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(t){if(t?.socialUri)try{await this.init();const n=await this.appEvent({type:Lt.APP_CONNECT_SOCIAL,payload:{uri:t.socialUri,preferredAccountType:t.preferredAccountType,chainId:t.chainId}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:t?.preferredAccountType});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(t){try{await this.init();const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:Lt.APP_GET_USER,payload:{...t,chainId:n}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial(t){try{await this.init();const n=await this.appEvent({type:Lt.APP_CONNECT_SOCIAL,payload:{uri:t}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:Lt.APP_GET_FARCASTER_URI})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){try{const t=await this.appEvent({type:Lt.APP_CONNECT_FARCASTER});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork(t){try{const n=await this.appEvent({type:Lt.APP_SWITCH_NETWORK,payload:{chainId:t}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:Lt.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error disconnecting"),t}}async request(t){try{if(Ss.GET_CHAIN_ID===t.method)return this.getLastUsedChainId();this.rpcRequestHandler?.(t);const n=await this.appEvent({type:Lt.APP_RPC_REQUEST,payload:t});return this.rpcSuccessHandler?.(n,t),n}catch(n){throw this.rpcErrorHandler?.(n,t),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(t){this.rpcRequestHandler=t}onRpcSuccess(t){this.rpcSuccessHandler=t}onRpcError(t){this.rpcErrorHandler=t}onIsConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Lt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&t()})}onNotConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Lt.FRAME_IS_CONNECTED_ERROR&&t(),n.type===Lt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&t()})}onConnect(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Lt.FRAME_GET_USER_SUCCESS&&t(n.payload)})}onSocialConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Lt.FRAME_CONNECT_SOCIAL_SUCCESS&&t(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Lt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?t(n.payload):n.type===Lt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&t({type:Ss.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Lt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?t(n.payload.smartAccountEnabledNetworks):n.type===Lt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&t([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){try{this.openRpcRequests.forEach(({abortController:t,method:n})=>{Ss.SAFE_RPC_METHODS.includes(n)||t.abort()}),this.openRpcRequests=[]}catch(t){this.w3mLogger?.logger.error({error:t},"Error aborting RPC request")}}async appEvent(t){let n,r;function i(c){return c.replace("@w3m-app/","")}const s=[Lt.APP_SYNC_DAPP_DATA,Lt.APP_SYNC_THEME,Lt.APP_SET_PREFERRED_ACCOUNT],o=i(t.type);return!this.w3mFrame.iframeIsReady&&!s.includes(t.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Lt.APP_CONNECT_EMAIL,Lt.APP_CONNECT_DEVICE,Lt.APP_CONNECT_OTP,Lt.APP_CONNECT_SOCIAL,Lt.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((c,u)=>{const d=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:t,id:d},"Sending app event"),this.w3mFrame.events.postAppEvent({...t,id:d});const h=new AbortController;if(o==="RPC_REQUEST"){const m=t;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:h}]}h.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?u(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});function p(m,y){m.id===d&&(y?.logger.info?.({framEvent:m,id:d},"Received frame response"),m.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&c(m.payload),c(void 0)):m.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&u(new Error(m.payload?.message||"An error occurred")),u(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(d,m=>p(m,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){ms.set(Lt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(t){ms.set(Lt.SOCIAL_USERNAME,t)}setLoginSuccess(t){t&&ms.set(Lt.EMAIL,t),ms.set(Lt.EMAIL_LOGIN_USED_KEY,"true"),ms.delete(Lt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ms.delete(Lt.EMAIL_LOGIN_USED_KEY),ms.delete(Lt.EMAIL),ms.delete(Lt.LAST_USED_CHAIN_KEY),ms.delete(Lt.SOCIAL_USERNAME)}setLastUsedChainId(t){t&&ms.set(Lt.LAST_USED_CHAIN_KEY,String(t))}getLastUsedChainId(){const t=ms.get(Lt.LAST_USED_CHAIN_KEY)??void 0,n=Number(t);return isNaN(n)?t:n}persistSmartAccountEnabledNetworks(t){ms.set(Lt.SMART_ACCOUNT_ENABLED_NETWORKS,t.join(","))}}class hv{constructor(){}static getInstance({projectId:t,chainId:n,enableLogger:r,onTimeout:i,abortController:s}){return hv.instance||(hv.instance=new f7e({projectId:t,chainId:n,enableLogger:r,onTimeout:i,abortController:s})),hv.instance}}var Pj={};const h7e={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof Pj<"u"?Pj.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},zT={filterOutDuplicatesByRDNS(e){const t=nt.state.enableEIP6963?bt.state.connectors:[],n=Pt.getRecentWallets(),r=t.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&Qt.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a?.rdns)))},filterOutDuplicatesByIds(e){const t=bt.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Pt.getRecentWallets(),r=t.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return e.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=bt.state,{featuredWalletIds:n}=nt.state,r=t.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return e.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n?.length){const u=n.indexOf(o.id),d=n.indexOf(a.id);if(u!==-1&&d!==-1)return u-d;if(u!==-1)return-1;if(d!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const n=e?.connectMethodsOrder||nt.state.features?.connectMethodsOrder,r=t||bt.state.connectors;if(n)return n;const{injected:i,announced:s}=C_.getConnectorsByType(r,Zt.state.recommended,Zt.state.featured),o=i.filter(C_.showConnector),a=s.filter(C_.showConnector);return o.length||a.length?["wallet","email","social"]:h7e.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&Zt.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&Zt.state.excludedWallets.some(r=>U2.isLowerCaseMatch(r.name,e.name));return t||n}},C_={getConnectorsByType(e,t,n){const{customWallets:r}=nt.state,i=Pt.getRecentWallets(),s=zT.filterOutDuplicateWallets(t),o=zT.filterOutDuplicateWallets(n),a=e.filter(h=>h.type==="MULTI_CHAIN"),c=e.filter(h=>h.type==="ANNOUNCED"),u=e.filter(h=>h.type==="INJECTED"),d=e.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:i,external:d,multiChain:a,announced:c,injected:u,recommended:s,featured:o}},showConnector(e){const t=e.info?.rdns,n=!!t&&Zt.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===t),r=!!e.name&&Zt.state.excludedWallets.some(i=>U2.isLowerCaseMatch(i.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!Qt.isMobile()||Qt.isMobile()&&!t&&!an.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(de.state.chains.values()).some(n=>bt.getConnectorId(n.namespace)===Mt.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=nt.state.features?.connectorTypeOrder??[]}){const u=C_.getIsConnectedWithWC(),p=[{type:"walletConnect",isEnabled:nt.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:e.length>0}].filter(w=>w.isEnabled),m=new Set(p.map(w=>w.type)),y=c.filter(w=>m.has(w)).map(w=>({type:w,isEnabled:!0})),v=p.filter(({type:w})=>!y.some(({type:_})=>_===w));return Array.from(new Set([...y,...v].map(({type:w})=>w)))}},By={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},p7e=RG({id:8217,name:"Kaia",nativeCurrency:{decimals:18,name:"Kaia",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kaiascan.io",apiUrl:"https://api-cypress.klaytnscope.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),g7e=RG({id:1001,name:"Kairos Testnet",network:"kairos",nativeCurrency:{decimals:18,name:"Kairos KAIA",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en-kairos.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kairos.kaiascan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0});function gw(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Ij=gw({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Dj=gw({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});gw({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});gw({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});gw({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const m7e={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},x_={getMethodsByChainNamespace(e){return m7e[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(i=>r.add(i)),t.chains&&Object.keys(t.chains).forEach(i=>r.add(i)),t.events&&Object.keys(t.events).forEach(i=>r.add(i)),t.rpcMap&&Object.keys(t.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),t.methods&&Object.entries(t.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),t.chains&&Object.entries(t.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),t.events&&Object.entries(t.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),t.rpcMap){const i=new Set;Object.entries(t.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(e,t){const n=e.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const u=`${o}:${s}`,d=r[o];switch(d.chains.push(u),u){case Ij.caipNetworkId:d.chains.push(Ij.deprecatedCaipNetworkId);break;case Dj.caipNetworkId:d.chains.push(Dj.deprecatedCaipNetworkId);break}return d?.rpcMap&&c&&(d.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await lv.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(e))return!0}else if(r===e)return!0;return!1}};class eJ{constructor({provider:t,namespace:n}){this.id=Mt.CONNECTOR_ID.WALLET_CONNECT,this.name=_C.ConnectorNamesMap[Mt.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=_C.ConnectorImageIds[Mt.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=de.getCaipNetworks.bind(de),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=nt.state.universalProviderConfigOverride,i=x_.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return ov.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:y7e})}}const y7e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class v7e{constructor(t){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>de.getCaipNetworks(n),t&&this.construct(t)}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(t){this.addConnector({id:Mt.CONNECTOR_ID.AUTH,type:"AUTH",name:Mt.CONNECTOR_NAMES.AUTH,provider:t,imageId:_C.ConnectorImageIds[Mt.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(t,n){St.setStatus(t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(i=>i(n))}async connectWalletConnect(t){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(t){const{caipNetwork:n,providerType:r}=t;if(!t.provider)return;const i="provider"in t.provider?t.provider.provider:t.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const s=i,o=St.state.preferredAccountTypes?.[n.chainNamespace];await s.switchNetwork(n.caipNetworkId);const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n instanceof eJ);if(!t)throw new Error("WalletConnectConnector not found");return t}}class w7e extends v7e{setUniversalProvider(t){this.addConnector(new eJ({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}}async getAccounts({namespace:t}){const r=this.provider?.session?.namespaces?.[t]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:r.map(i=>Qt.createAccount(t,i,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){if(!(t.caipNetwork&&Ir.BALANCE_SUPPORTED_CHAINS.includes(t.caipNetwork?.chainNamespace))||t.caipNetwork?.testnet)return{balance:"0.00",symbol:t.caipNetwork?.nativeCurrency.symbol||""};if(St.state.balanceLoading&&t.chainId===de.state.activeCaipNetwork?.id)return{balance:St.state.balance||"0.00",symbol:St.state.balanceSymbol||""};const i=(await St.fetchTokenBalance()).find(s=>s.chainId===`${t.caipNetwork?.chainNamespace}:${t.chainId}`&&s.symbol===t.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||t.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(t){const{provider:n,message:r,address:i}=t;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return de.state.activeCaipNetwork?.chainNamespace===Mt.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:ZV.encode(new TextEncoder().encode(r)),pubkey:i}},de.state.activeCaipNetwork?.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},de.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){const{caipNetwork:n}=t,r=this.getWalletConnectConnector();if(n.chainNamespace===Mt.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:oj(n.id)}]})}catch(i){if(i.code===By.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===By.ERROR_INVALID_CHAIN_ID||i.code===By.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===By.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:oj(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const b7e=["email","socials","swaps","onramp","activity","reownBranding"],cE={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?Ir.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(n=>n!=="email"):!1},processFallback:e=>e===void 0?Ir.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?Ir.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ir.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?Ir.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ir.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?Ir.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ir.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ir.DEFAULT_REMOTE_FEATURES.reownBranding:!!e}},E7e={localSettingsOverridden:new Set,getApiConfig(e,t){return t?.find(n=>n.id===e)},addWarning(e,t){if(e!==void 0){const n=cE[t],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,n,r){const i=cE[e],s=t[i.localFeatureName];if(r){const o=this.getApiConfig(i.apiFeatureName,n);return o?.config===null?this.processFallbackFeature(e,s):o?.config?(s!==void 0&&this.addWarning(s,e),this.processApiFeature(e,o)):!1}return this.processFallbackFeature(e,s)},processApiFeature(e,t){return cE[e].processApi(t)},processFallbackFeature(e,t){return cE[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.features||{};this.localSettingsOverridden.clear();let n=null,r=!1;try{n=await Zt.fetchProjectConfig(),r=n!=null}catch(s){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",s)}const i=r?Ir.DEFAULT_REMOTE_FEATURES:Ir.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const s of b7e){const o=this.processFeature(s,t,n,r);Object.assign(i,{[s]:o})}}catch(s){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",s),Ir.DEFAULT_REMOTE_FEATURES}if(r&&this.localSettingsOverridden.size>0){const s=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Hc.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${s}`},"warning")}return i}};class _7e{constructor(t){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const i=de.getNetworkData(n)?.requestedCaipNetworks?.find(a=>a.id===r);if(i)return i;const s=de.getNetworkData(n)?.caipNetwork;return s||de.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return de.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>de.getCaipNetworks(n),this.getActiveChainNamespace=()=>de.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{de.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>de.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>de.state.activeChain===n||!n?de.state.activeCaipAddress:de.getAccountProp("caipAddress",n),this.setClientId=n=>{hn.setClientId(n)},this.getProvider=n=>Nr.getProvider(n),this.getProviderType=n=>Nr.getProviderId(n),this.getPreferredAccountType=n=>St.state.preferredAccountTypes?.[n],this.setCaipAddress=(n,r)=>{St.setCaipAddress(n,r),n&&nt.state.enableEmbedded&&this.close()},this.setBalance=(n,r,i)=>{St.setBalance(n,r,i)},this.setProfileName=(n,r)=>{St.setProfileName(n,r)},this.setProfileImage=(n,r)=>{St.setProfileImage(n,r)},this.setUser=(n,r)=>{St.setUser(n,r)},this.resetAccount=n=>{St.resetAccount(n)},this.setCaipNetwork=n=>{de.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{de.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{St.setAllAccounts(n,r),nt.setHasMultipleAddresses(n?.length>1)},this.setStatus=(n,r)=>{St.setStatus(n,r),bt.isConnected()?Pt.setConnectionStatus("connected"):Pt.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>de.getAccountProp("address",n),this.setConnectors=n=>{const r=[...bt.state.allConnectors,...n];bt.setConnectors(r)},this.setConnections=(n,r)=>{an.setConnections(n,r)},this.fetchIdentity=n=>hn.fetchIdentity(n),this.getReownName=n=>lv.getNamesForAddress(n),this.getConnectors=()=>bt.getConnectors(),this.getConnectorImage=n=>ev.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=Nr.getProviderId(r),s=n?{...n,type:i}:void 0;St.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!de.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{St.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{St.removeAddressLabel(n,r)},this.getAddress=n=>de.state.activeChain===n||!n?St.state.address:de.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>de.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{de.resetNetwork(n)},this.addConnector=n=>{bt.addConnector(n)},this.resetWcConnection=()=>{an.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{St.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{St.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{de.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{St.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{nt.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,n){const r=t?.map(s=>s.namespace).filter(s=>!!s);if(r?.length)return[...new Set(r)];const i=n?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(t){this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),await this.syncExistingConnection(),this.remoteFeatures=await E7e.fetchRemoteFeatures(t),nt.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&BT.setOnrampProviders(this.remoteFeatures.onramp),(nt.state.remoteFeatures?.email||Array.isArray(nt.state.remoteFeatures?.socials)&&nt.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const t=await Zt.fetchAllowedOrigins();if(t&&Qt.isClient()){const n=window.location.origin;x_.isOriginAllowed(n,t,By.DEFAULT_ALLOWED_ANCESTORS)||Hc.open(Kc.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else Hc.open(Kc.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(t){const{...n}=t;delete n.adapters,delete n.universalProvider,_r.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:t.networks.map(r=>r.id),siweConfig:{options:t.siweConfig?.options||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initializeThemeController(t){t.themeMode&&Co.setThemeMode(t.themeMode),t.themeVariables&&Co.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");de.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&de.setActiveCaipNetwork(n)}initializeConnectionController(t){an.setWcBasic(t.basic??!1)}initializeConnectorController(){bt.initialize(this.chainNamespaces)}initializeProjectSettings(t){nt.setProjectId(t.projectId),nt.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){nt.setDebug(t.debug!==!1),nt.setEnableWalletConnect(t.enableWalletConnect!==!1),nt.setEnableWalletGuide(t.enableWalletGuide!==!1),nt.setEnableWallets(t.enableWallets!==!1),nt.setEIP6963Enabled(t.enableEIP6963!==!1),nt.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),nt.setEnableAuthLogger(t.enableAuthLogger!==!1),nt.setCustomRpcUrls(t.customRpcUrls),nt.setEnableEmbedded(t.enableEmbedded),nt.setAllWallets(t.allWallets),nt.setIncludeWalletIds(t.includeWalletIds),nt.setExcludeWalletIds(t.excludeWalletIds),nt.setFeaturedWalletIds(t.featuredWalletIds),nt.setTokens(t.tokens),nt.setTermsConditionsUrl(t.termsConditionsUrl),nt.setPrivacyPolicyUrl(t.privacyPolicyUrl),nt.setCustomWallets(t.customWallets),nt.setFeatures(t.features),nt.setAllowUnsupportedChain(t.allowUnsupportedChain),nt.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),nt.setPreferUniversalLinks(t.experimental_preferUniversalLinks),nt.setDefaultAccountTypes(t.defaultAccountTypes);const n=Pt.getPreferredAccountTypes()||{},r={...nt.state.defaultAccountTypes,...n};St.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!t.metadata&&i&&(t.metadata=i),nt.setMetadata(t.metadata),nt.setDisableAppend(t.disableAppend),nt.setEnableEmbedded(t.enableEmbedded),nt.setSIWX(t.siwx),!t.projectId){Hc.open(Kc.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(t.adapters?.find(o=>o.namespace===Mt.CHAIN.EVM)&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");nt.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Qt.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(t){const n=this.getActiveChainNamespace();if(n){const r=g0.getUnsupportedNetwork(`${n}:${t}`);de.setActiveCaipNetwork(r)}}getDefaultNetwork(){return g0.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,n){return g0.extendCaipNetwork(t,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(t){return g0.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const n=t.networks.find(i=>i.id===t.defaultNetwork?.id);return n?g0.extendCaipNetwork(n,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const t=de.state.activeChain,n=this.getAdapter(t),r=this.getCaipNetwork(t)?.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId(i?.clientId||null),Pt.setConnectedNamespaces([...de.state.chains.keys()]),this.chainNamespaces.forEach(s=>{bt.setConnectorId(Oo.CONNECTOR_TYPE_WALLET_CONNECT,s)}),await this.syncWalletConnectAccount()},connectExternal:async({id:t,info:n,type:r,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{const c=de.state.activeChain,u=s||c,d=this.getAdapter(u);if(s&&s!==c&&!o){const v=this.getCaipNetworks().find(w=>w.chainNamespace===s);v&&this.setCaipNetwork(v)}if(!d)throw new Error("Adapter not found");const h=this.getCaipNetwork(u),p=await d.connect({id:t,info:n,type:r,provider:i,socialUri:a,chainId:o?.id||h?.id,rpcUrl:o?.rpcUrls?.default?.http?.[0]||h?.rpcUrls?.default?.http?.[0]});if(!p)return;Pt.addConnectedNamespace(u),this.syncProvider({...p,chainNamespace:u});const m=St.state.allAccounts,{accounts:y}=m?.length>0?{accounts:[...m]}:await d.getAccounts({namespace:u,id:t});this.setAllAccounts(y,u),this.setStatus("connected",u),this.syncConnectedWalletInfo(u)},reconnectExternal:async({id:t,info:n,type:r,provider:i})=>{const s=de.state.activeChain,o=this.getAdapter(s);o?.reconnect&&(await o?.reconnect({id:t,info:n,type:r,provider:i,chainId:this.getCaipNetwork()?.id}),Pt.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async t=>{const n=t||de.state.activeChain,r=this.getAdapter(n),i=Nr.getProvider(n),s=Nr.getProviderId(n);await r?.disconnect({provider:i,providerType:s}),Pt.removeConnectedNamespace(n),Nr.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n)},checkInstalled:t=>t?t.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async t=>(await this.getAdapter(de.state.activeChain)?.signMessage({message:t,address:St.state.address,provider:Nr.getProvider(de.state.activeChain)}))?.signature||"",sendTransaction:async t=>{const n=t.chainNamespace;if(Ir.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(de.state.activeChain),i=Nr.getProvider(n);return(await r?.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async t=>{if(t.chainNamespace===Mt.CHAIN.EVM){const n=this.getAdapter(de.state.activeChain),r=Nr.getProvider(de.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");return(await n?.estimateGas({...t,provider:r,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.syncIdentity({address:St.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:de.state.activeChain}),St.state.profileImage||!1),getEnsAddress:async t=>await x_.resolveReownName(t),writeContract:async t=>{const n=this.getAdapter(de.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=Nr.getProvider(de.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");return(await n?.writeContract({...t,caipNetwork:r,provider:s,caipAddress:i}))?.hash},parseUnits:(t,n)=>this.getAdapter(de.state.activeChain)?.parseUnits({value:t,decimals:n})??0n,formatUnits:(t,n)=>this.getAdapter(de.state.activeChain)?.formatUnits({value:t,decimals:n})??"0",getCapabilities:async t=>await this.getAdapter(de.state.activeChain)?.getCapabilities(t),grantPermissions:async t=>await this.getAdapter(de.state.activeChain)?.grantPermissions(t),revokePermissions:async t=>{const n=this.getAdapter(de.state.activeChain);return n?.revokePermissions?await n.revokePermissions(t):"0x"},walletGetAssets:async t=>await this.getAdapter(de.state.activeChain)?.walletGetAssets(t)??{},updateBalance:t=>{const n=this.getCaipNetwork(t);!n||!St.state.address||this.updateNativeBalance(St.state.address,n?.id,t)}},this.networkControllerClient={switchCaipNetwork:async t=>await this.switchCaipNetwork(t),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},an.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(Nr.getProviderId(de.state.activeChain)===Oo.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){if(!t)return;const n=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const i=Nr.getProvider(n),s=Nr.getProviderId(n);if(t.chainNamespace===de.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:t,provider:i,providerType:s});else if(this.setCaipNetwork(t),s===Oo.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:t.id,chainNamespace:n})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=La.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const i=t?.find(s=>s.namespace===r);return i?(i.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new w7e({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(t){this.onConnectors(t),this.listenAdapter(t),this.chainAdapters?.[t].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)}))}onConnectors(t){this.getAdapter(t)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const n=this.getAdapter(t);if(!n)return;const r=Pt.getConnectionStatus();r==="connected"?this.setStatus("connecting",t):r==="disconnected"?(Pt.clearAddressCache(),this.setStatus(r,t)):this.setStatus(r,t),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(u=>u.id===s||u.caipNetworkId===s),a=de.state.activeChain===t,c=de.getAccountProp("address",t);if(o){const u=a&&i?i:c;u&&this.syncAccount({address:u,chainId:o.id,chainNamespace:t})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,t)),n.on("connections",i=>{this.setConnections(i,t)}),n.on("pendingTransactions",()=>{const i=St.state.address,s=de.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{const o=de.state.activeChain===t;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:t}):o&&de.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:de.state.activeCaipNetwork?.id,chainNamespace:t}):this.syncAccountInfo(i,s,t),this.syncAllAccounts(t)})}async createUniversalProviderForAdapter(t){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[t]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async syncNamespaceConnection(t){try{const n=bt.getConnectorId(t);switch(this.setStatus("connecting",t),n){case Mt.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Mt.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",t)}}async syncAdapterConnection(t){const n=this.getAdapter(t),r=bt.getConnectorId(t),i=this.getCaipNetwork(t),s=bt.getConnectors(t).find(o=>o.id===r);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!i?.id)throw new Error("CaipNetwork not found");const o=await n?.syncConnection({namespace:t,id:s.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});if(o){const a=await n?.getAccounts({namespace:t,id:s.id});a&&a.accounts.length>0?this.setAllAccounts(a.accounts,t):this.setAllAccounts([Qt.createAccount(t,o.address,"eoa")],t),this.syncProvider({...o,chainNamespace:t}),await this.syncAccount({...o,chainNamespace:t}),this.setStatus("connected",t)}else this.setStatus("disconnected",t)}catch{this.setStatus("disconnected",t)}}async syncWalletConnectAccount(){const t=this.chainNamespaces.map(async n=>{const r=this.getAdapter(n),i=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],s=de.state.activeCaipNetwork?.id,o=i.find(a=>{const{chainId:c}=La.parseCaipAddress(a);return c===s?.toString()})||i[0];if(o){const a=La.validateCaipAddress(o),{chainId:c,address:u}=La.parseCaipAddress(a);if(Nr.setProviderId(n,Oo.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&de.state.activeCaipNetwork&&r?.namespace!==Mt.CHAIN.EVM){const d=r?.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:de.state.activeCaipNetwork});Nr.setProvider(n,d)}else Nr.setProvider(n,this.universalProvider);bt.setConnectorId(Mt.CONNECTOR_ID.WALLET_CONNECT,n),Pt.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:u,chainId:c,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await de.setApprovedCaipNetworksData(n)});await Promise.all(t)}syncWalletConnectAccounts(t){const n=this.universalProvider?.session?.namespaces?.[t]?.accounts?.map(r=>{const{address:i}=La.parseCaipAddress(r);return i}).filter((r,i,s)=>s.indexOf(r)===i);n&&this.setAllAccounts(n.map(r=>Qt.createAccount(t,r,t==="bip122"?"payment":"eoa")),t)}syncProvider({type:t,provider:n,id:r,chainNamespace:i}){Nr.setProviderId(i,t),Nr.setProvider(i,n),bt.setConnectorId(r,i)}async syncAllAccounts(t){const n=bt.getConnectorId(t);if(!n)return;const i=await this.getAdapter(t)?.getAccounts({namespace:t,id:n});i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,t)}async syncAccount(t){const n=t.chainNamespace===de.state.activeChain,r=de.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:i,chainId:s,chainNamespace:o}=t,{chainId:a}=Pt.getActiveNetworkProps(),c=s||a,u=de.state.activeCaipNetwork?.name===Mt.UNSUPPORTED_NETWORK_NAME,d=de.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!d)&&c){let h=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),p=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!d&&!h&&!p){const y=this.getApprovedCaipNetworkIds()||[],v=y.find(C=>La.parseCaipNetworkId(C)?.chainId===c.toString()),w=y.find(C=>La.parseCaipNetworkId(C)?.chainNamespace===o);h=this.getCaipNetworks().find(C=>C.caipNetworkId===v),p=this.getCaipNetworks().find(C=>C.caipNetworkId===w||"deprecatedCaipNetworkId"in C&&C.deprecatedCaipNetworkId===w)}const m=h||p;m?.chainNamespace===de.state.activeChain?nt.state.enableNetworkSwitch&&!nt.state.allowUnsupportedChain&&de.state.activeCaipNetwork?.name===Mt.UNSUPPORTED_NETWORK_NAME?de.showUnsupportedChainUI():this.setCaipNetwork(m):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),U2.isLowerCaseMatch(i,St.state.address)||this.syncAccountInfo(i,m?.id,o),n?await this.syncBalance({address:i,chainId:m?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r?.id,chainNamespace:o})}}async syncAccountInfo(t,n,r){const i=this.getCaipAddress(r),s=n||i?.split(":")[1];if(!s)return;const o=`${r}:${s}:${t}`;this.setCaipAddress(o,r),await this.syncIdentity({address:t,chainId:s,chainNamespace:r})}async syncReownName(t,n){try{const r=await this.getReownName(t);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(t){const n=bt.getConnectorId(t),r=Nr.getProviderId(t);if(r===Oo.CONNECTOR_TYPE_ANNOUNCED||r===Oo.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(s=>s.id===n);if(i){const{info:s,name:o,imageUrl:a}=i,c=a||this.getConnectorImage(i);this.setConnectedWalletInfo({name:o,icon:c,...s},t)}}}else if(r===Oo.CONNECTOR_TYPE_WALLET_CONNECT){const i=Nr.getProvider(t);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},t)}else if(n&&n===Mt.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(s=>s.id===Mt.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},t)}}async syncBalance(t){!eV.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(r=>r.id.toString()===t.chainId?.toString())||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,n,r){const i=this.getAdapter(r),s=de.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:t,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const t=ZIe.createLogger((r,...i)=>{r&&this.handleAlertError(r),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:t};nt.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await sIe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",t=>{an.setUri(t)}),this.universalProvider.on("connect",an.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(t=>{this.resetAccount(t)}),an.resetWcConnection()}),this.universalProvider.on("chainChanged",t=>{const n=this.getCaipNetworks().find(i=>i.id==t),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(t);return}r?.id!==n?.id&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",t=>{if(x_.isSessionEventData(t)){const{name:n,data:r}=t.params.event;n==="accountsChanged"&&Array.isArray(r)&&Qt.isCaipAddress(r[0])&&this.syncAccount(La.parseCaipAddress(r[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&Qt.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){_r.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}handleAlertError(t){const n=Object.entries(Kc.UniversalProviderErrors).find(([,{message:a}])=>t.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=Kc.ALERT_ERRORS[o];a&&(Hc.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(t){if(t)return this.chainAdapters?.[t]}createAdapter(t){if(!t)return;const n=t.namespace;if(!n)return;this.createClients();const r=t;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(t){if(await this.injectModalUi(),t?.uri&&an.setUri(t.uri),t?.arguments)switch(t?.view){case"Swap":return Wn.open({...t,data:{swap:t.arguments}})}return Wn.open(t)}async close(){await this.injectModalUi(),Wn.close()}setLoading(t,n){Wn.setLoading(t,n)}async disconnect(t){await an.disconnect(t)}getSIWX(){return nt.state.siwx}getError(){return""}getChainId(){return de.state.activeCaipNetwork?.id}async switchNetwork(t){const n=this.getCaipNetworks().find(r=>r.id===t.id);if(!n){Hc.open(Kc.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await de.switchActiveNetwork(n)}getWalletProvider(){return de.state.activeChain?Nr.state.providers[de.state.activeChain]:null}getWalletProviderType(){return Nr.getProviderId(de.state.activeChain)}subscribeProviders(t){return Nr.subscribeProviders(t)}getThemeMode(){return Co.state.themeMode}getThemeVariables(){return Co.state.themeVariables}setThemeMode(t){Co.setThemeMode(t),$G(Co.state.themeMode)}setTermsConditionsUrl(t){nt.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){nt.setPrivacyPolicyUrl(t)}setThemeVariables(t){Co.setThemeVariables(t),xDe(Co.state.themeVariables)}subscribeTheme(t){return Co.subscribe(t)}getWalletInfo(){return St.state.connectedWalletInfo}getAccount(t){const n=bt.getAuthConnector(t),r=de.getAccountData(t),i=de.state.activeChain,s=Pt.getConnectedConnectorId(t);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Qt.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&s===Mt.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:Pt.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:r.preferredAccountTypes?.[t||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(t,n){const r=()=>{const i=this.getAccount(n);i&&t(i)};n?de.subscribeChainProp("accountState",r,n):de.subscribe(r),bt.subscribe(r)}subscribeNetwork(t){return de.subscribe(({activeCaipNetwork:n})=>{t({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(t){return St.subscribeKey("connectedWalletInfo",t)}subscribeShouldUpdateToAddress(t){St.subscribeKey("shouldUpdateToAddress",t)}subscribeCaipNetworkChange(t){de.subscribeKey("activeCaipNetwork",t)}getState(){return Yc.state}subscribeState(t){return Yc.subscribe(t)}showErrorMessage(t){lc.showError(t)}showSuccessMessage(t){lc.showSuccess(t)}getEvent(){return{..._r.state}}subscribeEvents(t){return _r.subscribe(t)}replace(t){vn.replace(t)}redirect(t){vn.push(t)}popTransactionStack(t){vn.popTransactionStack(t)}isOpen(){return Wn.state.open}isTransactionStackEmpty(){return vn.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){nt.setFeatures(t)}updateRemoteFeatures(t){nt.setRemoteFeatures(t)}updateOptions(t){const r={...nt.state||{},...t};nt.setOptions(r)}setConnectMethodsOrder(t){nt.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){nt.setWalletFeaturesOrder(t)}setCollapseWallets(t){nt.setCollapseWallets(t)}setSocialsOrder(t){nt.setSocialsOrder(t)}getConnectMethodsOrder(){return zT.getConnectOrderMethod(nt.state.features,bt.getConnectors())}addNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||de.addNetwork(r)}removeNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&de.removeNetwork(t,n)}}let kj=!1;class C7e extends _7e{setupAuthConnectorListeners(t){t.onRpcRequest(n=>{na.checkIfRequestExists(n)?na.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Ss.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Ss.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),t.rejectRpcRequests())}),t.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),t.onRpcSuccess((n,r)=>{const i=na.checkIfRequestIsSafe(r),s=St.state.address,o=de.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),t.onNotConnected(()=>{const n=de.state.activeChain;bt.getConnectorId(n)===Mt.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),t.onConnect(n=>{const r=de.state.activeChain,i=r===Mt.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,s=nt.state.defaultAccountTypes[r],o=St.state.preferredAccountTypes?.[r],a=n.preferredAccountType||o||s;U2.isLowerCaseMatch(n.address,St.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser({...St.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=n.accounts?.map(u=>Qt.createAccount(r,u.address,u.type||o||s));this.setAllAccounts(c||[Qt.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),t.onSocialConnected(({userName:n})=>{this.setUser({...St.state.user||{},username:n},de.state.activeChain)}),t.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,de.state.activeChain)}),t.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,de.state.activeChain)})}async syncAuthConnector(t,n){const r=Mt.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const i=t.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const s=t.getEmail(),o=t.getUsername();this.setUser({...St.state?.user||{},username:o,email:s},de.state.activeChain),this.setupAuthConnectorListeners(t);const{isConnected:a}=await t.isConnected(),c=Co.getSnapshot(),u=nt.getSnapshot();await Promise.all([t.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),t.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:Hl(c.themeVariables,c.themeMode)})]),await t.getSmartAccountEnabledNetworks(),n&&r&&(a&&this.connectionControllerClient?.connectExternal?(await this.connectionControllerClient?.connectExternal({id:Mt.CONNECTOR_ID.AUTH,info:{name:Mt.CONNECTOR_ID.AUTH},type:Oo.CONNECTOR_TYPE_AUTH,provider:t,chainId:de.state.activeCaipNetwork?.id,chain:n}),this.setStatus("connected",n)):bt.getConnectorId(n)===Mt.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Pt.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(t){try{if(!Qt.isTelegram())return;const n=Pt.getTelegramSocialProvider();if(!n||!Qt.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;St.setSocialProvider(n,t),await this.authProvider?.init();const s=bt.getAuthConnector();n&&s&&(this.setLoading(!0,t),await an.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),Pt.setConnectedSocialProvider(n),Pt.removeTelegramSocialProvider(),_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,t),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(t){if(!Mt.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t))return;const r=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=r||i;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=hv.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(t)?.caipNetworkId,abortController:Kc.EmbeddedWalletAbortController,onTimeout:o=>{o==="iframe_load_failed"?Hc.open(Kc.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):o==="iframe_request_timeout"?Hc.open(Kc.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):o==="unverified_domain"&&Hc.open(Kc.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Yc.subscribeOpen(o=>{!o&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,t),this.checkExistingTelegramSocialConnection(t))}createAuthProviderForAdapter(t){this.createAuthProvider(t),this.authProvider&&this.chainAdapters?.[t]?.setAuthProvider?.(this.authProvider)}initControllers(t){super.initControllers(t),this.options.excludeWalletIds&&Zt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(t){if(!t)return;const n=de.state.activeChain,r=t.chainNamespace,i=this.getAddressByChainNamespace(r);if(r===n&&i){const o=this.getAdapter(r),a=Nr.getProvider(r),c=Nr.getProviderId(r);await o?.switchNetwork({caipNetwork:t,provider:a,providerType:c}),this.setCaipNetwork(t)}else{const a=Nr.getProviderId(n)===Oo.CONNECTOR_TYPE_AUTH,c=Nr.getProviderId(r),u=c===Oo.CONNECTOR_TYPE_AUTH,d=Mt.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((a&&c===void 0||u)&&d)try{de.state.activeChain=t.chainNamespace,i?await this.getAdapter(r)?.switchNetwork({caipNetwork:t,provider:this.authProvider,providerType:c}):await this.connectionControllerClient?.connectExternal?.({id:Mt.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:t.id,type:Oo.CONNECTOR_TYPE_AUTH,caipNetwork:t}),this.setCaipNetwork(t)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:t,provider:this.authProvider,providerType:c})}else c===Oo.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(t),this.syncWalletConnectAccount()):(this.setCaipNetwork(t),i&&this.syncAccount({address:i,chainId:t.id,chainNamespace:r}))}}async initialize(t){await super.initialize(t),this.chainNamespaces?.forEach(n=>{this.createAuthProviderForAdapter(n),this.chainAdapters?.[n].syncConnectors(this.options,this)}),await this.injectModalUi(),Yc.set({initialized:!0})}async syncIdentity({address:t,chainId:n,chainNamespace:r}){const i=`${r}:${n}`,s=this.caipNetworks?.find(o=>o.caipNetworkId===i);if(r!==Mt.CHAIN.EVM||s?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:o,avatar:a}=await this.fetchIdentity({address:t,caipNetworkId:i});this.setProfileName(o,r),this.setProfileImage(a,r)}catch{await this.syncReownName(t,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(t){const n=Nr.getProviderId(t);if(n===Oo.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=Pt.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},t)}}else super.syncConnectedWalletInfo(t)}async injectModalUi(){if(Qt.isClient()&&!kj)try{const t={...Ir.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(t,n),Qt.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!nt.state.disableAppend&&!nt.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}kj=!0}catch(t){console.error("Error injecting modal UI:",t)}}async loadModalComponents(t,n){if(!Qt.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(it(()=>import("./embedded-wallet-Bdph9SDb.js"),__vite__mapDeps([76,77,78,79,80,81,82,83,84,1]),import.meta.url)),n.email&&r.push(it(()=>import("./email-CiFVfn4R.js"),__vite__mapDeps([85,78,84,79,83,86,80,1]),import.meta.url)),n.socials&&r.push(it(()=>import("./socials-KtP2XVkm.js"),__vite__mapDeps([87,78,88,79,89,90,91,83,84,92,93,1]),import.meta.url)),n.swaps&&n.swaps.length>0&&r.push(it(()=>import("./swaps-BMXxHbKr.js"),__vite__mapDeps([94,83,78,95,96,97,93,80,79,1]),import.meta.url)),t.send&&r.push(it(()=>import("./send-dZK-YvTd.js"),__vite__mapDeps([98,83,78,79,89,84,97,80,99,100,1]),import.meta.url)),t.receive&&r.push(it(()=>import("./receive-C699ZmdL.js"),__vite__mapDeps([101,78,102,92,1]),import.meta.url)),n.onramp&&n.onramp.length>0&&r.push(it(()=>import("./onramp-2IpOs6Be.js"),__vite__mapDeps([103,104,78,93,105,88,79,89,106,84,83,91,80,1]),import.meta.url)),n.activity&&r.push(it(()=>import("./transactions-4qELsxdU.js"),__vite__mapDeps([107,78,108,104,93,84,1]),import.meta.url)),t.pay&&r.push(it(()=>import("./index-DQmykJjC.js"),__vite__mapDeps([109,83,78,110,81,105,100,91,1]),import.meta.url)),await Promise.all([...r,it(()=>import("./index-DQ7OelFZ.js"),__vite__mapDeps([111,78,99,112,96,81,105,83,82,110,108,104,93,84,95,79,80,100,86,88,89,90,77,91,102,92,106,1]),import.meta.url),it(()=>import("./w3m-modal-DnUyoHX_.js"),__vite__mapDeps([113,78,81,82,96,112,1]),import.meta.url)])}}const x7e="1.7.7";function S7e(e){return new C7e({...e,sdkVersion:Qt.generateSdkVersion(e.adapters??[],"html",x7e)})}class ur extends Error{constructor(t){super(t.message),this.name="RpcException",this.code=t.code,this.data=t.data,Object.setPrototypeOf(this,ur.prototype)}}var No;(function(e){e.invalidRequest="-32600",e.methodNotFound="-32601",e.invalidParams="-32602",e.internal="-32603",e.parse="-32700"})(No||(No={}));const tJ={"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}},su=-32001;class K2 extends Error{constructor(t,n,r){const i=Number.parseInt(t);if(isNaN(i))throw new Error('"code" must be an integer.');super(n??tJ[No.invalidRequest].message),this.code=i,r&&(this.data=r),Object.setPrototypeOf(this,K2.prototype)}}class O1 extends K2{constructor(t,n){super(No.internal,t,n)}}function nJ(e){return e instanceof Tz.OKXConnectError&&e.code===300&&e.message.includes("user rejects error")?{code:su,message:"User canceled"}:typeof e=="string"?{code:Number.parseInt(No.internal),message:e}:e instanceof K2||e instanceof ur?{code:e.code,message:e.message,data:e.data}:{code:Number.parseInt(No.internal),message:tJ[No.internal].message}}function O6(e){return typeof e=="object"&&e!==null&&typeof e.code=="number"&&typeof e.message=="string"}function w4(){const e=globalThis.klaytn;if(!e)throw new O1("Extension is not installed");return e}function rJ(e,t){return e!=="klay_signTransaction"?t:function(n){return{raw:n.rawTransaction}}(t)}function fg(e){return/Line/.test(e)}function A6(e){return/iPad|iPhone|iPod/.test(e)}function Mj(e){return/iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini|Mobile/.test(e)}const b4="walletType",E4="selectedWalletAddress",Lj="deviceId",Uj="providerType";class rp{constructor(t){this.chainId=t}clear(){this.removeItem(b4),this.removeItem(E4)}setWalletType(t){this.setItem(b4,t)}getWalletType(){return this.getItem(b4)}setProviderType(t){this.setItem(Uj,t)}getProviderType(){return this.getItem(Uj)}setSelectedWallet(t){this.setItem(E4,t)}getConnectedWallet(){return this.getItem(E4)}getDeviceId(){return this.getItem(Lj)}setDeviceId(t){this.setItem(Lj,t)}getKeyWithPrefix(t){return`sdk.dappportal.io:${this.chainId}:${t}`}setItem(t,n){localStorage.setItem(this.getKeyWithPrefix(t),n)}getItem(t){return localStorage.getItem(this.getKeyWithPrefix(t))}removeItem(t){localStorage.removeItem(this.getKeyWithPrefix(t))}}function Bj(e){return e.replace(/^klay_/,"kaia_")}function T6(e){return e.replace(/^(klay_|kaia_)/,"eth_")}class O7e{constructor(t,n){this.eventBus=t,this.config=n,this.setExtensionEventProxy()}async request(t){const{method:n,params:r}=t;if(n==="kaia_connectAndSign")return await this.requestConnectAndSign(r);const i=(s=n)==="kaia_signLegacy"?"klay_sign":s.replace(/^kaia_/,"klay_");var s;const o=r&&this.appendTxTypeParam(i,r),a=o&&this.convertToLegacyParam(i,o);return await this.requestWithConverter({method:i,params:a})}async requestConnectAndSign(t){if(!Array.isArray(t)||t.length!==1)throw new ur({code:-32602,message:"Invalid params"});const n=t[0],r=(await this.requestWithConverter({method:"eth_requestAccounts",params:[]}))[0];return[r,await this.requestWithConverter({method:"personal_sign",params:[n,r]})]}async switchChain(t){const n=w4(),r=n.networkVersion.toString().toLowerCase(),i=this.config.chainId.toString().toLowerCase();if(r===i)return;const s=`0x${parseInt(i,10).toString(16)}`,o=this.awaitNetworkChange(n,i);await n.request({method:"wallet_switchKlaytnChain",params:[{chainId:s}]}),await o}async disconnect(){}async awaitNetworkChange(t,n){return new Promise((r,i)=>{const s=o=>{o!=="loading"&&(o.toString().toLowerCase()===n.toString().toLowerCase()&&(this.eventBus.removeListener("chainChanged",s),r(null)),this.eventBus.removeListener("chainChanged",s),i("Invalid chain id"))};this.eventBus.on("chainChanged",s)})}async requestWithConverter(t){try{const n=await w4().request(t);return rJ(t.method,n)}catch(n){throw function(r){if(!O6(r))return r;const i=r.code,s=r.message;return i===-32603&&s.includes("User denied")?new ur({code:su,message:s}):i===-32603&&s.includes('Invalid "from" address')?new ur({code:-32004,message:s}):new ur({code:r.code,message:r.message})}(n)}}setExtensionEventProxy(){const t=w4();t.removeAllListeners(),t.on("accountsChanged",n=>{this.eventBus.emit("accountsChanged",n)}),t.on("networkChanged",n=>{this.eventBus.emit("chainChanged",n)}),t.on("disconnected",()=>{this.eventBus.emit("disconnect")})}appendTxTypeParam(t,n){return this.config.methodsShouldAttachTxTypeParamsWhenRequestToExtension.indexOf(t)===-1?n:Array.isArray(n)&&n.every(r=>typeof r=="object")?n.map(r=>this.appendTxTypeToObj(r)):n}convertToLegacyParam(t,n){return this.config.methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension.indexOf(t)===-1?n:Array.isArray(n)&&n.every(r=>typeof r=="object")?n.map(r=>this.convertInputFieldToDataField(r)):n}appendTxTypeToObj(t){const n=t;return"typeInt"in n?{...n,type:n.typeInt}:t}convertInputFieldToDataField(t){const n=t;let r;if("typeInt"in n&&(r=n.typeInt),!r||this.config.txTypesShouldConvertInputFieldToDataFieldWhenRequestToExtension.indexOf(r)===-1||!("input"in n))return t;const{input:i,...s}=n;return{...s,data:n.input}}}class A7e{constructor(t){this.chainRpcUrl=t.chainNodeRpcEndpoint}async requestRpc(t){const n={id:0,jsonrpc:"2.0",...t},r=await fetch(this.chainRpcUrl,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}),{result:i,error:s}=await r.json();if(s)throw s;return i}}function R6(){document.getElementById("iframeDiv")?.remove()}const iJ="VISIT",sJ="reownVerified",oJ="bitgetExtensionInstalled";function N6(){return globalThis.bitkeep!==void 0}function lE(){const e=globalThis.bitkeep;if(!e)throw new O1("Extension is not installed");const t=e.ethereum;if(!t)throw new O1("Extension is not installed");return t}class T7e{constructor(t){this.resolveProviderType=()=>{},this.rejectProviderType=()=>{},this.walletSelectUIUrl=t.sdkUIUrls.miniDappConnectWebV3,this.sdkLocalStorage=new rp(t.chainId),this.connectPageOptions=t.connectPageOptions}setupListeners(){const t=n=>{const r=this.iframe;if(!r||n.source!==r.contentWindow)return;const i=n.data;if(!i||typeof i!="object")return;const s=i.event;if(s)switch(s){case"Loaded":break;case"ProviderTypeSelected":const o=i.providerType;this.onProviderTypeSelected(o);break;case"Canceled":this.cancel()}};window.addEventListener("message",t),this.eventListener=t}clearListeners(){const t=this.eventListener;t&&(window.removeEventListener("message",t),this.eventListener=void 0)}onProviderTypeSelected(t){this.resolveProviderType&&this.resolveProviderType(t)}reset(){this.resolveProviderType=void 0,this.rejectProviderType=void 0,R6(),this.clearListeners()}async selectType(t,n){const r=new Promise((a,c)=>{this.resolveProviderType=a,this.rejectProviderType=c});this.setupListeners();const i=this.sdkLocalStorage.getProviderType(),s=new URL(this.walletSelectUIUrl);s.searchParams.append("dappName",t),i&&s.searchParams.append("providerType",i),s.searchParams.set(sJ,n?"true":"false"),s.searchParams.set(oJ,N6()?"true":"false"),this.connectPageOptions&&Object.entries(this.connectPageOptions).forEach(([a,c])=>{s.searchParams.set(a,c)}),this.iframe=function(a,c,u){const d=document.createElement("div");d.style.display="flex",d.style.justifyContent="center",d.style.alignItems="center",d.style.position="fixed",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.backgroundColor="rgba(0, 0, 0, 0.35)",d.style.zIndex="9999999",d.id="iframeDiv";const h=document.createElement("iframe");h.src=a,h.width=c,h.height=u,h.style.border="none",h.style.zIndex="99999999";const p=d.appendChild(h);return document.body.appendChild(d),p}(s.toString(),"100%","100%");const o=await r;return this.reset(),o}cancel(){this.rejectProviderType&&this.rejectProviderType(new ur({code:su,message:"User canceled"})),this.reset()}}var ys,ns;(function(e){e.Google="GOOGLE",e.Line="LINE",e.Naver="NAVER",e.Kakao="KAKAO",e.Apple="APPLE",e.Wechat="WECHAT",e.Kaia="KAIA",e.OKX="OKX",e.BITGET="BITGET"})(ys||(ys={})),function(e){e.Web="Web",e.Liff="Liff",e.Extension="Extension",e.Mobile="Mobile",e.OKX="OKX",e.BITGET="BITGET"}(ns||(ns={}));const W2=e=>["kaia_accounts","klay_accounts","eth_accounts"].indexOf(e)!==-1;class _4{constructor(t,n){this.communicator=n,this.sdkLocalStorage=new rp(t.chainId)}async request(t,n){const r=this.sdkLocalStorage.getConnectedWallet(),{method:i}=t;if(!r){if(i==="kaia_requestAccounts"||i==="klay_requestAccounts"||i==="eth_requestAccounts"){const s=await this.communicator.postRequestAndWaitForResponse({method:Bj(t.method),params:t.params},n),o=s[0];return o&&this.sdkLocalStorage.setSelectedWallet(o),s}if(i==="kaia_connectAndSign"){const[s,o]=await this.communicator.postRequestAndWaitForResponse({method:i,params:t.params},n);return s&&this.sdkLocalStorage.setSelectedWallet(s),[s,o]}if(W2(i))return[];throw new ur({code:-32006,data:null,message:"Wallet is not connected"})}return i==="kaia_requestAccounts"||i==="klay_requestAccounts"||i==="eth_requestAccounts"||i==="kaia_accounts"||i==="klay_accounts"||i==="eth_accounts"?[r]:await this.communicator.postRequestAndWaitForResponse({method:Bj(t.method),params:t.params},n)}async switchChain(t){}async disconnect(){}}class P6 extends Error{constructor(t){super(t),this.name="LongPollingTimeoutException",Object.setPrototypeOf(this,P6.prototype)}}class R7e{constructor(t){this.request=async(n,r)=>{const i=`${this.baseUrl}/api/v1/request-session/request/${r}`;try{await Zn.post(i,n,{headers:{"x-client-id":this.clientId,"Content-Type":"application/json"},timeout:this.relaySessionTimeout})}catch(s){throw s}},this.waitForResponse=async n=>{let r=1;for(;r<this.maxRetryCount;)try{return await this.fetchWithTimeout(n)}catch(i){if(i instanceof ur)throw i;r++}throw new Error("Fail to wait for response")},this.fetchWithTimeout=async n=>{const r=`${this.baseUrl}/api/v2/request-session/response/${n}/wait`;try{const i=await Zn.get(r,{headers:{"x-client-id":this.clientId,"Content-Type":"application/json"},timeout:this.relaySessionTimeout});if(i.status===202&&i.data.code===2012)throw new P6;return i.data}catch(i){throw Zn.isAxiosError(i)&&i.status===403&&i.response?.data?.code===2011?new ur({code:su,data:null,message:"User closed popup"}):i}},this.clientId=t.clientId,this.baseUrl=t.relayServerConfig.baseUrl,this.relaySessionTimeout=t.relayServerConfig.relaySessionTimeout,this.maxRetryCount=t.relayServerConfig.maxRetryCount}}class I6{constructor(t){this.config=t,this.relayRequestClient=new R7e(t)}handleRpcResponse(t){if(function(n){return n.error!==void 0}(t))throw new ur(t.error);return t.result}createRequestKey(){return Qq()}}function aJ(e,t){switch(e.liffTypeByRequestMethod[t]??e.defaultLiffType){case"compact":return e.baseUrl.compact;case"tall":return e.baseUrl.tall;case"full":return e.baseUrl.full;default:return e.baseUrl[e.defaultLiffType]}}class N7e extends I6{constructor(t){super(t),this.postRequestAndWaitForResponse=async n=>{const r=this.createRequestKey();await this.relayRequestClient.request(n,r),await this.openWallet(r,n.method);const i=await this.waitForResponse(r);return this.handleRpcResponse(i)},this.waitForResponse=async n=>{let r=1,i=!1,s=0;const o=()=>{qr.subWindow.off("close",o),i=!0};for(qr.subWindow.on("close",o);r<this.config.relayServerConfig.maxRetryCount;)try{if(i){if(!(s<=0))throw new ur({code:su,message:"User canceled"});s++}return await this.relayRequestClient.fetchWithTimeout(n)}catch(a){if(a instanceof ur)throw a;r++}throw new Error("Fail to wait for response")},this.openWallet=async(n,r)=>{const i=aJ(this.config.liffWalletConfig,r)+`/r/${n}?chainId=${this.config.chainId}`;await qr.subWindow.open({url:i})}}}var Ks;(function(e){e.POPUP_BLOCKED="POPUP_BLOCKED",e.PAYMENT_HISTORY_SIGN="PAYMENT_HISTORY_SIGN",e.PAYMENT_HISTORY_OPEN="PAYMENT_HISTORY_OPEN"})(Ks||(Ks={}));const P7e={ko:{payment_reqeust_verification_title:" ",payment_reqeust_verification_desc:"    .     .",payment_reqeust_verification_cancel:"",payment_reqeust_verification_submit:""},en:{payment_reqeust_verification_title:"Identity verification",payment_reqeust_verification_desc:"Identity verification is required to view your transaction history. Click the button below to sign.",payment_reqeust_verification_cancel:"Cancel",payment_reqeust_verification_submit:"Proceed"},ja:{payment_reqeust_verification_title:"",payment_reqeust_verification_desc:"",payment_reqeust_verification_cancel:"",payment_reqeust_verification_submit:""},zh:{payment_reqeust_verification_title:"",payment_reqeust_verification_desc:"",payment_reqeust_verification_cancel:"",payment_reqeust_verification_submit:""},th:{payment_reqeust_verification_title:"",payment_reqeust_verification_desc:" ",payment_reqeust_verification_cancel:"",payment_reqeust_verification_submit:""}},I7e={ko:{payment_complete_verification_title:" ",payment_complete_verification_desc:"  .     .",payment_complete_verification_cancel:"",payment_complete_verification_submit:""},en:{payment_complete_verification_title:"Verification complete",payment_complete_verification_desc:"Identity verification complete. Click the button below to view your transaction history.",payment_complete_verification_cancel:"Cancel",payment_complete_verification_submit:"Proceed"},ja:{payment_complete_verification_title:"",payment_complete_verification_desc:"",payment_complete_verification_cancel:"",payment_complete_verification_submit:""},zh:{payment_complete_verification_title:"",payment_complete_verification_desc:"",payment_complete_verification_cancel:"",payment_complete_verification_submit:""},th:{payment_complete_verification_title:"",payment_complete_verification_desc:" ",payment_complete_verification_cancel:"",payment_complete_verification_submit:""}},D7e={ko:{wallet_block_popup_title:" ",wallet_block_popup_desc:" .  ?",wallet_block_popup_cancel:"",wallet_block_popup_submit:""},en:{wallet_block_popup_title:"Block pop-ups",wallet_block_popup_desc:"Pop-ups have been blocked. Do you want to continue?",wallet_block_popup_cancel:"Cancel",wallet_block_popup_submit:"Proceed"},ja:{wallet_block_popup_title:"",wallet_block_popup_desc:"",wallet_block_popup_cancel:"",wallet_block_popup_submit:""},zh:{wallet_block_popup_title:"",wallet_block_popup_desc:"",wallet_block_popup_cancel:"",wallet_block_popup_submit:""},th:{wallet_block_popup_title:"",wallet_block_popup_desc:" ?",wallet_block_popup_cancel:"",wallet_block_popup_submit:""}};class cJ{constructor(){this.resolvePromise=()=>{},this.rejectPromise=()=>{}}setupListeners(){const t=n=>{const r=this.iframe;if(!r||n.source!==r.contentWindow)return;const i=n.data;if(!i||typeof i!="object")return;const s=i.event;if(s)switch(s){case"Clicked":this.resolvePromise&&this.resolvePromise();break;case"Canceled":this.rejectPromise&&(this.rejectPromise(new Error("User canceled")),this.reset())}};window.addEventListener("message",t),this.eventListener=t}clearListeners(){const t=this.eventListener;t&&(window.removeEventListener("message",t),this.eventListener=void 0)}reset(){this.resolvePromise=void 0,this.rejectPromise=void 0,R6(),this.clearListeners()}async awaitUserClick(t){const n=new Promise((r,i)=>{this.resolvePromise=r,this.rejectPromise=i});this.setupListeners(),this.iframe=function(r,i,s){const o=document.createElement("div");o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.backgroundColor="rgba(0, 0, 0, 0.35)",o.style.zIndex="9999999",o.id="iframeDiv";const a=document.createElement("iframe");a.srcdoc=r,a.width=i,a.height=s,a.style.border="none",a.style.zIndex="99999999";const c=o.appendChild(a);return document.body.appendChild(o),c}((r=>{const i=r===Ks.POPUP_BLOCKED?D7e:r===Ks.PAYMENT_HISTORY_SIGN?P7e:I7e,s=r===Ks.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_title":r===Ks.PAYMENT_HISTORY_OPEN?"payment_complete_verification_title":"wallet_block_popup_title",o=r===Ks.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_desc":r===Ks.PAYMENT_HISTORY_OPEN?"payment_complete_verification_desc":"wallet_block_popup_desc",a=r===Ks.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_submit":r===Ks.PAYMENT_HISTORY_OPEN?"payment_complete_verification_submit":"wallet_block_popup_submit",c=r===Ks.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_cancel":r===Ks.PAYMENT_HISTORY_OPEN?"payment_complete_verification_cancel":"wallet_block_popup_cancel";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <style>
        .popupContainer {
          background-color: white;
          display: flex;
          flex-direction: column;
          border-radius: 20px;
          padding: 30px 24px;
          align-items: center;
        }
        .title {
          font-size: 18px;
          font-weight: 700;
          text-align: center;
        }
        .desc {
          margin-top: 12px;
          font-size: 16px;
          font-weight: 400;
          text-align: center;
        }
        .btnContainer {
          display: flex;
          flex-direction: column;
          width: 100%;
        }
        .okBtn {
          background-color: #000000;
          color: #ffffff;
          font-size: 16px;
          font-weight: 700;
          padding: 15px 24px;
          cursor: pointer;
          border-radius: 100px;
          margin-top: 24px;
          border: none;
          width: 100%;
        }
        .cancelBtn {
          background-color: #FFFFFF;
          color: #7B7F81;
          font-size: 15px;
          font-weight: 700;
          cursor: pointer;
          border: none;
          margin-top: 15px;
        }
      </style>
    </head>
    <body>
    <script>
      const browserLang = window.navigator.language.slice(0, 2);
      const xlt = ${JSON.stringify(i)};
      const translations = xlt[browserLang] || xlt['en'];
      console.log(translations);
    
      window.onload = function() {
        document.getElementById('dappportalsdk_popup_title').innerHTML = translations.${s};
        document.getElementById('dappportalsdk_popup_desc').innerHTML = translations.${o};
        document.getElementById('dappportalsdk_popup_cancel').textContent = translations.${c};
        document.getElementById('dappportalsdk_popup_proceed').textContent = translations.${a};
    
        document.getElementById('dappportalsdk_popup_cancel').addEventListener('click', function() {
          window.parent.postMessage({event: 'Canceled'}, '*');
        });
        document.getElementById('dappportalsdk_popup_proceed').addEventListener('click', function() {
          window.parent.postMessage({event: 'Clicked'}, '*');
        });
      }
    <\/script>
    <div class="popupContainer">
      <div id="dappportalsdk_popup_title" class="title"></div>
      <div id="dappportalsdk_popup_desc" class="desc"></div>
      <div class="btnContainer">
        <button id="dappportalsdk_popup_proceed" class="okBtn"></button>
        <button id="dappportalsdk_popup_cancel" class="cancelBtn"></button>
      </div>
    </div>
    </body>
    </html>
    `})(t),"300px","400px"),await n.catch(r=>{throw{code:"-32001",message:"User canceled popup"}}),this.reset()}}class $j extends I6{constructor(t){super(t),this.postRequestAndWaitForResponse=async(n,r)=>{const i=this.createRequestKey();await this.openWallet(i,n.method,this.isMethodNeedProviderTypeSync(n.method)?r:null);try{await this.postRequestWithProviderType(n,i)}catch(a){throw this.closeWallet(),a}const s=await this.relayRequestClient.waitForResponse(i);this.closeWallet();const o=this.handleRpcResponse(s);return this.handleResponseWithProviderType(n,o)},this.postRequestWithProviderType=async(n,r)=>{const{method:i,params:s}=n;return this.isMethodNeedProviderTypeSync(i)?await this.relayRequestClient.request({method:"internal_rpcCalls",params:[{method:i,params:s},{method:"internal_getSnsType",params:[]}]},r):await this.relayRequestClient.request(n,r)},this.handleResponseWithProviderType=async(n,r)=>{const{method:i,params:s}=n;if(this.isMethodNeedProviderTypeSync(i)){const o=r,a=o[0],c=o[1];return this.sdkLocalStorage.setProviderType(c),a}return r},this.isMethodNeedProviderTypeSync=n=>n==="kaia_requestAccounts"||n==="klay_requestAccounts"||n==="eth_requestAccounts"||n==="kaia_connectAndSign",this.clickEventListener=new cJ,this.sdkLocalStorage=new rp(t.chainId)}async openWallet(t,n,r){const i=navigator.userAgent,s=new URLSearchParams;s.set("chainId",this.config.chainId),r&&s.set("snsType",r);const o=this.getRequestBaseUrl(n)+`/r/${t}?${s.toString()}`;if(fg(i)&&A6(i))return void(window.location.href=o);if(window.kaiaPopUpWindow&&!window.kaiaPopUpWindow.closed)return window.kaiaPopUpWindow.focus(),void(window.kaiaPopUpWindow.location.href=o);const a=this.config.webWalletConfig.popupSize;window.kaiaPopUpWindow=window.open(o,"webWallet",`width=${a.width},height=${a.height}`),window.kaiaPopUpWindow||(await this.clickEventListener.awaitUserClick(Ks.POPUP_BLOCKED),window.kaiaPopUpWindow=window.open(o,"webWallet",`width=${a.width},height=${a.height}`))}closeWallet(){window.kaiaPopUpWindow&&window.kaiaPopUpWindow.close(),window.kaiaPopUpWindow=null}getRequestBaseUrl(t){return fg(navigator.userAgent)?aJ(this.config.liffWalletConfig,t):this.config.webWalletConfig.baseUrl}}class k7e extends I6{constructor(t){super(t)}async postRequestAndWaitForResponse(t){const n=this.createRequestKey();await this.relayRequestClient.request(t,n),this.openWallet(n);const r=await this.relayRequestClient.waitForResponse(n);return this.handleRpcResponse(r)}openWallet(t){const n=`${this.config.sdkUIUrls.mobileWalletBridge}${t}?chainId=${this.config.chainId}`,r=`/browser?url=${encodeURIComponent(n)}`;A6(navigator.userAgent)?this.openIosWallet(r):this.openAndroidWallet(r)}openAndroidWallet(t){const n=this.config.kaiaWalletMobileConfig;window.location.href=`intent://wallet${t}#Intent;scheme=kaiawallet;package=${n.androidPackageName};end`}openIosWallet(t){const n=this.config.kaiaWalletMobileConfig;window.location.href=`${n.urlScheme}://wallet${t}`}}class M7e{constructor(t,n){this.review=t,this.totalCalculationTime=n}}function L7e(e,t,n){var r=function(a){return atob(a)}(e),i=r.indexOf(`
`,10)+1,s=r.substring(i)+"",o=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(o)}function U7e(e,t,n){var r;return function(i){return r=r||L7e(e),new Worker(r,i)}}var B7e=U7e("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCh0KXtjb25zdCByPW5ldyBBcnJheUJ1ZmZlcig4KTtyZXR1cm4gbmV3IERhdGFWaWV3KHIpLnNldEJpZ1VpbnQ2NCgwLHQpLG5ldyBVaW50OEFycmF5KHIpfWZ1bmN0aW9uIHIodCxyKXtpZih0Lmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0hPT1yW2ldKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGkodCl7Y29uc3Qgcj1hdG9iKHQpLGk9ci5sZW5ndGgsZT1uZXcgVWludDhBcnJheShpKTtmb3IobGV0IGg9MDtoPGk7aCsrKWVbaF09ci5jaGFyQ29kZUF0KGgpO3JldHVybiBlfXNlbGYub25tZXNzYWdlPWFzeW5jIGZ1bmN0aW9uKGUpe2NvbnN0e2NoYWxsZW5nZXM6aH09ZS5kYXRhLHM9QmlnSW50KDB4MTAwMDAwMDAwMDAwMDAwMDApLG49W10sbz1EYXRlLm5vdygpO2Zvcihjb25zdCBmIG9mIGgpe2lmKCFmLnNhbHR8fCFmLnRhcmdldCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY2hhbGxlbmdlIHN0cnVjdHVyZSIpO2NvbnN0IGU9aShmLnNhbHQpLGg9aShmLnRhcmdldCk7Zm9yKGxldCBpPUJpZ0ludCgwKTtpPHM7aSsrKXtjb25zdCBzPW5ldyBVaW50OEFycmF5KFsuLi5lLC4uLnQoaSldKTtpZihyKHNoYTI1Ni5jcmVhdGUoKS51cGRhdGUocykuYXJyYXkoKSxoKSl7bi5wdXNoKHtpbmRleDpmLl9pbmRleCxhbnN3ZXI6aX0pO2JyZWFrfX19Y29uc3QgYT1EYXRlLm5vdygpLW87c2VsZi5wb3N0TWVzc2FnZSh7cmVzdWx0czpuLHRvdGFsRXhlY3V0aW9uVGltZTphfSl9LGZ1bmN0aW9uKCl7dmFyIHQ9ImlucHV0IGlzIGludmFsaWQgdHlwZSIscj0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyxpPXI/d2luZG93Ont9O2kuSlNfU0hBMjU2X05PX1dJTkRPVyYmKHI9ITEpO3ZhciBlPSFyJiYib2JqZWN0Ij09dHlwZW9mIHNlbGYsaD0haS5KU19TSEEyNTZfTk9fTk9ERV9KUyYmIm9iamVjdCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLnZlcnNpb25zJiZwcm9jZXNzLnZlcnNpb25zLm5vZGU7aD9pPWdsb2JhbDplJiYoaT1zZWxmKTt2YXIgcz0haS5KU19TSEEyNTZfTk9fQ09NTU9OX0pTJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMsbj0iZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kLG89IWkuSlNfU0hBMjU2X05PX0FSUkFZX0JVRkZFUiYmInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlcixhPSIwMTIzNDU2Nzg5YWJjZGVmIi5zcGxpdCgiIiksZj1bLTIxNDc0ODM2NDgsODM4ODYwOCwzMjc2OCwxMjhdLHU9WzI0LDE2LDgsMF0sYz1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSx5PVsiaGV4IiwiYXJyYXkiLCJkaWdlc3QiLCJhcnJheUJ1ZmZlciJdLGw9W107IWkuSlNfU0hBMjU2X05PX05PREVfSlMmJkFycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9KSwhb3x8IWkuSlNfU0hBMjU2X05PX0FSUkFZX0JVRkZFUl9JU19WSUVXJiZBcnJheUJ1ZmZlci5pc1ZpZXd8fChBcnJheUJ1ZmZlci5pc1ZpZXc9ZnVuY3Rpb24odCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0JiZ0LmJ1ZmZlciYmdC5idWZmZXIuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlcn0pO3ZhciBwPWZ1bmN0aW9uKHQscil7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBuZXcgZyhyLCEwKS51cGRhdGUoaSlbdF0oKX19LGQ9ZnVuY3Rpb24odCl7dmFyIHI9cCgiaGV4Iix0KTtoJiYocj13KHIsdCkpLHIuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKHQpfSxyLnVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gci5jcmVhdGUoKS51cGRhdGUodCl9O2Zvcih2YXIgaT0wO2k8eS5sZW5ndGg7KytpKXt2YXIgZT15W2ldO3JbZV09cChlLHQpfXJldHVybiByfSx3PWZ1bmN0aW9uKHIsZSl7dmFyIGgscz1yZXF1aXJlKCJjcnlwdG8iKSxuPXJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcixvPWU/InNoYTIyNCI6InNoYTI1NiI7aD1uLmZyb20mJiFpLkpTX1NIQTI1Nl9OT19CVUZGRVJfRlJPTT9uLmZyb206ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuKHQpfTtyZXR1cm4gZnVuY3Rpb24oaSl7aWYoInN0cmluZyI9PXR5cGVvZiBpKXJldHVybiBzLmNyZWF0ZUhhc2gobykudXBkYXRlKGksInV0ZjgiKS5kaWdlc3QoImhleCIpO2lmKG51bGw9PWkpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBpLmNvbnN0cnVjdG9yPT09QXJyYXlCdWZmZXImJihpPW5ldyBVaW50OEFycmF5KGkpKSxBcnJheS5pc0FycmF5KGkpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoaSl8fGkuY29uc3RydWN0b3I9PT1uP3MuY3JlYXRlSGFzaChvKS51cGRhdGUoaChpKSkuZGlnZXN0KCJoZXgiKTpyKGkpfX0sQT1mdW5jdGlvbih0LHIpe3JldHVybiBmdW5jdGlvbihpLGUpe3JldHVybiBuZXcgXyhpLHIsITApLnVwZGF0ZShlKVt0XSgpfX0sYj1mdW5jdGlvbih0KXt2YXIgcj1BKCJoZXgiLHQpO3IuY3JlYXRlPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcgXyhyLHQpfSxyLnVwZGF0ZT1mdW5jdGlvbih0LGkpe3JldHVybiByLmNyZWF0ZSh0KS51cGRhdGUoaSl9O2Zvcih2YXIgaT0wO2k8eS5sZW5ndGg7KytpKXt2YXIgZT15W2ldO3JbZV09QShlLHQpfXJldHVybiByfTtmdW5jdGlvbiBnKHQscil7cj8obFswXT1sWzE2XT1sWzFdPWxbMl09bFszXT1sWzRdPWxbNV09bFs2XT1sWzddPWxbOF09bFs5XT1sWzEwXT1sWzExXT1sWzEyXT1sWzEzXT1sWzE0XT1sWzE1XT0wLHRoaXMuYmxvY2tzPWwpOnRoaXMuYmxvY2tzPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLHQ/KHRoaXMuaDA9MzIzODM3MTAzMix0aGlzLmgxPTkxNDE1MDY2Myx0aGlzLmgyPTgxMjcwMjk5OSx0aGlzLmgzPTQxNDQ5MTI2OTcsdGhpcy5oND00MjkwNzc1ODU3LHRoaXMuaDU9MTc1MDYwMzAyNSx0aGlzLmg2PTE2OTQwNzY4MzksdGhpcy5oNz0zMjA0MDc1NDI4KToodGhpcy5oMD0xNzc5MDMzNzAzLHRoaXMuaDE9MzE0NDEzNDI3Nyx0aGlzLmgyPTEwMTM5MDQyNDIsdGhpcy5oMz0yNzczNDgwNzYyLHRoaXMuaDQ9MTM1OTg5MzExOSx0aGlzLmg1PTI2MDA4MjI5MjQsdGhpcy5oNj01Mjg3MzQ2MzUsdGhpcy5oNz0xNTQxNDU5MjI1KSx0aGlzLmJsb2NrPXRoaXMuc3RhcnQ9dGhpcy5ieXRlcz10aGlzLmhCeXRlcz0wLHRoaXMuZmluYWxpemVkPXRoaXMuaGFzaGVkPSExLHRoaXMuZmlyc3Q9ITAsdGhpcy5pczIyND10fWZ1bmN0aW9uIF8ocixpLGUpe3ZhciBoLHM9dHlwZW9mIHI7aWYoInN0cmluZyI9PT1zKXt2YXIgbixhPVtdLGY9ci5sZW5ndGgsdT0wO2ZvcihoPTA7aDxmOysraCkobj1yLmNoYXJDb2RlQXQoaCkpPDEyOD9hW3UrK109bjpuPDIwNDg/KGFbdSsrXT0xOTJ8bj4+PjYsYVt1KytdPTEyOHw2MyZuKTpuPDU1Mjk2fHxuPj01NzM0ND8oYVt1KytdPTIyNHxuPj4+MTIsYVt1KytdPTEyOHxuPj4+NiY2MyxhW3UrK109MTI4fDYzJm4pOihuPTY1NTM2KygoMTAyMyZuKTw8MTB8MTAyMyZyLmNoYXJDb2RlQXQoKytoKSksYVt1KytdPTI0MHxuPj4+MTgsYVt1KytdPTEyOHxuPj4+MTImNjMsYVt1KytdPTEyOHxuPj4+NiY2MyxhW3UrK109MTI4fDYzJm4pO3I9YX1lbHNle2lmKCJvYmplY3QiIT09cyl0aHJvdyBuZXcgRXJyb3IodCk7aWYobnVsbD09PXIpdGhyb3cgbmV3IEVycm9yKHQpO2lmKG8mJnIuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlcilyPW5ldyBVaW50OEFycmF5KHIpO2Vsc2UgaWYoIShBcnJheS5pc0FycmF5KHIpfHxvJiZBcnJheUJ1ZmZlci5pc1ZpZXcocikpKXRocm93IG5ldyBFcnJvcih0KX1yLmxlbmd0aD42NCYmKHI9bmV3IGcoaSwhMCkudXBkYXRlKHIpLmFycmF5KCkpO3ZhciBjPVtdLHk9W107Zm9yKGg9MDtoPDY0OysraCl7dmFyIGw9cltoXXx8MDtjW2hdPTkyXmwseVtoXT01NF5sfWcuY2FsbCh0aGlzLGksZSksdGhpcy51cGRhdGUoeSksdGhpcy5vS2V5UGFkPWMsdGhpcy5pbm5lcj0hMCx0aGlzLnNoYXJlZE1lbW9yeT1lfWcucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihyKXtpZighdGhpcy5maW5hbGl6ZWQpe3ZhciBpLGU9dHlwZW9mIHI7aWYoInN0cmluZyIhPT1lKXtpZigib2JqZWN0IiE9PWUpdGhyb3cgbmV3IEVycm9yKHQpO2lmKG51bGw9PT1yKXRocm93IG5ldyBFcnJvcih0KTtpZihvJiZyLmNvbnN0cnVjdG9yPT09QXJyYXlCdWZmZXIpcj1uZXcgVWludDhBcnJheShyKTtlbHNlIGlmKCEoQXJyYXkuaXNBcnJheShyKXx8byYmQXJyYXlCdWZmZXIuaXNWaWV3KHIpKSl0aHJvdyBuZXcgRXJyb3IodCk7aT0hMH1mb3IodmFyIGgscyxuPTAsYT1yLmxlbmd0aCxmPXRoaXMuYmxvY2tzO248YTspe2lmKHRoaXMuaGFzaGVkJiYodGhpcy5oYXNoZWQ9ITEsZlswXT10aGlzLmJsb2NrLHRoaXMuYmxvY2s9ZlsxNl09ZlsxXT1mWzJdPWZbM109Zls0XT1mWzVdPWZbNl09Zls3XT1mWzhdPWZbOV09ZlsxMF09ZlsxMV09ZlsxMl09ZlsxM109ZlsxNF09ZlsxNV09MCksaSlmb3Iocz10aGlzLnN0YXJ0O248YSYmczw2NDsrK24pZltzPj4+Ml18PXJbbl08PHVbMyZzKytdO2Vsc2UgZm9yKHM9dGhpcy5zdGFydDtuPGEmJnM8NjQ7KytuKShoPXIuY2hhckNvZGVBdChuKSk8MTI4P2Zbcz4+PjJdfD1oPDx1WzMmcysrXTpoPDIwNDg/KGZbcz4+PjJdfD0oMTkyfGg+Pj42KTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8NjMmaCk8PHVbMyZzKytdKTpoPDU1Mjk2fHxoPj01NzM0ND8oZltzPj4+Ml18PSgyMjR8aD4+PjEyKTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8aD4+PjYmNjMpPDx1WzMmcysrXSxmW3M+Pj4yXXw9KDEyOHw2MyZoKTw8dVszJnMrK10pOihoPTY1NTM2KygoMTAyMyZoKTw8MTB8MTAyMyZyLmNoYXJDb2RlQXQoKytuKSksZltzPj4+Ml18PSgyNDB8aD4+PjE4KTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8aD4+PjEyJjYzKTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8aD4+PjYmNjMpPDx1WzMmcysrXSxmW3M+Pj4yXXw9KDEyOHw2MyZoKTw8dVszJnMrK10pO3RoaXMubGFzdEJ5dGVJbmRleD1zLHRoaXMuYnl0ZXMrPXMtdGhpcy5zdGFydCxzPj02ND8odGhpcy5ibG9jaz1mWzE2XSx0aGlzLnN0YXJ0PXMtNjQsdGhpcy5oYXNoKCksdGhpcy5oYXNoZWQ9ITApOnRoaXMuc3RhcnQ9c31yZXR1cm4gdGhpcy5ieXRlcz40Mjk0OTY3Mjk1JiYodGhpcy5oQnl0ZXMrPXRoaXMuYnl0ZXMvNDI5NDk2NzI5NnwwLHRoaXMuYnl0ZXM9dGhpcy5ieXRlcyU0Mjk0OTY3Mjk2KSx0aGlzfX0sZy5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5maW5hbGl6ZWQpe3RoaXMuZmluYWxpemVkPSEwO3ZhciB0PXRoaXMuYmxvY2tzLHI9dGhpcy5sYXN0Qnl0ZUluZGV4O3RbMTZdPXRoaXMuYmxvY2ssdFtyPj4+Ml18PWZbMyZyXSx0aGlzLmJsb2NrPXRbMTZdLHI+PTU2JiYodGhpcy5oYXNoZWR8fHRoaXMuaGFzaCgpLHRbMF09dGhpcy5ibG9jayx0WzE2XT10WzFdPXRbMl09dFszXT10WzRdPXRbNV09dFs2XT10WzddPXRbOF09dFs5XT10WzEwXT10WzExXT10WzEyXT10WzEzXT10WzE0XT10WzE1XT0wKSx0WzE0XT10aGlzLmhCeXRlczw8M3x0aGlzLmJ5dGVzPj4+MjksdFsxNV09dGhpcy5ieXRlczw8Myx0aGlzLmhhc2goKX19LGcucHJvdG90eXBlLmhhc2g9ZnVuY3Rpb24oKXt2YXIgdCxyLGksZSxoLHMsbixvLGEsZj10aGlzLmgwLHU9dGhpcy5oMSx5PXRoaXMuaDIsbD10aGlzLmgzLHA9dGhpcy5oNCxkPXRoaXMuaDUsdz10aGlzLmg2LEE9dGhpcy5oNyxiPXRoaXMuYmxvY2tzO2Zvcih0PTE2O3Q8NjQ7Kyt0KXI9KChoPWJbdC0xNV0pPj4+N3xoPDwyNSleKGg+Pj4xOHxoPDwxNCleaD4+PjMsaT0oKGg9Ylt0LTJdKT4+PjE3fGg8PDE1KV4oaD4+PjE5fGg8PDEzKV5oPj4+MTAsYlt0XT1iW3QtMTZdK3IrYlt0LTddK2l8MDtmb3IoYT11JnksdD0wO3Q8NjQ7dCs9NCl0aGlzLmZpcnN0Pyh0aGlzLmlzMjI0PyhzPTMwMDAzMixBPShoPWJbMF0tMTQxMzI1NzgxOSktMTUwMDU0NTk5fDAsbD1oKzI0MTc3MDc3fDApOihzPTcwNDc1MTEwOSxBPShoPWJbMF0tMjEwMjQ0MjQ4KS0xNTIxNDg2NTM0fDAsbD1oKzE0MzY5NDU2NXwwKSx0aGlzLmZpcnN0PSExKToocj0oZj4+PjJ8Zjw8MzApXihmPj4+MTN8Zjw8MTkpXihmPj4+MjJ8Zjw8MTApLGU9KHM9ZiZ1KV5mJnleYSxBPWwrKGg9QSsoaT0ocD4+PjZ8cDw8MjYpXihwPj4+MTF8cDw8MjEpXihwPj4+MjV8cDw8NykpKyhwJmRefnAmdykrY1t0XStiW3RdKXwwLGw9aCsocitlKXwwKSxyPShsPj4+MnxsPDwzMCleKGw+Pj4xM3xsPDwxOSleKGw+Pj4yMnxsPDwxMCksZT0obj1sJmYpXmwmdV5zLHc9eSsoaD13KyhpPShBPj4+NnxBPDwyNileKEE+Pj4xMXxBPDwyMSleKEE+Pj4yNXxBPDw3KSkrKEEmcF5+QSZkKStjW3QrMV0rYlt0KzFdKXwwLHI9KCh5PWgrKHIrZSl8MCk+Pj4yfHk8PDMwKV4oeT4+PjEzfHk8PDE5KV4oeT4+PjIyfHk8PDEwKSxlPShvPXkmbCleeSZmXm4sZD11KyhoPWQrKGk9KHc+Pj42fHc8PDI2KV4odz4+PjExfHc8PDIxKV4odz4+PjI1fHc8PDcpKSsodyZBXn53JnApK2NbdCsyXStiW3QrMl0pfDAscj0oKHU9aCsocitlKXwwKT4+PjJ8dTw8MzApXih1Pj4+MTN8dTw8MTkpXih1Pj4+MjJ8dTw8MTApLGU9KGE9dSZ5KV51JmxebyxwPWYrKGg9cCsoaT0oZD4+PjZ8ZDw8MjYpXihkPj4+MTF8ZDw8MjEpXihkPj4+MjV8ZDw8NykpKyhkJndefmQmQSkrY1t0KzNdK2JbdCszXSl8MCxmPWgrKHIrZSl8MCx0aGlzLmNocm9tZUJ1Z1dvcmtBcm91bmQ9ITA7dGhpcy5oMD10aGlzLmgwK2Z8MCx0aGlzLmgxPXRoaXMuaDErdXwwLHRoaXMuaDI9dGhpcy5oMit5fDAsdGhpcy5oMz10aGlzLmgzK2x8MCx0aGlzLmg0PXRoaXMuaDQrcHwwLHRoaXMuaDU9dGhpcy5oNStkfDAsdGhpcy5oNj10aGlzLmg2K3d8MCx0aGlzLmg3PXRoaXMuaDcrQXwwfSxnLnByb3RvdHlwZS5oZXg9ZnVuY3Rpb24oKXt0aGlzLmZpbmFsaXplKCk7dmFyIHQ9dGhpcy5oMCxyPXRoaXMuaDEsaT10aGlzLmgyLGU9dGhpcy5oMyxoPXRoaXMuaDQscz10aGlzLmg1LG49dGhpcy5oNixvPXRoaXMuaDcsZj1hW3Q+Pj4yOCYxNV0rYVt0Pj4+MjQmMTVdK2FbdD4+PjIwJjE1XSthW3Q+Pj4xNiYxNV0rYVt0Pj4+MTImMTVdK2FbdD4+PjgmMTVdK2FbdD4+PjQmMTVdK2FbMTUmdF0rYVtyPj4+MjgmMTVdK2Fbcj4+PjI0JjE1XSthW3I+Pj4yMCYxNV0rYVtyPj4+MTYmMTVdK2Fbcj4+PjEyJjE1XSthW3I+Pj44JjE1XSthW3I+Pj40JjE1XSthWzE1JnJdK2FbaT4+PjI4JjE1XSthW2k+Pj4yNCYxNV0rYVtpPj4+MjAmMTVdK2FbaT4+PjE2JjE1XSthW2k+Pj4xMiYxNV0rYVtpPj4+OCYxNV0rYVtpPj4+NCYxNV0rYVsxNSZpXSthW2U+Pj4yOCYxNV0rYVtlPj4+MjQmMTVdK2FbZT4+PjIwJjE1XSthW2U+Pj4xNiYxNV0rYVtlPj4+MTImMTVdK2FbZT4+PjgmMTVdK2FbZT4+PjQmMTVdK2FbMTUmZV0rYVtoPj4+MjgmMTVdK2FbaD4+PjI0JjE1XSthW2g+Pj4yMCYxNV0rYVtoPj4+MTYmMTVdK2FbaD4+PjEyJjE1XSthW2g+Pj44JjE1XSthW2g+Pj40JjE1XSthWzE1JmhdK2Fbcz4+PjI4JjE1XSthW3M+Pj4yNCYxNV0rYVtzPj4+MjAmMTVdK2Fbcz4+PjE2JjE1XSthW3M+Pj4xMiYxNV0rYVtzPj4+OCYxNV0rYVtzPj4+NCYxNV0rYVsxNSZzXSthW24+Pj4yOCYxNV0rYVtuPj4+MjQmMTVdK2Fbbj4+PjIwJjE1XSthW24+Pj4xNiYxNV0rYVtuPj4+MTImMTVdK2Fbbj4+PjgmMTVdK2Fbbj4+PjQmMTVdK2FbMTUmbl07cmV0dXJuIHRoaXMuaXMyMjR8fChmKz1hW28+Pj4yOCYxNV0rYVtvPj4+MjQmMTVdK2Fbbz4+PjIwJjE1XSthW28+Pj4xNiYxNV0rYVtvPj4+MTImMTVdK2Fbbz4+PjgmMTVdK2Fbbz4+PjQmMTVdK2FbMTUmb10pLGZ9LGcucHJvdG90eXBlLnRvU3RyaW5nPWcucHJvdG90eXBlLmhleCxnLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oKXt0aGlzLmZpbmFsaXplKCk7dmFyIHQ9dGhpcy5oMCxyPXRoaXMuaDEsaT10aGlzLmgyLGU9dGhpcy5oMyxoPXRoaXMuaDQscz10aGlzLmg1LG49dGhpcy5oNixvPXRoaXMuaDcsYT1bdD4+PjI0JjI1NSx0Pj4+MTYmMjU1LHQ+Pj44JjI1NSwyNTUmdCxyPj4+MjQmMjU1LHI+Pj4xNiYyNTUscj4+PjgmMjU1LDI1NSZyLGk+Pj4yNCYyNTUsaT4+PjE2JjI1NSxpPj4+OCYyNTUsMjU1JmksZT4+PjI0JjI1NSxlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZSxoPj4+MjQmMjU1LGg+Pj4xNiYyNTUsaD4+PjgmMjU1LDI1NSZoLHM+Pj4yNCYyNTUscz4+PjE2JjI1NSxzPj4+OCYyNTUsMjU1JnMsbj4+PjI0JjI1NSxuPj4+MTYmMjU1LG4+Pj44JjI1NSwyNTUmbl07cmV0dXJuIHRoaXMuaXMyMjR8fGEucHVzaChvPj4+MjQmMjU1LG8+Pj4xNiYyNTUsbz4+PjgmMjU1LDI1NSZvKSxhfSxnLnByb3RvdHlwZS5hcnJheT1nLnByb3RvdHlwZS5kaWdlc3QsZy5wcm90b3R5cGUuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLmZpbmFsaXplKCk7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKHRoaXMuaXMyMjQ/Mjg6MzIpLHI9bmV3IERhdGFWaWV3KHQpO3JldHVybiByLnNldFVpbnQzMigwLHRoaXMuaDApLHIuc2V0VWludDMyKDQsdGhpcy5oMSksci5zZXRVaW50MzIoOCx0aGlzLmgyKSxyLnNldFVpbnQzMigxMix0aGlzLmgzKSxyLnNldFVpbnQzMigxNix0aGlzLmg0KSxyLnNldFVpbnQzMigyMCx0aGlzLmg1KSxyLnNldFVpbnQzMigyNCx0aGlzLmg2KSx0aGlzLmlzMjI0fHxyLnNldFVpbnQzMigyOCx0aGlzLmg3KSx0fSxfLnByb3RvdHlwZT1uZXcgZyxfLnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe2lmKGcucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyksdGhpcy5pbm5lcil7dGhpcy5pbm5lcj0hMTt2YXIgdD10aGlzLmFycmF5KCk7Zy5jYWxsKHRoaXMsdGhpcy5pczIyNCx0aGlzLnNoYXJlZE1lbW9yeSksdGhpcy51cGRhdGUodGhpcy5vS2V5UGFkKSx0aGlzLnVwZGF0ZSh0KSxnLnByb3RvdHlwZS5maW5hbGl6ZS5jYWxsKHRoaXMpfX07dmFyIHY9ZCgpO3Yuc2hhMjU2PXYsdi5zaGEyMjQ9ZCghMCksdi5zaGEyNTYuaG1hYz1iKCksdi5zaGEyMjQuaG1hYz1iKCEwKSxzP21vZHVsZS5leHBvcnRzPXY6KGkuc2hhMjU2PXYuc2hhMjU2LGkuc2hhMjI0PXYuc2hhMjI0LG4mJmRlZmluZSgoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSl9KCl9KCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ1cmVhdWNyYWN5V29ya2VyLmpzLm1hcAoK");const jj="dp_tracking_id";class $7e{constructor(){}getTrackingId(){return this.getItem(jj)}setTrackingId(t){this.setItem(jj,t,3650)}setItem(t,n,r){let i="";if(r){const s=new Date;s.setTime(s.getTime()+24*r*60*60*1e3),i="; expires="+s.toUTCString()}document.cookie=t+"="+(n||"")+i+"; path=/"}getItem(t){const n=t+"=",r=document.cookie.split(";");for(let i=0;i<r.length;i++){let s=r[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null}removeItem(t){document.cookie=t+"=; Max-Age=-99999999; path=/"}}class Zc{constructor(t){this.baseUrl=t.baseUrl,this.clientId=t.clientId,this.sdkLocalStorage=t.sdkLocalStorage,this.sdkCookieStorage=t.sdkCookieStorage}static init(t){const n=new Zc({baseUrl:t.metricServerConfig.baseUrl,clientId:t.clientId,sdkLocalStorage:new rp(t.chainId),sdkCookieStorage:new $7e}),r=new URL(location.href),i=new URLSearchParams(r.search),s=i.get("dp_tracking_id");if(s){const a=n.sdkCookieStorage.getTrackingId();n.sdkCookieStorage.setTrackingId(s),a&&a!==s&&n.sendWalletActivity("TRACKING_ID_SYNC",{oldTrackingId:a})}if(!n.sdkCookieStorage.getTrackingId()){const a=function(){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let u="";for(let d=0;d<16;d++)u+=c[Math.floor(62*Math.random())];return u}();n.sdkCookieStorage.setTrackingId(a)}const o={};for(const a of t.metricServerConfig.utmParamKeys){const c=i.get(a);c&&(o[a]=c)}Object.keys(o).length>0&&n.sendWalletActivity("FROM_AD",{...o}),Zc.instance=n}static getInstance(){return Zc.instance}getTrackingId(){return this.sdkCookieStorage.getTrackingId()}sendWalletActivity(t,n={}){let r=this.sdkLocalStorage.getDeviceId();const i=this.sdkLocalStorage.getConnectedWallet(),s=this.sdkLocalStorage.getWalletType(),o={uuid:r,tracking_id:this.sdkCookieStorage.getTrackingId(),address:i,wallet_type:s,action:t,data:{clientId:this.clientId,url:window.location.href,...n}};navigator.sendBeacon(`${this.baseUrl}/api/v1/metric/wallet-activity`,new Blob([JSON.stringify(o)],{type:"application/json"}))}}Zc.instance=null;class lJ{constructor(t){this.sendSdkInitializeMetric=async n=>{const r=await n,i=this.sdkLocalStorage.getWalletType();await this.sendWalletMetric("SDK_INIT",r[0]??null,i),await this.sendWalletMetric(iJ,r[0]??null,i)},this.sendWalletMetric=async(n,r,i)=>{let s=this.sdkLocalStorage.getDeviceId(),o=Zc.getInstance()?.getTrackingId()??null;const a=`${this.baseUrl}/api/v2/metric/wallet-activity`,c={uuid:s,tracking_id:o,address:r,wallet_type:i,action:n,data:{clientId:this.clientId}},u=await this.getReviewAndSolve(a,c);if(!u)return;const d={uuid:s,tracking_id:o,address:r,wallet_type:i,action:n,data:{clientId:this.clientId,totalCalculationTime:u.totalCalculationTime},review:u.review};await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).catch(h=>{})},this.getReviewAndSolve=async(n,r)=>{let i;try{await Zn.post(n,r)}catch(s){if(!Zn.isAxiosError(s)||s.status!==303)return;i=s.response}if(i)try{return await async function(s,o){const a=await Zn.get(s,{params:{review:o}});s=a.data.url;const c=a.data.ticket,u=kEe(c)["com.linecorp.bureaucracy"].challenges;if(!Array.isArray(u)||u.length===0)throw new Error("Invalid JWT structure");const d=navigator.hardwareConcurrency,h=Math.ceil(u.length/d),p=u.map((_,O)=>({..._,_index:O})),m=[];for(let _=0;_<d;_++){const O=p.slice(_*h,(_+1)*h);if(O.length===0)continue;const R=new Promise((S,E)=>{const x=new B7e;x.onmessage=function(N){S(N.data),x.terminate()},x.onerror=function(N){E(N),x.terminate()},x.postMessage({challenges:O})});m.push(R)}const y=await Promise.all(m),v=y.flatMap(_=>_.results);v.sort((_,O)=>_.index-O.index);const w=v.map(_=>_.answer),C=y.reduce((_,O)=>_+O.totalExecutionTime,0);return o=(await Zn.post(s,{ticket:c,answers:w.map(_=>_.toString())})).data.review,new M7e(o,C)}(i?.data?.url,i?.data?.review)}catch{return}},this.baseUrl=t.metricServerConfig.baseUrl,this.clientId=t.clientId,this.sdkLocalStorage=new rp(t.chainId)}}class j7e{constructor(t){this.resolveProviderType=()=>{},this.rejectProviderType=()=>{},this.walletSelectUIUrl=t.sdkUIUrls.miniDappConnectLiffV3,this.connectPageOptions=t.connectPageOptions}onProviderTypeSelected(t){this.resolveProviderType&&this.resolveProviderType(t)}async selectType(t,n){const r=new Promise((a,c)=>{this.resolveProviderType=a,this.rejectProviderType=c}),i=new URL(this.walletSelectUIUrl);i.searchParams.append("dappName",t),this.connectPageOptions&&Object.entries(this.connectPageOptions).forEach(([a,c])=>{i.searchParams.set(a,c)}),i.searchParams.set(sJ,n?"true":"false"),i.searchParams.set(oJ,N6()?"true":"false"),await qr.subWindow.open({url:i.toString()});const s=()=>{qr.subWindow.off("close",s),this.cancel()},o=a=>{qr.subWindow.off("submit",o),qr.subWindow.off("close",s);const c=a.providerType;this.onProviderTypeSelected(c)};return qr.subWindow.on("close",s),qr.subWindow.on("submit",o),await r}cancel(){this.rejectProviderType&&this.rejectProviderType(new ur({code:su,message:"User canceled"}))}}class D6{constructor(t){this.fetchClientInfo=async()=>{const n=`${this.baseUrl}/api/v1/client-info`;try{return(await Zn.get(n,{headers:{"x-client-id":this.clientId}})).data}catch(r){throw r}},this.clientId=t.clientId,this.baseUrl=t.relayServerConfig.baseUrl}}const F7e=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"],K7e=["kaia_signTransaction","klay_signTransaction"];class k6{constructor(t,n,r){this.eventBus=t,this.config=n,this.universalUi=r,this.setOkxEventProxy()}static async init(t,n){const r=new D6(n),i=F7e.filter(u=>u.includes(window.navigator.language?.replace("-","_"))),s=i.length>0?i[0]:"en_US",o=await r.fetchClientInfo();let a;(fg(navigator.userAgent)||qr.isInClient())&&(a="https://line.me/R/run");const c=await Aq.init({dappMetaData:{icon:o.image_url,name:o.name},actionsConfiguration:{returnStrategy:a},language:s,uiPreferences:{theme:Ts.LIGHT}});return new k6(t,n,c)}async request(t){const{method:n,params:r}=t;if(W2(n))return this.universalUi.session?.namespaces?.eip155?.accounts?.map(o=>this.stripOkxAccountPrefix(o))??[];if(this.config.kaiaOnlyMethods.indexOf(n)!==-1)throw new ur({code:Number(No.methodNotFound),message:"This method is not supported on OKX wallet."});if(n==="kaia_connectAndSign")return this.connectAndSign(r);this.universalUi.connected()||await this.universalUi.openModal({namespaces:{eip155:{chains:["eip155:8217"],defaultChain:"8217"}}});const i=K7e.includes(n)?n:T6(n),s=r&&this.convertToEthParam(i,r);return this.universalUi.request({method:i,params:s},"eip155:8217")}async connectAndSign(t){if(!Array.isArray(t)||t.length!==1)throw new ur({code:-32602,message:"Invalid params"});const n=t[0];if(this.universalUi.connected()){const i=this.universalUi.getUniversalProvider();if(!i||!i.session)throw new ur({code:-32603,message:"Internal JSON-RPC error"});const s=this.stripOkxAccountPrefix(i.session.namespaces.eip155.accounts[0]);return[s,await this.universalUi.request({method:"personal_sign",params:[n,s]},"eip155:8217")]}if(window.okxwallet){await this.universalUi.openModal({namespaces:{eip155:{chains:["eip155:8217"],defaultChain:"8217"}}});const i=this.universalUi.getUniversalProvider();if(!i||!i.session)throw new ur({code:-32603,message:"Internal JSON-RPC error"});const s=this.stripOkxAccountPrefix(i.session.namespaces.eip155.accounts[0]);return[s,await this.universalUi.request({method:"personal_sign",params:[n,s]},"eip155:8217")]}const r=await this.universalUi.openModalAndSign({namespaces:{eip155:{chains:["eip155:8217"],defaultChain:"8217"}}},[{method:"personal_sign",chainId:"eip155:8217",params:[n]}]);try{const i=r.namespaces.eip155.accounts[0],s=this.stripOkxAccountPrefix(i),o=r.signResponse[0],a=o?.result;return[s,a]}catch{throw new ur({code:-32603,message:"Internal JSON-RPC error"})}}async switchChain(t){}async disconnect(){try{await this.universalUi.disconnect()}catch{}}setOkxEventProxy(){this.universalUi.on("display_uri",t=>{this.eventBus.emit("display_uri",t)}),this.universalUi.on("session_update",t=>{this.eventBus.emit("session_update",t)}),this.universalUi.on("session_delete",({topic:t})=>{this.eventBus.emit("disconnect")}),this.universalUi.on("connect",()=>{this.eventBus.emit("connect",{chainId:"8217"})}),this.universalUi.on("accountChanged",t=>{this.eventBus.emit("accountChanged",{chainId:"8217"})})}convertToEthParam(t,n){if(["eth_signTypedData_v4"].indexOf(t)!==-1&&Array.isArray(n)&&n.length===2){const r=this.convertSignTypedDataV4Field(n[1]);return[n[0],r]}return["eth_sendTransaction","eth_signTransaction"].indexOf(t)===-1?n:Array.isArray(n)&&n.every(r=>typeof r=="object")?n.map(r=>this.convertInputFieldToDataField(r)):n}convertSignTypedDataV4Field(t){try{return JSON.parse(t)}catch{return t}}convertInputFieldToDataField(t){const n=t;if(!("input"in n))return t;const{input:r,...i}=n;return{...i,data:n.input}}stripOkxAccountPrefix(t){return t.split(":")[2]}}class W7e{constructor(t,n){this.eventBus=t,this.config=n,this.setExtensionEventProxy()}async request(t){const{method:n,params:r}=t;if(this.config.kaiaOnlyMethods.indexOf(n)!==-1)throw new ur({code:Number(No.methodNotFound),message:"This method is not supported on Bitget wallet."});if(n==="kaia_connectAndSign")return await this.requestConnectAndSign(r);const i=r&&this.convertToLegacyParam(n,r),s=T6(n);return await this.requestWithConverter({method:s,params:i})}async requestConnectAndSign(t){if(!Array.isArray(t)||t.length!==1)throw new ur({code:Number(No.invalidParams),message:"Invalid params"});const n=t[0],r=(await this.requestWithConverter({method:"eth_requestAccounts",params:[]}))[0];return[r,await this.requestWithConverter({method:"personal_sign",params:[n,r]})]}async requestWithConverter(t){try{const n=await lE().request(t);return rJ(t.method,n)}catch(n){throw this.convertBitgetRpcError(n)}}async switchChain(t){const n=lE(),r=`0x${parseInt(this.config.chainId,10).toString(16)}`;if(n.chainId.toString().toLowerCase()===r.toLowerCase())return;const i=this.awaitNetworkChange(n,r);await this.requestWithConverter({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),await i}async awaitNetworkChange(t,n){return new Promise((r,i)=>{const s=o=>{o!=="loading"&&(o.toString().toLowerCase()===n.toString().toLowerCase()?(this.eventBus.removeListener("chainChanged",s),r(null)):(this.eventBus.removeListener("chainChanged",s),i("Invalid chain id")))};this.eventBus.on("chainChanged",s)})}async disconnect(){const t=lE();await t.disconnect(),this.eventBus.removeAllListeners(),t.removeAllListeners()}setExtensionEventProxy(){const t=lE();t.removeAllListeners(),t.on("accountsChanged",n=>{this.eventBus.emit("accountsChanged",n)}),t.on("chainChanged",n=>{this.eventBus.emit("chainChanged",n)})}convertToLegacyParam(t,n){return this.config.methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension.indexOf(t)===-1?n:Array.isArray(n)&&n.every(r=>typeof r=="object")?n.map(r=>this.convertInputFieldToDataField(r)):n}convertInputFieldToDataField(t){const n=t;if(!("input"in n))return t;const{input:r,...i}=n;return{...i,data:n.input}}convertBitgetRpcError(t){if(!O6(t))return t;const n=t.code,r=t.message;return n===-32603&&r.includes("user reject")||n===4001&&r.includes("User reject")?new ur({code:su,message:r}):new ur({code:Number.parseInt(No.internal),message:t.message})}}class dh{constructor(t){this.appKit=S7e({networks:[g7e,p7e],metadata:{name:t.name,icons:[t.image_url],description:"",url:""},projectId:t.reown_project_id}),this.walletButton=qDe()}static getInstance(t){return dh.instance||(dh.instance=new dh(t)),dh.instance}async awaitAppKitReady(){this.walletButton.isReady()||await new Promise(t=>{this.walletButton.subscribeIsReady(n=>{n&&t()})})}async connect(t){return await this.walletButton.connect(t)}getAddress(){return this.appKit.getAddress()}async request(t){const n=await this.appKit.getUniversalProvider();if(!n)throw new Error("Failed to initialize wallet connect - not found universalProvider");return await n.request(t)}async disconnect(){await this.appKit.disconnect()}}dh.instance=null;const H7e=["kaia_signTransaction","klay_signTransaction"];class M6{constructor(t,n,r,i){this.walletName=r,this.eventBus=t,this.config=n,this.walletConnectClient=dh.getInstance(i)}static async init(t,n,r){const i=new D6(n),s=await i.fetchClientInfo();if(!s.reown_project_id||s.reown_project_id==="")throw new Error("Dapp is not registered to reown dashboard.");const o=new M6(t,n,r,s);return await o.walletConnectClient.awaitAppKitReady(),o}async request(t){const{method:n,params:r}=t;if(this.config.kaiaOnlyMethods.indexOf(n)!==-1)throw new ur({code:Number(No.methodNotFound),message:"This method is not supported on Bitget wallet."});await this.walletConnectClient.awaitAppKitReady();const i=this.walletConnectClient.getAddress();if(W2(n))return i?[i]:[];if(n==="kaia_connectAndSign")return await this.connectAndSign(r);i||await this.connect();const s=H7e.includes(n)?n:T6(n),o=r&&this.convertToEthParam(s,r),a=await this.requestWithConverter({method:s,params:o});return this.convertLegacyResponse(s,a)}async connect(){try{await this.walletConnectClient.connect(this.walletName)}catch(t){throw this.convertWalletConnectError(t)}}async connectAndSign(t){if(!t)throw new Error("Invalid params - params is not given");let n=this.walletConnectClient.getAddress();if(n||(await this.connect(),n=this.walletConnectClient.getAddress()),!n)throw new Error("Wallet is not connected");return[n,await this.requestWithConverter({method:"personal_sign",params:[...t,n]})]}async switchChain(t){const n=await this.getCurrentChainId();this.config.chainId!==n.toString()&&await this.requestWithConverter({method:"wallet_switchEthereumChain",params:[{chainId:`0x${parseInt(this.config.chainId,10).toString(16)}`}]})}async getCurrentChainId(){return await this.requestWithConverter({method:"eth_chainId"})}async disconnect(){await this.walletConnectClient.disconnect()}convertToEthParam(t,n){return["eth_sendTransaction","eth_signTransaction"].indexOf(t)===-1?n:Array.isArray(n)&&n.every(r=>typeof r=="object")?n.map(r=>this.convertInputFieldToDataField(r)):n}convertInputFieldToDataField(t){const n=t;if(!("input"in n))return t;const{input:r,...i}=n;return{...i,data:n.input}}convertLegacyResponse(t,n){return t!=="eth_signTransaction"?n:this.convertSignTransactionResponse(n)}convertSignTransactionResponse(t){return{raw:t}}async requestWithConverter(t){try{return await this.walletConnectClient.request(t)}catch(n){throw this.convertBitgetRpcError(n)}}convertBitgetRpcError(t){if(!O6(t))return t;const n=t.code;return t.message,new ur(n===5001?{code:su,message:"User canceled sign request"}:{code:t.code,message:t.message})}convertWalletConnectError(t){return!t||typeof t!="object"&&typeof t!="string"?new ur({code:Number.parseInt(No.internal),message:"Unknown error"}):t.toString().includes("Modal closed")?new ur({code:su,message:"User canceled wallet connect popup"}):new ur({code:Number.parseInt(No.internal),message:t.toString()})}}class Fj extends Ywe{constructor(t){super(),this.walletType=null,this.providerType=null,this.handler=null,this.isProcessingRequestToWallet=!1,this.initializeWalletType=()=>{const n=navigator.userAgent,r=fg(n),i=Mj(n),s=globalThis.klaytn!=null;let o=this.sdkLocalStorage.getWalletType();switch(o){case ns.Extension:if(r||i||!s)return null;break;case ns.Mobile:if(!r&&!i)return null;break;case ns.Web:if(r)return null;break;case ns.Liff:if(!r)return null}return o},this.config=t,this.chainNodeRpcClient=new A7e(t),this.metricApiClient=new lJ(t),this.sdkLocalStorage=new rp(t.chainId),this.host=this.config.chainNodeRpcEndpoint,this.connected=!0,this.timeout=6e4,this.initializePromise=this.initialize()}async initialize(){return this.walletType=this.initializeWalletType(),this.initializeHandler(this.walletType)}async initializeHandler(t){if(t)switch(t){case ns.OKX:this.handler=await k6.init(this,this.config);break;case ns.Extension:this.handler=new O7e(this,this.config);break;case ns.Liff:{let n;n=qr.isInClient()?new N7e(this.config):new $j(this.config),this.handler=new _4(this.config,n);break}case ns.Web:this.handler=new _4(this.config,new $j(this.config));break;case ns.Mobile:this.handler=new _4(this.config,new k7e(this.config));break;case ns.BITGET:N6()?this.handler=new W7e(this,this.config):this.handler=await M6.init(this,this.config,"bitget")}}getWalletType(){return this.walletType}getProviderType(){return this.providerType}async disconnectWallet(){await this.handler?.disconnect(),this.walletType=null,this.sdkLocalStorage.clear()}async request(t){try{await this.initializePromise;const{method:n}=t;if(this.config.walletHandledMethods.indexOf(n)===-1)return this.chainNodeRpcClient.requestRpc(t);if(this.isProcessingRequestToWallet)throw new Error("Already processing request to wallet");return this.isProcessingRequestToWallet=!0,await this.requestToWallet(t)}catch(n){throw nJ(n)}finally{this.isProcessingRequestToWallet=!1}}async requestToWallet(t){const{method:n}=t;if(!this.walletType&&W2(n))return[];this.validateTxType(t);let r=null;this.walletType||(r=await this.selectWalletType(),await new Promise(a=>setTimeout(a,700)),await this.initializeHandler(r));const i=this.getProviderType();this.config.methodsShouldSyncChain.indexOf(n)!==-1&&await this.handler.switchChain(this.config.chainId);const s=await this.handler.request(t,i);var o;return!this.walletType&&r&&(this.walletType=r,this.sdkLocalStorage.setWalletType(r)),i&&(o=i)!==ys.Google&&o!==ys.Line&&o!==ys.Naver&&o!==ys.Kakao&&o!==ys.Apple&&o!==ys.Wechat&&this.sdkLocalStorage.setProviderType(i),this.sendWalletConnectMetric(n,s,this.walletType),s}async selectWalletType(){const t=qr.isInClient()?new j7e(this.config):new T7e(this.config),n=new D6(this.config),r=await n.fetchClientInfo(),i=await t.selectType(r.name,r.reown_project_id!==null&&r.reown_project_id!=="");return this.providerType=i,function(s){switch(s){case ys.Google:case ys.Kakao:case ys.Line:case ys.Apple:case ys.Naver:case ys.Wechat:return fg(navigator.userAgent)?ns.Liff:ns.Web;case ys.OKX:return ns.OKX;case ys.Kaia:return Mj(navigator.userAgent)?ns.Mobile:ns.Extension;case ys.BITGET:return ns.BITGET}}(i)}validateTxType(t){t.method!=="kaia_signTransaction"&&t.method!=="klay_signTransaction"||this.validateSignTransaction(t)}validateSignTransaction(t){const n=t.params.map(i=>new Map(Object.entries(i)));if(n.length!==1)throw new O1("Invalid params");const r=n[0].get("typeInt");if(r===void 0||typeof r!="number"||this.config.feeDelegatedTxTypes.indexOf(r)===-1)throw new O1("Only fee delegated transaction can be signed with signTransaction request. Use 'sendTransaction' to sign transaction and send to network.")}async send(t,n){try{const r=await this.request(t);n&&n(null,function(i){return{jsonrpc:"2.0",id:"",result:i}}(r))}catch(r){n&&n(r,void 0)}}supportsSubscriptions(){return!1}disconnect(){return!0}async sendWalletConnectMetric(t,n,r){if(["kaia_connectAndSign","kaia_requestAccounts","klay_requestAccounts","eth_requestAccounts"].indexOf(t)===-1)return;const i=n;await this.metricApiClient.sendWalletMetric("CONNECT",i[0],r),await this.metricApiClient.sendWalletMetric(iJ,i[0],r)}}const z7e=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];class q7e{constructor(t){this.resolveUserClose=()=>{},this.rejectUserClose=()=>{},this.browserGuideUIUrl=t.sdkUIUrls.browserGuide}setupListeners(){const t=n=>{const r=this.iframe;if(!r||n.source!==r.contentWindow)return;const i=n.data;if(!i||typeof i!="object")return;const s=i.event;if(s)switch(s){case"Loaded":break;case"Close":this.onSelectedClose()}};window.addEventListener("message",t),this.eventListener=t}clearListeners(){const t=this.eventListener;t&&(window.removeEventListener("message",t),this.eventListener=void 0)}onSelectedClose(){this.resolveUserClose&&this.resolveUserClose(null)}reset(){this.resolveUserClose=void 0,this.rejectUserClose=void 0,R6(),this.clearListeners()}async showBrowserGuide(t){const n=new Promise((r,i)=>{this.resolveUserClose=r,this.rejectUserClose=i});this.setupListeners(),this.iframe=function(r,i,s){const o=document.createElement("div");o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.zIndex="9999999",o.id="iframeDiv";const a=document.createElement("iframe");a.src=r,a.width=i,a.height=s,a.style.border="none",a.style.zIndex="99999999";const c=o.appendChild(a);return document.body.appendChild(o),c}(`${this.browserGuideUIUrl}?browserName=${t}`,"100%","100%"),await n,this.reset()}cancel(){this.rejectUserClose&&this.rejectUserClose(new Error("User canceled")),this.reset()}}class V7e{constructor(t){this.getPayment=async n=>{const r=`${this.baseUrl}/api/payment-v1/payment/info`;try{return(await Zn.get(r,{params:{id:n},headers:{"Content-Type":"application/json"}})).data}catch(i){throw i}},this.waitForConfirm=async n=>{let r=1;for(;r<this.maxRetryCount;)try{switch((await this.getPaymentStatus(n)).status){case"CONFIRMED":case"FINALIZED":return;case"CANCELED":throw new ur({code:-31001,message:"Payment is canceled"});case"CONFIRM_FAILED":throw new ur({code:-31002,message:"Payment is failed"})}await this.delayPolling(1e3)}catch(i){if(i instanceof ur)throw i}finally{r++}throw new Error("Fail to wait for response")},this.delayPolling=async n=>{await new Promise(r=>setTimeout(r,n))},this.getPaymentStatus=async n=>{const r=`${this.baseUrl}/api/payment-v1/payment/status`;try{return(await Zn.get(r,{params:{id:n},headers:{"Content-Type":"application/json"}})).data}catch(i){throw i}},this.register=async(n,r)=>{const i=`${this.baseUrl}/api/payment-v1/payment/register`,s={id:n,txHash:r};try{await Zn.post(i,s,{headers:{"Content-Type":"application/json"}})}catch(o){throw o}},this.startPayment=async(n,r,i)=>{const s=`${this.baseUrl}/api/payment-v1/payment/start`;try{return(await Zn.post(s,{id:n,userAgent:r,isLiff:i},{headers:{"Content-Type":"application/json"}})).data}catch(o){throw o}},this.getNonceForPaymentHistory=async n=>{const r=`${this.baseUrl}/api/payment-v1/auth/nonce`;try{return(await Zn.get(r,{params:{walletAddress:n},headers:{"Content-Type":"application/json"}})).data}catch(i){throw i}},this.getSessionTokenForPaymentHistory=async(n,r)=>{const i=`${this.baseUrl}/api/payment-v1/auth/verify`,s={walletAddress:n,signature:r,isLegacy:!1};try{return(await Zn.post(i,s,{headers:{"Content-Type":"application/json","x-client-id":this.clientId}})).data}catch(o){throw o}},this.baseUrl=t.paymentServerConfig.baseUrl,this.maxRetryCount=t.relayServerConfig.maxRetryCount,this.clientId=t.clientId}}class X7e{constructor(t){this.paymentClient=new V7e(t)}async getPayment(t){return await this.paymentClient.getPayment(t)}async startPayment(t){const n=navigator.userAgent,r=qr.isInClient();return await this.paymentClient.startPayment(t,n,r)}async waitForConfirm(t){try{await this.paymentClient.waitForConfirm(t)}catch(n){throw nJ(n)}}async registerTxHash(t,n){await this.paymentClient.register(t,n)}openStripePaymentPage(t,n,r){return window.open(t,"stripePayment",`width=${n},height=${r}`)}async getNonceForPaymentHistory(t){return await this.paymentClient.getNonceForPaymentHistory(t)}async getSessionTokenForPaymentHistory(t,n){return await this.paymentClient.getSessionTokenForPaymentHistory(t,n)}}class G7e{constructor(t,n){this.config=t,this.walletProvider=n,this.handler=new X7e(t),this.clickEventListener=new cJ}async startPayment(t){Zc.getInstance()?.sendWalletActivity("START_PAYMENT",{paymentId:t});const n=await this.walletProvider.request({method:"kaia_accounts"}),r=n[0];if(!n)throw new Error("Wallet is not connected");const i=await this.handler.getPayment(t),s=await this.handler.startPayment(t);if(i.pgType==="CRYPTO"){const o=s.paymentTxDTO,a=await this.walletProvider.request({method:"kaia_gasPrice",params:[]}),c={typeInt:48,from:r,to:o.to,gasPrice:a,value:o.value,input:o.input},u=await this.walletProvider.request({method:"kaia_estimateGas",params:[c]}),d=await this.walletProvider.request({method:"kaia_sendTransaction",params:[{...c,gas:u}]});await this.handler.registerTxHash(t,d)}else{const o=s.redirectUrl;this.handler.openStripePaymentPage(o,this.config.stripePopupSize.width,this.config.stripePopupSize.height)||qr.isInClient()||(await this.clickEventListener.awaitUserClick(Ks.POPUP_BLOCKED),this.handler.openStripePaymentPage(o,this.config.stripePopupSize.width,this.config.stripePopupSize.height))}await this.handler.waitForConfirm(t)}async openPaymentHistory(){const t=(await this.walletProvider.request({method:"kaia_accounts"}))[0];if(!t)throw new Error("Wallet is not connected");const n=await this.walletProvider.getWalletType();if(!n)throw new Error("Walet type is not initialized");const r=await this.handler.getNonceForPaymentHistory(t);await this.clickEventListener.awaitUserClick(Ks.PAYMENT_HISTORY_SIGN);const i=await this.issueSessionToken(r,t);await this.clickEventListener.awaitUserClick(Ks.PAYMENT_HISTORY_OPEN),await this.openPaymentHistoryPage(n,i),this.clickEventListener.reset()}async issueSessionToken(t,n){const r="0x"+this.stringToHex(t),i=await this.walletProvider.request({method:"personal_sign",params:[r,n]});return await this.handler.getSessionTokenForPaymentHistory(n,i)}async openPaymentHistoryPage(t,n){const r=`${this.getPaymentPageBaseUrl()}?sessionToken=${n}`;if(qr.isInClient())return void await qr.subWindow.open({url:r});const i=navigator.userAgent;if(fg(i)&&A6(i))return void(window.location.href=r);const s=this.config.webWalletConfig.popupSize;window.open(r,"payment",`width=${s.width},height=${s.height}`)}getPaymentPageBaseUrl(){return qr.isInClient()?`${this.config.paymentHistoryPopupConfig.liffUrl}/payment-history`:`${this.config.paymentHistoryPopupConfig.webUrl}/payment-history`}stringToHex(t){const n=new TextEncoder().encode(t);let r="";for(let i of n)r+=i.toString(16).padStart(2,"0");return r}}class L6{constructor(t,n){this.config=t,this.browserGuideUi=new q7e(t),this.metricApiClient=new lJ(t),this.walletProvider=n;const r=n.request({method:"kaia_accounts"});this.metricApiClient.sendSdkInitializeMetric(r)}static async init(t){if(qr.isInClient()&&!qr.isLoggedIn())throw new Error("liff is not initialized");const n=await async function(i){const s=i.sdkBaseUrl??"https://sdk.dappportal.io",o=await fetch(`${s}/config.json?sdkVersion=1.3.2`),a=await o.json(),c=i.chainId??a.defaultChainId,u=i.chainNodeRpcEndpoint??a.chainNodeRpcEndpoints[c];if(!u)throw new Error("Please set the chainNodeRpcEndpoint");const d={...a.metricServerConfig,utmParamKeys:a.metricServerConfig.utmParamKeys??z7e};return{clientId:i.clientId,chainId:c,connectPageOptions:i.connectPageOptions,chainNodeRpcEndpoint:u,sdkUIUrls:a.sdkUIUrls,relayServerConfig:a.relayServerConfig,paymentServerConfig:a.paymentServerConfig,metricServerConfig:d,stripePopupSize:a.stripePopupSize,paymentHistoryPopupConfig:a.paymentHistoryPopupConfig,kaiaWalletMobileConfig:a.kaiaWalletMobileConfig,liffWalletConfig:a.liffWalletConfig,webWalletConfig:a.webWalletConfig,walletHandledMethods:a.walletHandledMethods,kaiaOnlyMethods:a.kaiaOnlyMethods,methodsShouldSyncChain:a.methodsShouldSyncChain,methodsShouldAttachTxTypeParamsWhenRequestToExtension:a.methodsShouldAttachTxTypeParamsWhenRequestToExtension,methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension:a.methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension,txTypesShouldConvertInputFieldToDataFieldWhenRequestToExtension:a.txTypesShouldConvertInputFieldToDataFieldWhenRequestToExtension,feeDelegatedTxTypes:a.feeDelegatedTxTypes,blockedMethods:a.blockedMethods,blockedBrowsersUserAgent:a.blockedBrowsersUserAgent}}(t);await this.initializeDeviceId(n.chainId),Zc.init(n);const r=new Fj(n);return await r.initializePromise,new L6(n,r)}static async initializeDeviceId(t){const n=new rp(t);if(!qr.isInClient()){let a=n.getDeviceId();if(!a){const c=Qq();n.setDeviceId(c),a=c}return a}const r=qr.getDecodedIDToken()?.sub;if(!r)throw new Error("liff is not initialized");const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i),o=Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("");n.setDeviceId(o)}getWalletProvider(){return this.walletProvider||(this.walletProvider=new Fj(this.config)),this.walletProvider}getPaymentProvider(){if(!this.paymentProvider){const t=this.getWalletProvider();this.paymentProvider=new G7e(this.config,t)}return this.paymentProvider}isSupportedBrowser(){return this.getBrowserNameIfUnsupported()===null}async showUnsupportedBrowserGuide(){const t=this.getBrowserNameIfUnsupported();if(t)return await this.browserGuideUi.showBrowserGuide(t)}getBrowserNameIfUnsupported(){const t=navigator.userAgent;for(const[n,r]of Object.entries(this.config.blockedBrowsersUserAgent))for(const i of r)if(new RegExp(i).test(t))return n;return null}getTrackingId(){return Zc.getInstance()?.getTrackingId()||null}sendWalletActivity(t,n={}){const r=Zc.getInstance();r&&r.sendWalletActivity(t,n)}}const uJ=k1(e=>({sdk:null,setSdk:t=>e({sdk:t})})),J7e=async()=>{try{const e=await L6.init({clientId:"95ebca03-3a51-4136-aa66-adfcf4e92e3f",chainId:"1001"});return console.log("Success to initialize provider",e),e}catch(e){return console.error("Failed to initialize provider",e),{}}},Y7e=()=>{const{sdk:e}=uJ();if(!e)throw new Error("KaiaWalletSdk is not initialized");const t=le.useCallback(async()=>await e.getWalletProvider().request({method:"kaia_requestAccounts"}),[e]),n=le.useCallback(async(a,c)=>await e.getWalletProvider().request({method:"personal_sign",params:[a,c]}),[e]),r=le.useCallback(async a=>await e.getWalletProvider().request({method:"kaia_connectAndSign",params:a}),[]),i=le.useCallback(async()=>await e.getWalletProvider().request({method:"kaia_accounts"}),[]),s=le.useCallback(async()=>{await e.getWalletProvider().disconnectWallet()},[]),o=le.useCallback(async a=>await e.getWalletProvider().request({method:"kaia_sendTransaction",params:[a]}),[]);return{requestAccount:t,sign:n,requestAndSign:r,getAccount:i,disconnectWallet:s,sendTransaction:o}},Z7e="_0df3fec7",Q7e="f92f7c3f",eMe="eca377db",tMe="_6438f15c",nMe="_0a0b5d47",rMe="f122d4ae",F0={root:Z7e,connected:Q7e,icon:eMe,home:tMe,pcGnb:nMe,mobileGnb:rMe},iMe={home:F0.home,pc_gnb:F0.pcGnb,mobile_gnb:F0.mobileGnb},sMe=({type:e,onLoginSuccess:t})=>{const{requestAndSign:n,disconnectWallet:r,getAccount:i}=Y7e(),s=TR(u=>u.selectedWalletAddress),{open:o}=Xue(),a=!!s,c=le.useCallback(async()=>{(await i())?.[0]||s?o(Le.jsx(Hue,{description:Le.jsx(hd,{name:"DD_gnb_disconnect_desc"}),closeButton:!0})).then(({dismissed:d})=>{!d&&r()}):await n(["wallet login"])&&t?.()},[s]);return Le.jsxs("button",{onClick:c,className:Gs(F0.root,iMe[e],{[F0.connected]:a}),children:[Le.jsx(lW,{className:F0.icon}),Le.jsx(hd,{name:a?"DD_common_disconnect_button":"DD_common_connect_button"})]})},oMe="e328242d",aMe="b04e9403",cMe="edc39076",C4={root:oMe,connected:aMe,address:cMe},U6=({className:e,type:t})=>{const n=TR(a=>a.selectedWalletAddress),r=Ise(n),{open:i}=Mse(),s=!!n,o=le.useCallback(()=>{i(Le.jsx(hd,{name:"DD_gnb_WalletAddress_copy"}))},[]);return Le.jsxs("div",{className:Gs(C4.root,{[C4.connected]:s},e),children:[n&&Le.jsx(Pse,{value:n,className:C4.address,onSuccess:o,children:r}),Le.jsx(sMe,{type:t})]})},lMe=e=>le.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},le.createElement("path",{d:"M16 2L2 16M2 2L16 16",stroke:"black",strokeWidth:1.5,strokeLinecap:"square"})),dJ=e=>le.createElement("svg",{width:16,height:20,viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},le.createElement("g",{clipPath:"url(#clip0_1_186)"},le.createElement("path",{d:"M8 11.3333C6.82126 11.3333 5.6908 10.8651 4.8573 10.0316C4.02381 9.19809 3.55556 8.06763 3.55556 6.88889H5.33333C5.33333 7.59613 5.61428 8.27441 6.11438 8.77451C6.61448 9.2746 7.29276 9.55555 8 9.55555C8.70724 9.55555 9.38552 9.2746 9.88562 8.77451C10.3857 8.27441 10.6667 7.59613 10.6667 6.88889H12.4444C12.4444 8.06763 11.9762 9.19809 11.1427 10.0316C10.3092 10.8651 9.17874 11.3333 8 11.3333ZM8 2.44444C8.70724 2.44444 9.38552 2.72539 9.88562 3.22549C10.3857 3.72559 10.6667 4.40386 10.6667 5.11111H5.33333C5.33333 4.40386 5.61428 3.72559 6.11438 3.22549C6.61448 2.72539 7.29276 2.44444 8 2.44444ZM14.2222 5.11111H12.4444C12.4444 4.52746 12.3295 3.94952 12.1061 3.41029C11.8828 2.87107 11.5554 2.38112 11.1427 1.96841C10.73 1.55571 10.24 1.22833 9.70082 1.00498C9.16159 0.781623 8.58365 0.666664 8 0.666664C6.82126 0.666664 5.6908 1.13492 4.8573 1.96841C4.02381 2.80191 3.55556 3.93237 3.55556 5.11111H1.77778C0.791111 5.11111 0 5.90222 0 6.88889V17.5556C0 18.0271 0.187301 18.4792 0.520699 18.8126C0.854097 19.146 1.30628 19.3333 1.77778 19.3333H14.2222C14.6937 19.3333 15.1459 19.146 15.4793 18.8126C15.8127 18.4792 16 18.0271 16 17.5556V6.88889C16 6.41739 15.8127 5.96521 15.4793 5.63181C15.1459 5.29841 14.6937 5.11111 14.2222 5.11111Z",fill:"currentColor"})),le.createElement("defs",null,le.createElement("clipPath",{id:"clip0_1_186"},le.createElement("rect",{width:16,height:19,fill:"white",transform:"translate(0 0.5)"})))),fJ=e=>le.createElement("svg",{width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},le.createElement("g",{clipPath:"url(#clip0_1_190)"},le.createElement("path",{d:"M16.5001 0.5H1.50011C1.13845 0.5 0.791606 0.643668 0.535874 0.8994C0.280143 1.15513 0.136475 1.50198 0.136475 1.86364V14.1364C0.136475 14.498 0.280143 14.8449 0.535874 15.1006C0.791606 15.3563 1.13845 15.5 1.50011 15.5H16.5001C16.8618 15.5 17.2086 15.3563 17.4643 15.1006C17.7201 14.8449 17.8637 14.498 17.8637 14.1364V1.86364C17.8637 1.50198 17.7201 1.15513 17.4643 0.8994C17.2086 0.643668 16.8618 0.5 16.5001 0.5ZM6.00011 9.5C6.14477 9.6085 6.24041 9.77002 6.26599 9.94903C6.29156 10.128 6.24497 10.3099 6.13647 10.4545C6.02798 10.5992 5.86646 10.6948 5.68744 10.7204C5.50843 10.746 5.32659 10.6994 5.18193 10.5909L2.45466 8.54545C2.36998 8.48194 2.30125 8.39959 2.25391 8.30492C2.20657 8.21024 2.18193 8.10585 2.18193 8C2.18193 7.89415 2.20657 7.78976 2.25391 7.69508C2.30125 7.60041 2.36998 7.51805 2.45466 7.45455L5.18193 5.40909C5.32659 5.30059 5.50843 5.25401 5.68744 5.27958C5.86646 5.30515 6.02798 5.40079 6.13647 5.54545C6.24497 5.69012 6.29156 5.87196 6.26599 6.05097C6.24041 6.22998 6.14477 6.3915 6.00011 6.5L3.99983 8L6.00011 9.5ZM11.0191 3.41477L8.29187 12.9602C8.26863 13.0478 8.22815 13.1299 8.1728 13.2017C8.11745 13.2735 8.04834 13.3335 7.96951 13.3783C7.89068 13.4231 7.80373 13.4516 7.71372 13.4624C7.62371 13.4732 7.53246 13.4658 7.44531 13.4409C7.35816 13.416 7.27686 13.3739 7.20616 13.3172C7.13546 13.2605 7.07678 13.1902 7.03355 13.1105C6.99032 13.0309 6.96342 12.9434 6.95441 12.8532C6.9454 12.763 6.95446 12.6719 6.98108 12.5852L9.70835 3.03977C9.76077 2.86909 9.87804 2.72579 10.035 2.64064C10.1919 2.5555 10.376 2.53531 10.5477 2.58442C10.7193 2.63353 10.8649 2.74802 10.953 2.90328C11.0412 3.05854 11.0649 3.24219 11.0191 3.41477ZM15.5456 8.54545L12.8183 10.5909C12.6736 10.6994 12.4918 10.746 12.3128 10.7204C12.1338 10.6948 11.9722 10.5992 11.8637 10.4545C11.7552 10.3099 11.7087 10.128 11.7342 9.94903C11.7598 9.77002 11.8554 9.6085 12.0001 9.5L14.0004 8L12.0001 6.5C11.9285 6.44628 11.8681 6.37897 11.8225 6.30193C11.7769 6.22488 11.7469 6.13961 11.7342 6.05097C11.7216 5.96233 11.7265 5.87207 11.7487 5.78533C11.7709 5.69859 11.81 5.61708 11.8637 5.54545C11.9175 5.47382 11.9848 5.41348 12.0618 5.36786C12.1389 5.32224 12.2241 5.29224 12.3128 5.27958C12.4014 5.26692 12.4917 5.27184 12.5784 5.29406C12.6652 5.31628 12.7467 5.35537 12.8183 5.40909L15.5456 7.45455C15.6302 7.51805 15.699 7.60041 15.7463 7.69508C15.7936 7.78976 15.8183 7.89415 15.8183 8C15.8183 8.10585 15.7936 8.21024 15.7463 8.30492C15.699 8.39959 15.6302 8.48194 15.5456 8.54545Z",fill:"currentColor"})),le.createElement("defs",null,le.createElement("clipPath",{id:"clip0_1_190"},le.createElement("rect",{width:18,height:15,fill:"white",transform:"translate(0 0.5)"})))),uMe="_20ce736e",dMe="a56cfb20",fMe="_8e0e70c3",hMe="_33a5bdf0",pMe="_51d2baa4",gMe="c7963c03",mMe="_3cee7cad",yMe="_4a5162d6",vMe="_4f6d8542",wMe="_724a88de",bMe="_49fd1cfe",xo={root:uMe,methodRoot:dMe,methodApiRoot:fMe,marketRoot:hMe,marketText:pMe,providerText:gMe,primaryColor:mMe,secondaryColor:yMe,methodApiWrap:vMe,methodApiText:wMe,dot:bMe},EMe=[{menuXlt:"DD_common_item_title",href:"",key:"items"},{menuXlt:"DD_common_paymentHistory_title",href:"",key:"payment-history"}],hJ=({targetId:e})=>{const{t}=hR();return Le.jsx("div",{className:Gs(xo.root,xo.marketRoot),children:EMe.map(({menuXlt:n,href:r,key:i})=>{const s=i==e||e===!0;return Le.jsx("h4",{className:Gs(xo.marketText,s?xo.primaryColor:xo.secondaryColor),children:t(n)},n)})})},Kj=[{providerXlt:"DD_common_walletProvider",items:[{key:"account",apiXlt:"DD_common_method1_title"},{key:"req-account",apiXlt:"DD_common_method2_title"},{key:"personal-sign",apiXlt:"DD_common_method3_title"},{key:"connect-and-sign",apiXlt:"DD_common_method4_title"},{key:"get-balance",apiXlt:"DD_common_method5_title"},{key:"disconnect-wallet",apiXlt:"DD_common_method6_title"},{key:"send-transaction",apiXlt:"DD_common_method7_title"}]},{providerXlt:"DD_common_paymentProvider",items:[{key:"start-payment",apiXlt:"DD_common_method8_title"},{key:"open-payment-history",apiXlt:"DD_common_method9_title"}]},{providerXlt:"DD_common_web3Provider",items:[{key:"gas-fee-delegation",apiXlt:"DD_common_method10_title"},{key:"kaia-sign-transaction",apiXlt:"DD_common_method11_title"}]},{providerXlt:"DD_common_liffSSDK",items:[{key:"invite-friends",apiXlt:"DD_common_method12_title"}]}],_Me={ease:"easeInOut",duration:.45},CMe={highlight:{color:"var(--sub-black-color)"}},xMe={idle:{fontWeight:400},highlight:{fontWeight:700,color:"var(--key-color)"}},SMe={idle:{opacity:0},highlight:{opacity:1}},pJ=({onMenuClick:e,targetId:t})=>{const{t:n}=hR(),r=le.useCallback(o=>{const a=document.getElementById(o);a&&a.scrollIntoView({behavior:"smooth"}),e?.()},[]),[i,s]=le.useMemo(()=>{let o=-1,a=-1;return Kj.some((c,u)=>{const d=c.items.findIndex(h=>h.key===t);return d!==-1?(o=u,a=d,!0):!1}),[o,a]},[t]);return Le.jsx(oo.ul,{className:Gs(xo.root,xo.methodRoot),transition:_Me,children:Kj.map(({items:o,providerXlt:a},c)=>{const u=c===i||t===!0;return Le.jsxs("li",{className:xo.providerWrap,children:[Le.jsx(oo.h4,{className:Gs(xo.providerText,xo.secondaryColor),animate:u?"highlight":"idle",variants:CMe,children:n(a)}),Le.jsx("ul",{className:xo.methodApiRoot,children:o.map(({key:d,apiXlt:h},p)=>Le.jsx(oo.li,{animate:u&&p==s?"highlight":"idle",children:Le.jsxs(I1,{to:{pathname:"method",hash:d},onClick:()=>r(d),className:xo.methodApiWrap,children:[Le.jsx(oo.div,{className:xo.dot,variants:SMe}),Le.jsx(oo.h5,{className:xo.methodApiText,variants:xMe,children:n(h)})]})},h))})]},a)})})},OMe="_094dea3c",AMe="_6ccf9d88",TMe="_18014130",S_={root:OMe,tabRoot:AMe,menu:TMe},RMe=({onClose:e})=>Le.jsxs("ul",{className:S_.root,children:[Le.jsxs("li",{className:S_.menu,children:[Le.jsx(Wj,{titleXlt:"DD_gnb_method_tab",Img:fJ}),Le.jsx(pJ,{targetId:!0,onMenuClick:e})]}),Le.jsxs("li",{className:S_.menu,children:[Le.jsx(Wj,{titleXlt:"DD_gnb_market_tab",Img:dJ}),Le.jsx(hJ,{})]})]});function Wj({titleXlt:e,Img:t}){return Le.jsxs("h3",{className:S_.tabRoot,children:[Le.jsx(t,{}),Le.jsx(hd,{name:e})]})}const NMe="a62ce07d",PMe="_7f177649",IMe="_02502578",DMe="dd331cc9",uE={root:NMe,sidebar:PMe,backdrop:IMe,header:DMe},kMe={open:{display:"initial"},close:{display:"none"}},MMe={variants:{open:{opacity:1},close:{opacity:0}},transition:fW},LMe={variants:{open:{x:"100%"},close:{x:"0"}},transition:fW},Hj="sidebar-backdrop",UMe=({open:e,onClose:t})=>{const n=ua(),r=e?"open":"close";return VH(e,`#${Hj}`),Le.jsx(t5,{mode:"sync",children:Le.jsxs(oo.div,{animate:r,variants:kMe,className:uE.root,children:[Le.jsx(oo.div,{id:Hj,className:uE.backdrop,onClick:t,...MMe}),Le.jsxs(oo.div,{className:uE.sidebar,...LMe,children:[Le.jsxs("div",{className:uE.header,children:[Le.jsx(dW,{to:n.pathname}),Le.jsx(lMe,{onClick:t})]}),Le.jsx(U6,{type:"mobile_gnb"}),Le.jsx(RMe,{onClose:t})]})]})})},BMe="_2f6dbc65",$Me="_9315ebac",jMe="_8f9087b1",x4={root:BMe,connectWrap:$Me,drawerWrap:jMe},FMe=()=>{const e=ua(),[t,n]=le.useState(!1),r=le.useCallback(()=>{n(!0)},[n]),i=le.useCallback(()=>{n(!1)},[n]),s=le.useCallback(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]);return Le.jsxs("header",{className:x4.root,children:[Le.jsx(dW,{to:e.pathname,onClick:s}),Le.jsxs("div",{className:x4.drawerWrap,children:[Le.jsx(UMe,{open:t,onClose:i}),Le.jsx(Cse,{onClick:r})]}),Le.jsx(U6,{className:x4.connectWrap,type:"pc_gnb"})]})},KMe=k1(e=>({sectionRef:[],setSectionRef:t=>{t&&e(n=>({sectionRef:[...n.sectionRef,t]}))}})),gJ=le.createContext(null),WMe="-20% 0% -20% 0%",HMe=({children:e})=>{const t=KMe(),n=ua(),r=vR(),[i,s]=le.useState(null),{sectionRef:o,setSectionRef:a}=t,c=le.useMemo(()=>({setSectionRef:a,targetId:i?.id}),[a,i]);return le.useLayoutEffect(()=>{const u=window.location.hash.split("#")[1];if(!u)return;const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})},[n.pathname]),le.useEffect(()=>{c.targetId&&r({hash:c.targetId})},[c.targetId]),le.useEffect(()=>{if(t.sectionRef.length===0)return;const{sectionRef:u}=t,d=new Map,h=new IntersectionObserver(p=>{p.forEach(y=>{d.set(y.target,y)});const m=Array.from(d.values()).find(y=>y.isIntersecting)?.target;s(m)},{rootMargin:WMe,threshold:.3});return u.forEach(p=>h.observe(p)),()=>{h.disconnect()}},[o.length]),Le.jsx(gJ.Provider,{value:c,children:e})},zMe=()=>{const e=le.useContext(gJ);if(!e)throw new Error("useContentsScroll must be used within a ContentsScrollContext");return e},qMe="_3daab7bf",VMe="_8bd90991",XMe="e5072898",GMe="eded43bf",JMe="c0d919ec",YMe="_5c81f1e4",R0={root:qMe,area:VMe,tabRoot:XMe,anchor:GMe,hover:JMe,line:YMe},ZMe=()=>Le.jsx("div",{className:R0.root,children:Le.jsxs("nav",{className:R0.area,children:[Le.jsx(zj,{type:"METHOD"}),Le.jsx(zj,{type:"MARKET"})]})}),QMe={METHOD:{xlt:"DD_gnb_method_tab",to:"/method",Icon:fJ},MARKET:{xlt:"DD_gnb_market_tab",to:"/market",Icon:dJ}},eLe={duration:.55,ease:"easeInOut"},tLe={variants:{initial:{color:"var(--gray-4-color)"},animate:{color:"var(--key-color)"}},transition:eLe},nLe={initial:{opacity:0},animate:{opacity:1}},rLe={initial:{opacity:0},hover:{opacity:1}},zj=({type:e})=>{const{xlt:t,Icon:n,to:r}=QMe[e],{pathname:i}=ua(),s=le.useMemo(()=>i===r?"animate":"initial",[i,r]);return Le.jsxs(oo.div,{initial:"initial",whileHover:s!=="animate"?"hover":void 0,animate:s,className:R0.tabRoot,...tLe,children:[Le.jsxs(I1,{to:r,className:R0.anchor,children:[Le.jsx(n,{}),Le.jsx(hd,{name:t}),Le.jsx(oo.div,{className:R0.hover,variants:rLe})]}),Le.jsx(oo.div,{variants:nLe,className:R0.line})]})},iLe="b57efb55",sLe={root:iLe},oLe=({type:e})=>{const{targetId:t}=zMe();return Le.jsx("aside",{className:sLe.root,children:e==="METHOD"?Le.jsx(pJ,{targetId:t}):Le.jsx(hJ,{targetId:t})})},aLe="_735aa7a8",cLe="d404f65c",lLe="b9db56a6",uLe="_1c170d37",dLe="_3b85d2aa",dE={root:aLe,section:cLe,article:lLe,tabPageRoot:uLe,walletConnect:dLe},fLe=({children:e})=>{const r=ua().pathname.startsWith("/method")?"METHOD":"MARKET";return Le.jsxs("div",{className:dE.root,children:[Le.jsx(ZMe,{}),Le.jsx("section",{className:dE.section,children:Le.jsxs(HMe,{children:[Le.jsx(oLe,{type:r}),Le.jsxs("article",{className:dE.article,children:[Le.jsx(U6,{className:dE.walletConnect,type:"mobile_gnb"}),e]})]})})]})},hLe="b72cc9f3",pLe="_9a504c72",qj={root:hLe,body:pLe},gLe=()=>Le.jsxs("div",{className:qj.root,children:[Le.jsx(FMe,{}),Le.jsx("main",{className:qj.body,children:Le.jsx(fLe,{children:Le.jsx(VK,{})})})]}),mLe="f6a6ac95",yLe="_82b45f76",Vj={root:mLe,backdrop:yLe},vLe={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15}},wLe=le.forwardRef(function({className:t,backdrop:n,onBackdropClick:r,children:i},s){const{dismiss:o}=XC();return Le.jsxs(oo.div,{className:Gs(Vj.root,t),ref:s,children:[n===void 0?Le.jsx(oo.div,{...vLe,className:Vj.backdrop,onClick:r===void 0?o:r||void 0,"aria-label":"backdrop"}):n,i]})}),mJ=(e,...t)=>{try{return typeof e=="function"?e(...t):e}catch{return e}},bLe="bed26666",ELe={root:bLe},_Le=({className:e})=>{const{data:t}=XH(),n=le.useMemo(()=>Object.values(t),[t]),r=n[n.length-1],i=le.useRef(null);return le.useEffect(()=>{const s=o=>{o.key==="Escape"&&r?.api.options?.onEscapeKeydown?.(o)};return document.body.addEventListener("keydown",s),()=>{document.body.removeEventListener("keydown",s)}},[r]),le.useLayoutEffect(()=>{i.current||(i.current=!0)},[]),i.current?Le.jsx("div",{className:Gs(ELe.root,e),children:Le.jsx(t5,{children:n.map(s=>{const{api:o,content:a,key:c}=s,u={...o};return Le.jsx(pW.Provider,{value:u,children:Le.jsx(wLe,{backdrop:o.options?.backdrop,onBackdropClick:o.options?.onBackdropClick,children:mJ(a,u)})},c)})})}):null},CLe=()=>{const{isSuccess:e}=xLe();return Le.jsx(Le.Fragment,{children:e&&Le.jsx(VK,{})})},xLe=()=>{const{setSdk:e}=uJ();return gse({queryKey:["wallet","store"],queryFn:async()=>(e(await J7e()),!0),throwOnError:!0})},yJ=le.createContext({}),SLe=()=>le.useContext(yJ),OLe="e79ac047",ALe="_78afdcc1",Xj={root:OLe,toast:ALe},vJ=.7,wJ=.4,TLe={initial:{y:"0dvh",scale:.8,opacity:0},animate:{y:"calc(-40px - 100%)",scale:1,opacity:1,transition:{type:"spring",duration:vJ}},exit:{y:"0dvh",scale:.8,opacity:1,transition:{duration:wJ}}},RLe=({children:e,duration:t=1e3})=>{const{close:n}=SLe(),r=typeof t=="number"&&t!==1/0;return le.useEffect(()=>{if(!r)return;const i=window.setTimeout(()=>n(),t+vJ+wJ);return()=>clearTimeout(i)},[n,t,r]),Le.jsx("div",{"data-theme":"white",className:Xj.root,children:Le.jsx(oo.div,{className:Xj.toast,...TLe,children:e})})},NLe="_0cf76d72",PLe={root:NLe},ILe=({className:e})=>{const{data:t}=hW(),n=le.useMemo(()=>Object.values(t),[t]),r=le.useRef(null);return le.useLayoutEffect(()=>{r.current||(r.current=!0)},[]),r.current?Le.jsx("div",{className:Gs(PLe.root,e),children:Le.jsx(t5,{children:n.map(i=>{const{api:s,content:o,key:a}=i,c={...s};return Le.jsx(yJ.Provider,{value:c,children:Le.jsx(RLe,{duration:s.options?.duration,children:mJ(o,c)})},a)})})}):null};async function S4(e,t){try{const n=await e;return{element:t(n)}}catch(n){throw new Error("MODULE_LOAD_FAILED",{cause:n})}}const DLe=Qre(Le.jsxs(Vu,{children:[Le.jsxs(Vu,{path:"/",element:Le.jsxs(Le.Fragment,{children:[Le.jsx(CLe,{}),Le.jsx(_Le,{}),Le.jsx(ILe,{})]}),children:[Le.jsx(Vu,{index:!0,lazy:()=>S4(it(()=>import("./HomePage-C6C2otfl.js"),__vite__mapDeps([114,1,115]),import.meta.url),({HomePage:e})=>Le.jsx(e,{}))}),Le.jsxs(Vu,{element:Le.jsx(gLe,{}),children:[Le.jsx(Vu,{path:"method",lazy:()=>S4(it(()=>import("./MethodPage-C8abdl2i.js"),__vite__mapDeps([116,117,118,1,119]),import.meta.url),({MethodPage:e})=>Le.jsx(e,{}))}),Le.jsx(Vu,{path:"market",lazy:()=>S4(it(()=>import("./MarketPage-6lX8d5LW.js"),__vite__mapDeps([120,117,118,1,121]),import.meta.url),({MarketPage:e})=>Le.jsx(e,{}))})]})]}),Le.jsx(Vu,{path:"/*",element:Le.jsx(Yre,{to:"/"})})]})),kLe=Cie(DLe),MLe=()=>Le.jsx(_se,{children:Le.jsx(Xre,{router:kLe})}),LLe=async()=>{const e=gte.createRoot(document.getElementById("root"));await qr.init({liffId:"1654159819-DAKwlq0o"}).then(()=>{qr.isApiAvailable("shareTargetPicker")?(alert("LIFF initialized successfully"),qr.shareTargetPicker([{type:"text",text:"https://liff.line.me/2006880697-nWPg5LpZ?referralcode=ABCDEF"}],{isMultiple:!0})):alert("Share Target Picker API is not available")}),await One(),qr.ready.then(()=>{console.log("LIFF is ready")}),console.log("  : ",qr.isLoggedIn()),e.render(Le.jsx(MLe,{}))};LLe();export{vn as $,bt as A,Co as B,Pse as C,Fse as D,Hl as E,Bg as F,np as G,Ir as H,$g as I,hr as J,by as K,I1 as L,Wn as M,Oie as N,Mt as O,Fue as P,lv as Q,QI as R,lW as S,hd as T,St as U,Qt as V,sMe as W,de as X,_r as Y,Ss as Z,lc as _,Mse as a,jG as a0,na as a1,an as a2,nt as a3,Oo as a4,f7e as a5,Hc as a6,h7e as a7,Pt as a8,Kc as a9,VOe as aA,eBe as aB,aB as aC,VV as aD,UOe as aE,XOe as aF,tBe as aG,QUe as aH,O2 as aI,rBe as aJ,nBe as aK,JEe as aa,gr as ab,ev as ac,hn as ad,da as ae,jr as af,uj as ag,Ps as ah,Ys as ai,Zt as aj,BT as ak,Uy as al,cc as am,La as an,e_e as ao,Nr as ap,FG as aq,zT as ar,C_ as as,KDe as at,ov as au,EBe as av,WG as aw,IDe as ax,qi as ay,RBe as az,hR as b,Gs as c,TR as d,Y7e as e,Xue as f,Hue as g,f5 as h,rl as i,Le as j,mr as k,rh as l,qr as m,dE as n,Bse as o,Ul as p,zMe as q,le as r,Zn as s,BLe as t,vR as u,Qq as v,uJ as w,Ka as x,fc as y,bs as z};
